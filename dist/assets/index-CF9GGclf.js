(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function xN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d0={exports:{}},Au={};var bb;function wN(){if(bb)return Au;bb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Au.Fragment=e,Au.jsx=n,Au.jsxs=n,Au}var _b;function bN(){return _b||(_b=1,d0.exports=wN()),d0.exports}var d=bN(),h0={exports:{}},Re={};var Eb;function _N(){if(Eb)return Re;Eb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),E=Symbol.iterator;function N($){return $===null||typeof $!="object"?null:($=E&&$[E]||$["@@iterator"],typeof $=="function"?$:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,z={};function H($,ae,de){this.props=$,this.context=ae,this.refs=z,this.updater=de||D}H.prototype.isReactComponent={},H.prototype.setState=function($,ae){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ae,"setState")},H.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function k(){}k.prototype=H.prototype;function P($,ae,de){this.props=$,this.context=ae,this.refs=z,this.updater=de||D}var B=P.prototype=new k;B.constructor=P,F(B,H.prototype),B.isPureReactComponent=!0;var M=Array.isArray;function G(){}var S={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function R($,ae,de){var fe=de.ref;return{$$typeof:t,type:$,key:ae,ref:fe!==void 0?fe:null,props:de}}function V($,ae){return R($.type,ae,$.props)}function O($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function U($){var ae={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(de){return ae[de]})}var I=/\/+/g;function Ne($,ae){return typeof $=="object"&&$!==null&&$.key!=null?U(""+$.key):ae.toString(36)}function tt($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(G,G):($.status="pending",$.then(function(ae){$.status==="pending"&&($.status="fulfilled",$.value=ae)},function(ae){$.status==="pending"&&($.status="rejected",$.reason=ae)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function ee($,ae,de,fe,Se){var Ve=typeof $;(Ve==="undefined"||Ve==="boolean")&&($=null);var Ke=!1;if($===null)Ke=!0;else switch(Ve){case"bigint":case"string":case"number":Ke=!0;break;case"object":switch($.$$typeof){case t:case e:Ke=!0;break;case v:return Ke=$._init,ee(Ke($._payload),ae,de,fe,Se)}}if(Ke)return Se=Se($),Ke=fe===""?"."+Ne($,0):fe,M(Se)?(de="",Ke!=null&&(de=Ke.replace(I,"$&/")+"/"),ee(Se,ae,de,"",function(Na){return Na})):Se!=null&&(O(Se)&&(Se=V(Se,de+(Se.key==null||$&&$.key===Se.key?"":(""+Se.key).replace(I,"$&/")+"/")+Ke)),ae.push(Se)),1;Ke=0;var Xt=fe===""?".":fe+":";if(M($))for(var yt=0;yt<$.length;yt++)fe=$[yt],Ve=Xt+Ne(fe,yt),Ke+=ee(fe,ae,de,Ve,Se);else if(yt=N($),typeof yt=="function")for($=yt.call($),yt=0;!(fe=$.next()).done;)fe=fe.value,Ve=Xt+Ne(fe,yt++),Ke+=ee(fe,ae,de,Ve,Se);else if(Ve==="object"){if(typeof $.then=="function")return ee(tt($),ae,de,fe,Se);throw ae=String($),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ke}function ce($,ae,de){if($==null)return $;var fe=[],Se=0;return ee($,fe,"","",function(Ve){return ae.call(de,Ve,Se++)}),fe}function me($){if($._status===-1){var ae=$._result;ae=ae(),ae.then(function(de){($._status===0||$._status===-1)&&($._status=1,$._result=de)},function(de){($._status===0||$._status===-1)&&($._status=2,$._result=de)}),$._status===-1&&($._status=0,$._result=ae)}if($._status===1)return $._result.default;throw $._result}var Pe=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},ze={map:ce,forEach:function($,ae,de){ce($,function(){ae.apply(this,arguments)},de)},count:function($){var ae=0;return ce($,function(){ae++}),ae},toArray:function($){return ce($,function(ae){return ae})||[]},only:function($){if(!O($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Re.Activity=x,Re.Children=ze,Re.Component=H,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=P,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Re.__COMPILER_RUNTIME={__proto__:null,c:function($){return S.H.useMemoCache($)}},Re.cache=function($){return function(){return $.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function($,ae,de){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var fe=F({},$.props),Se=$.key;if(ae!=null)for(Ve in ae.key!==void 0&&(Se=""+ae.key),ae)!T.call(ae,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&ae.ref===void 0||(fe[Ve]=ae[Ve]);var Ve=arguments.length-2;if(Ve===1)fe.children=de;else if(1<Ve){for(var Ke=Array(Ve),Xt=0;Xt<Ve;Xt++)Ke[Xt]=arguments[Xt+2];fe.children=Ke}return R($.type,Se,fe)},Re.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:l,_context:$},$},Re.createElement=function($,ae,de){var fe,Se={},Ve=null;if(ae!=null)for(fe in ae.key!==void 0&&(Ve=""+ae.key),ae)T.call(ae,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Se[fe]=ae[fe]);var Ke=arguments.length-2;if(Ke===1)Se.children=de;else if(1<Ke){for(var Xt=Array(Ke),yt=0;yt<Ke;yt++)Xt[yt]=arguments[yt+2];Se.children=Xt}if($&&$.defaultProps)for(fe in Ke=$.defaultProps,Ke)Se[fe]===void 0&&(Se[fe]=Ke[fe]);return R($,Ve,Se)},Re.createRef=function(){return{current:null}},Re.forwardRef=function($){return{$$typeof:f,render:$}},Re.isValidElement=O,Re.lazy=function($){return{$$typeof:v,_payload:{_status:-1,_result:$},_init:me}},Re.memo=function($,ae){return{$$typeof:g,type:$,compare:ae===void 0?null:ae}},Re.startTransition=function($){var ae=S.T,de={};S.T=de;try{var fe=$(),Se=S.S;Se!==null&&Se(de,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(G,Pe)}catch(Ve){Pe(Ve)}finally{ae!==null&&de.types!==null&&(ae.types=de.types),S.T=ae}},Re.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Re.use=function($){return S.H.use($)},Re.useActionState=function($,ae,de){return S.H.useActionState($,ae,de)},Re.useCallback=function($,ae){return S.H.useCallback($,ae)},Re.useContext=function($){return S.H.useContext($)},Re.useDebugValue=function(){},Re.useDeferredValue=function($,ae){return S.H.useDeferredValue($,ae)},Re.useEffect=function($,ae){return S.H.useEffect($,ae)},Re.useEffectEvent=function($){return S.H.useEffectEvent($)},Re.useId=function(){return S.H.useId()},Re.useImperativeHandle=function($,ae,de){return S.H.useImperativeHandle($,ae,de)},Re.useInsertionEffect=function($,ae){return S.H.useInsertionEffect($,ae)},Re.useLayoutEffect=function($,ae){return S.H.useLayoutEffect($,ae)},Re.useMemo=function($,ae){return S.H.useMemo($,ae)},Re.useOptimistic=function($,ae){return S.H.useOptimistic($,ae)},Re.useReducer=function($,ae,de){return S.H.useReducer($,ae,de)},Re.useRef=function($){return S.H.useRef($)},Re.useState=function($){return S.H.useState($)},Re.useSyncExternalStore=function($,ae,de){return S.H.useSyncExternalStore($,ae,de)},Re.useTransition=function(){return S.H.useTransition()},Re.version="19.2.0",Re}var Tb;function t2(){return Tb||(Tb=1,h0.exports=_N()),h0.exports}var j=t2();const mo=xN(j);var f0={exports:{}},Su={},m0={exports:{}},p0={};var Ab;function EN(){return Ab||(Ab=1,(function(t){function e(ee,ce){var me=ee.length;ee.push(ce);e:for(;0<me;){var Pe=me-1>>>1,ze=ee[Pe];if(0<a(ze,ce))ee[Pe]=ce,ee[me]=ze,me=Pe;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var ce=ee[0],me=ee.pop();if(me!==ce){ee[0]=me;e:for(var Pe=0,ze=ee.length,$=ze>>>1;Pe<$;){var ae=2*(Pe+1)-1,de=ee[ae],fe=ae+1,Se=ee[fe];if(0>a(de,me))fe<ze&&0>a(Se,de)?(ee[Pe]=Se,ee[fe]=me,Pe=fe):(ee[Pe]=de,ee[ae]=me,Pe=ae);else if(fe<ze&&0>a(Se,me))ee[Pe]=Se,ee[fe]=me,Pe=fe;else break e}}return ce}function a(ee,ce){var me=ee.sortIndex-ce.sortIndex;return me!==0?me:ee.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],g=[],v=1,x=null,E=3,N=!1,D=!1,F=!1,z=!1,H=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function B(ee){for(var ce=n(g);ce!==null;){if(ce.callback===null)s(g);else if(ce.startTime<=ee)s(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=n(g)}}function M(ee){if(F=!1,B(ee),!D)if(n(p)!==null)D=!0,G||(G=!0,U());else{var ce=n(g);ce!==null&&tt(M,ce.startTime-ee)}}var G=!1,S=-1,T=5,R=-1;function V(){return z?!0:!(t.unstable_now()-R<T)}function O(){if(z=!1,G){var ee=t.unstable_now();R=ee;var ce=!0;try{e:{D=!1,F&&(F=!1,k(S),S=-1),N=!0;var me=E;try{t:{for(B(ee),x=n(p);x!==null&&!(x.expirationTime>ee&&V());){var Pe=x.callback;if(typeof Pe=="function"){x.callback=null,E=x.priorityLevel;var ze=Pe(x.expirationTime<=ee);if(ee=t.unstable_now(),typeof ze=="function"){x.callback=ze,B(ee),ce=!0;break t}x===n(p)&&s(p),B(ee)}else s(p);x=n(p)}if(x!==null)ce=!0;else{var $=n(g);$!==null&&tt(M,$.startTime-ee),ce=!1}}break e}finally{x=null,E=me,N=!1}ce=void 0}}finally{ce?U():G=!1}}}var U;if(typeof P=="function")U=function(){P(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ne=I.port2;I.port1.onmessage=O,U=function(){Ne.postMessage(null)}}else U=function(){H(O,0)};function tt(ee,ce){S=H(function(){ee(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(ee){switch(E){case 1:case 2:case 3:var ce=3;break;default:ce=E}var me=E;E=ce;try{return ee()}finally{E=me}},t.unstable_requestPaint=function(){z=!0},t.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var me=E;E=ee;try{return ce()}finally{E=me}},t.unstable_scheduleCallback=function(ee,ce,me){var Pe=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Pe+me:Pe):me=Pe,ee){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=me+ze,ee={id:v++,callback:ce,priorityLevel:ee,startTime:me,expirationTime:ze,sortIndex:-1},me>Pe?(ee.sortIndex=me,e(g,ee),n(p)===null&&ee===n(g)&&(F?(k(S),S=-1):F=!0,tt(M,me-Pe))):(ee.sortIndex=ze,e(p,ee),D||N||(D=!0,G||(G=!0,U()))),ee},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(ee){var ce=E;return function(){var me=E;E=ce;try{return ee.apply(this,arguments)}finally{E=me}}}})(p0)),p0}var Sb;function TN(){return Sb||(Sb=1,m0.exports=EN()),m0.exports}var g0={exports:{}},wn={};var Cb;function AN(){if(Cb)return wn;Cb=1;var t=t2();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:p,containerInfo:g,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,wn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},wn.flushSync=function(p){var g=u.T,v=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=g,s.p=v,s.d.f()}},wn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},wn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},wn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,x=f(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:E,fetchPriority:N}):v==="script"&&s.d.X(p,{crossOrigin:x,integrity:E,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},wn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=f(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},wn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,x=f(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},wn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=f(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},wn.requestFormReset=function(p){s.d.r(p)},wn.unstable_batchedUpdates=function(p,g){return p(g)},wn.useFormState=function(p,g,v){return u.H.useFormState(p,g,v)},wn.useFormStatus=function(){return u.H.useHostTransitionStatus()},wn.version="19.2.0",wn}var Nb;function SN(){if(Nb)return g0.exports;Nb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),g0.exports=AN(),g0.exports}var Rb;function CN(){if(Rb)return Su;Rb=1;var t=TN(),e=t2(),n=SN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return p(m),i;if(y===c)return p(m),r;y=y.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=y;else{for(var b=!1,A=m.child;A;){if(A===o){b=!0,o=m,c=y;break}if(A===c){b=!0,c=m,o=y;break}A=A.sibling}if(!b){for(A=y.child;A;){if(A===o){b=!0,o=y,c=m;break}if(A===c){b=!0,c=y,o=m;break}A=A.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var x=Object.assign,E=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),P=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function Ne(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case F:return"Fragment";case H:return"Profiler";case z:return"StrictMode";case M:return"Suspense";case G:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case P:return i.displayName||"Context";case k:return(i._context.displayName||"Context")+".Consumer";case B:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case S:return r=i.displayName||null,r!==null?r:Ne(i.type)||"Memo";case T:r=i._payload,i=i._init;try{return Ne(i(r))}catch{}}return null}var tt=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Pe=[],ze=-1;function $(i){return{current:i}}function ae(i){0>ze||(i.current=Pe[ze],Pe[ze]=null,ze--)}function de(i,r){ze++,Pe[ze]=i.current,i.current=r}var fe=$(null),Se=$(null),Ve=$(null),Ke=$(null);function Xt(i,r){switch(de(Ve,r),de(Se,i),de(fe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?qw(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=qw(r),i=$w(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(fe),de(fe,i)}function yt(){ae(fe),ae(Se),ae(Ve)}function Na(i){i.memoizedState!==null&&de(Ke,i);var r=fe.current,o=$w(r,i.type);r!==o&&(de(Se,i),de(fe,o))}function Po(i){Se.current===i&&(ae(fe),ae(Se)),Ke.current===i&&(ae(Ke),bu._currentValue=me)}var Vo,Oo;function Zi(i){if(Vo===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Vo=r&&r[1]||"",Oo=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vo+i+Oo}var bc=!1;function Ra(i,r){if(!i||bc)return"";bc=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(J){var W=J}Reflect.construct(i,[],re)}else{try{re.call()}catch(J){W=J}i.call(re.prototype)}}else{try{throw Error()}catch(J){W=J}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),b=y[0],A=y[1];if(b&&A){var L=b.split(`
`),X=A.split(`
`);for(m=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(c===L.length||m===X.length)for(c=L.length-1,m=X.length-1;1<=c&&0<=m&&L[c]!==X[m];)m--;for(;1<=c&&0<=m;c--,m--)if(L[c]!==X[m]){if(c!==1||m!==1)do if(c--,m--,0>m||L[c]!==X[m]){var ne=`
`+L[c].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=c&&0<=m);break}}}finally{bc=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Zi(o):""}function _c(i,r){switch(i.tag){case 26:case 27:case 5:return Zi(i.type);case 16:return Zi("Lazy");case 13:return i.child!==r&&r!==null?Zi("Suspense Fallback"):Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return Ra(i.type,!1);case 11:return Ra(i.type.render,!1);case 1:return Ra(i.type,!0);case 31:return Zi("Activity");default:return""}}function Ec(i){try{var r="",o=null;do r+=_c(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Vt=Object.prototype.hasOwnProperty,Wt=t.unstable_scheduleCallback,wr=t.unstable_cancelCallback,fp=t.unstable_shouldYield,Ud=t.unstable_requestPaint,Nn=t.unstable_now,ja=t.unstable_getCurrentPriorityLevel,Tc=t.unstable_ImmediatePriority,Ac=t.unstable_UserBlockingPriority,br=t.unstable_NormalPriority,mp=t.unstable_LowPriority,Fd=t.unstable_IdlePriority,Hd=t.log,qd=t.unstable_setDisableYieldValue,Di=null,cn=null;function li(i){if(typeof Hd=="function"&&qd(i),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(Di,i)}catch{}}var Nt=Math.clz32?Math.clz32:Gd,$d=Math.log,Lo=Math.LN2;function Gd(i){return i>>>=0,i===0?32:31-($d(i)/Lo|0)|0}var Ji=256,Ia=262144,Ot=4194304;function es(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ts(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,y=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~y,c!==0?m=es(c):(b&=A,b!==0?m=es(b):o||(o=A&~i,o!==0&&(m=es(o))))):(A=c&~y,A!==0?m=es(A):b!==0?m=es(b):o||(o=c&~i,o!==0&&(m=es(o)))),m===0?0:r!==0&&r!==m&&(r&y)===0&&(y=m&-m,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:m}function Mi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function pp(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kd(){var i=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),i}function ns(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ka(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function gp(i,r,o,c,m,y){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,L=i.expirationTimes,X=i.hiddenUpdates;for(o=b&~o;0<o;){var ne=31-Nt(o),re=1<<ne;A[ne]=0,L[ne]=-1;var W=X[ne];if(W!==null)for(X[ne]=null,ne=0;ne<W.length;ne++){var J=W[ne];J!==null&&(J.lane&=-536870913)}o&=~re}c!==0&&Da(i,c,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(b&~r))}function Da(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Nt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Sc(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Nt(o),m=1<<c;m&r|i[c]&r&&(i[c]|=r),o&=~m}}function Cc(i,r){var o=r&-r;return o=(o&42)!==0?1:Ma(o),(o&(i.suspendedLanes|r))!==0?0:o}function Ma(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Os(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Yd(){var i=ce.p;return i!==0?i:(i=window.event,i===void 0?32:mb(i.type))}function Pi(i,r){var o=ce.p;try{return ce.p=i,r()}finally{ce.p=o}}var Vi=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Vi,tn="__reactProps$"+Vi,is="__reactContainer$"+Vi,Bo="__reactEvents$"+Vi,yp="__reactListeners$"+Vi,Qd="__reactHandles$"+Vi,Xd="__reactResources$"+Vi,ss="__reactMarker$"+Vi;function zo(i){delete i[Lt],delete i[tn],delete i[Bo],delete i[yp],delete i[Qd]}function rs(i){var r=i[Lt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[is]||o[Lt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Zw(i);i!==null;){if(o=i[Lt])return o;i=Zw(i)}return r}i=o,o=i.parentNode}return null}function ci(i){if(i=i[Lt]||i[is]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Kn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function as(i){var r=i[Xd];return r||(r=i[Xd]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Bt(i){i[ss]=!0}var Nc=new Set,Rc={};function os(i,r){ls(i,r),ls(i+"Capture",r)}function ls(i,r){for(Rc[i]=r,i=0;i<r.length;i++)Nc.add(r[i])}var jc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ic={},kc={};function Wd(i){return Vt.call(kc,i)?!0:Vt.call(Ic,i)?!1:jc.test(i)?kc[i]=!0:(Ic[i]=!0,!1)}function Uo(i,r,o){if(Wd(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Yn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function zt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function nn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function _r(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Dc(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(b){o=""+b,y.call(this,b)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function it(i){if(!i._valueTracker){var r=_r(i)?"checked":"value";i._valueTracker=Dc(i,r,""+i[r])}}function Pa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=_r(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function cs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Va=/[\n"\\]/g;function Vn(i){return i.replace(Va,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Fo(i,r,o,c,m,y,b,A){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+nn(r)):i.value!==""+nn(r)&&(i.value=""+nn(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Mc(i,b,nn(r)):o!=null?Mc(i,b,nn(o)):c!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+nn(A):i.removeAttribute("name")}function Zd(i,r,o,c,m,y,b,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){it(i);return}o=o!=null?""+nn(o):"",r=r!=null?""+nn(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),it(i)}function Mc(i,r,o){r==="number"&&cs(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Er(i,r,o,c){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+nn(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function Jd(i,r,o){if(r!=null&&(r=""+nn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+nn(o):""}function Tr(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(tt(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=nn(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),it(i)}function On(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var eh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pc(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||eh.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Vc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&Pc(i,m,c)}else for(var y in r)r.hasOwnProperty(y)&&Pc(i,y,r[y])}function Ho(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qo(i){return Ar.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Oi(){}var Oc=null;function ui(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Sr=null,us=null;function Oa(i){var r=ci(i);if(r&&(i=r.stateNode)){var o=i[tn]||null;e:switch(i=r.stateNode,r.type){case"input":if(Fo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Vn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var m=c[tn]||null;if(!m)throw Error(s(90));Fo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&Pa(c)}break e;case"textarea":Jd(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Er(i,!!o.multiple,r,!1)}}}var $o=!1;function Cr(i,r,o){if($o)return i(r,o);$o=!0;try{var c=i(r);return c}finally{if($o=!1,(Sr!==null||us!==null)&&(Yh(),Sr&&(r=Sr,i=us,us=Sr=null,Oa(r),i)))for(r=0;r<i.length;r++)Oa(i[r])}}function Li(i,r){var o=i.stateNode;if(o===null)return null;var c=o[tn]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),La=!1;if(di)try{var at={};Object.defineProperty(at,"passive",{get:function(){La=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{La=!1}var ds=null,Lc=null,Ba=null;function Bc(){if(Ba)return Ba;var i,r=Lc,o=r.length,c,m="value"in ds?ds.value:ds.textContent,y=m.length;for(i=0;i<o&&r[i]===m[i];i++);var b=o-i;for(c=1;c<=b&&r[o-c]===m[y-c];c++);return Ba=m.slice(i,1<c?1-c:void 0)}function za(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ls(){return!0}function Bi(){return!1}function un(i){function r(o,c,m,y,b){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ls:Bi,this.isPropagationStopped=Bi,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),r}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=un(Bs),Nr=x({},Bs,{view:0,detail:0}),zc=un(Nr),Rr,Go,fs,Ko=x({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fs&&(fs&&i.type==="mousemove"?(Rr=i.screenX-fs.screenX,Go=i.screenY-fs.screenY):Go=Rr=0,fs=i),Rr)},movementY:function(i){return"movementY"in i?i.movementY:Go}}),Uc=un(Ko),Ua=x({},Ko,{dataTransfer:0}),nh=un(Ua),ih=x({},Nr,{relatedTarget:0}),Fa=un(ih),Fc=x({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),sh=un(Fc),Yo=x({},Bs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),rh=un(Yo),ah=x({},Bs,{data:0}),ms=un(ah),oh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ch[i])?!!r[i]:!1}function jr(){return uh}var Rn=x({},Nr,{key:function(i){if(i.key){var r=oh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=za(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?lh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(i){return i.type==="keypress"?za(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?za(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),dh=un(Rn),hh=x({},Ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zs=un(hh),h=x({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),w=un(h),_=x({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=un(_),Y=x({},Ko,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=un(Y),ue=x({},Bs,{newState:0,oldState:0}),ke=un(ue),Rt=[9,13,27,32],Ze=di&&"CompositionEvent"in window,vt=null;di&&"documentMode"in document&&(vt=document.documentMode);var hi=di&&"TextEvent"in window&&!vt,ps=di&&(!Ze||vt&&8<vt&&11>=vt),zi=" ",Ui=!1;function Ha(i,r){switch(i){case"keyup":return Rt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xo=!1;function HS(i,r){switch(i){case"compositionend":return Qo(r);case"keypress":return r.which!==32?null:(Ui=!0,zi);case"textInput":return i=r.data,i===zi&&Ui?null:i;default:return null}}function qS(i,r){if(Xo)return i==="compositionend"||!Ze&&Ha(i,r)?(i=Bc(),Ba=Lc=ds=null,Xo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ps&&r.locale!=="ko"?null:r.data;default:return null}}var $S={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!$S[i.type]:r==="textarea"}function nv(i,r,o,c){Sr?us?us.push(c):us=[c]:Sr=c,r=tf(r,"onChange"),0<r.length&&(o=new hs("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var Hc=null,qc=null;function GS(i){Lw(i,0)}function fh(i){var r=Kn(i);if(Pa(r))return i}function iv(i,r){if(i==="change")return r}var sv=!1;if(di){var vp;if(di){var xp="oninput"in document;if(!xp){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),xp=typeof rv.oninput=="function"}vp=xp}else vp=!1;sv=vp&&(!document.documentMode||9<document.documentMode)}function av(){Hc&&(Hc.detachEvent("onpropertychange",ov),qc=Hc=null)}function ov(i){if(i.propertyName==="value"&&fh(qc)){var r=[];nv(r,qc,i,ui(i)),Cr(GS,r)}}function KS(i,r,o){i==="focusin"?(av(),Hc=r,qc=o,Hc.attachEvent("onpropertychange",ov)):i==="focusout"&&av()}function YS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fh(qc)}function QS(i,r){if(i==="click")return fh(r)}function XS(i,r){if(i==="input"||i==="change")return fh(r)}function WS(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Qn=typeof Object.is=="function"?Object.is:WS;function $c(i,r){if(Qn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Vt.call(r,m)||!Qn(i[m],r[m]))return!1}return!0}function lv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function cv(i,r){var o=lv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=lv(o)}}function uv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?uv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function dv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=cs(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=cs(i.document)}return r}function wp(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var ZS=di&&"documentMode"in document&&11>=document.documentMode,Wo=null,bp=null,Gc=null,_p=!1;function hv(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_p||Wo==null||Wo!==cs(c)||(c=Wo,"selectionStart"in c&&wp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Gc&&$c(Gc,c)||(Gc=c,c=tf(bp,"onSelect"),0<c.length&&(r=new hs("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Wo)))}function qa(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Zo={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},Ep={},fv={};di&&(fv=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function $a(i){if(Ep[i])return Ep[i];if(!Zo[i])return i;var r=Zo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in fv)return Ep[i]=r[o];return i}var mv=$a("animationend"),pv=$a("animationiteration"),gv=$a("animationstart"),JS=$a("transitionrun"),eC=$a("transitionstart"),tC=$a("transitioncancel"),yv=$a("transitionend"),vv=new Map,Tp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tp.push("scrollEnd");function Fi(i,r){vv.set(i,r),os(r,[i])}var mh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},fi=[],Jo=0,Ap=0;function ph(){for(var i=Jo,r=Ap=Jo=0;r<i;){var o=fi[r];fi[r++]=null;var c=fi[r];fi[r++]=null;var m=fi[r];fi[r++]=null;var y=fi[r];if(fi[r++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}y!==0&&xv(o,m,y)}}function gh(i,r,o,c){fi[Jo++]=i,fi[Jo++]=r,fi[Jo++]=o,fi[Jo++]=c,Ap|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Sp(i,r,o,c){return gh(i,r,o,c),yh(i)}function Ga(i,r){return gh(i,null,null,r),yh(i)}function xv(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,y=i.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&r!==null&&(m=31-Nt(o),i=y.hiddenUpdates,c=i[m],c===null?i[m]=[r]:c.push(r),r.lane=o|536870912),y):null}function yh(i){if(50<mu)throw mu=0,Pg=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var el={};function nC(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(i,r,o,c){return new nC(i,r,o,c)}function Cp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Us(i,r){var o=i.alternate;return o===null?(o=Xn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function wv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function vh(i,r,o,c,m,y){var b=0;if(c=i,typeof i=="function")Cp(i)&&(b=1);else if(typeof i=="string")b=oN(i,o,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Xn(31,o,r,m),i.elementType=R,i.lanes=y,i;case F:return Ka(o.children,m,y,r);case z:b=8,m|=24;break;case H:return i=Xn(12,o,r,m|2),i.elementType=H,i.lanes=y,i;case M:return i=Xn(13,o,r,m),i.elementType=M,i.lanes=y,i;case G:return i=Xn(19,o,r,m),i.elementType=G,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case P:b=10;break e;case k:b=9;break e;case B:b=11;break e;case S:b=14;break e;case T:b=16,c=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Xn(b,o,r,m),r.elementType=i,r.type=c,r.lanes=y,r}function Ka(i,r,o,c){return i=Xn(7,i,c,r),i.lanes=o,i}function Np(i,r,o){return i=Xn(6,i,null,r),i.lanes=o,i}function bv(i){var r=Xn(18,null,null,0);return r.stateNode=i,r}function Rp(i,r,o){return r=Xn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var _v=new WeakMap;function mi(i,r){if(typeof i=="object"&&i!==null){var o=_v.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Ec(r)},_v.set(i,r),r)}return{value:i,source:r,stack:Ec(r)}}var tl=[],nl=0,xh=null,Kc=0,pi=[],gi=0,Ir=null,gs=1,ys="";function Fs(i,r){tl[nl++]=Kc,tl[nl++]=xh,xh=i,Kc=r}function Ev(i,r,o){pi[gi++]=gs,pi[gi++]=ys,pi[gi++]=Ir,Ir=i;var c=gs;i=ys;var m=32-Nt(c)-1;c&=~(1<<m),o+=1;var y=32-Nt(r)+m;if(30<y){var b=m-m%5;y=(c&(1<<b)-1).toString(32),c>>=b,m-=b,gs=1<<32-Nt(r)+m|o<<m|c,ys=y+i}else gs=1<<y|o<<m|c,ys=i}function jp(i){i.return!==null&&(Fs(i,1),Ev(i,1,0))}function Ip(i){for(;i===xh;)xh=tl[--nl],tl[nl]=null,Kc=tl[--nl],tl[nl]=null;for(;i===Ir;)Ir=pi[--gi],pi[gi]=null,ys=pi[--gi],pi[gi]=null,gs=pi[--gi],pi[gi]=null}function Tv(i,r){pi[gi++]=gs,pi[gi++]=ys,pi[gi++]=Ir,gs=r.id,ys=r.overflow,Ir=i}var dn=null,ft=null,Ge=!1,kr=null,yi=!1,kp=Error(s(519));function Dr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yc(mi(r,i)),kp}function Av(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Lt]=i,r[tn]=c,o){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(o=0;o<gu.length;o++)Be(gu[o],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Be("invalid",r),Zd(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Be("invalid",r);break;case"textarea":Be("invalid",r),Tr(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Fw(r.textContent,o)?(c.popover!=null&&(Be("beforetoggle",r),Be("toggle",r)),c.onScroll!=null&&Be("scroll",r),c.onScrollEnd!=null&&Be("scrollend",r),c.onClick!=null&&(r.onclick=Oi),r=!0):r=!1,r||Dr(i,!0)}function Sv(i){for(dn=i.return;dn;)switch(dn.tag){case 5:case 31:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:dn=dn.return}}function il(i){if(i!==dn)return!1;if(!Ge)return Sv(i),Ge=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Xg(i.type,i.memoizedProps)),o=!o),o&&ft&&Dr(i),Sv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ft=Ww(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ft=Ww(i)}else r===27?(r=ft,Kr(i.type)?(i=t0,t0=null,ft=i):ft=r):ft=dn?xi(i.stateNode.nextSibling):null;return!0}function Ya(){ft=dn=null,Ge=!1}function Dp(){var i=kr;return i!==null&&(Un===null?Un=i:Un.push.apply(Un,i),kr=null),i}function Yc(i){kr===null?kr=[i]:kr.push(i)}var Mp=$(null),Qa=null,Hs=null;function Mr(i,r,o){de(Mp,r._currentValue),r._currentValue=o}function qs(i){i._currentValue=Mp.current,ae(Mp)}function Pp(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function Vp(i,r,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var b=m.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=m;for(var L=0;L<r.length;L++)if(A.context===r[L]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),Pp(y.return,o,i),c||(b=null);break e}y=A.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(s(341));b.lanes|=o,y=b.alternate,y!==null&&(y.lanes|=o),Pp(b,o,i),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===i){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function sl(i,r,o,c){i=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var A=m.type;Qn(m.pendingProps.value,b.value)||(i!==null?i.push(A):i=[A])}}else if(m===Ke.current){if(b=m.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(bu):i=[bu])}m=m.return}i!==null&&Vp(r,i,o,c),r.flags|=262144}function wh(i){for(i=i.firstContext;i!==null;){if(!Qn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Xa(i){Qa=i,Hs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function hn(i){return Cv(Qa,i)}function bh(i,r){return Qa===null&&Xa(i),Cv(i,r)}function Cv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Hs===null){if(i===null)throw Error(s(308));Hs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Hs=Hs.next=r;return o}var iC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},sC=t.unstable_scheduleCallback,rC=t.unstable_NormalPriority,Ut={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Op(){return{controller:new iC,data:new Map,refCount:0}}function Qc(i){i.refCount--,i.refCount===0&&sC(rC,function(){i.controller.abort()})}var Xc=null,Lp=0,rl=0,al=null;function aC(i,r){if(Xc===null){var o=Xc=[];Lp=0,rl=Ug(),al={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Lp++,r.then(Nv,Nv),r}function Nv(){if(--Lp===0&&Xc!==null){al!==null&&(al.status="fulfilled");var i=Xc;Xc=null,rl=0,al=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function oC(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Rv=ee.S;ee.S=function(i,r){hw=Nn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&aC(i,r),Rv!==null&&Rv(i,r)};var Wa=$(null);function Bp(){var i=Wa.current;return i!==null?i:ut.pooledCache}function _h(i,r){r===null?de(Wa,Wa.current):de(Wa,r.pool)}function jv(){var i=Bp();return i===null?null:{parent:Ut._currentValue,pool:i}}var ol=Error(s(460)),zp=Error(s(474)),Eh=Error(s(542)),Th={then:function(){}};function Iv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function kv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Oi,Oi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Mv(i),i;default:if(typeof r.status=="string")r.then(Oi,Oi);else{if(i=ut,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Mv(i),i}throw Ja=r,ol}}function Za(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ja=o,ol):o}}var Ja=null;function Dv(){if(Ja===null)throw Error(s(459));var i=Ja;return Ja=null,i}function Mv(i){if(i===ol||i===Eh)throw Error(s(483))}var ll=null,Wc=0;function Ah(i){var r=Wc;return Wc+=1,ll===null&&(ll=[]),kv(ll,i,r)}function Zc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Sh(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Pv(i){function r(K,q){if(i){var Q=K.deletions;Q===null?(K.deletions=[q],K.flags|=16):Q.push(q)}}function o(K,q){if(!i)return null;for(;q!==null;)r(K,q),q=q.sibling;return null}function c(K){for(var q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function m(K,q){return K=Us(K,q),K.index=0,K.sibling=null,K}function y(K,q,Q){return K.index=Q,i?(Q=K.alternate,Q!==null?(Q=Q.index,Q<q?(K.flags|=67108866,q):Q):(K.flags|=67108866,q)):(K.flags|=1048576,q)}function b(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function A(K,q,Q,se){return q===null||q.tag!==6?(q=Np(Q,K.mode,se),q.return=K,q):(q=m(q,Q),q.return=K,q)}function L(K,q,Q,se){var xe=Q.type;return xe===F?ne(K,q,Q.props.children,se,Q.key):q!==null&&(q.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===T&&Za(xe)===q.type)?(q=m(q,Q.props),Zc(q,Q),q.return=K,q):(q=vh(Q.type,Q.key,Q.props,null,K.mode,se),Zc(q,Q),q.return=K,q)}function X(K,q,Q,se){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=Rp(Q,K.mode,se),q.return=K,q):(q=m(q,Q.children||[]),q.return=K,q)}function ne(K,q,Q,se,xe){return q===null||q.tag!==7?(q=Ka(Q,K.mode,se,xe),q.return=K,q):(q=m(q,Q),q.return=K,q)}function re(K,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Np(""+q,K.mode,Q),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case N:return Q=vh(q.type,q.key,q.props,null,K.mode,Q),Zc(Q,q),Q.return=K,Q;case D:return q=Rp(q,K.mode,Q),q.return=K,q;case T:return q=Za(q),re(K,q,Q)}if(tt(q)||U(q))return q=Ka(q,K.mode,Q,null),q.return=K,q;if(typeof q.then=="function")return re(K,Ah(q),Q);if(q.$$typeof===P)return re(K,bh(K,q),Q);Sh(K,q)}return null}function W(K,q,Q,se){var xe=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return xe!==null?null:A(K,q,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case N:return Q.key===xe?L(K,q,Q,se):null;case D:return Q.key===xe?X(K,q,Q,se):null;case T:return Q=Za(Q),W(K,q,Q,se)}if(tt(Q)||U(Q))return xe!==null?null:ne(K,q,Q,se,null);if(typeof Q.then=="function")return W(K,q,Ah(Q),se);if(Q.$$typeof===P)return W(K,q,bh(K,Q),se);Sh(K,Q)}return null}function J(K,q,Q,se,xe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return K=K.get(Q)||null,A(q,K,""+se,xe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case N:return K=K.get(se.key===null?Q:se.key)||null,L(q,K,se,xe);case D:return K=K.get(se.key===null?Q:se.key)||null,X(q,K,se,xe);case T:return se=Za(se),J(K,q,Q,se,xe)}if(tt(se)||U(se))return K=K.get(Q)||null,ne(q,K,se,xe,null);if(typeof se.then=="function")return J(K,q,Q,Ah(se),xe);if(se.$$typeof===P)return J(K,q,Q,bh(q,se),xe);Sh(q,se)}return null}function pe(K,q,Q,se){for(var xe=null,Qe=null,ve=q,Oe=q=0,Fe=null;ve!==null&&Oe<Q.length;Oe++){ve.index>Oe?(Fe=ve,ve=null):Fe=ve.sibling;var Xe=W(K,ve,Q[Oe],se);if(Xe===null){ve===null&&(ve=Fe);break}i&&ve&&Xe.alternate===null&&r(K,ve),q=y(Xe,q,Oe),Qe===null?xe=Xe:Qe.sibling=Xe,Qe=Xe,ve=Fe}if(Oe===Q.length)return o(K,ve),Ge&&Fs(K,Oe),xe;if(ve===null){for(;Oe<Q.length;Oe++)ve=re(K,Q[Oe],se),ve!==null&&(q=y(ve,q,Oe),Qe===null?xe=ve:Qe.sibling=ve,Qe=ve);return Ge&&Fs(K,Oe),xe}for(ve=c(ve);Oe<Q.length;Oe++)Fe=J(ve,K,Oe,Q[Oe],se),Fe!==null&&(i&&Fe.alternate!==null&&ve.delete(Fe.key===null?Oe:Fe.key),q=y(Fe,q,Oe),Qe===null?xe=Fe:Qe.sibling=Fe,Qe=Fe);return i&&ve.forEach(function(Zr){return r(K,Zr)}),Ge&&Fs(K,Oe),xe}function _e(K,q,Q,se){if(Q==null)throw Error(s(151));for(var xe=null,Qe=null,ve=q,Oe=q=0,Fe=null,Xe=Q.next();ve!==null&&!Xe.done;Oe++,Xe=Q.next()){ve.index>Oe?(Fe=ve,ve=null):Fe=ve.sibling;var Zr=W(K,ve,Xe.value,se);if(Zr===null){ve===null&&(ve=Fe);break}i&&ve&&Zr.alternate===null&&r(K,ve),q=y(Zr,q,Oe),Qe===null?xe=Zr:Qe.sibling=Zr,Qe=Zr,ve=Fe}if(Xe.done)return o(K,ve),Ge&&Fs(K,Oe),xe;if(ve===null){for(;!Xe.done;Oe++,Xe=Q.next())Xe=re(K,Xe.value,se),Xe!==null&&(q=y(Xe,q,Oe),Qe===null?xe=Xe:Qe.sibling=Xe,Qe=Xe);return Ge&&Fs(K,Oe),xe}for(ve=c(ve);!Xe.done;Oe++,Xe=Q.next())Xe=J(ve,K,Oe,Xe.value,se),Xe!==null&&(i&&Xe.alternate!==null&&ve.delete(Xe.key===null?Oe:Xe.key),q=y(Xe,q,Oe),Qe===null?xe=Xe:Qe.sibling=Xe,Qe=Xe);return i&&ve.forEach(function(vN){return r(K,vN)}),Ge&&Fs(K,Oe),xe}function ct(K,q,Q,se){if(typeof Q=="object"&&Q!==null&&Q.type===F&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case N:e:{for(var xe=Q.key;q!==null;){if(q.key===xe){if(xe=Q.type,xe===F){if(q.tag===7){o(K,q.sibling),se=m(q,Q.props.children),se.return=K,K=se;break e}}else if(q.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===T&&Za(xe)===q.type){o(K,q.sibling),se=m(q,Q.props),Zc(se,Q),se.return=K,K=se;break e}o(K,q);break}else r(K,q);q=q.sibling}Q.type===F?(se=Ka(Q.props.children,K.mode,se,Q.key),se.return=K,K=se):(se=vh(Q.type,Q.key,Q.props,null,K.mode,se),Zc(se,Q),se.return=K,K=se)}return b(K);case D:e:{for(xe=Q.key;q!==null;){if(q.key===xe)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){o(K,q.sibling),se=m(q,Q.children||[]),se.return=K,K=se;break e}else{o(K,q);break}else r(K,q);q=q.sibling}se=Rp(Q,K.mode,se),se.return=K,K=se}return b(K);case T:return Q=Za(Q),ct(K,q,Q,se)}if(tt(Q))return pe(K,q,Q,se);if(U(Q)){if(xe=U(Q),typeof xe!="function")throw Error(s(150));return Q=xe.call(Q),_e(K,q,Q,se)}if(typeof Q.then=="function")return ct(K,q,Ah(Q),se);if(Q.$$typeof===P)return ct(K,q,bh(K,Q),se);Sh(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,q!==null&&q.tag===6?(o(K,q.sibling),se=m(q,Q),se.return=K,K=se):(o(K,q),se=Np(Q,K.mode,se),se.return=K,K=se),b(K)):o(K,q)}return function(K,q,Q,se){try{Wc=0;var xe=ct(K,q,Q,se);return ll=null,xe}catch(ve){if(ve===ol||ve===Eh)throw ve;var Qe=Xn(29,ve,null,K.mode);return Qe.lanes=se,Qe.return=K,Qe}finally{}}}var eo=Pv(!0),Vv=Pv(!1),Pr=!1;function Up(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fp(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Vr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Or(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Je&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=yh(i),xv(i,null,o),r}return gh(i,c,r,o),yh(i)}function Jc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Sc(i,o)}}function Hp(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=b:y=y.next=b,o=o.next}while(o!==null);y===null?m=y=r:y=y.next=r}else m=y=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var qp=!1;function eu(){if(qp){var i=al;if(i!==null)throw i}}function tu(i,r,o,c){qp=!1;var m=i.updateQueue;Pr=!1;var y=m.firstBaseUpdate,b=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var L=A,X=L.next;L.next=null,b===null?y=X:b.next=X,b=L;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==b&&(A===null?ne.firstBaseUpdate=X:A.next=X,ne.lastBaseUpdate=L))}if(y!==null){var re=m.baseState;b=0,ne=X=L=null,A=y;do{var W=A.lane&-536870913,J=W!==A.lane;if(J?(Ue&W)===W:(c&W)===W){W!==0&&W===rl&&(qp=!0),ne!==null&&(ne=ne.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=i,_e=A;W=r;var ct=o;switch(_e.tag){case 1:if(pe=_e.payload,typeof pe=="function"){re=pe.call(ct,re,W);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=_e.payload,W=typeof pe=="function"?pe.call(ct,re,W):pe,W==null)break e;re=x({},re,W);break e;case 2:Pr=!0}}W=A.callback,W!==null&&(i.flags|=64,J&&(i.flags|=8192),J=m.callbacks,J===null?m.callbacks=[W]:J.push(W))}else J={lane:W,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(X=ne=J,L=re):ne=ne.next=J,b|=W;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;J=A,A=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);ne===null&&(L=re),m.baseState=L,m.firstBaseUpdate=X,m.lastBaseUpdate=ne,y===null&&(m.shared.lanes=0),Fr|=b,i.lanes=b,i.memoizedState=re}}function Ov(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Lv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Ov(o[i],r)}var cl=$(null),Ch=$(0);function Bv(i,r){i=Js,de(Ch,i),de(cl,r),Js=i|r.baseLanes}function $p(){de(Ch,Js),de(cl,cl.current)}function Gp(){Js=Ch.current,ae(cl),ae(Ch)}var Wn=$(null),vi=null;function Lr(i){var r=i.alternate;de(jt,jt.current&1),de(Wn,i),vi===null&&(r===null||cl.current!==null||r.memoizedState!==null)&&(vi=i)}function Kp(i){de(jt,jt.current),de(Wn,i),vi===null&&(vi=i)}function zv(i){i.tag===22?(de(jt,jt.current),de(Wn,i),vi===null&&(vi=i)):Br()}function Br(){de(jt,jt.current),de(Wn,Wn.current)}function Zn(i){ae(Wn),vi===i&&(vi=null),ae(jt)}var jt=$(0);function Nh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Jg(o)||e0(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var $s=0,De=null,ot=null,Ft=null,Rh=!1,ul=!1,to=!1,jh=0,nu=0,dl=null,lC=0;function At(){throw Error(s(321))}function Yp(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Qn(i[o],r[o]))return!1;return!0}function Qp(i,r,o,c,m,y){return $s=y,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ee.H=i===null||i.memoizedState===null?Ex:ug,to=!1,y=o(c,m),to=!1,ul&&(y=Fv(r,o,c,m)),Uv(i),y}function Uv(i){ee.H=ru;var r=ot!==null&&ot.next!==null;if($s=0,Ft=ot=De=null,Rh=!1,nu=0,dl=null,r)throw Error(s(300));i===null||Ht||(i=i.dependencies,i!==null&&wh(i)&&(Ht=!0))}function Fv(i,r,o,c){De=i;var m=0;do{if(ul&&(dl=null),nu=0,ul=!1,25<=m)throw Error(s(301));if(m+=1,Ft=ot=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ee.H=Tx,y=r(o,c)}while(ul);return y}function cC(){var i=ee.H,r=i.useState()[0];return r=typeof r.then=="function"?iu(r):r,i=i.useState()[0],(ot!==null?ot.memoizedState:null)!==i&&(De.flags|=1024),r}function Xp(){var i=jh!==0;return jh=0,i}function Wp(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Zp(i){if(Rh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Rh=!1}$s=0,Ft=ot=De=null,ul=!1,nu=jh=0,dl=null}function jn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?De.memoizedState=Ft=i:Ft=Ft.next=i,Ft}function It(){if(ot===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=ot.next;var r=Ft===null?De.memoizedState:Ft.next;if(r!==null)Ft=r,ot=i;else{if(i===null)throw De.alternate===null?Error(s(467)):Error(s(310));ot=i,i={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ft===null?De.memoizedState=Ft=i:Ft=Ft.next=i}return Ft}function Ih(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function iu(i){var r=nu;return nu+=1,dl===null&&(dl=[]),i=kv(dl,i,r),r=De,(Ft===null?r.memoizedState:Ft.next)===null&&(r=r.alternate,ee.H=r===null||r.memoizedState===null?Ex:ug),i}function kh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return iu(i);if(i.$$typeof===P)return hn(i)}throw Error(s(438,String(i)))}function Jp(i){var r=null,o=De.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Ih(),De.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=V;return r.index++,o}function Gs(i,r){return typeof r=="function"?r(i):r}function Dh(i){var r=It();return eg(r,ot,i)}function eg(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=i.baseQueue,y=c.pending;if(y!==null){if(m!==null){var b=m.next;m.next=y.next,y.next=b}r.baseQueue=m=y,c.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{r=m.next;var A=b=null,L=null,X=r,ne=!1;do{var re=X.lane&-536870913;if(re!==X.lane?(Ue&re)===re:($s&re)===re){var W=X.revertLane;if(W===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),re===rl&&(ne=!0);else if(($s&W)===W){X=X.next,W===rl&&(ne=!0);continue}else re={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(A=L=re,b=y):L=L.next=re,De.lanes|=W,Fr|=W;re=X.action,to&&o(y,re),y=X.hasEagerState?X.eagerState:o(y,re)}else W={lane:re,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(A=L=W,b=y):L=L.next=W,De.lanes|=re,Fr|=re;X=X.next}while(X!==null&&X!==r);if(L===null?b=y:L.next=A,!Qn(y,i.memoizedState)&&(Ht=!0,ne&&(o=al,o!==null)))throw o;i.memoizedState=y,i.baseState=b,i.baseQueue=L,c.lastRenderedState=y}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function tg(i){var r=It(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,y=r.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do y=i(y,b.action),b=b.next;while(b!==m);Qn(y,r.memoizedState)||(Ht=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,c]}function Hv(i,r,o){var c=De,m=It(),y=Ge;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Qn((ot||m).memoizedState,o);if(b&&(m.memoizedState=o,Ht=!0),m=m.queue,sg(Gv.bind(null,c,m,i),[i]),m.getSnapshot!==r||b||Ft!==null&&Ft.memoizedState.tag&1){if(c.flags|=2048,hl(9,{destroy:void 0},$v.bind(null,c,m,o,r),null),ut===null)throw Error(s(349));y||($s&127)!==0||qv(c,r,o)}return o}function qv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=De.updateQueue,r===null?(r=Ih(),De.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function $v(i,r,o,c){r.value=o,r.getSnapshot=c,Kv(r)&&Yv(i)}function Gv(i,r,o){return o(function(){Kv(r)&&Yv(i)})}function Kv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Qn(i,o)}catch{return!0}}function Yv(i){var r=Ga(i,2);r!==null&&Fn(r,i,2)}function ng(i){var r=jn();if(typeof i=="function"){var o=i;if(i=o(),to){li(!0);try{o()}finally{li(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:i},r}function Qv(i,r,o,c){return i.baseState=o,eg(i,ot,typeof c=="function"?c:Gs)}function uC(i,r,o,c,m){if(Vh(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){y.listeners.push(b)}};ee.T!==null?o(!0):y.isTransition=!1,c(y),o=r.pending,o===null?(y.next=r.pending=y,Xv(r,y)):(y.next=o.next,r.pending=o.next=y)}}function Xv(i,r){var o=r.action,c=r.payload,m=i.state;if(r.isTransition){var y=ee.T,b={};ee.T=b;try{var A=o(m,c),L=ee.S;L!==null&&L(b,A),Wv(i,r,A)}catch(X){ig(i,r,X)}finally{y!==null&&b.types!==null&&(y.types=b.types),ee.T=y}}else try{y=o(m,c),Wv(i,r,y)}catch(X){ig(i,r,X)}}function Wv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Zv(i,r,c)},function(c){return ig(i,r,c)}):Zv(i,r,o)}function Zv(i,r,o){r.status="fulfilled",r.value=o,Jv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Xv(i,o)))}function ig(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,Jv(r),r=r.next;while(r!==c)}i.action=null}function Jv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function ex(i,r){return r}function tx(i,r){if(Ge){var o=ut.formState;if(o!==null){e:{var c=De;if(Ge){if(ft){t:{for(var m=ft,y=yi;m.nodeType!==8;){if(!y){m=null;break t}if(m=xi(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){ft=xi(m.nextSibling),c=m.data==="F!";break e}}Dr(c)}c=!1}c&&(r=o[0])}}return o=jn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ex,lastRenderedState:r},o.queue=c,o=wx.bind(null,De,c),c.dispatch=o,c=ng(!1),y=cg.bind(null,De,!1,c.queue),c=jn(),m={state:r,dispatch:null,action:i,pending:null},c.queue=m,o=uC.bind(null,De,m,y,o),m.dispatch=o,c.memoizedState=i,[r,o,!1]}function nx(i){var r=It();return ix(r,ot,i)}function ix(i,r,o){if(r=eg(i,r,ex)[0],i=Dh(Gs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=iu(r)}catch(b){throw b===ol?Eh:b}else c=r;r=It();var m=r.queue,y=m.dispatch;return o!==r.memoizedState&&(De.flags|=2048,hl(9,{destroy:void 0},dC.bind(null,m,o),null)),[c,y,i]}function dC(i,r){i.action=r}function sx(i){var r=It(),o=ot;if(o!==null)return ix(r,o,i);It(),r=r.memoizedState,o=It();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function hl(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=De.updateQueue,r===null&&(r=Ih(),De.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function rx(){return It().memoizedState}function Mh(i,r,o,c){var m=jn();De.flags|=i,m.memoizedState=hl(1|r,{destroy:void 0},o,c===void 0?null:c)}function Ph(i,r,o,c){var m=It();c=c===void 0?null:c;var y=m.memoizedState.inst;ot!==null&&c!==null&&Yp(c,ot.memoizedState.deps)?m.memoizedState=hl(r,y,o,c):(De.flags|=i,m.memoizedState=hl(1|r,y,o,c))}function ax(i,r){Mh(8390656,8,i,r)}function sg(i,r){Ph(2048,8,i,r)}function hC(i){De.flags|=4;var r=De.updateQueue;if(r===null)r=Ih(),De.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function ox(i){var r=It().memoizedState;return hC({ref:r,nextImpl:i}),function(){if((Je&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function lx(i,r){return Ph(4,2,i,r)}function cx(i,r){return Ph(4,4,i,r)}function ux(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function dx(i,r,o){o=o!=null?o.concat([i]):null,Ph(4,4,ux.bind(null,r,i),o)}function rg(){}function hx(i,r){var o=It();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Yp(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function fx(i,r){var o=It();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Yp(r,c[1]))return c[0];if(c=i(),to){li(!0);try{i()}finally{li(!1)}}return o.memoizedState=[c,r],c}function ag(i,r,o){return o===void 0||($s&1073741824)!==0&&(Ue&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=mw(),De.lanes|=i,Fr|=i,o)}function mx(i,r,o,c){return Qn(o,r)?o:cl.current!==null?(i=ag(i,o,c),Qn(i,r)||(Ht=!0),i):($s&42)===0||($s&1073741824)!==0&&(Ue&261930)===0?(Ht=!0,i.memoizedState=o):(i=mw(),De.lanes|=i,Fr|=i,r)}function px(i,r,o,c,m){var y=ce.p;ce.p=y!==0&&8>y?y:8;var b=ee.T,A={};ee.T=A,cg(i,!1,r,o);try{var L=m(),X=ee.S;if(X!==null&&X(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ne=oC(L,c);su(i,r,ne,ti(i))}else su(i,r,c,ti(i))}catch(re){su(i,r,{then:function(){},status:"rejected",reason:re},ti())}finally{ce.p=y,b!==null&&A.types!==null&&(b.types=A.types),ee.T=b}}function fC(){}function og(i,r,o,c){if(i.tag!==5)throw Error(s(476));var m=gx(i).queue;px(i,m,r,me,o===null?fC:function(){return yx(i),o(c)})}function gx(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:me},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function yx(i){var r=gx(i);r.next===null&&(r=i.alternate.memoizedState),su(i,r.next.queue,{},ti())}function lg(){return hn(bu)}function vx(){return It().memoizedState}function xx(){return It().memoizedState}function mC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=ti();i=Vr(o);var c=Or(r,i,o);c!==null&&(Fn(c,r,o),Jc(c,r,o)),r={cache:Op()},i.payload=r;return}r=r.return}}function pC(i,r,o){var c=ti();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Vh(i)?bx(r,o):(o=Sp(i,r,o,c),o!==null&&(Fn(o,i,c),_x(o,r,c)))}function wx(i,r,o){var c=ti();su(i,r,o,c)}function su(i,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Vh(i))bx(r,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var b=r.lastRenderedState,A=y(b,o);if(m.hasEagerState=!0,m.eagerState=A,Qn(A,b))return gh(i,r,m,0),ut===null&&ph(),!1}catch{}finally{}if(o=Sp(i,r,m,c),o!==null)return Fn(o,i,c),_x(o,r,c),!0}return!1}function cg(i,r,o,c){if(c={lane:2,revertLane:Ug(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Vh(i)){if(r)throw Error(s(479))}else r=Sp(i,o,c,2),r!==null&&Fn(r,i,2)}function Vh(i){var r=i.alternate;return i===De||r!==null&&r===De}function bx(i,r){ul=Rh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function _x(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Sc(i,o)}}var ru={readContext:hn,use:kh,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};ru.useEffectEvent=At;var Ex={readContext:hn,use:kh,useCallback:function(i,r){return jn().memoizedState=[i,r===void 0?null:r],i},useContext:hn,useEffect:ax,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Mh(4194308,4,ux.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Mh(4194308,4,i,r)},useInsertionEffect:function(i,r){Mh(4,2,i,r)},useMemo:function(i,r){var o=jn();r=r===void 0?null:r;var c=i();if(to){li(!0);try{i()}finally{li(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=jn();if(o!==void 0){var m=o(r);if(to){li(!0);try{o(r)}finally{li(!1)}}}else m=r;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=pC.bind(null,De,i),[c.memoizedState,i]},useRef:function(i){var r=jn();return i={current:i},r.memoizedState=i},useState:function(i){i=ng(i);var r=i.queue,o=wx.bind(null,De,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:rg,useDeferredValue:function(i,r){var o=jn();return ag(o,i,r)},useTransition:function(){var i=ng(!1);return i=px.bind(null,De,i.queue,!0,!1),jn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=De,m=jn();if(Ge){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ut===null)throw Error(s(349));(Ue&127)!==0||qv(c,r,o)}m.memoizedState=o;var y={value:o,getSnapshot:r};return m.queue=y,ax(Gv.bind(null,c,y,i),[i]),c.flags|=2048,hl(9,{destroy:void 0},$v.bind(null,c,y,o,r),null),o},useId:function(){var i=jn(),r=ut.identifierPrefix;if(Ge){var o=ys,c=gs;o=(c&~(1<<32-Nt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=jh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=lC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:lg,useFormState:tx,useActionState:tx,useOptimistic:function(i){var r=jn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=cg.bind(null,De,!0,o),o.dispatch=r,[i,r]},useMemoCache:Jp,useCacheRefresh:function(){return jn().memoizedState=mC.bind(null,De)},useEffectEvent:function(i){var r=jn(),o={impl:i};return r.memoizedState=o,function(){if((Je&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},ug={readContext:hn,use:kh,useCallback:hx,useContext:hn,useEffect:sg,useImperativeHandle:dx,useInsertionEffect:lx,useLayoutEffect:cx,useMemo:fx,useReducer:Dh,useRef:rx,useState:function(){return Dh(Gs)},useDebugValue:rg,useDeferredValue:function(i,r){var o=It();return mx(o,ot.memoizedState,i,r)},useTransition:function(){var i=Dh(Gs)[0],r=It().memoizedState;return[typeof i=="boolean"?i:iu(i),r]},useSyncExternalStore:Hv,useId:vx,useHostTransitionStatus:lg,useFormState:nx,useActionState:nx,useOptimistic:function(i,r){var o=It();return Qv(o,ot,i,r)},useMemoCache:Jp,useCacheRefresh:xx};ug.useEffectEvent=ox;var Tx={readContext:hn,use:kh,useCallback:hx,useContext:hn,useEffect:sg,useImperativeHandle:dx,useInsertionEffect:lx,useLayoutEffect:cx,useMemo:fx,useReducer:tg,useRef:rx,useState:function(){return tg(Gs)},useDebugValue:rg,useDeferredValue:function(i,r){var o=It();return ot===null?ag(o,i,r):mx(o,ot.memoizedState,i,r)},useTransition:function(){var i=tg(Gs)[0],r=It().memoizedState;return[typeof i=="boolean"?i:iu(i),r]},useSyncExternalStore:Hv,useId:vx,useHostTransitionStatus:lg,useFormState:sx,useActionState:sx,useOptimistic:function(i,r){var o=It();return ot!==null?Qv(o,ot,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Jp,useCacheRefresh:xx};Tx.useEffectEvent=ox;function dg(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:x({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var hg={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=ti(),m=Vr(c);m.payload=r,o!=null&&(m.callback=o),r=Or(i,m,c),r!==null&&(Fn(r,i,c),Jc(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=ti(),m=Vr(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Or(i,m,c),r!==null&&(Fn(r,i,c),Jc(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=ti(),c=Vr(o);c.tag=2,r!=null&&(c.callback=r),r=Or(i,c,o),r!==null&&(Fn(r,i,o),Jc(r,i,o))}};function Ax(i,r,o,c,m,y,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,b):r.prototype&&r.prototype.isPureReactComponent?!$c(o,c)||!$c(m,y):!0}function Sx(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&hg.enqueueReplaceState(r,r.state,null)}function no(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=x({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function Cx(i){mh(i)}function Nx(i){console.error(i)}function Rx(i){mh(i)}function Oh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function jx(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function fg(i,r,o){return o=Vr(o),o.tag=3,o.payload={element:null},o.callback=function(){Oh(i,r)},o}function Ix(i){return i=Vr(i),i.tag=3,i}function kx(i,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;i.payload=function(){return m(y)},i.callback=function(){jx(r,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){jx(r,o,c),typeof m!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function gC(i,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&sl(r,o,m,!0),o=Wn.current,o!==null){switch(o.tag){case 31:case 13:return vi===null?Qh():o.alternate===null&&St===0&&(St=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Th?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Lg(i,c,m)),!1;case 22:return o.flags|=65536,c===Th?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Lg(i,c,m)),!1}throw Error(s(435,o.tag))}return Lg(i,c,m),Qh(),!1}if(Ge)return r=Wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==kp&&(i=Error(s(422),{cause:c}),Yc(mi(i,o)))):(c!==kp&&(r=Error(s(423),{cause:c}),Yc(mi(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=mi(c,o),m=fg(i.stateNode,c,m),Hp(i,m),St!==4&&(St=2)),!1;var y=Error(s(520),{cause:c});if(y=mi(y,o),fu===null?fu=[y]:fu.push(y),St!==4&&(St=2),r===null)return!0;c=mi(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=fg(o.stateNode,c,i),Hp(o,i),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hr===null||!Hr.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Ix(m),kx(m,i,o,c),Hp(o,m),!1}o=o.return}while(o!==null);return!1}var mg=Error(s(461)),Ht=!1;function fn(i,r,o,c){r.child=i===null?Vv(r,null,o,c):eo(r,i.child,o,c)}function Dx(i,r,o,c,m){o=o.render;var y=r.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return Xa(r),c=Qp(i,r,o,b,y,m),A=Xp(),i!==null&&!Ht?(Wp(i,r,m),Ks(i,r,m)):(Ge&&A&&jp(r),r.flags|=1,fn(i,r,c,m),r.child)}function Mx(i,r,o,c,m){if(i===null){var y=o.type;return typeof y=="function"&&!Cp(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Px(i,r,y,c,m)):(i=vh(o.type,null,c,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!_g(i,m)){var b=y.memoizedProps;if(o=o.compare,o=o!==null?o:$c,o(b,c)&&i.ref===r.ref)return Ks(i,r,m)}return r.flags|=1,i=Us(y,c),i.ref=r.ref,i.return=r,r.child=i}function Px(i,r,o,c,m){if(i!==null){var y=i.memoizedProps;if($c(y,c)&&i.ref===r.ref)if(Ht=!1,r.pendingProps=c=y,_g(i,m))(i.flags&131072)!==0&&(Ht=!0);else return r.lanes=i.lanes,Ks(i,r,m)}return pg(i,r,o,c,m)}function Vx(i,r,o,c){var m=c.children,y=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,i!==null){for(c=r.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~y}else c=0,r.child=null;return Ox(i,r,y,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&_h(r,y!==null?y.cachePool:null),y!==null?Bv(r,y):$p(),zv(r);else return c=r.lanes=536870912,Ox(i,r,y!==null?y.baseLanes|o:o,o,c)}else y!==null?(_h(r,y.cachePool),Bv(r,y),Br(),r.memoizedState=null):(i!==null&&_h(r,null),$p(),Br());return fn(i,r,m,o),r.child}function au(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Ox(i,r,o,c,m){var y=Bp();return y=y===null?null:{parent:Ut._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},i!==null&&_h(r,null),$p(),zv(r),i!==null&&sl(i,r,c,!0),r.childLanes=m,null}function Lh(i,r){return r=zh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Lx(i,r,o){return eo(r,i.child,null,o),i=Lh(r,r.pendingProps),i.flags|=2,Zn(r),r.memoizedState=null,i}function yC(i,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ge){if(c.mode==="hidden")return i=Lh(r,c),r.lanes=536870912,au(null,i);if(Kp(r),(i=ft)?(i=Xw(i,yi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ir!==null?{id:gs,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},o=bv(i),o.return=r,r.child=o,dn=r,ft=null)):i=null,i===null)throw Dr(r);return r.lanes=536870912,null}return Lh(r,c)}var y=i.memoizedState;if(y!==null){var b=y.dehydrated;if(Kp(r),m)if(r.flags&256)r.flags&=-257,r=Lx(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ht||sl(i,r,o,!1),m=(o&i.childLanes)!==0,Ht||m){if(c=ut,c!==null&&(b=Cc(c,o),b!==0&&b!==y.retryLane))throw y.retryLane=b,Ga(i,b),Fn(c,i,b),mg;Qh(),r=Lx(i,r,o)}else i=y.treeContext,ft=xi(b.nextSibling),dn=r,Ge=!0,kr=null,yi=!1,i!==null&&Tv(r,i),r=Lh(r,c),r.flags|=4096;return r}return i=Us(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Bh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function pg(i,r,o,c,m){return Xa(r),o=Qp(i,r,o,c,void 0,m),c=Xp(),i!==null&&!Ht?(Wp(i,r,m),Ks(i,r,m)):(Ge&&c&&jp(r),r.flags|=1,fn(i,r,o,m),r.child)}function Bx(i,r,o,c,m,y){return Xa(r),r.updateQueue=null,o=Fv(r,c,o,m),Uv(i),c=Xp(),i!==null&&!Ht?(Wp(i,r,y),Ks(i,r,y)):(Ge&&c&&jp(r),r.flags|=1,fn(i,r,o,y),r.child)}function zx(i,r,o,c,m){if(Xa(r),r.stateNode===null){var y=el,b=o.contextType;typeof b=="object"&&b!==null&&(y=hn(b)),y=new o(c,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=hg,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=c,y.state=r.memoizedState,y.refs={},Up(r),b=o.contextType,y.context=typeof b=="object"&&b!==null?hn(b):el,y.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(dg(r,o,b,c),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(b=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),b!==y.state&&hg.enqueueReplaceState(y,y.state,null),tu(r,c,y,m),eu(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){y=r.stateNode;var A=r.memoizedProps,L=no(o,A);y.props=L;var X=y.context,ne=o.contextType;b=el,typeof ne=="object"&&ne!==null&&(b=hn(ne));var re=o.getDerivedStateFromProps;ne=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ne||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||X!==b)&&Sx(r,y,c,b),Pr=!1;var W=r.memoizedState;y.state=W,tu(r,c,y,m),eu(),X=r.memoizedState,A||W!==X||Pr?(typeof re=="function"&&(dg(r,o,re,c),X=r.memoizedState),(L=Pr||Ax(r,o,L,c,W,X,b))?(ne||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=X),y.props=c,y.state=X,y.context=b,c=L):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{y=r.stateNode,Fp(i,r),b=r.memoizedProps,ne=no(o,b),y.props=ne,re=r.pendingProps,W=y.context,X=o.contextType,L=el,typeof X=="object"&&X!==null&&(L=hn(X)),A=o.getDerivedStateFromProps,(X=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b!==re||W!==L)&&Sx(r,y,c,L),Pr=!1,W=r.memoizedState,y.state=W,tu(r,c,y,m),eu();var J=r.memoizedState;b!==re||W!==J||Pr||i!==null&&i.dependencies!==null&&wh(i.dependencies)?(typeof A=="function"&&(dg(r,o,A,c),J=r.memoizedState),(ne=Pr||Ax(r,o,ne,c,W,J,L)||i!==null&&i.dependencies!==null&&wh(i.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,J,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,J,L)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=J),y.props=c,y.state=J,y.context=L,c=ne):(typeof y.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(r.flags|=1024),c=!1)}return y=c,Bh(i,r),c=(r.flags&128)!==0,y||c?(y=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&c?(r.child=eo(r,i.child,null,m),r.child=eo(r,null,o,m)):fn(i,r,o,m),r.memoizedState=y.state,i=r.child):i=Ks(i,r,m),i}function Ux(i,r,o,c){return Ya(),r.flags|=256,fn(i,r,o,c),r.child}var gg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yg(i){return{baseLanes:i,cachePool:jv()}}function vg(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ei),i}function Fx(i,r,o){var c=r.pendingProps,m=!1,y=(r.flags&128)!==0,b;if((b=y)||(b=i!==null&&i.memoizedState===null?!1:(jt.current&2)!==0),b&&(m=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ge){if(m?Lr(r):Br(),(i=ft)?(i=Xw(i,yi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ir!==null?{id:gs,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},o=bv(i),o.return=r,r.child=o,dn=r,ft=null)):i=null,i===null)throw Dr(r);return e0(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,m?(Br(),m=r.mode,A=zh({mode:"hidden",children:A},m),c=Ka(c,m,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=yg(o),c.childLanes=vg(i,b,o),r.memoizedState=gg,au(null,c)):(Lr(r),xg(r,A))}var L=i.memoizedState;if(L!==null&&(A=L.dehydrated,A!==null)){if(y)r.flags&256?(Lr(r),r.flags&=-257,r=wg(i,r,o)):r.memoizedState!==null?(Br(),r.child=i.child,r.flags|=128,r=null):(Br(),A=c.fallback,m=r.mode,c=zh({mode:"visible",children:c.children},m),A=Ka(A,m,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,eo(r,i.child,null,o),c=r.child,c.memoizedState=yg(o),c.childLanes=vg(i,b,o),r.memoizedState=gg,r=au(null,c));else if(Lr(r),e0(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var X=b.dgst;b=X,c=Error(s(419)),c.stack="",c.digest=b,Yc({value:c,source:null,stack:null}),r=wg(i,r,o)}else if(Ht||sl(i,r,o,!1),b=(o&i.childLanes)!==0,Ht||b){if(b=ut,b!==null&&(c=Cc(b,o),c!==0&&c!==L.retryLane))throw L.retryLane=c,Ga(i,c),Fn(b,i,c),mg;Jg(A)||Qh(),r=wg(i,r,o)}else Jg(A)?(r.flags|=192,r.child=i.child,r=null):(i=L.treeContext,ft=xi(A.nextSibling),dn=r,Ge=!0,kr=null,yi=!1,i!==null&&Tv(r,i),r=xg(r,c.children),r.flags|=4096);return r}return m?(Br(),A=c.fallback,m=r.mode,L=i.child,X=L.sibling,c=Us(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,X!==null?A=Us(X,A):(A=Ka(A,m,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,au(null,c),c=r.child,A=i.child.memoizedState,A===null?A=yg(o):(m=A.cachePool,m!==null?(L=Ut._currentValue,m=m.parent!==L?{parent:L,pool:L}:m):m=jv(),A={baseLanes:A.baseLanes|o,cachePool:m}),c.memoizedState=A,c.childLanes=vg(i,b,o),r.memoizedState=gg,au(i.child,c)):(Lr(r),o=i.child,i=o.sibling,o=Us(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function xg(i,r){return r=zh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function zh(i,r){return i=Xn(22,i,null,r),i.lanes=0,i}function wg(i,r,o){return eo(r,i.child,null,o),i=xg(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Hx(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Pp(i.return,r,o)}function bg(i,r,o,c,m,y){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:y}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=m,b.treeForkCount=y)}function qx(i,r,o){var c=r.pendingProps,m=c.revealOrder,y=c.tail;c=c.children;var b=jt.current,A=(b&2)!==0;if(A?(b=b&1|2,r.flags|=128):b&=1,de(jt,b),fn(i,r,c,o),c=Ge?Kc:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Hx(i,o,r);else if(i.tag===19)Hx(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&Nh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),bg(r,!1,m,o,y,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&Nh(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}bg(r,!0,o,null,y,c);break;case"together":bg(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Ks(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Fr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(sl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Us(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Us(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function _g(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&wh(i)))}function vC(i,r,o){switch(r.tag){case 3:Xt(r,r.stateNode.containerInfo),Mr(r,Ut,i.memoizedState.cache),Ya();break;case 27:case 5:Na(r);break;case 4:Xt(r,r.stateNode.containerInfo);break;case 10:Mr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Kp(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Lr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Fx(i,r,o):(Lr(r),i=Ks(i,r,o),i!==null?i.sibling:null);Lr(r);break;case 19:var m=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(sl(i,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return qx(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),de(jt,jt.current),c)break;return null;case 22:return r.lanes=0,Vx(i,r,o,r.pendingProps);case 24:Mr(r,Ut,i.memoizedState.cache)}return Ks(i,r,o)}function $x(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ht=!0;else{if(!_g(i,o)&&(r.flags&128)===0)return Ht=!1,vC(i,r,o);Ht=(i.flags&131072)!==0}else Ht=!1,Ge&&(r.flags&1048576)!==0&&Ev(r,Kc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Za(r.elementType),r.type=i,typeof i=="function")Cp(i)?(c=no(i,c),r.tag=1,r=zx(null,r,i,c,o)):(r.tag=0,r=pg(null,r,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===B){r.tag=11,r=Dx(null,r,i,c,o);break e}else if(m===S){r.tag=14,r=Mx(null,r,i,c,o);break e}}throw r=Ne(i)||i,Error(s(306,r,""))}}return r;case 0:return pg(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=no(c,r.pendingProps),zx(i,r,c,m,o);case 3:e:{if(Xt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var y=r.memoizedState;m=y.element,Fp(i,r),tu(r,c,null,o);var b=r.memoizedState;if(c=b.cache,Mr(r,Ut,c),c!==y.cache&&Vp(r,[Ut],o,!0),eu(),c=b.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Ux(i,r,c,o);break e}else if(c!==m){m=mi(Error(s(424)),r),Yc(m),r=Ux(i,r,c,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ft=xi(i.firstChild),dn=r,Ge=!0,kr=null,yi=!0,o=Vv(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ya(),c===m){r=Ks(i,r,o);break e}fn(i,r,c,o)}r=r.child}return r;case 26:return Bh(i,r),i===null?(o=nb(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ge||(o=r.type,i=r.pendingProps,c=nf(Ve.current).createElement(o),c[Lt]=r,c[tn]=i,mn(c,o,i),Bt(c),r.stateNode=c):r.memoizedState=nb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Na(r),i===null&&Ge&&(c=r.stateNode=Jw(r.type,r.pendingProps,Ve.current),dn=r,yi=!0,m=ft,Kr(r.type)?(t0=m,ft=xi(c.firstChild)):ft=m),fn(i,r,r.pendingProps.children,o),Bh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ge&&((m=c=ft)&&(c=YC(c,r.type,r.pendingProps,yi),c!==null?(r.stateNode=c,dn=r,ft=xi(c.firstChild),yi=!1,m=!0):m=!1),m||Dr(r)),Na(r),m=r.type,y=r.pendingProps,b=i!==null?i.memoizedProps:null,c=y.children,Xg(m,y)?c=null:b!==null&&Xg(m,b)&&(r.flags|=32),r.memoizedState!==null&&(m=Qp(i,r,cC,null,null,o),bu._currentValue=m),Bh(i,r),fn(i,r,c,o),r.child;case 6:return i===null&&Ge&&((i=o=ft)&&(o=QC(o,r.pendingProps,yi),o!==null?(r.stateNode=o,dn=r,ft=null,i=!0):i=!1),i||Dr(r)),null;case 13:return Fx(i,r,o);case 4:return Xt(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=eo(r,null,c,o):fn(i,r,c,o),r.child;case 11:return Dx(i,r,r.type,r.pendingProps,o);case 7:return fn(i,r,r.pendingProps,o),r.child;case 8:return fn(i,r,r.pendingProps.children,o),r.child;case 12:return fn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Mr(r,r.type,c.value),fn(i,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,Xa(r),m=hn(m),c=c(m),r.flags|=1,fn(i,r,c,o),r.child;case 14:return Mx(i,r,r.type,r.pendingProps,o);case 15:return Px(i,r,r.type,r.pendingProps,o);case 19:return qx(i,r,o);case 31:return yC(i,r,o);case 22:return Vx(i,r,o,r.pendingProps);case 24:return Xa(r),c=hn(Ut),i===null?(m=Bp(),m===null&&(m=ut,y=Op(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),r.memoizedState={parent:c,cache:m},Up(r),Mr(r,Ut,m)):((i.lanes&o)!==0&&(Fp(i,r),tu(r,null,null,o),eu()),m=i.memoizedState,y=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Mr(r,Ut,c)):(c=y.cache,Mr(r,Ut,c),c!==m.cache&&Vp(r,[Ut],o,!0))),fn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ys(i){i.flags|=4}function Eg(i,r,o,c,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(vw())i.flags|=8192;else throw Ja=Th,zp}else i.flags&=-16777217}function Gx(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ob(r))if(vw())i.flags|=8192;else throw Ja=Th,zp}function Uh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Kd():536870912,i.lanes|=r,gl|=r)}function ou(i,r){if(!Ge)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function mt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function xC(i,r,o){var c=r.pendingProps;switch(Ip(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(r),null;case 1:return mt(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),qs(Ut),yt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(il(r)?Ys(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Dp())),mt(r),null;case 26:var m=r.type,y=r.memoizedState;return i===null?(Ys(r),y!==null?(mt(r),Gx(r,y)):(mt(r),Eg(r,m,null,c,o))):y?y!==i.memoizedState?(Ys(r),mt(r),Gx(r,y)):(mt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Ys(r),mt(r),Eg(r,m,i,c,o)),null;case 27:if(Po(r),o=Ve.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ys(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return mt(r),null}i=fe.current,il(r)?Av(r):(i=Jw(m,c,o),r.stateNode=i,Ys(r))}return mt(r),null;case 5:if(Po(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ys(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return mt(r),null}if(y=fe.current,il(r))Av(r);else{var b=nf(Ve.current);switch(y){case 1:y=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=b.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?b.createElement(m,{is:c.is}):b.createElement(m)}}y[Lt]=r,y[tn]=c;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)y.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=y;e:switch(mn(y,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ys(r)}}return mt(r),Eg(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Ys(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ve.current,il(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,m=dn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Lt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Fw(i.nodeValue,o)),i||Dr(r,!0)}else i=nf(i).createTextNode(c),i[Lt]=r,r.stateNode=i}return mt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=il(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Lt]=r}else Ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),i=!1}else o=Dp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Zn(r),r):(Zn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return mt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=il(r),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Lt]=r}else Ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),m=!1}else m=Dp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Zn(r),r):(Zn(r),null)}return Zn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Uh(r,r.updateQueue),mt(r),null);case 4:return yt(),i===null&&$g(r.stateNode.containerInfo),mt(r),null;case 10:return qs(r.type),mt(r),null;case 19:if(ae(jt),c=r.memoizedState,c===null)return mt(r),null;if(m=(r.flags&128)!==0,y=c.rendering,y===null)if(m)ou(c,!1);else{if(St!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=Nh(i),y!==null){for(r.flags|=128,ou(c,!1),i=y.updateQueue,r.updateQueue=i,Uh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)wv(o,i),o=o.sibling;return de(jt,jt.current&1|2),Ge&&Fs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&Nn()>Gh&&(r.flags|=128,m=!0,ou(c,!1),r.lanes=4194304)}else{if(!m)if(i=Nh(y),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,Uh(r,i),ou(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!Ge)return mt(r),null}else 2*Nn()-c.renderingStartTime>Gh&&o!==536870912&&(r.flags|=128,m=!0,ou(c,!1),r.lanes=4194304);c.isBackwards?(y.sibling=r.child,r.child=y):(i=c.last,i!==null?i.sibling=y:r.child=y,c.last=y)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Nn(),i.sibling=null,o=jt.current,de(jt,m?o&1|2:o&1),Ge&&Fs(r,c.treeForkCount),i):(mt(r),null);case 22:case 23:return Zn(r),Gp(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(mt(r),r.subtreeFlags&6&&(r.flags|=8192)):mt(r),o=r.updateQueue,o!==null&&Uh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&ae(Wa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),qs(Ut),mt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function wC(i,r){switch(Ip(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return qs(Ut),yt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Po(r),null;case 31:if(r.memoizedState!==null){if(Zn(r),r.alternate===null)throw Error(s(340));Ya()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Zn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ya()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ae(jt),null;case 4:return yt(),null;case 10:return qs(r.type),null;case 22:case 23:return Zn(r),Gp(),i!==null&&ae(Wa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return qs(Ut),null;case 25:return null;default:return null}}function Kx(i,r){switch(Ip(r),r.tag){case 3:qs(Ut),yt();break;case 26:case 27:case 5:Po(r);break;case 4:yt();break;case 31:r.memoizedState!==null&&Zn(r);break;case 13:Zn(r);break;case 19:ae(jt);break;case 10:qs(r.type);break;case 22:case 23:Zn(r),Gp(),i!==null&&ae(Wa);break;case 24:qs(Ut)}}function lu(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var y=o.create,b=o.inst;c=y(),b.destroy=c}o=o.next}while(o!==m)}}catch(A){rt(r,r.return,A)}}function zr(i,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&i)===i){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,m=r;var L=o,X=A;try{X()}catch(ne){rt(m,L,ne)}}}c=c.next}while(c!==y)}}catch(ne){rt(r,r.return,ne)}}function Yx(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Lv(r,o)}catch(c){rt(i,i.return,c)}}}function Qx(i,r,o){o.props=no(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){rt(i,r,c)}}function cu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){rt(i,r,m)}}function vs(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){rt(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){rt(i,r,m)}else o.current=null}function Xx(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){rt(i,i.return,m)}}function Tg(i,r,o){try{var c=i.stateNode;FC(c,i.type,o,r),c[tn]=r}catch(m){rt(i,i.return,m)}}function Wx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Kr(i.type)||i.tag===4}function Ag(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Wx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Kr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Sg(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Oi));else if(c!==4&&(c===27&&Kr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Sg(i,r,o),i=i.sibling;i!==null;)Sg(i,r,o),i=i.sibling}function Fh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Kr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Fh(i,r,o),i=i.sibling;i!==null;)Fh(i,r,o),i=i.sibling}function Zx(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);mn(r,c,o),r[Lt]=i,r[tn]=o}catch(y){rt(i,i.return,y)}}var Qs=!1,qt=!1,Cg=!1,Jx=typeof WeakSet=="function"?WeakSet:Set,sn=null;function bC(i,r){if(i=i.containerInfo,Yg=uf,i=dv(i),wp(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var b=0,A=-1,L=-1,X=0,ne=0,re=i,W=null;t:for(;;){for(var J;re!==o||m!==0&&re.nodeType!==3||(A=b+m),re!==y||c!==0&&re.nodeType!==3||(L=b+c),re.nodeType===3&&(b+=re.nodeValue.length),(J=re.firstChild)!==null;)W=re,re=J;for(;;){if(re===i)break t;if(W===o&&++X===m&&(A=b),W===y&&++ne===c&&(L=b),(J=re.nextSibling)!==null)break;re=W,W=re.parentNode}re=J}o=A===-1||L===-1?null:{start:A,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Qg={focusedElem:i,selectionRange:o},uf=!1,sn=r;sn!==null;)if(r=sn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,sn=i;else for(;sn!==null;){switch(r=sn,y=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=r,m=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var pe=no(o.type,m);i=c.getSnapshotBeforeUpdate(pe,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(_e){rt(o,o.return,_e)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Zg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Zg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,sn=i;break}sn=r.return}}function ew(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ws(i,o),c&4&&lu(5,o);break;case 1:if(Ws(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){rt(o,o.return,b)}else{var m=no(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){rt(o,o.return,b)}}c&64&&Yx(o),c&512&&cu(o,o.return);break;case 3:if(Ws(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Lv(i,r)}catch(b){rt(o,o.return,b)}}break;case 27:r===null&&c&4&&Zx(o);case 26:case 5:Ws(i,o),r===null&&c&4&&Xx(o),c&512&&cu(o,o.return);break;case 12:Ws(i,o);break;case 31:Ws(i,o),c&4&&iw(i,o);break;case 13:Ws(i,o),c&4&&sw(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=jC.bind(null,o),XC(i,o))));break;case 22:if(c=o.memoizedState!==null||Qs,!c){r=r!==null&&r.memoizedState!==null||qt,m=Qs;var y=qt;Qs=c,(qt=r)&&!y?Zs(i,o,(o.subtreeFlags&8772)!==0):Ws(i,o),Qs=m,qt=y}break;case 30:break;default:Ws(i,o)}}function tw(i){var r=i.alternate;r!==null&&(i.alternate=null,tw(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&zo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var xt=null,Ln=!1;function Xs(i,r,o){for(o=o.child;o!==null;)nw(i,r,o),o=o.sibling}function nw(i,r,o){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Di,o)}catch{}switch(o.tag){case 26:qt||vs(o,r),Xs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:qt||vs(o,r);var c=xt,m=Ln;Kr(o.type)&&(xt=o.stateNode,Ln=!1),Xs(i,r,o),vu(o.stateNode),xt=c,Ln=m;break;case 5:qt||vs(o,r);case 6:if(c=xt,m=Ln,xt=null,Xs(i,r,o),xt=c,Ln=m,xt!==null)if(Ln)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(y){rt(o,r,y)}else try{xt.removeChild(o.stateNode)}catch(y){rt(o,r,y)}break;case 18:xt!==null&&(Ln?(i=xt,Yw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Tl(i)):Yw(xt,o.stateNode));break;case 4:c=xt,m=Ln,xt=o.stateNode.containerInfo,Ln=!0,Xs(i,r,o),xt=c,Ln=m;break;case 0:case 11:case 14:case 15:zr(2,o,r),qt||zr(4,o,r),Xs(i,r,o);break;case 1:qt||(vs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Qx(o,r,c)),Xs(i,r,o);break;case 21:Xs(i,r,o);break;case 22:qt=(c=qt)||o.memoizedState!==null,Xs(i,r,o),qt=c;break;default:Xs(i,r,o)}}function iw(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Tl(i)}catch(o){rt(r,r.return,o)}}}function sw(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Tl(i)}catch(o){rt(r,r.return,o)}}function _C(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Jx),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Jx),r;default:throw Error(s(435,i.tag))}}function Hh(i,r){var o=_C(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=IC.bind(null,i,c);c.then(m,m)}})}function Bn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],y=i,b=r,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(Kr(A.type)){xt=A.stateNode,Ln=!1;break e}break;case 5:xt=A.stateNode,Ln=!1;break e;case 3:case 4:xt=A.stateNode.containerInfo,Ln=!0;break e}A=A.return}if(xt===null)throw Error(s(160));nw(y,b,m),xt=null,Ln=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)rw(r,i),r=r.sibling}var Hi=null;function rw(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Bn(r,i),zn(i),c&4&&(zr(3,i,i.return),lu(3,i),zr(5,i,i.return));break;case 1:Bn(r,i),zn(i),c&512&&(qt||o===null||vs(o,o.return)),c&64&&Qs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Hi;if(Bn(r,i),zn(i),c&512&&(qt||o===null||vs(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ss]||y[Lt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),mn(y,c,o),y[Lt]=i,Bt(y),c=y;break e;case"link":var b=rb("link","href",m).get(c+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(y=b[A],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}y=m.createElement(c),mn(y,c,o),m.head.appendChild(y);break;case"meta":if(b=rb("meta","content",m).get(c+(o.content||""))){for(A=0;A<b.length;A++)if(y=b[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}y=m.createElement(c),mn(y,c,o),m.head.appendChild(y);break;default:throw Error(s(468,c))}y[Lt]=i,Bt(y),c=y}i.stateNode=c}else ab(m,i.type,i.stateNode);else i.stateNode=sb(m,c,i.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?ab(m,i.type,i.stateNode):sb(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Tg(i,i.memoizedProps,o.memoizedProps)}break;case 27:Bn(r,i),zn(i),c&512&&(qt||o===null||vs(o,o.return)),o!==null&&c&4&&Tg(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Bn(r,i),zn(i),c&512&&(qt||o===null||vs(o,o.return)),i.flags&32){m=i.stateNode;try{On(m,"")}catch(pe){rt(i,i.return,pe)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Tg(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Cg=!0);break;case 6:if(Bn(r,i),zn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(pe){rt(i,i.return,pe)}}break;case 3:if(af=null,m=Hi,Hi=sf(r.containerInfo),Bn(r,i),Hi=m,zn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Tl(r.containerInfo)}catch(pe){rt(i,i.return,pe)}Cg&&(Cg=!1,aw(i));break;case 4:c=Hi,Hi=sf(i.stateNode.containerInfo),Bn(r,i),zn(i),Hi=c;break;case 12:Bn(r,i),zn(i);break;case 31:Bn(r,i),zn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Hh(i,c)));break;case 13:Bn(r,i),zn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($h=Nn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Hh(i,c)));break;case 22:m=i.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,X=Qs,ne=qt;if(Qs=X||m,qt=ne||L,Bn(r,i),qt=ne,Qs=X,zn(i),c&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||L||Qs||qt||io(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){L=o=r;try{if(y=L.stateNode,m)b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=L.stateNode;var re=L.memoizedProps.style,W=re!=null&&re.hasOwnProperty("display")?re.display:null;A.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(pe){rt(L,L.return,pe)}}}else if(r.tag===6){if(o===null){L=r;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(pe){rt(L,L.return,pe)}}}else if(r.tag===18){if(o===null){L=r;try{var J=L.stateNode;m?Qw(J,!0):Qw(L.stateNode,!1)}catch(pe){rt(L,L.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Hh(i,o))));break;case 19:Bn(r,i),zn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Hh(i,c)));break;case 30:break;case 21:break;default:Bn(r,i),zn(i)}}function zn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(Wx(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,y=Ag(i);Fh(i,y,m);break;case 5:var b=o.stateNode;o.flags&32&&(On(b,""),o.flags&=-33);var A=Ag(i);Fh(i,A,b);break;case 3:case 4:var L=o.stateNode.containerInfo,X=Ag(i);Sg(i,X,L);break;default:throw Error(s(161))}}catch(ne){rt(i,i.return,ne)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function aw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;aw(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ws(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ew(i,r.alternate,r),r=r.sibling}function io(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:zr(4,r,r.return),io(r);break;case 1:vs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Qx(r,r.return,o),io(r);break;case 27:vu(r.stateNode);case 26:case 5:vs(r,r.return),io(r);break;case 22:r.memoizedState===null&&io(r);break;case 30:io(r);break;default:io(r)}i=i.sibling}}function Zs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=i,y=r,b=y.flags;switch(y.tag){case 0:case 11:case 15:Zs(m,y,o),lu(4,y);break;case 1:if(Zs(m,y,o),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){rt(c,c.return,X)}if(c=y,m=c.updateQueue,m!==null){var A=c.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)Ov(L[m],A)}catch(X){rt(c,c.return,X)}}o&&b&64&&Yx(y),cu(y,y.return);break;case 27:Zx(y);case 26:case 5:Zs(m,y,o),o&&c===null&&b&4&&Xx(y),cu(y,y.return);break;case 12:Zs(m,y,o);break;case 31:Zs(m,y,o),o&&b&4&&iw(m,y);break;case 13:Zs(m,y,o),o&&b&4&&sw(m,y);break;case 22:y.memoizedState===null&&Zs(m,y,o),cu(y,y.return);break;case 30:break;default:Zs(m,y,o)}r=r.sibling}}function Ng(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Qc(o))}function Rg(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Qc(i))}function qi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ow(i,r,o,c),r=r.sibling}function ow(i,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:qi(i,r,o,c),m&2048&&lu(9,r);break;case 1:qi(i,r,o,c);break;case 3:qi(i,r,o,c),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Qc(i)));break;case 12:if(m&2048){qi(i,r,o,c),i=r.stateNode;try{var y=r.memoizedProps,b=y.id,A=y.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){rt(r,r.return,L)}}else qi(i,r,o,c);break;case 31:qi(i,r,o,c);break;case 13:qi(i,r,o,c);break;case 23:break;case 22:y=r.stateNode,b=r.alternate,r.memoizedState!==null?y._visibility&2?qi(i,r,o,c):uu(i,r):y._visibility&2?qi(i,r,o,c):(y._visibility|=2,fl(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Ng(b,r);break;case 24:qi(i,r,o,c),m&2048&&Rg(r.alternate,r);break;default:qi(i,r,o,c)}}function fl(i,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=i,b=r,A=o,L=c,X=b.flags;switch(b.tag){case 0:case 11:case 15:fl(y,b,A,L,m),lu(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?fl(y,b,A,L,m):uu(y,b):(ne._visibility|=2,fl(y,b,A,L,m)),m&&X&2048&&Ng(b.alternate,b);break;case 24:fl(y,b,A,L,m),m&&X&2048&&Rg(b.alternate,b);break;default:fl(y,b,A,L,m)}r=r.sibling}}function uu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,m=c.flags;switch(c.tag){case 22:uu(o,c),m&2048&&Ng(c.alternate,c);break;case 24:uu(o,c),m&2048&&Rg(c.alternate,c);break;default:uu(o,c)}r=r.sibling}}var du=8192;function ml(i,r,o){if(i.subtreeFlags&du)for(i=i.child;i!==null;)lw(i,r,o),i=i.sibling}function lw(i,r,o){switch(i.tag){case 26:ml(i,r,o),i.flags&du&&i.memoizedState!==null&&lN(o,Hi,i.memoizedState,i.memoizedProps);break;case 5:ml(i,r,o);break;case 3:case 4:var c=Hi;Hi=sf(i.stateNode.containerInfo),ml(i,r,o),Hi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=du,du=16777216,ml(i,r,o),du=c):ml(i,r,o));break;default:ml(i,r,o)}}function cw(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function hu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];sn=c,dw(c,i)}cw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uw(i),i=i.sibling}function uw(i){switch(i.tag){case 0:case 11:case 15:hu(i),i.flags&2048&&zr(9,i,i.return);break;case 3:hu(i);break;case 12:hu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,qh(i)):hu(i);break;default:hu(i)}}function qh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];sn=c,dw(c,i)}cw(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:zr(8,r,r.return),qh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,qh(r));break;default:qh(r)}i=i.sibling}}function dw(i,r){for(;sn!==null;){var o=sn;switch(o.tag){case 0:case 11:case 15:zr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Qc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,sn=c;else e:for(o=i;sn!==null;){c=sn;var m=c.sibling,y=c.return;if(tw(c),c===o){sn=null;break e}if(m!==null){m.return=y,sn=m;break e}sn=y}}}var EC={getCacheForType:function(i){var r=hn(Ut),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return hn(Ut).controller.signal}},TC=typeof WeakMap=="function"?WeakMap:Map,Je=0,ut=null,Le=null,Ue=0,st=0,Jn=null,Ur=!1,pl=!1,jg=!1,Js=0,St=0,Fr=0,so=0,Ig=0,ei=0,gl=0,fu=null,Un=null,kg=!1,$h=0,hw=0,Gh=1/0,Kh=null,Hr=null,Zt=0,qr=null,yl=null,er=0,Dg=0,Mg=null,fw=null,mu=0,Pg=null;function ti(){return(Je&2)!==0&&Ue!==0?Ue&-Ue:ee.T!==null?Ug():Yd()}function mw(){if(ei===0)if((Ue&536870912)===0||Ge){var i=Ia;Ia<<=1,(Ia&3932160)===0&&(Ia=262144),ei=i}else ei=536870912;return i=Wn.current,i!==null&&(i.flags|=32),ei}function Fn(i,r,o){(i===ut&&(st===2||st===9)||i.cancelPendingCommit!==null)&&(vl(i,0),$r(i,Ue,ei,!1)),ka(i,o),((Je&2)===0||i!==ut)&&(i===ut&&((Je&2)===0&&(so|=o),St===4&&$r(i,Ue,ei,!1)),xs(i))}function pw(i,r,o){if((Je&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Mi(i,r),m=c?CC(i,r):Og(i,r,!0),y=c;do{if(m===0){pl&&!c&&$r(i,r,0,!1);break}else{if(o=i.current.alternate,y&&!AC(o)){m=Og(i,r,!1),y=!1;continue}if(m===2){if(y=r,i.errorRecoveryDisabledLanes&y)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var A=i;m=fu;var L=A.current.memoizedState.isDehydrated;if(L&&(vl(A,b).flags|=256),b=Og(A,b,!1),b!==2){if(jg&&!L){A.errorRecoveryDisabledLanes|=y,so|=y,m=4;break e}y=Un,Un=m,y!==null&&(Un===null?Un=y:Un.push.apply(Un,y))}m=b}if(y=!1,m!==2)continue}}if(m===1){vl(i,0),$r(i,r,0,!0);break}e:{switch(c=i,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:$r(c,r,ei,!Ur);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=$h+300-Nn(),10<m)){if($r(c,r,ei,!Ur),ts(c,0,!0)!==0)break e;er=r,c.timeoutHandle=Gw(gw.bind(null,c,o,Un,Kh,kg,r,ei,so,gl,Ur,y,"Throttled",-0,0),m);break e}gw(c,o,Un,Kh,kg,r,ei,so,gl,Ur,y,null,-0,0)}}break}while(!0);xs(i)}function gw(i,r,o,c,m,y,b,A,L,X,ne,re,W,J){if(i.timeoutHandle=-1,re=r.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Oi},lw(r,y,re);var pe=(y&62914560)===y?$h-Nn():(y&4194048)===y?hw-Nn():0;if(pe=cN(re,pe),pe!==null){er=y,i.cancelPendingCommit=pe(Tw.bind(null,i,r,y,o,c,m,b,A,L,ne,re,null,W,J)),$r(i,y,b,!X);return}}Tw(i,r,y,o,c,m,b,A,L)}function AC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],y=m.getSnapshot;m=m.value;try{if(!Qn(y(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $r(i,r,o,c){r&=~Ig,r&=~so,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var m=r;0<m;){var y=31-Nt(m),b=1<<y;c[y]=-1,m&=~b}o!==0&&Da(i,o,r)}function Yh(){return(Je&6)===0?(pu(0),!1):!0}function Vg(){if(Le!==null){if(st===0)var i=Le.return;else i=Le,Hs=Qa=null,Zp(i),ll=null,Wc=0,i=Le;for(;i!==null;)Kx(i.alternate,i),i=i.return;Le=null}}function vl(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,$C(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),er=0,Vg(),ut=i,Le=o=Us(i.current,null),Ue=r,st=0,Jn=null,Ur=!1,pl=Mi(i,r),jg=!1,gl=ei=Ig=so=Fr=St=0,Un=fu=null,kg=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var m=31-Nt(c),y=1<<m;r|=i[m],c&=~y}return Js=r,ph(),o}function yw(i,r){De=null,ee.H=ru,r===ol||r===Eh?(r=Dv(),st=3):r===zp?(r=Dv(),st=4):st=r===mg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Jn=r,Le===null&&(St=1,Oh(i,mi(r,i.current)))}function vw(){var i=Wn.current;return i===null?!0:(Ue&4194048)===Ue?vi===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?i===vi:!1}function xw(){var i=ee.H;return ee.H=ru,i===null?ru:i}function ww(){var i=ee.A;return ee.A=EC,i}function Qh(){St=4,Ur||(Ue&4194048)!==Ue&&Wn.current!==null||(pl=!0),(Fr&134217727)===0&&(so&134217727)===0||ut===null||$r(ut,Ue,ei,!1)}function Og(i,r,o){var c=Je;Je|=2;var m=xw(),y=ww();(ut!==i||Ue!==r)&&(Kh=null,vl(i,r)),r=!1;var b=St;e:do try{if(st!==0&&Le!==null){var A=Le,L=Jn;switch(st){case 8:Vg(),b=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(r=!0);var X=st;if(st=0,Jn=null,xl(i,A,L,X),o&&pl){b=0;break e}break;default:X=st,st=0,Jn=null,xl(i,A,L,X)}}SC(),b=St;break}catch(ne){yw(i,ne)}while(!0);return r&&i.shellSuspendCounter++,Hs=Qa=null,Je=c,ee.H=m,ee.A=y,Le===null&&(ut=null,Ue=0,ph()),b}function SC(){for(;Le!==null;)bw(Le)}function CC(i,r){var o=Je;Je|=2;var c=xw(),m=ww();ut!==i||Ue!==r?(Kh=null,Gh=Nn()+500,vl(i,r)):pl=Mi(i,r);e:do try{if(st!==0&&Le!==null){r=Le;var y=Jn;t:switch(st){case 1:st=0,Jn=null,xl(i,r,y,1);break;case 2:case 9:if(Iv(y)){st=0,Jn=null,_w(r);break}r=function(){st!==2&&st!==9||ut!==i||(st=7),xs(i)},y.then(r,r);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Iv(y)?(st=0,Jn=null,_w(r)):(st=0,Jn=null,xl(i,r,y,7));break;case 5:var b=null;switch(Le.tag){case 26:b=Le.memoizedState;case 5:case 27:var A=Le;if(b?ob(b):A.stateNode.complete){st=0,Jn=null;var L=A.sibling;if(L!==null)Le=L;else{var X=A.return;X!==null?(Le=X,Xh(X)):Le=null}break t}}st=0,Jn=null,xl(i,r,y,5);break;case 6:st=0,Jn=null,xl(i,r,y,6);break;case 8:Vg(),St=6;break e;default:throw Error(s(462))}}NC();break}catch(ne){yw(i,ne)}while(!0);return Hs=Qa=null,ee.H=c,ee.A=m,Je=o,Le!==null?0:(ut=null,Ue=0,ph(),St)}function NC(){for(;Le!==null&&!fp();)bw(Le)}function bw(i){var r=$x(i.alternate,i,Js);i.memoizedProps=i.pendingProps,r===null?Xh(i):Le=r}function _w(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Bx(o,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=Bx(o,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:Zp(r);default:Kx(o,r),r=Le=wv(r,Js),r=$x(o,r,Js)}i.memoizedProps=i.pendingProps,r===null?Xh(i):Le=r}function xl(i,r,o,c){Hs=Qa=null,Zp(r),ll=null,Wc=0;var m=r.return;try{if(gC(i,m,r,o,Ue)){St=1,Oh(i,mi(o,i.current)),Le=null;return}}catch(y){if(m!==null)throw Le=m,y;St=1,Oh(i,mi(o,i.current)),Le=null;return}r.flags&32768?(Ge||c===1?i=!0:pl||(Ue&536870912)!==0?i=!1:(Ur=i=!0,(c===2||c===9||c===3||c===6)&&(c=Wn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ew(r,i)):Xh(r)}function Xh(i){var r=i;do{if((r.flags&32768)!==0){Ew(r,Ur);return}i=r.return;var o=xC(r.alternate,r,Js);if(o!==null){Le=o;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=i}while(r!==null);St===0&&(St=5)}function Ew(i,r){do{var o=wC(i.alternate,i);if(o!==null){o.flags&=32767,Le=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Le=i;return}Le=i=o}while(i!==null);St=6,Le=null}function Tw(i,r,o,c,m,y,b,A,L){i.cancelPendingCommit=null;do Wh();while(Zt!==0);if((Je&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=Ap,gp(i,o,y,b,A,L),i===ut&&(Le=ut=null,Ue=0),yl=r,qr=i,er=o,Dg=y,Mg=m,fw=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,kC(br,function(){return Rw(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null,m=ce.p,ce.p=2,b=Je,Je|=4;try{bC(i,r,o)}finally{Je=b,ce.p=m,ee.T=c}}Zt=1,Aw(),Sw(),Cw()}}function Aw(){if(Zt===1){Zt=0;var i=qr,r=yl,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=ee.T,ee.T=null;var c=ce.p;ce.p=2;var m=Je;Je|=4;try{rw(r,i);var y=Qg,b=dv(i.containerInfo),A=y.focusedElem,L=y.selectionRange;if(b!==A&&A&&A.ownerDocument&&uv(A.ownerDocument.documentElement,A)){if(L!==null&&wp(A)){var X=L.start,ne=L.end;if(ne===void 0&&(ne=X),"selectionStart"in A)A.selectionStart=X,A.selectionEnd=Math.min(ne,A.value.length);else{var re=A.ownerDocument||document,W=re&&re.defaultView||window;if(W.getSelection){var J=W.getSelection(),pe=A.textContent.length,_e=Math.min(L.start,pe),ct=L.end===void 0?_e:Math.min(L.end,pe);!J.extend&&_e>ct&&(b=ct,ct=_e,_e=b);var K=cv(A,_e),q=cv(A,ct);if(K&&q&&(J.rangeCount!==1||J.anchorNode!==K.node||J.anchorOffset!==K.offset||J.focusNode!==q.node||J.focusOffset!==q.offset)){var Q=re.createRange();Q.setStart(K.node,K.offset),J.removeAllRanges(),_e>ct?(J.addRange(Q),J.extend(q.node,q.offset)):(Q.setEnd(q.node,q.offset),J.addRange(Q))}}}}for(re=[],J=A;J=J.parentNode;)J.nodeType===1&&re.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<re.length;A++){var se=re[A];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}uf=!!Yg,Qg=Yg=null}finally{Je=m,ce.p=c,ee.T=o}}i.current=r,Zt=2}}function Sw(){if(Zt===2){Zt=0;var i=qr,r=yl,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=ee.T,ee.T=null;var c=ce.p;ce.p=2;var m=Je;Je|=4;try{ew(i,r.alternate,r)}finally{Je=m,ce.p=c,ee.T=o}}Zt=3}}function Cw(){if(Zt===4||Zt===3){Zt=0,Ud();var i=qr,r=yl,o=er,c=fw;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Zt=5:(Zt=0,yl=qr=null,Nw(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Hr=null),Os(o),r=r.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Di,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=ee.T,m=ce.p,ce.p=2,ee.T=null;try{for(var y=i.onRecoverableError,b=0;b<c.length;b++){var A=c[b];y(A.value,{componentStack:A.stack})}}finally{ee.T=r,ce.p=m}}(er&3)!==0&&Wh(),xs(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===Pg?mu++:(mu=0,Pg=i):mu=0,pu(0)}}function Nw(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Qc(r)))}function Wh(){return Aw(),Sw(),Cw(),Rw()}function Rw(){if(Zt!==5)return!1;var i=qr,r=Dg;Dg=0;var o=Os(er),c=ee.T,m=ce.p;try{ce.p=32>o?32:o,ee.T=null,o=Mg,Mg=null;var y=qr,b=er;if(Zt=0,yl=qr=null,er=0,(Je&6)!==0)throw Error(s(331));var A=Je;if(Je|=4,uw(y.current),ow(y,y.current,b,o),Je=A,pu(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Di,y)}catch{}return!0}finally{ce.p=m,ee.T=c,Nw(i,r)}}function jw(i,r,o){r=mi(o,r),r=fg(i.stateNode,r,2),i=Or(i,r,2),i!==null&&(ka(i,2),xs(i))}function rt(i,r,o){if(i.tag===3)jw(i,i,o);else for(;r!==null;){if(r.tag===3){jw(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Hr===null||!Hr.has(c))){i=mi(o,i),o=Ix(2),c=Or(r,o,2),c!==null&&(kx(o,c,r,i),ka(c,2),xs(c));break}}r=r.return}}function Lg(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new TC;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(jg=!0,m.add(o),i=RC.bind(null,i,r,o),r.then(i,i))}function RC(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ut===i&&(Ue&o)===o&&(St===4||St===3&&(Ue&62914560)===Ue&&300>Nn()-$h?(Je&2)===0&&vl(i,0):Ig|=o,gl===Ue&&(gl=0)),xs(i)}function Iw(i,r){r===0&&(r=Kd()),i=Ga(i,r),i!==null&&(ka(i,r),xs(i))}function jC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Iw(i,o)}function IC(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),Iw(i,o)}function kC(i,r){return Wt(i,r)}var Zh=null,wl=null,Bg=!1,Jh=!1,zg=!1,Gr=0;function xs(i){i!==wl&&i.next===null&&(wl===null?Zh=wl=i:wl=wl.next=i),Jh=!0,Bg||(Bg=!0,MC())}function pu(i,r){if(!zg&&Jh){zg=!0;do for(var o=!1,c=Zh;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var b=c.suspendedLanes,A=c.pingedLanes;y=(1<<31-Nt(42|i)+1)-1,y&=m&~(b&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Pw(c,y))}else y=Ue,y=ts(c,c===ut?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Mi(c,y)||(o=!0,Pw(c,y));c=c.next}while(o);zg=!1}}function DC(){kw()}function kw(){Jh=Bg=!1;var i=0;Gr!==0&&qC()&&(i=Gr);for(var r=Nn(),o=null,c=Zh;c!==null;){var m=c.next,y=Dw(c,r);y===0?(c.next=null,o===null?Zh=m:o.next=m,m===null&&(wl=o)):(o=c,(i!==0||(y&3)!==0)&&(Jh=!0)),c=m}Zt!==0&&Zt!==5||pu(i),Gr!==0&&(Gr=0)}function Dw(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var b=31-Nt(y),A=1<<b,L=m[b];L===-1?((A&o)===0||(A&c)!==0)&&(m[b]=pp(A,r)):L<=r&&(i.expiredLanes|=A),y&=~A}if(r=ut,o=Ue,o=ts(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(st===2||st===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&wr(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Mi(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&wr(c),Os(o)){case 2:case 8:o=Ac;break;case 32:o=br;break;case 268435456:o=Fd;break;default:o=br}return c=Mw.bind(null,i),o=Wt(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&wr(c),i.callbackPriority=2,i.callbackNode=null,2}function Mw(i,r){if(Zt!==0&&Zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Wh()&&i.callbackNode!==o)return null;var c=Ue;return c=ts(i,i===ut?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(pw(i,c,r),Dw(i,Nn()),i.callbackNode!=null&&i.callbackNode===o?Mw.bind(null,i):null)}function Pw(i,r){if(Wh())return null;pw(i,r,!0)}function MC(){GC(function(){(Je&6)!==0?Wt(Tc,DC):kw()})}function Ug(){if(Gr===0){var i=rl;i===0&&(i=Ji,Ji<<=1,(Ji&261888)===0&&(Ji=256)),Gr=i}return Gr}function Vw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:qo(""+i)}function Ow(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function PC(i,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var y=Vw((m[tn]||null).action),b=c.submitter;b&&(r=(r=b[tn]||null)?Vw(r.formAction):b.getAttribute("formAction"),r!==null&&(y=r,b=null));var A=new hs("action","action",null,c,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Gr!==0){var L=b?Ow(m,b):new FormData(m);og(o,{pending:!0,data:L,method:m.method,action:y},null,L)}}else typeof y=="function"&&(A.preventDefault(),L=b?Ow(m,b):new FormData(m),og(o,{pending:!0,data:L,method:m.method,action:y},y,L))},currentTarget:m}]})}}for(var Fg=0;Fg<Tp.length;Fg++){var Hg=Tp[Fg],VC=Hg.toLowerCase(),OC=Hg[0].toUpperCase()+Hg.slice(1);Fi(VC,"on"+OC)}Fi(mv,"onAnimationEnd"),Fi(pv,"onAnimationIteration"),Fi(gv,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(JS,"onTransitionRun"),Fi(eC,"onTransitionStart"),Fi(tC,"onTransitionCancel"),Fi(yv,"onTransitionEnd"),ls("onMouseEnter",["mouseout","mouseover"]),ls("onMouseLeave",["mouseout","mouseover"]),ls("onPointerEnter",["pointerout","pointerover"]),ls("onPointerLeave",["pointerout","pointerover"]),os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),os("onBeforeInput",["compositionend","keypress","textInput","paste"]),os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gu));function Lw(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var y=void 0;if(r)for(var b=c.length-1;0<=b;b--){var A=c[b],L=A.instance,X=A.currentTarget;if(A=A.listener,L!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=X;try{y(m)}catch(ne){mh(ne)}m.currentTarget=null,y=L}else for(b=0;b<c.length;b++){if(A=c[b],L=A.instance,X=A.currentTarget,A=A.listener,L!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=X;try{y(m)}catch(ne){mh(ne)}m.currentTarget=null,y=L}}}}function Be(i,r){var o=r[Bo];o===void 0&&(o=r[Bo]=new Set);var c=i+"__bubble";o.has(c)||(Bw(r,i,2,!1),o.add(c))}function qg(i,r,o){var c=0;r&&(c|=4),Bw(o,i,c,r)}var ef="_reactListening"+Math.random().toString(36).slice(2);function $g(i){if(!i[ef]){i[ef]=!0,Nc.forEach(function(o){o!=="selectionchange"&&(LC.has(o)||qg(o,!1,i),qg(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ef]||(r[ef]=!0,qg("selectionchange",!1,r))}}function Bw(i,r,o,c){switch(mb(r)){case 2:var m=hN;break;case 8:m=fN;break;default:m=a0}o=m.bind(null,r,o,i),m=void 0,!La||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function Gg(i,r,o,c,m){var y=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===m)break;if(b===4)for(b=c.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;A!==null;){if(b=rs(A),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){c=y=b;continue e}A=A.parentNode}}c=c.return}Cr(function(){var X=y,ne=ui(o),re=[];e:{var W=vv.get(i);if(W!==void 0){var J=hs,pe=i;switch(i){case"keypress":if(za(o)===0)break e;case"keydown":case"keyup":J=dh;break;case"focusin":pe="focus",J=Fa;break;case"focusout":pe="blur",J=Fa;break;case"beforeblur":case"afterblur":J=Fa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=w;break;case mv:case pv:case gv:J=sh;break;case yv:J=C;break;case"scroll":case"scrollend":J=zc;break;case"wheel":J=Z;break;case"copy":case"cut":case"paste":J=rh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=zs;break;case"toggle":case"beforetoggle":J=ke}var _e=(r&4)!==0,ct=!_e&&(i==="scroll"||i==="scrollend"),K=_e?W!==null?W+"Capture":null:W;_e=[];for(var q=X,Q;q!==null;){var se=q;if(Q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Q===null||K===null||(se=Li(q,K),se!=null&&_e.push(yu(q,se,Q))),ct)break;q=q.return}0<_e.length&&(W=new J(W,pe,null,o,ne),re.push({event:W,listeners:_e}))}}if((r&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",W&&o!==Oc&&(pe=o.relatedTarget||o.fromElement)&&(rs(pe)||pe[is]))break e;if((J||W)&&(W=ne.window===ne?ne:(W=ne.ownerDocument)?W.defaultView||W.parentWindow:window,J?(pe=o.relatedTarget||o.toElement,J=X,pe=pe?rs(pe):null,pe!==null&&(ct=l(pe),_e=pe.tag,pe!==ct||_e!==5&&_e!==27&&_e!==6)&&(pe=null)):(J=null,pe=X),J!==pe)){if(_e=Uc,se="onMouseLeave",K="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(_e=zs,se="onPointerLeave",K="onPointerEnter",q="pointer"),ct=J==null?W:Kn(J),Q=pe==null?W:Kn(pe),W=new _e(se,q+"leave",J,o,ne),W.target=ct,W.relatedTarget=Q,se=null,rs(ne)===X&&(_e=new _e(K,q+"enter",pe,o,ne),_e.target=Q,_e.relatedTarget=ct,se=_e),ct=se,J&&pe)t:{for(_e=BC,K=J,q=pe,Q=0,se=K;se;se=_e(se))Q++;se=0;for(var xe=q;xe;xe=_e(xe))se++;for(;0<Q-se;)K=_e(K),Q--;for(;0<se-Q;)q=_e(q),se--;for(;Q--;){if(K===q||q!==null&&K===q.alternate){_e=K;break t}K=_e(K),q=_e(q)}_e=null}else _e=null;J!==null&&zw(re,W,J,_e,!1),pe!==null&&ct!==null&&zw(re,ct,pe,_e,!0)}}e:{if(W=X?Kn(X):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var Qe=iv;else if(tv(W))if(sv)Qe=XS;else{Qe=YS;var ve=KS}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&Ho(X.elementType)&&(Qe=iv):Qe=QS;if(Qe&&(Qe=Qe(i,X))){nv(re,Qe,o,ne);break e}ve&&ve(i,W,X),i==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&Mc(W,"number",W.value)}switch(ve=X?Kn(X):window,i){case"focusin":(tv(ve)||ve.contentEditable==="true")&&(Wo=ve,bp=X,Gc=null);break;case"focusout":Gc=bp=Wo=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,hv(re,o,ne);break;case"selectionchange":if(ZS)break;case"keydown":case"keyup":hv(re,o,ne)}var Oe;if(Ze)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Xo?Ha(i,o)&&(Fe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Fe="onCompositionStart");Fe&&(ps&&o.locale!=="ko"&&(Xo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Xo&&(Oe=Bc()):(ds=ne,Lc="value"in ds?ds.value:ds.textContent,Xo=!0)),ve=tf(X,Fe),0<ve.length&&(Fe=new ms(Fe,i,null,o,ne),re.push({event:Fe,listeners:ve}),Oe?Fe.data=Oe:(Oe=Qo(o),Oe!==null&&(Fe.data=Oe)))),(Oe=hi?HS(i,o):qS(i,o))&&(Fe=tf(X,"onBeforeInput"),0<Fe.length&&(ve=new ms("onBeforeInput","beforeinput",null,o,ne),re.push({event:ve,listeners:Fe}),ve.data=Oe)),PC(re,i,X,o,ne)}Lw(re,r)})}function yu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function tf(i,r){for(var o=r+"Capture",c=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Li(i,o),m!=null&&c.unshift(yu(i,m,y)),m=Li(i,r),m!=null&&c.push(yu(i,m,y))),i.tag===3)return c;i=i.return}return[]}function BC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function zw(i,r,o,c,m){for(var y=r._reactName,b=[];o!==null&&o!==c;){var A=o,L=A.alternate,X=A.stateNode;if(A=A.tag,L!==null&&L===c)break;A!==5&&A!==26&&A!==27||X===null||(L=X,m?(X=Li(o,y),X!=null&&b.unshift(yu(o,X,L))):m||(X=Li(o,y),X!=null&&b.push(yu(o,X,L)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var zC=/\r\n?/g,UC=/\u0000|\uFFFD/g;function Uw(i){return(typeof i=="string"?i:""+i).replace(zC,`
`).replace(UC,"")}function Fw(i,r){return r=Uw(r),Uw(i)===r}function lt(i,r,o,c,m,y){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||On(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&On(i,""+c);break;case"className":Yn(i,"class",c);break;case"tabIndex":Yn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(i,o,c);break;case"style":Vc(i,c,y);break;case"data":if(r!=="object"){Yn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=qo(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&lt(i,r,"name",m.name,m,null),lt(i,r,"formEncType",m.formEncType,m,null),lt(i,r,"formMethod",m.formMethod,m,null),lt(i,r,"formTarget",m.formTarget,m,null)):(lt(i,r,"encType",m.encType,m,null),lt(i,r,"method",m.method,m,null),lt(i,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=qo(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Oi);break;case"onScroll":c!=null&&Be("scroll",i);break;case"onScrollEnd":c!=null&&Be("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=qo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Be("beforetoggle",i),Be("toggle",i),Uo(i,"popover",c);break;case"xlinkActuate":zt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":zt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":zt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":zt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":zt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":zt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":zt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":zt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":zt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Uo(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=th.get(o)||o,Uo(i,o,c))}}function Kg(i,r,o,c,m,y){switch(o){case"style":Vc(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?On(i,c):(typeof c=="number"||typeof c=="bigint")&&On(i,""+c);break;case"onScroll":c!=null&&Be("scroll",i);break;case"onScrollEnd":c!=null&&Be("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),y=i[tn]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(r,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Uo(i,o,c)}}}function mn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",i),Be("load",i);var c=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var b=o[y];if(b!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:lt(i,r,y,b,o,null)}}m&&lt(i,r,"srcSet",o.srcSet,o,null),c&&lt(i,r,"src",o.src,o,null);return;case"input":Be("invalid",i);var A=y=b=m=null,L=null,X=null;for(c in o)if(o.hasOwnProperty(c)){var ne=o[c];if(ne!=null)switch(c){case"name":m=ne;break;case"type":b=ne;break;case"checked":L=ne;break;case"defaultChecked":X=ne;break;case"value":y=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,r));break;default:lt(i,r,c,ne,o,null)}}Zd(i,y,A,L,X,b,m,!1);return;case"select":Be("invalid",i),c=b=y=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":y=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:lt(i,r,m,A,o,null)}r=y,o=b,i.multiple=!!c,r!=null?Er(i,!!c,r,!1):o!=null&&Er(i,!!c,o,!0);return;case"textarea":Be("invalid",i),y=m=c=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":m=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:lt(i,r,b,A,o,null)}Tr(i,c,m,y);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(c=o[L],c!=null))switch(L){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:lt(i,r,L,c,o,null)}return;case"dialog":Be("beforetoggle",i),Be("toggle",i),Be("cancel",i),Be("close",i);break;case"iframe":case"object":Be("load",i);break;case"video":case"audio":for(c=0;c<gu.length;c++)Be(gu[c],i);break;case"image":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"embed":case"source":case"link":Be("error",i),Be("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(c=o[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:lt(i,r,X,c,o,null)}return;default:if(Ho(r)){for(ne in o)o.hasOwnProperty(ne)&&(c=o[ne],c!==void 0&&Kg(i,r,ne,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&lt(i,r,A,c,o,null))}function FC(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,b=null,A=null,L=null,X=null,ne=null;for(J in o){var re=o[J];if(o.hasOwnProperty(J)&&re!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":L=re;default:c.hasOwnProperty(J)||lt(i,r,J,null,c,re)}}for(var W in c){var J=c[W];if(re=o[W],c.hasOwnProperty(W)&&(J!=null||re!=null))switch(W){case"type":y=J;break;case"name":m=J;break;case"checked":X=J;break;case"defaultChecked":ne=J;break;case"value":b=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:J!==re&&lt(i,r,W,J,c,re)}}Fo(i,b,A,L,X,ne,y,m);return;case"select":J=b=A=W=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":J=L;default:c.hasOwnProperty(y)||lt(i,r,y,null,c,L)}for(m in c)if(y=c[m],L=o[m],c.hasOwnProperty(m)&&(y!=null||L!=null))switch(m){case"value":W=y;break;case"defaultValue":A=y;break;case"multiple":b=y;default:y!==L&&lt(i,r,m,y,c,L)}r=A,o=b,c=J,W!=null?Er(i,!!o,W,!1):!!c!=!!o&&(r!=null?Er(i,!!o,r,!0):Er(i,!!o,o?[]:"",!1));return;case"textarea":J=W=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:lt(i,r,A,null,c,m)}for(b in c)if(m=c[b],y=o[b],c.hasOwnProperty(b)&&(m!=null||y!=null))switch(b){case"value":W=m;break;case"defaultValue":J=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&lt(i,r,b,m,c,y)}Jd(i,W,J);return;case"option":for(var pe in o)if(W=o[pe],o.hasOwnProperty(pe)&&W!=null&&!c.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:lt(i,r,pe,null,c,W)}for(L in c)if(W=c[L],J=o[L],c.hasOwnProperty(L)&&W!==J&&(W!=null||J!=null))switch(L){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:lt(i,r,L,W,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)W=o[_e],o.hasOwnProperty(_e)&&W!=null&&!c.hasOwnProperty(_e)&&lt(i,r,_e,null,c,W);for(X in c)if(W=c[X],J=o[X],c.hasOwnProperty(X)&&W!==J&&(W!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:lt(i,r,X,W,c,J)}return;default:if(Ho(r)){for(var ct in o)W=o[ct],o.hasOwnProperty(ct)&&W!==void 0&&!c.hasOwnProperty(ct)&&Kg(i,r,ct,void 0,c,W);for(ne in c)W=c[ne],J=o[ne],!c.hasOwnProperty(ne)||W===J||W===void 0&&J===void 0||Kg(i,r,ne,W,c,J);return}}for(var K in o)W=o[K],o.hasOwnProperty(K)&&W!=null&&!c.hasOwnProperty(K)&&lt(i,r,K,null,c,W);for(re in c)W=c[re],J=o[re],!c.hasOwnProperty(re)||W===J||W==null&&J==null||lt(i,r,re,W,c,J)}function Hw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],y=m.transferSize,b=m.initiatorType,A=m.duration;if(y&&A&&Hw(b)){for(b=0,A=m.responseEnd,c+=1;c<o.length;c++){var L=o[c],X=L.startTime;if(X>A)break;var ne=L.transferSize,re=L.initiatorType;ne&&Hw(re)&&(L=L.responseEnd,b+=ne*(L<A?1:(A-X)/(L-X)))}if(--c,r+=8*(y+b)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Yg=null,Qg=null;function nf(i){return i.nodeType===9?i:i.ownerDocument}function qw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $w(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Xg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wg=null;function qC(){var i=window.event;return i&&i.type==="popstate"?i===Wg?!1:(Wg=i,!0):(Wg=null,!1)}var Gw=typeof setTimeout=="function"?setTimeout:void 0,$C=typeof clearTimeout=="function"?clearTimeout:void 0,Kw=typeof Promise=="function"?Promise:void 0,GC=typeof queueMicrotask=="function"?queueMicrotask:typeof Kw<"u"?function(i){return Kw.resolve(null).then(i).catch(KC)}:Gw;function KC(i){setTimeout(function(){throw i})}function Kr(i){return i==="head"}function Yw(i,r){var o=r,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),Tl(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")vu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,vu(o);for(var y=o.firstChild;y;){var b=y.nextSibling,A=y.nodeName;y[ss]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=b}}else o==="body"&&vu(i.ownerDocument.body);o=m}while(o);Tl(r)}function Qw(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Zg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Zg(o),zo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function YC(i,r,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[ss])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=xi(i.nextSibling),i===null)break}return null}function QC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=xi(i.nextSibling),i===null))return null;return i}function Xw(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=xi(i.nextSibling),i===null))return null;return i}function Jg(i){return i.data==="$?"||i.data==="$~"}function e0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function XC(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function xi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var t0=null;function Ww(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return xi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Zw(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Jw(i,r,o){switch(r=nf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function vu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);zo(i)}var wi=new Map,eb=new Set;function sf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var tr=ce.d;ce.d={f:WC,r:ZC,D:JC,C:eN,L:tN,m:nN,X:sN,S:iN,M:rN};function WC(){var i=tr.f(),r=Yh();return i||r}function ZC(i){var r=ci(i);r!==null&&r.tag===5&&r.type==="form"?yx(r):tr.r(i)}var bl=typeof document>"u"?null:document;function tb(i,r,o){var c=bl;if(c&&typeof r=="string"&&r){var m=Vn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),eb.has(m)||(eb.add(m),i={rel:i,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),mn(r,"link",i),Bt(r),c.head.appendChild(r)))}}function JC(i){tr.D(i),tb("dns-prefetch",i,null)}function eN(i,r){tr.C(i,r),tb("preconnect",i,r)}function tN(i,r,o){tr.L(i,r,o);var c=bl;if(c&&i&&r){var m='link[rel="preload"][as="'+Vn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Vn(o.imageSizes)+'"]')):m+='[href="'+Vn(i)+'"]';var y=m;switch(r){case"style":y=_l(i);break;case"script":y=El(i)}wi.has(y)||(i=x({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),wi.set(y,i),c.querySelector(m)!==null||r==="style"&&c.querySelector(xu(y))||r==="script"&&c.querySelector(wu(y))||(r=c.createElement("link"),mn(r,"link",i),Bt(r),c.head.appendChild(r)))}}function nN(i,r){tr.m(i,r);var o=bl;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Vn(c)+'"][href="'+Vn(i)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=El(i)}if(!wi.has(y)&&(i=x({rel:"modulepreload",href:i},r),wi.set(y,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(wu(y)))return}c=o.createElement("link"),mn(c,"link",i),Bt(c),o.head.appendChild(c)}}}function iN(i,r,o){tr.S(i,r,o);var c=bl;if(c&&i){var m=as(c).hoistableStyles,y=_l(i);r=r||"default";var b=m.get(y);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(xu(y)))A.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":r},o),(o=wi.get(y))&&n0(i,o);var L=b=c.createElement("link");Bt(L),mn(L,"link",i),L._p=new Promise(function(X,ne){L.onload=X,L.onerror=ne}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,rf(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:A},m.set(y,b)}}}function sN(i,r){tr.X(i,r);var o=bl;if(o&&i){var c=as(o).hoistableScripts,m=El(i),y=c.get(m);y||(y=o.querySelector(wu(m)),y||(i=x({src:i,async:!0},r),(r=wi.get(m))&&i0(i,r),y=o.createElement("script"),Bt(y),mn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function rN(i,r){tr.M(i,r);var o=bl;if(o&&i){var c=as(o).hoistableScripts,m=El(i),y=c.get(m);y||(y=o.querySelector(wu(m)),y||(i=x({src:i,async:!0,type:"module"},r),(r=wi.get(m))&&i0(i,r),y=o.createElement("script"),Bt(y),mn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function nb(i,r,o,c){var m=(m=Ve.current)?sf(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=_l(o.href),o=as(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=_l(o.href);var y=as(m).hoistableStyles,b=y.get(i);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,b),(y=m.querySelector(xu(i)))&&!y._p&&(b.instance=y,b.state.loading=5),wi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},wi.set(i,o),y||aN(m,i,o,b.state))),r&&c===null)throw Error(s(528,""));return b}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=El(o),o=as(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function _l(i){return'href="'+Vn(i)+'"'}function xu(i){return'link[rel="stylesheet"]['+i+"]"}function ib(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function aN(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),mn(r,"link",o),Bt(r),i.head.appendChild(r))}function El(i){return'[src="'+Vn(i)+'"]'}function wu(i){return"script[async]"+i}function sb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Vn(o.href)+'"]');if(c)return r.instance=c,Bt(c),c;var m=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Bt(c),mn(c,"style",m),rf(c,o.precedence,i),r.instance=c;case"stylesheet":m=_l(o.href);var y=i.querySelector(xu(m));if(y)return r.state.loading|=4,r.instance=y,Bt(y),y;c=ib(o),(m=wi.get(m))&&n0(c,m),y=(i.ownerDocument||i).createElement("link"),Bt(y);var b=y;return b._p=new Promise(function(A,L){b.onload=A,b.onerror=L}),mn(y,"link",c),r.state.loading|=4,rf(y,o.precedence,i),r.instance=y;case"script":return y=El(o.src),(m=i.querySelector(wu(y)))?(r.instance=m,Bt(m),m):(c=o,(m=wi.get(y))&&(c=x({},o),i0(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Bt(m),mn(m,"link",c),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,rf(c,o.precedence,i));return r.instance}function rf(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===r)y=A;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function n0(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function i0(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var af=null;function rb(i,r,o){if(af===null){var c=new Map,m=af=new Map;m.set(o,c)}else m=af,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var y=o[m];if(!(y[ss]||y[Lt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var b=y.getAttribute(r)||"";b=i+b;var A=c.get(b);A?A.push(y):c.set(b,[y])}}return c}function ab(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function oN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ob(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function lN(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=_l(c.href),y=r.querySelector(xu(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=of.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=y,Bt(y);return}y=r.ownerDocument||r,c=ib(c),(m=wi.get(m))&&n0(c,m),y=y.createElement("link"),Bt(y);var b=y;b._p=new Promise(function(A,L){b.onload=A,b.onerror=L}),mn(y,"link",c),o.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=of.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var s0=0;function cN(i,r){return i.stylesheets&&i.count===0&&cf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&cf(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+r);0<i.imgBytes&&s0===0&&(s0=62500*HC());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&cf(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>s0?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function of(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var lf=null;function cf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,lf=new Map,r.forEach(uN,i),lf=null,of.call(i))}function uN(i,r){if(!(r.state.loading&4)){var o=lf.get(i);if(o)var c=o.get(null);else{o=new Map,lf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var b=m[y];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}m=r.instance,b=m.getAttribute("data-precedence"),y=o.get(b)||c,y===c&&o.set(null,m),o.set(b,m),this.count++,c=of.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var bu={$$typeof:P,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function dN(i,r,o,c,m,y,b,A,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ns(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.hiddenUpdates=ns(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function lb(i,r,o,c,m,y,b,A,L,X,ne,re){return i=new dN(i,r,o,b,L,X,ne,re,A),r=1,y===!0&&(r|=24),y=Xn(3,null,null,r),i.current=y,y.stateNode=i,r=Op(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:r},Up(y),i}function cb(i){return i?(i=el,i):el}function ub(i,r,o,c,m,y){m=cb(m),c.context===null?c.context=m:c.pendingContext=m,c=Vr(r),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Or(i,c,r),o!==null&&(Fn(o,i,r),Jc(o,i,r))}function db(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function r0(i,r){db(i,r),(i=i.alternate)&&db(i,r)}function hb(i){if(i.tag===13||i.tag===31){var r=Ga(i,67108864);r!==null&&Fn(r,i,67108864),r0(i,67108864)}}function fb(i){if(i.tag===13||i.tag===31){var r=ti();r=Ma(r);var o=Ga(i,r);o!==null&&Fn(o,i,r),r0(i,r)}}var uf=!0;function hN(i,r,o,c){var m=ee.T;ee.T=null;var y=ce.p;try{ce.p=2,a0(i,r,o,c)}finally{ce.p=y,ee.T=m}}function fN(i,r,o,c){var m=ee.T;ee.T=null;var y=ce.p;try{ce.p=8,a0(i,r,o,c)}finally{ce.p=y,ee.T=m}}function a0(i,r,o,c){if(uf){var m=o0(c);if(m===null)Gg(i,r,c,df,o),pb(i,c);else if(pN(m,i,r,o,c))c.stopPropagation();else if(pb(i,c),r&4&&-1<mN.indexOf(i)){for(;m!==null;){var y=ci(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var b=es(y.pendingLanes);if(b!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var L=1<<31-Nt(b);A.entanglements[1]|=L,b&=~L}xs(y),(Je&6)===0&&(Gh=Nn()+500,pu(0))}}break;case 31:case 13:A=Ga(y,2),A!==null&&Fn(A,y,2),Yh(),r0(y,2)}if(y=o0(c),y===null&&Gg(i,r,c,df,o),y===m)break;m=y}m!==null&&c.stopPropagation()}else Gg(i,r,c,null,o)}}function o0(i){return i=ui(i),l0(i)}var df=null;function l0(i){if(df=null,i=rs(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return df=i,null}function mb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ja()){case Tc:return 2;case Ac:return 8;case br:case mp:return 32;case Fd:return 268435456;default:return 32}default:return 32}}var c0=!1,Yr=null,Qr=null,Xr=null,_u=new Map,Eu=new Map,Wr=[],mN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pb(i,r){switch(i){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":_u.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(r.pointerId)}}function Tu(i,r,o,c,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},r!==null&&(r=ci(r),r!==null&&hb(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function pN(i,r,o,c,m){switch(r){case"focusin":return Yr=Tu(Yr,i,r,o,c,m),!0;case"dragenter":return Qr=Tu(Qr,i,r,o,c,m),!0;case"mouseover":return Xr=Tu(Xr,i,r,o,c,m),!0;case"pointerover":var y=m.pointerId;return _u.set(y,Tu(_u.get(y)||null,i,r,o,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Eu.set(y,Tu(Eu.get(y)||null,i,r,o,c,m)),!0}return!1}function gb(i){var r=rs(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Pi(i.priority,function(){fb(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,Pi(i.priority,function(){fb(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function hf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=o0(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Oc=c,o.target.dispatchEvent(c),Oc=null}else return r=ci(o),r!==null&&hb(r),i.blockedOn=o,!1;r.shift()}return!0}function yb(i,r,o){hf(i)&&o.delete(r)}function gN(){c0=!1,Yr!==null&&hf(Yr)&&(Yr=null),Qr!==null&&hf(Qr)&&(Qr=null),Xr!==null&&hf(Xr)&&(Xr=null),_u.forEach(yb),Eu.forEach(yb)}function ff(i,r){i.blockedOn===r&&(i.blockedOn=null,c0||(c0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gN)))}var mf=null;function vb(i){mf!==i&&(mf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){mf===i&&(mf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],m=i[r+2];if(typeof c!="function"){if(l0(c||o)===null)continue;break}var y=ci(o);y!==null&&(i.splice(r,3),r-=3,og(y,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Tl(i){function r(L){return ff(L,i)}Yr!==null&&ff(Yr,i),Qr!==null&&ff(Qr,i),Xr!==null&&ff(Xr,i),_u.forEach(r),Eu.forEach(r);for(var o=0;o<Wr.length;o++){var c=Wr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Wr.length&&(o=Wr[0],o.blockedOn===null);)gb(o),o.blockedOn===null&&Wr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],y=o[c+1],b=m[tn]||null;if(typeof y=="function")b||vb(o);else if(b){var A=null;if(y&&y.hasAttribute("formAction")){if(m=y,b=y[tn]||null)A=b.formAction;else if(l0(m)!==null)continue}else A=b.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),vb(o)}}}function xb(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function u0(i){this._internalRoot=i}pf.prototype.render=u0.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=ti();ub(o,c,i,r,null,null)},pf.prototype.unmount=u0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;ub(i.current,2,null,i,null,null),Yh(),r[is]=null}};function pf(i){this._internalRoot=i}pf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Yd();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Wr.length&&r!==0&&r<Wr[o].priority;o++);Wr.splice(o,0,i),o===0&&gb(i)}};var wb=e.version;if(wb!=="19.2.0")throw Error(s(527,wb,"19.2.0"));ce.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var yN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gf.isDisabled&&gf.supportsFiber)try{Di=gf.inject(yN),cn=gf}catch{}}return Su.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",m=Cx,y=Nx,b=Rx;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=lb(i,1,!1,null,null,o,c,null,m,y,b,xb),i[is]=r.current,$g(i),new u0(r)},Su.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,m="",y=Cx,b=Nx,A=Rx,L=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),r=lb(i,1,!0,r,o??null,c,m,L,y,b,A,xb),r.context=cb(null),o=r.current,c=ti(),c=Ma(c),m=Vr(c),m.callback=null,Or(o,m,c),o=c,r.current.lanes=o,ka(r,o),xs(r),i[is]=r.current,$g(i),new pf(r)},Su.version="19.2.0",Su}var jb;function NN(){if(jb)return f0.exports;jb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),f0.exports=CN(),f0.exports}var RN=NN();var Ib="popstate";function jN(t={}){function e(s,a){let{pathname:l,search:u,hash:f}=s.location;return Z0("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Ku(a)}return kN(e,n,null,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IN(){return Math.random().toString(36).substring(2,10)}function kb(t,e){return{usr:t.state,key:t.key,idx:e}}function Z0(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ic(e):e,state:n,key:e&&e.key||s||IN()}}function Ku({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ic(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function kN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",p=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function x(){f="POP";let z=v(),H=z==null?null:z-g;g=z,p&&p({action:f,location:F.location,delta:H})}function E(z,H){f="PUSH";let k=Z0(F.location,z,H);g=v()+1;let P=kb(k,g),B=F.createHref(k);try{u.pushState(P,"",B)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(B)}l&&p&&p({action:f,location:F.location,delta:1})}function N(z,H){f="REPLACE";let k=Z0(F.location,z,H);g=v();let P=kb(k,g),B=F.createHref(k);u.replaceState(P,"",B),l&&p&&p({action:f,location:F.location,delta:0})}function D(z){return DN(z)}let F={get action(){return f},get location(){return t(a,u)},listen(z){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Ib,x),p=z,()=>{a.removeEventListener(Ib,x),p=null}},createHref(z){return e(a,z)},createURL:D,encodeLocation(z){let H=D(z);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:E,replace:N,go(z){return u.go(z)}};return F}function DN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Ku(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Y_(t,e,n="/"){return MN(t,e,n,!1)}function MN(t,e,n,s){let a=typeof e=="string"?ic(e):e,l=ur(a.pathname||"/",n);if(l==null)return null;let u=Q_(t);PN(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let g=GN(l);f=qN(u[p],g,s)}return f}function Q_(t,e=[],n=[],s="",a=!1){let l=(u,f,p=a,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;Et(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let x=sr([s,v.relativePath]),E=n.concat(v);u.children&&u.children.length>0&&(Et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Q_(u.children,e,E,x,p)),!(u.path==null&&!u.index)&&e.push({path:x,score:FN(x,u.index),routesMeta:E})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let p of X_(u.path))l(u,f,!0,p)}),e}function X_(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=X_(s.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...u),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function PN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var VN=/^:[\w-]+$/,ON=3,LN=2,BN=1,zN=10,UN=-2,Db=t=>t==="*";function FN(t,e){let n=t.split("/"),s=n.length;return n.some(Db)&&(s+=UN),e&&(s+=LN),n.filter(a=>!Db(a)).reduce((a,l)=>a+(VN.test(l)?ON:l===""?BN:zN),s)}function HN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function qN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let p=s[f],g=f===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",x=$f({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),E=p.route;if(!x&&g&&n&&!s[s.length-1].route.index&&(x=$f({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!x)return null;Object.assign(a,x.params),u.push({params:a,pathname:sr([l,x.pathname]),pathnameBase:WN(sr([l,x.pathnameBase])),route:E}),x.pathnameBase!=="/"&&(l=sr([l,x.pathnameBase]))}return u}function $f(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=$N(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:x},E)=>{if(v==="*"){let D=f[E]||"";u=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const N=f[E];return x&&!N?g[v]=void 0:g[v]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:t}}function $N(t,e=!1,n=!0){Ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function GN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ur(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var KN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YN=t=>KN.test(t);function QN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?ic(t):t,l;if(n)if(YN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Ri(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=Mb(n.substring(1),"/"):l=Mb(n,e)}else l=e;return{pathname:l,search:ZN(s),hash:JN(a)}}function Mb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function y0(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function W_(t){let e=XN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Z_(t,e,n,s=!1){let a;typeof t=="string"?a=ic(t):(a={...t},Et(!a.pathname||!a.pathname.includes("?"),y0("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),y0("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),y0("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let x=e.length-1;if(!s&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),x-=1;a.pathname=E.join("/")}f=x>=0?e[x]:"/"}let p=QN(a,f),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var sr=t=>t.join("/").replace(/\/\/+/g,"/"),WN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function e8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var J_=["POST","PUT","PATCH","DELETE"];new Set(J_);var t8=["GET",...J_];new Set(t8);var sc=j.createContext(null);sc.displayName="DataRouter";var km=j.createContext(null);km.displayName="DataRouterState";j.createContext(!1);var e6=j.createContext({isTransitioning:!1});e6.displayName="ViewTransition";var n8=j.createContext(new Map);n8.displayName="Fetchers";var i8=j.createContext(null);i8.displayName="Await";var Ms=j.createContext(null);Ms.displayName="Navigation";var fd=j.createContext(null);fd.displayName="Location";var vr=j.createContext({outlet:null,matches:[],isDataRoute:!1});vr.displayName="Route";var n2=j.createContext(null);n2.displayName="RouteError";function s8(t,{relative:e}={}){Et(md(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Ms),{hash:a,pathname:l,search:u}=pd(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:sr([n,l])),s.createHref({pathname:f,search:u,hash:a})}function md(){return j.useContext(fd)!=null}function xr(){return Et(md(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(fd).location}var t6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n6(t){j.useContext(Ms).static||j.useLayoutEffect(t)}function xn(){let{isDataRoute:t}=j.useContext(vr);return t?y8():r8()}function r8(){Et(md(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(sc),{basename:e,navigator:n}=j.useContext(Ms),{matches:s}=j.useContext(vr),{pathname:a}=xr(),l=JSON.stringify(W_(s)),u=j.useRef(!1);return n6(()=>{u.current=!0}),j.useCallback((p,g={})=>{if(Ri(u.current,t6),!u.current)return;if(typeof p=="number"){n.go(p);return}let v=Z_(p,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:sr([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}j.createContext(null);function pd(t,{relative:e}={}){let{matches:n}=j.useContext(vr),{pathname:s}=xr(),a=JSON.stringify(W_(n));return j.useMemo(()=>Z_(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function a8(t,e){return i6(t,e)}function i6(t,e,n,s,a){Et(md(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(Ms),{matches:u}=j.useContext(vr),f=u[u.length-1],p=f?f.params:{},g=f?f.pathname:"/",v=f?f.pathnameBase:"/",x=f&&f.route;{let k=x&&x.path||"";s6(g,!x||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let E=xr(),N;if(e){let k=typeof e=="string"?ic(e):e;Et(v==="/"||k.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${k.pathname}" was given in the \`location\` prop.`),N=k}else N=E;let D=N.pathname||"/",F=D;if(v!=="/"){let k=v.replace(/^\//,"").split("/");F="/"+D.replace(/^\//,"").split("/").slice(k.length).join("/")}let z=Y_(t,{pathname:F});Ri(x||z!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Ri(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=d8(z&&z.map(k=>Object.assign({},k,{params:Object.assign({},p,k.params),pathname:sr([v,l.encodeLocation?l.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?v:sr([v,l.encodeLocation?l.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),u,n,s,a);return e&&H?j.createElement(fd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},H):H}function o8(){let t=g8(),e=e8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:a},n):null,u)}var l8=j.createElement(o8,null),c8=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?j.createElement(vr.Provider,{value:this.props.routeContext},j.createElement(n2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function u8({routeContext:t,match:e,children:n}){let s=j.useContext(sc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(vr.Provider,{value:t},n)}function d8(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let v=l.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);Et(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,p=-1;if(n)for(let v=0;v<l.length;v++){let x=l[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=v),x.route.id){let{loaderData:E,errors:N}=n,D=x.route.loader&&!E.hasOwnProperty(x.route.id)&&(!N||N[x.route.id]===void 0);if(x.route.lazy||D){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=n&&s?(v,x)=>{s(v,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:x})}:void 0;return l.reduceRight((v,x,E)=>{let N,D=!1,F=null,z=null;n&&(N=u&&x.route.id?u[x.route.id]:void 0,F=x.route.errorElement||l8,f&&(p<0&&E===0?(s6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,z=null):p===E&&(D=!0,z=x.route.hydrateFallbackElement||null)));let H=e.concat(l.slice(0,E+1)),k=()=>{let P;return N?P=F:D?P=z:x.route.Component?P=j.createElement(x.route.Component,null):x.route.element?P=x.route.element:P=v,j.createElement(u8,{match:x,routeContext:{outlet:v,matches:H,isDataRoute:n!=null},children:P})};return n&&(x.route.ErrorBoundary||x.route.errorElement||E===0)?j.createElement(c8,{location:n.location,revalidation:n.revalidation,component:F,error:N,children:k(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:g}):k()},null)}function i2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h8(t){let e=j.useContext(sc);return Et(e,i2(t)),e}function f8(t){let e=j.useContext(km);return Et(e,i2(t)),e}function m8(t){let e=j.useContext(vr);return Et(e,i2(t)),e}function s2(t){let e=m8(t),n=e.matches[e.matches.length-1];return Et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function p8(){return s2("useRouteId")}function g8(){let t=j.useContext(n2),e=f8("useRouteError"),n=s2("useRouteError");return t!==void 0?t:e.errors?.[n]}function y8(){let{router:t}=h8("useNavigate"),e=s2("useNavigate"),n=j.useRef(!1);return n6(()=>{n.current=!0}),j.useCallback(async(a,l={})=>{Ri(n.current,t6),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Pb={};function s6(t,e,n){!e&&!Pb[t]&&(Pb[t]=!0,Ri(!1,n))}j.memo(v8);function v8({routes:t,future:e,state:n,unstable_onError:s}){return i6(t,void 0,n,s,e)}function bt(t){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x8({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){Et(!md(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=ic(n));let{pathname:p="/",search:g="",hash:v="",state:x=null,key:E="default"}=n,N=j.useMemo(()=>{let D=ur(p,u);return D==null?null:{location:{pathname:D,search:g,hash:v,state:x,key:E},navigationType:s}},[u,p,g,v,x,E,s]);return Ri(N!=null,`<Router basename="${u}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:j.createElement(Ms.Provider,{value:f},j.createElement(fd.Provider,{children:e,value:N}))}function w8({children:t,location:e}){return a8(J0(t),e)}function J0(t,e=[]){let n=[];return j.Children.forEach(t,(s,a)=>{if(!j.isValidElement(s))return;let l=[...e,a];if(s.type===j.Fragment){n.push.apply(n,J0(s.props.children,l));return}Et(s.type===bt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=J0(s.props.children,l)),n.push(u)}),n}var Nf="get",Rf="application/x-www-form-urlencoded";function Dm(t){return t!=null&&typeof t.tagName=="string"}function b8(t){return Dm(t)&&t.tagName.toLowerCase()==="button"}function _8(t){return Dm(t)&&t.tagName.toLowerCase()==="form"}function E8(t){return Dm(t)&&t.tagName.toLowerCase()==="input"}function T8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function A8(t,e){return t.button===0&&(!e||e==="_self")&&!T8(t)}function ey(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function S8(t,e){let n=ey(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var yf=null;function C8(){if(yf===null)try{new FormData(document.createElement("form"),0),yf=!1}catch{yf=!0}return yf}var N8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function v0(t){return t!=null&&!N8.has(t)?(Ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):t}function R8(t,e){let n,s,a,l,u;if(_8(t)){let f=t.getAttribute("action");s=f?ur(f,e):null,n=t.getAttribute("method")||Nf,a=v0(t.getAttribute("enctype"))||Rf,l=new FormData(t)}else if(b8(t)||E8(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(s=p?ur(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Nf,a=v0(t.getAttribute("formenctype"))||v0(f.getAttribute("enctype"))||Rf,l=new FormData(f,t),!C8()){let{name:g,type:v,value:x}=t;if(v==="image"){let E=g?`${g}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else g&&l.append(g,x)}}else{if(Dm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nf,s=null,a=Rf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function r2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function j8(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ur(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function I8(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function D8(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await I8(l,n);return u.links?u.links():[]}return[]}));return O8(s.flat(1).filter(k8).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Vb(t,e,n,s,a,l){let u=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,f=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>u(p,g)||f(p,g)):l==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function M8(t,e,{includeHydrateFallback:n}={}){return P8(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function P8(t){return[...new Set(t)]}function V8(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function O8(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(V8(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function r6(){let t=j.useContext(sc);return r2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function L8(){let t=j.useContext(km);return r2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var a2=j.createContext(void 0);a2.displayName="FrameworkContext";function a6(){let t=j.useContext(a2);return r2(t,"You must render this element inside a <HydratedRouter> element"),t}function B8(t,e){let n=j.useContext(a2),[s,a]=j.useState(!1),[l,u]=j.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:x}=e,E=j.useRef(null);j.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let F=H=>{H.forEach(k=>{u(k.isIntersecting)})},z=new IntersectionObserver(F,{threshold:.5});return E.current&&z.observe(E.current),()=>{z.disconnect()}}},[t]),j.useEffect(()=>{if(s){let F=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(F)}}},[s]);let N=()=>{a(!0)},D=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Cu(f,N),onBlur:Cu(p,D),onMouseEnter:Cu(g,N),onMouseLeave:Cu(v,D),onTouchStart:Cu(x,N)}]:[!1,E,{}]}function Cu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function z8({page:t,...e}){let{router:n}=r6(),s=j.useMemo(()=>Y_(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?j.createElement(F8,{page:t,matches:s,...e}):null}function U8(t){let{manifest:e,routeModules:n}=a6(),[s,a]=j.useState([]);return j.useEffect(()=>{let l=!1;return D8(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function F8({page:t,matches:e,...n}){let s=xr(),{manifest:a,routeModules:l}=a6(),{basename:u}=r6(),{loaderData:f,matches:p}=L8(),g=j.useMemo(()=>Vb(t,e,p,a,s,"data"),[t,e,p,a,s]),v=j.useMemo(()=>Vb(t,e,p,a,s,"assets"),[t,e,p,a,s]),x=j.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let D=new Set,F=!1;if(e.forEach(H=>{let k=a.routes[H.route.id];!k||!k.hasLoader||(!g.some(P=>P.route.id===H.route.id)&&H.route.id in f&&l[H.route.id]?.shouldRevalidate||k.hasClientLoader?F=!0:D.add(H.route.id))}),D.size===0)return[];let z=j8(t,u,"data");return F&&D.size>0&&z.searchParams.set("_routes",e.filter(H=>D.has(H.route.id)).map(H=>H.route.id).join(",")),[z.pathname+z.search]},[u,f,s,a,g,e,t,l]),E=j.useMemo(()=>M8(v,a),[v,a]),N=U8(v);return j.createElement(j.Fragment,null,x.map(D=>j.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),E.map(D=>j.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),N.map(({key:D,link:F})=>j.createElement("link",{key:D,nonce:n.nonce,...F})))}function H8(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var o6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{o6&&(window.__reactRouterVersion="7.9.6")}catch{}function q8({basename:t,children:e,window:n}){let s=j.useRef();s.current==null&&(s.current=jN({window:n,v5Compat:!0}));let a=s.current,[l,u]=j.useState({action:a.action,location:a.location}),f=j.useCallback(p=>{j.startTransition(()=>u(p))},[u]);return j.useLayoutEffect(()=>a.listen(f),[a,f]),j.createElement(x8,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var l6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rn=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:p,to:g,preventScrollReset:v,viewTransition:x,...E},N){let{basename:D}=j.useContext(Ms),F=typeof g=="string"&&l6.test(g),z,H=!1;if(typeof g=="string"&&F&&(z=g,o6))try{let R=new URL(window.location.href),V=g.startsWith("//")?new URL(R.protocol+g):new URL(g),O=ur(V.pathname,D);V.origin===R.origin&&O!=null?g=O+V.search+V.hash:H=!0}catch{Ri(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=s8(g,{relative:a}),[P,B,M]=B8(s,E),G=Y8(g,{replace:u,state:f,target:p,preventScrollReset:v,relative:a,viewTransition:x});function S(R){e&&e(R),R.defaultPrevented||G(R)}let T=j.createElement("a",{...E,...M,href:z||k,onClick:H||l?e:S,ref:H8(N,B),target:p,"data-discover":!F&&n==="render"?"true":void 0});return P&&!F?j.createElement(j.Fragment,null,T,j.createElement(z8,{page:k})):T});rn.displayName="Link";var $8=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:p,...g},v){let x=pd(u,{relative:g.relative}),E=xr(),N=j.useContext(km),{navigator:D,basename:F}=j.useContext(Ms),z=N!=null&&J8(x)&&f===!0,H=D.encodeLocation?D.encodeLocation(x).pathname:x.pathname,k=E.pathname,P=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(k=k.toLowerCase(),P=P?P.toLowerCase():null,H=H.toLowerCase()),P&&F&&(P=ur(P,F)||P);const B=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let M=k===H||!a&&k.startsWith(H)&&k.charAt(B)==="/",G=P!=null&&(P===H||!a&&P.startsWith(H)&&P.charAt(H.length)==="/"),S={isActive:M,isPending:G,isTransitioning:z},T=M?e:void 0,R;typeof s=="function"?R=s(S):R=[s,M?"active":null,G?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(S):l;return j.createElement(rn,{...g,"aria-current":T,className:R,ref:v,style:V,to:u,viewTransition:f},typeof p=="function"?p(S):p)});$8.displayName="NavLink";var G8=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=Nf,action:f,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:x,...E},N)=>{let D=W8(),F=Z8(f,{relative:g}),z=u.toLowerCase()==="get"?"get":"post",H=typeof f=="string"&&l6.test(f),k=P=>{if(p&&p(P),P.defaultPrevented)return;P.preventDefault();let B=P.nativeEvent.submitter,M=B?.getAttribute("formmethod")||u;D(B||P.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:x})};return j.createElement("form",{ref:N,method:z,action:F,onSubmit:s?p:k,...E,"data-discover":!H&&t==="render"?"true":void 0})});G8.displayName="Form";function K8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c6(t){let e=j.useContext(sc);return Et(e,K8(t)),e}function Y8(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let f=xn(),p=xr(),g=pd(t,{relative:l});return j.useCallback(v=>{if(A8(v,e)){v.preventDefault();let x=n!==void 0?n:Ku(p)===Ku(g);f(t,{replace:x,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[p,f,g,n,s,e,t,a,l,u])}function rc(t){Ri(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(ey(t)),n=j.useRef(!1),s=xr(),a=j.useMemo(()=>S8(s.search,n.current?null:e.current),[s.search]),l=xn(),u=j.useCallback((f,p)=>{const g=ey(typeof f=="function"?f(new URLSearchParams(a)):f);n.current=!0,l("?"+g,p)},[l,a]);return[a,u]}var Q8=0,X8=()=>`__${String(++Q8)}__`;function W8(){let{router:t}=c6("useSubmit"),{basename:e}=j.useContext(Ms),n=p8();return j.useCallback(async(s,a={})=>{let{action:l,method:u,encType:f,formData:p,body:g}=R8(s,e);if(a.navigate===!1){let v=a.fetcherKey||X8();await t.fetch(v,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function Z8(t,{relative:e}={}){let{basename:n}=j.useContext(Ms),s=j.useContext(vr);Et(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...pd(t||".",{relative:e})},u=xr();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(x=>x).forEach(x=>f.append("index",x));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:sr([n,l.pathname])),Ku(l)}function J8(t,{relative:e}={}){let n=j.useContext(e6);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=c6("useViewTransitionState"),a=pd(t,{relative:e});if(!n.isTransitioning)return!1;let l=ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return $f(a.pathname,u)!=null||$f(a.pathname,l)!=null}const eR=()=>{};var Ob={};const u6=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},tR=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},d6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,p=a+2<t.length,g=p?t[a+2]:0,v=l>>2,x=(l&3)<<4|f>>4;let E=(f&15)<<2|g>>6,N=g&63;p||(N=64,u||(E=64)),s.push(n[v],n[x],n[E],n[N])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(u6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const x=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||g==null||x==null)throw new nR;const E=l<<2|f>>4;if(s.push(E),g!==64){const N=f<<4&240|g>>2;if(s.push(N),x!==64){const D=g<<6&192|x;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iR=function(t){const e=u6(t);return d6.encodeByteArray(e,!0)},Gf=function(t){return iR(t).replace(/\./g,"")},h6=function(t){try{return d6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const rR=()=>sR().__FIREBASE_DEFAULTS__,aR=()=>{if(typeof process>"u"||typeof Ob>"u")return;const t=Ob.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&h6(t[1]);return e&&JSON.parse(e)},Mm=()=>{try{return eR()||rR()||aR()||oR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},f6=t=>Mm()?.emulatorHosts?.[t],lR=t=>{const e=f6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},m6=()=>Mm()?.config,p6=t=>Mm()?.[`_${t}`];class cR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ac(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function g6(t){return(await fetch(t,{credentials:"include"})).ok}function uR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gf(JSON.stringify(n)),Gf(JSON.stringify(u)),""].join(".")}const Vu={};function dR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vu))Vu[e]?t.emulator.push(e):t.prod.push(e);return t}function hR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Lb=!1;function y6(t,e){if(typeof window>"u"||typeof document>"u"||!ac(window.location.host)||Vu[t]===e||Vu[t]||Lb)return;Vu[t]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=dR().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,N){E.setAttribute("width","24"),E.setAttribute("id",N),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Lb=!0,u()},E}function v(E,N){E.setAttribute("id",N),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function x(){const E=hR(s),N=n("text"),D=document.getElementById(N)||document.createElement("span"),F=n("learnmore"),z=document.getElementById(F)||document.createElement("a"),H=n("preprendIcon"),k=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const P=E.element;f(P),v(z,F);const B=g();p(k,H),P.append(k,D,z,B),document.body.appendChild(P)}l?(D.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function mR(){const t=Mm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yR(){const t=An();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vR(){return!mR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x6(){try{return typeof indexedDB=="object"}catch{return!1}}function w6(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function xR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const wR="FirebaseError";class Wi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=wR,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,So.prototype.create)}}class So{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?bR(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Wi(a,f,s)}}function bR(t,e){return t.replace(_R,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const _R=/\{\$([^}]+)}/g;function ER(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Bb(l)&&Bb(u)){if(!dr(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Bb(t){return t!==null&&typeof t=="object"}function gd(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ru(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function ju(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function TR(t,e){const n=new AR(t,e);return n.subscribe.bind(n)}class AR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");SR(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=x0),a.error===void 0&&(a.error=x0),a.complete===void 0&&(a.complete=x0);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function x0(){}const CR=1e3,NR=2,RR=14400*1e3,jR=.5;function zb(t,e=CR,n=NR){const s=e*Math.pow(n,t),a=Math.round(jR*s*(Math.random()-.5)*2);return Math.min(RR,s+a)}function Qt(t){return t&&t._delegate?t._delegate:t}class Yi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oo="[DEFAULT]";class IR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new cR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DR(e))try{this.getOrInitializeService({instanceIdentifier:oo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oo){return this.instances.has(e)}getOptions(e=oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:kR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=oo){return this.component?this.component.multipleInstances?e:oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kR(t){return t===oo?void 0:t}function DR(t){return t.instantiationMode==="EAGER"}class MR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const PR={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},VR=He.INFO,OR={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},LR=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=OR[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pm{constructor(e){this.name=e,this._logLevel=VR,this._logHandler=LR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const BR=(t,e)=>e.some(n=>t instanceof n);let Ub,Fb;function zR(){return Ub||(Ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UR(){return Fb||(Fb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b6=new WeakMap,ty=new WeakMap,_6=new WeakMap,w0=new WeakMap,o2=new WeakMap;function FR(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(ua(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&b6.set(n,t)}).catch(()=>{}),o2.set(e,t),e}function HR(t){if(ty.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});ty.set(t,e)}let ny={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ua(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qR(t){ny=t(ny)}function $R(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(b0(this),e,...n);return _6.set(s,e.sort?e.sort():[e]),ua(s)}:UR().includes(t)?function(...e){return t.apply(b0(this),e),ua(b6.get(this))}:function(...e){return ua(t.apply(b0(this),e))}}function GR(t){return typeof t=="function"?$R(t):(t instanceof IDBTransaction&&HR(t),BR(t,zR())?new Proxy(t,ny):t)}function ua(t){if(t instanceof IDBRequest)return FR(t);if(w0.has(t))return w0.get(t);const e=GR(t);return e!==t&&(w0.set(t,e),o2.set(e,t)),e}const b0=t=>o2.get(t);function E6(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=ua(u);return s&&u.addEventListener("upgradeneeded",p=>{s(ua(u.result),p.oldVersion,p.newVersion,ua(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const KR=["get","getKey","getAll","getAllKeys","count"],YR=["put","add","delete","clear"],_0=new Map;function Hb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_0.get(e))return _0.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=YR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||KR.includes(n)))return;const l=async function(u,...f){const p=this.transaction(u,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),a&&p.done]))[0]};return _0.set(e,l),l}qR(t=>({...t,get:(e,n,s)=>Hb(e,n)||t.get(e,n,s),has:(e,n)=>!!Hb(e,n)||t.has(e,n)}));class QR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function XR(t){return t.getComponent()?.type==="VERSION"}const iy="@firebase/app",qb="0.14.6";const hr=new Pm("@firebase/app"),WR="@firebase/app-compat",ZR="@firebase/analytics-compat",JR="@firebase/analytics",ej="@firebase/app-check-compat",tj="@firebase/app-check",nj="@firebase/auth",ij="@firebase/auth-compat",sj="@firebase/database",rj="@firebase/data-connect",aj="@firebase/database-compat",oj="@firebase/functions",lj="@firebase/functions-compat",cj="@firebase/installations",uj="@firebase/installations-compat",dj="@firebase/messaging",hj="@firebase/messaging-compat",fj="@firebase/performance",mj="@firebase/performance-compat",pj="@firebase/remote-config",gj="@firebase/remote-config-compat",yj="@firebase/storage",vj="@firebase/storage-compat",xj="@firebase/firestore",wj="@firebase/ai",bj="@firebase/firestore-compat",_j="firebase",Ej="12.6.0";const sy="[DEFAULT]",Tj={[iy]:"fire-core",[WR]:"fire-core-compat",[JR]:"fire-analytics",[ZR]:"fire-analytics-compat",[tj]:"fire-app-check",[ej]:"fire-app-check-compat",[nj]:"fire-auth",[ij]:"fire-auth-compat",[sj]:"fire-rtdb",[rj]:"fire-data-connect",[aj]:"fire-rtdb-compat",[oj]:"fire-fn",[lj]:"fire-fn-compat",[cj]:"fire-iid",[uj]:"fire-iid-compat",[dj]:"fire-fcm",[hj]:"fire-fcm-compat",[fj]:"fire-perf",[mj]:"fire-perf-compat",[pj]:"fire-rc",[gj]:"fire-rc-compat",[yj]:"fire-gcs",[vj]:"fire-gcs-compat",[xj]:"fire-fst",[bj]:"fire-fst-compat",[wj]:"fire-vertex","fire-js":"fire-js",[_j]:"fire-js-all"};const Kf=new Map,Aj=new Map,ry=new Map;function $b(t,e){try{t.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function js(t){const e=t.name;if(ry.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;ry.set(e,t);for(const n of Kf.values())$b(n,t);for(const n of Aj.values())$b(n,t);return!0}function Co(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ei(t){return t==null?!1:t.settings!==void 0}const Sj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},da=new So("app","Firebase",Sj);class Cj{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw da.create("app-deleted",{appName:this._name})}}const oc=Ej;function T6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:sy,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw da.create("bad-app-name",{appName:String(a)});if(n||(n=m6()),!n)throw da.create("no-options");const l=Kf.get(a);if(l){if(dr(n,l.options)&&dr(s,l.config))return l;throw da.create("duplicate-app",{appName:a})}const u=new MR(a);for(const p of ry.values())u.addComponent(p);const f=new Cj(n,s,u);return Kf.set(a,f),f}function l2(t=sy){const e=Kf.get(t);if(!e&&t===sy&&m6())return T6();if(!e)throw da.create("no-app",{appName:t});return e}function Si(t,e,n){let s=Tj[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(u.join(" "));return}js(new Yi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const Nj="firebase-heartbeat-database",Rj=1,Yu="firebase-heartbeat-store";let E0=null;function A6(){return E0||(E0=E6(Nj,Rj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw da.create("idb-open",{originalErrorMessage:t.message})})),E0}async function jj(t){try{const n=(await A6()).transaction(Yu),s=await n.objectStore(Yu).get(S6(t));return await n.done,s}catch(e){if(e instanceof Wi)hr.warn(e.message);else{const n=da.create("idb-get",{originalErrorMessage:e?.message});hr.warn(n.message)}}}async function Gb(t,e){try{const s=(await A6()).transaction(Yu,"readwrite");await s.objectStore(Yu).put(e,S6(t)),await s.done}catch(n){if(n instanceof Wi)hr.warn(n.message);else{const s=da.create("idb-set",{originalErrorMessage:n?.message});hr.warn(s.message)}}}function S6(t){return`${t.name}!${t.options.appId}`}const Ij=1024,kj=30;class Dj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Pj(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Kb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>kj){const a=Vj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Kb(),{heartbeatsToSend:n,unsentEntries:s}=Mj(this._heartbeatsCache.heartbeats),a=Gf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return hr.warn(e),""}}}function Kb(){return new Date().toISOString().substring(0,10)}function Mj(t,e=Ij){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Yb(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Yb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Pj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x6()?w6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Yb(t){return Gf(JSON.stringify({version:2,heartbeats:t})).length}function Vj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function Oj(t){js(new Yi("platform-logger",e=>new QR(e),"PRIVATE")),js(new Yi("heartbeat",e=>new Dj(e),"PRIVATE")),Si(iy,qb,t),Si(iy,qb,"esm2020"),Si("fire-js","")}Oj("");function C6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lj=C6,N6=new So("auth","Firebase",C6());const Yf=new Pm("@firebase/auth");function Bj(t,...e){Yf.logLevel<=He.WARN&&Yf.warn(`Auth (${oc}): ${t}`,...e)}function jf(t,...e){Yf.logLevel<=He.ERROR&&Yf.error(`Auth (${oc}): ${t}`,...e)}function Qi(t,...e){throw c2(t,...e)}function _s(t,...e){return c2(t,...e)}function R6(t,e,n){const s={...Lj(),[e]:n};return new So("auth","Firebase",s).create(e,{appName:t.name})}function rr(t){return R6(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c2(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return N6.create(t,...e)}function Ee(t,e,...n){if(!t)throw c2(e,...n)}function nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jf(e),new Error(e)}function fr(t,e){t||nr(e)}function ay(){return typeof self<"u"&&self.location?.href||""}function zj(){return Qb()==="http:"||Qb()==="https:"}function Qb(){return typeof self<"u"&&self.location?.protocol||null}function Uj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zj()||v6()||"connection"in navigator)?navigator.onLine:!0}function Fj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class yd{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=fR()||gR()}get(){return Uj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function u2(t,e){fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class j6{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Hj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$j=new yd(3e4,6e4);function _a(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ea(t,e,n,s,a={}){return I6(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=gd({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:p,...l};return pR()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&ac(t.emulatorConfig.host)&&(g.credentials="include"),j6.fetch()(await k6(t,t.config.apiHost,n,f),g)})}async function I6(t,e,n){t._canInitEmulator=!1;const s={...Hj,...e};try{const a=new Kj(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw vf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw vf(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw vf(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw vf(t,"user-disabled",u);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw R6(t,v,g);Qi(t,v)}}catch(a){if(a instanceof Wi)throw a;Qi(t,"network-request-failed",{message:String(a)})}}async function vd(t,e,n,s,a={}){const l=await Ea(t,e,n,s,a);return"mfaPendingCredential"in l&&Qi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function k6(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?u2(t.config,a):`${t.config.apiScheme}://${a}`;return qj.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function Gj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(_s(this.auth,"network-request-failed")),$j.get())})}}function vf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=_s(t,e,s);return a.customData._tokenResponse=n,a}function Xb(t){return t!==void 0&&t.enterprise!==void 0}class Yj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Gj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Qj(t,e){return Ea(t,"GET","/v2/recaptchaConfig",_a(t,e))}async function Xj(t,e){return Ea(t,"POST","/v1/accounts:delete",e)}async function Qf(t,e){return Ea(t,"POST","/v1/accounts:lookup",e)}function Ou(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Wj(t,e=!1){const n=Qt(t),s=await n.getIdToken(e),a=d2(s);Ee(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:Ou(T0(a.auth_time)),issuedAtTime:Ou(T0(a.iat)),expirationTime:Ou(T0(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function T0(t){return Number(t)*1e3}function d2(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const a=h6(n);return a?JSON.parse(a):(jf("Failed to decode base64 JWT payload"),null)}catch(a){return jf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Wb(t){const e=d2(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Qu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Wi&&Zj(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Zj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Jj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class oy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ou(this.lastLoginAt),this.creationTime=Ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xf(t){const e=t.auth,n=await t.getIdToken(),s=await Qu(t,Qf(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?D6(a.providerUserInfo):[],u=tI(t.providerData,l),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!u?.length,g=f?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new oy(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function eI(t){const e=Qt(t);await Xf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tI(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function D6(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function nI(t,e){const n=await I6(t,{},async()=>{const s=gd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await k6(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:s};return t.emulatorConfig&&ac(t.emulatorConfig.host)&&(p.credentials="include"),j6.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iI(t,e){return Ea(t,"POST","/v2/accounts:revokeToken",_a(t,e))}class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Wb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await nI(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Vl;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Ee(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return nr("not implemented")}}function Jr(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new Jj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new oy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Qu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Wj(this,e)}reload(){return eI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Xf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(rr(this.auth));const e=await this.getIdToken();return await Qu(this,Xj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:x,emailVerified:E,isAnonymous:N,providerData:D,stsTokenManager:F}=n;Ee(x&&F,e,"internal-error");const z=Vl.fromJSON(this.name,F);Ee(typeof x=="string",e,"internal-error"),Jr(s,e.name),Jr(a,e.name),Ee(typeof E=="boolean",e,"internal-error"),Ee(typeof N=="boolean",e,"internal-error"),Jr(l,e.name),Jr(u,e.name),Jr(f,e.name),Jr(p,e.name),Jr(g,e.name),Jr(v,e.name);const H=new Gi({uid:x,auth:e,email:a,emailVerified:E,displayName:s,isAnonymous:N,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:z,createdAt:g,lastLoginAt:v});return D&&Array.isArray(D)&&(H.providerData=D.map(k=>({...k}))),p&&(H._redirectEventId=p),H}static async _fromIdTokenResponse(e,n,s=!1){const a=new Vl;a.updateFromServerResponse(n);const l=new Gi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Xf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?D6(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new Vl;f.updateFromIdToken(s);const p=new Gi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new oy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const Zb=new Map;function ir(t){fr(t instanceof Function,"Expected a class definition");let e=Zb.get(t);return e?(fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Zb.set(t,e),e)}class M6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}M6.type="NONE";const Jb=M6;function If(t,e,n){return`firebase:${t}:${e}:${n}`}class Ol{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=If(this.userKey,a.apiKey,l),this.fullPersistenceKey=If("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qf(this.auth,{idToken:e}).catch(()=>{});return n?Gi._fromGetAccountInfoResponse(this.auth,n,e):null}return Gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ol(ir(Jb),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||ir(Jb);const u=If(s,e.config.apiKey,e.name);let f=null;for(const g of n)try{const v=await g._get(u);if(v){let x;if(typeof v=="string"){const E=await Qf(e,{idToken:v}).catch(()=>{});if(!E)break;x=await Gi._fromGetAccountInfoResponse(e,E,v)}else x=Gi._fromJSON(e,v);g!==l&&(f=x),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Ol(l,e,s):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Ol(l,e,s))}}function e4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z6(e))return"Blackberry";if(U6(e))return"Webos";if(V6(e))return"Safari";if((e.includes("chrome/")||O6(e))&&!e.includes("edge/"))return"Chrome";if(B6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function P6(t=An()){return/firefox\//i.test(t)}function V6(t=An()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O6(t=An()){return/crios\//i.test(t)}function L6(t=An()){return/iemobile/i.test(t)}function B6(t=An()){return/android/i.test(t)}function z6(t=An()){return/blackberry/i.test(t)}function U6(t=An()){return/webos/i.test(t)}function h2(t=An()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sI(t=An()){return h2(t)&&!!window.navigator?.standalone}function rI(){return yR()&&document.documentMode===10}function F6(t=An()){return h2(t)||B6(t)||U6(t)||z6(t)||/windows phone/i.test(t)||L6(t)}function H6(t,e=[]){let n;switch(t){case"Browser":n=e4(An());break;case"Worker":n=`${e4(An())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oc}/${s}`}class aI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function oI(t,e={}){return Ea(t,"GET","/v2/passwordPolicy",_a(t,e))}const lI=6;class cI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class uI{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t4(this),this.idTokenSubscription=new t4(this),this.beforeStateQueue=new aI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ol.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qf(this,{idToken:e}),s=await Gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ei(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Fj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ei(this.app))return Promise.reject(rr(this));const n=e?Qt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ei(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oI(this),n=new cI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new So("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await iI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Ol.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,a);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Bj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function No(t){return Qt(t)}class t4{constructor(e){this.auth=e,this.observer=null,this.addObserver=TR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dI(t){Vm=t}function q6(t){return Vm.loadJS(t)}function hI(){return Vm.recaptchaEnterpriseScript}function fI(){return Vm.gapiScript}function mI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class pI{constructor(){this.enterprise=new gI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yI="recaptcha-enterprise",$6="NO_RECAPTCHA";class vI{constructor(e){this.type=yI,this.auth=No(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{Qj(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new Yj(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(p=>{f(p)})})}function a(l,u,f){const p=window.grecaptcha;Xb(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u($6)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pI().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(f=>{if(!n&&Xb(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=hI();p.length!==0&&(p+=f),q6(p).then(()=>{a(f,l,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function n4(t,e,n,s=!1,a=!1){const l=new vI(t);let u;if(a)u=$6;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function ly(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await n4(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await n4(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function xI(t,e){const n=Co(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(dr(l,e??{}))return a;Qi(a,"already-initialized")}return n.initialize({options:e})}function wI(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ir);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function bI(t,e,n){const s=No(t);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=G6(e),{host:u,port:f}=_I(e),p=f===null?"":`:${f}`,g={url:`${l}//${u}${p}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(dr(g,s.config.emulator)&&dr(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ac(u)?(g6(`${l}//${u}${p}`),y6("Auth",!0)):EI()}function G6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _I(t){const e=G6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:i4(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:i4(u)}}}function i4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EI(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class f2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function TI(t,e){return Ea(t,"POST","/v1/accounts:signUp",e)}async function AI(t,e){return vd(t,"POST","/v1/accounts:signInWithPassword",_a(t,e))}async function SI(t,e){return vd(t,"POST","/v1/accounts:signInWithEmailLink",_a(t,e))}async function CI(t,e){return vd(t,"POST","/v1/accounts:signInWithEmailLink",_a(t,e))}class Xu extends f2{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Xu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Xu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ly(e,n,"signInWithPassword",AI);case"emailLink":return SI(e,{email:this._email,oobCode:this._password});default:Qi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ly(e,s,"signUpPassword",TI);case"emailLink":return CI(e,{idToken:n,email:this._email,oobCode:this._password});default:Qi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ll(t,e){return vd(t,"POST","/v1/accounts:signInWithIdp",_a(t,e))}const NI="http://localhost";class xo extends f2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new xo(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ll(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ll(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ll(e,n)}buildRequest(){const e={requestUri:NI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gd(n)}return e}}function RI(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jI(t){const e=Ru(ju(t)).link,n=e?Ru(ju(e)).deep_link_id:null,s=Ru(ju(t)).deep_link_id;return(s?Ru(ju(s)).link:null)||s||n||e||t}class m2{constructor(e){const n=Ru(ju(e)),s=n.apiKey??null,a=n.oobCode??null,l=RI(n.mode??null);Ee(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=jI(e);try{return new m2(n)}catch{return null}}}class lc{constructor(){this.providerId=lc.PROVIDER_ID}static credential(e,n){return Xu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=m2.parseLink(n);return Ee(s,"argument-error"),Xu._fromEmailAndCode(e,s.code,s.tenantId)}}lc.PROVIDER_ID="password";lc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class K6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class xd extends K6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class na extends xd{constructor(){super("facebook.com")}static credential(e){return xo._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return na.credential(e.oauthAccessToken)}catch{return null}}}na.FACEBOOK_SIGN_IN_METHOD="facebook.com";na.PROVIDER_ID="facebook.com";class ia extends xd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xo._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ia.credential(n,s)}catch{return null}}}ia.GOOGLE_SIGN_IN_METHOD="google.com";ia.PROVIDER_ID="google.com";class sa extends xd{constructor(){super("github.com")}static credential(e){return xo._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.GITHUB_SIGN_IN_METHOD="github.com";sa.PROVIDER_ID="github.com";class ra extends xd{constructor(){super("twitter.com")}static credential(e,n){return xo._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ra.credential(n,s)}catch{return null}}}ra.TWITTER_SIGN_IN_METHOD="twitter.com";ra.PROVIDER_ID="twitter.com";async function II(t,e){return vd(t,"POST","/v1/accounts:signUp",_a(t,e))}class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Gi._fromIdTokenResponse(e,s,a),u=s4(s);return new wo({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=s4(s);return new wo({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function s4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Wf extends Wi{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Wf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Wf(e,n,s,a)}}function Y6(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wf._fromErrorAndOperation(t,l,e,s):l})}async function kI(t,e,n=!1){const s=await Qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wo._forOperation(t,"link",s)}async function DI(t,e,n=!1){const{auth:s}=t;if(Ei(s.app))return Promise.reject(rr(s));const a="reauthenticate";try{const l=await Qu(t,Y6(s,a,e,t),n);Ee(l.idToken,s,"internal-error");const u=d2(l.idToken);Ee(u,s,"internal-error");const{sub:f}=u;return Ee(t.uid===f,s,"user-mismatch"),wo._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Qi(s,"user-mismatch"),l}}async function Q6(t,e,n=!1){if(Ei(t.app))return Promise.reject(rr(t));const s="signIn",a=await Y6(t,s,e),l=await wo._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function MI(t,e){return Q6(No(t),e)}async function X6(t){const e=No(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PI(t,e,n){if(Ei(t.app))return Promise.reject(rr(t));const s=No(t),u=await ly(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",II).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&X6(t),p}),f=await wo._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(f.user),f}function VI(t,e,n){return Ei(t.app)?Promise.reject(rr(t)):MI(Qt(t),lc.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&X6(t),s})}function OI(t,e,n,s){return Qt(t).onIdTokenChanged(e,n,s)}function LI(t,e,n){return Qt(t).beforeAuthStateChanged(e,n)}function BI(t,e,n,s){return Qt(t).onAuthStateChanged(e,n,s)}function W6(t){return Qt(t).signOut()}const Zf="__sak";class Z6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zf,"1"),this.storage.removeItem(Zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const zI=1e3,UI=10;class J6 extends Z6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);rI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,UI):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},zI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}J6.type="LOCAL";const FI=J6;class eE extends Z6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eE.type="SESSION";const tE=eE;function HI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Om{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Om(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async g=>g(n.origin,l)),p=await HI(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Om.receivers=[];function p2(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class qI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const g=p2("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(x){const E=x;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Es(){return window}function $I(t){Es().location.href=t}function nE(){return typeof Es().WorkerGlobalScope<"u"&&typeof Es().importScripts=="function"}async function GI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KI(){return navigator?.serviceWorker?.controller||null}function YI(){return nE()?self:null}const iE="firebaseLocalStorageDb",QI=1,Jf="firebaseLocalStorage",sE="fbase_key";class wd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lm(t,e){return t.transaction([Jf],e?"readwrite":"readonly").objectStore(Jf)}function XI(){const t=indexedDB.deleteDatabase(iE);return new wd(t).toPromise()}function cy(){const t=indexedDB.open(iE,QI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Jf,{keyPath:sE})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Jf)?e(s):(s.close(),await XI(),e(await cy()))})})}async function r4(t,e,n){const s=Lm(t,!0).put({[sE]:e,value:n});return new wd(s).toPromise()}async function WI(t,e){const n=Lm(t,!1).get(e),s=await new wd(n).toPromise();return s===void 0?null:s.value}function a4(t,e){const n=Lm(t,!0).delete(e);return new wd(n).toPromise()}const ZI=800,JI=3;class rE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>JI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Om._getInstance(YI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GI(),!this.activeServiceWorker)return;this.sender=new qI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cy();return await r4(e,Zf,"1"),await a4(e,Zf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>r4(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>WI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>a4(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Lm(a,!1).getAll();return new wd(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rE.type="LOCAL";const e9=rE;new yd(3e4,6e4);function t9(t,e){return e?ir(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class g2 extends f2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ll(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ll(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function n9(t){return Q6(t.auth,new g2(t),t.bypassAuthState)}function i9(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),DI(n,new g2(t),t.bypassAuthState)}async function s9(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),kI(n,new g2(t),t.bypassAuthState)}class aE{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n9;case"linkViaPopup":case"linkViaRedirect":return s9;case"reauthViaPopup":case"reauthViaRedirect":return i9;default:Qi(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const r9=new yd(2e3,1e4);class Rl extends aE{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Rl.currentPopupAction&&Rl.currentPopupAction.cancel(),Rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=p2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r9.get())};e()}}Rl.currentPopupAction=null;const a9="pendingRedirect",kf=new Map;class o9 extends aE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=kf.get(this.auth._key());if(!e){try{const s=await l9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}kf.set(this.auth._key(),e)}return this.bypassAuthState||kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l9(t,e){const n=d9(e),s=u9(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function c9(t,e){kf.set(t._key(),e)}function u9(t){return ir(t._redirectPersistence)}function d9(t){return If(a9,t.config.apiKey,t.name)}async function h9(t,e,n=!1){if(Ei(t.app))return Promise.reject(rr(t));const s=No(t),a=t9(s,e),u=await new o9(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const f9=600*1e3;class m9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!oE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(_s(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f9&&this.cachedEventUids.clear(),this.cachedEventUids.has(o4(e))}saveEventToCache(e){this.cachedEventUids.add(o4(e)),this.lastProcessedEventTime=Date.now()}}function o4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oE({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function p9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oE(t);default:return!1}}async function g9(t,e={}){return Ea(t,"GET","/v1/projects",e)}const y9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v9=/^https?/;async function x9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await g9(t);for(const n of e)try{if(w9(n))return}catch{}Qi(t,"unauthorized-domain")}function w9(t){const e=ay(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!v9.test(n))return!1;if(y9.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const b9=new yd(3e4,6e4);function l4(){const t=Es().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _9(t){return new Promise((e,n)=>{function s(){l4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{l4(),n(_s(t,"network-request-failed"))},timeout:b9.get()})}if(Es().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Es().gapi?.load)s();else{const a=mI("iframefcb");return Es()[a]=()=>{gapi.load?s():n(_s(t,"network-request-failed"))},q6(`${fI()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Df=null,e})}let Df=null;function E9(t){return Df=Df||_9(t),Df}const T9=new yd(5e3,15e3),A9="__/auth/iframe",S9="emulator/auth/iframe",C9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R9(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?u2(e,S9):`https://${t.config.authDomain}/${A9}`,s={apiKey:e.apiKey,appName:t.name,v:oc},a=N9.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${gd(s).slice(1)}`}async function j9(t){const e=await E9(t),n=Es().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:R9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C9,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=_s(t,"network-request-failed"),f=Es().setTimeout(()=>{l(u)},T9.get());function p(){Es().clearTimeout(f),a(s)}s.ping(p).then(p,()=>{l(u)})}))}const I9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k9=500,D9=600,M9="_blank",P9="http://localhost";class c4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V9(t,e,n,s=k9,a=D9){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p={...I9,width:s.toString(),height:a.toString(),top:l,left:u},g=An().toLowerCase();n&&(f=O6(g)?M9:n),P6(g)&&(e=e||P9,p.scrollbars="yes");const v=Object.entries(p).reduce((E,[N,D])=>`${E}${N}=${D},`,"");if(sI(g)&&f!=="_self")return O9(e||"",f),new c4(null);const x=window.open(e||"",f,v);Ee(x,t,"popup-blocked");try{x.focus()}catch{}return new c4(x)}function O9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const L9="__/auth/handler",B9="emulator/auth/handler",z9=encodeURIComponent("fac");async function u4(t,e,n,s,a,l){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:oc,eventId:a};if(e instanceof K6){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",ER(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))u[v]=x}if(e instanceof xd){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await t._getAppCheckToken(),g=p?`#${z9}=${encodeURIComponent(p)}`:"";return`${U9(t)}?${gd(f).slice(1)}${g}`}function U9({config:t}){return t.emulator?u2(t,B9):`https://${t.authDomain}/${L9}`}const A0="webStorageSupport";class F9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tE,this._completeRedirectFn=h9,this._overrideRedirectResult=c9}async _openPopup(e,n,s,a){fr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await u4(e,n,s,ay(),a);return V9(e,l,p2())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await u4(e,n,s,ay(),a);return $I(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(fr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await j9(e),s=new m9(e);return n.register("authEvent",a=>(Ee(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(A0,{type:A0},a=>{const l=a?.[0]?.[A0];l!==void 0&&n(!!l),Qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return F6()||V6()||h2()}}const H9=F9;var d4="@firebase/auth",h4="1.11.1";class q9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G9(t){js(new Yi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H6(t)},g=new uI(s,a,l,p);return wI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),js(new Yi("auth-internal",e=>{const n=No(e.getProvider("auth").getImmediate());return(s=>new q9(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(d4,h4,$9(t)),Si(d4,h4,"esm2020")}const K9=300,Y9=p6("authIdTokenMaxAge")||K9;let f4=null;const Q9=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Y9)return;const a=n?.token;f4!==a&&(f4=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function X9(t=l2()){const e=Co(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xI(t,{popupRedirectResolver:H9,persistence:[e9,FI,tE]}),s=p6("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=Q9(l.toString());LI(n,u,()=>u(n.currentUser)),OI(n,f=>u(f))}}const a=f6("auth");return a&&bI(n,`http://${a}`),n}function W9(){return document.getElementsByTagName("head")?.[0]??document}dI({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=_s("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",W9().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G9("Browser");function Z9(t,e,n,s){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{g(s.next(v))}catch(x){u(x)}}function p(v){try{g(s.throw(v))}catch(x){u(x)}}function g(v){v.done?l(v.value):a(v.value).then(f,p)}g((s=s.apply(t,[])).next())})}function J9(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,a,l,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(g){return function(v){return p([g,v])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(v){g=[6,v],a=0}finally{s=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var jl=function(){return jl=Object.assign||function(e){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},jl.apply(this,arguments)},lE=function(t){return{loading:t==null,value:t}},e7=function(){return function(t,e){switch(e.type){case"error":return jl(jl({},t),{error:e.error,loading:!1,value:void 0});case"reset":return lE(e.defaultValue);case"value":return jl(jl({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},t7=(function(t){var e=t?t():void 0,n=j.useReducer(e7(),lE(e)),s=n[0],a=n[1],l=j.useCallback(function(){var p=t?t():void 0;a({type:"reset",defaultValue:p})},[t]),u=j.useCallback(function(p){a({type:"error",error:p})},[]),f=j.useCallback(function(p){a({type:"value",value:p})},[]);return j.useMemo(function(){return{error:s.error,loading:s.loading,reset:l,setError:u,setValue:f,value:s.value}},[s.error,s.loading,l,u,f,s.value])}),Ps=(function(t,e){var n=t7(function(){return t.currentUser}),s=n.error,a=n.loading,l=n.setError,u=n.setValue,f=n.value;return j.useEffect(function(){var p=BI(t,function(g){return Z9(void 0,void 0,void 0,function(){var v;return J9(this,function(x){switch(x.label){case 0:return[3,4];case 1:return x.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return x.sent(),[3,4];case 3:return v=x.sent(),l(v),[3,4];case 4:return u(g),[2]}})})},l);return function(){p()}},[t]),[f,a,s]}),n7="firebase",i7="12.6.0";Si(n7,i7,"app");const cE="@firebase/installations",y2="0.6.19";const uE=1e4,dE=`w:${y2}`,hE="FIS_v2",s7="https://firebaseinstallations.googleapis.com/v1",r7=3600*1e3,a7="installations",o7="Installations";const l7={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bo=new So(a7,o7,l7);function fE(t){return t instanceof Wi&&t.code.includes("request-failed")}function mE({projectId:t}){return`${s7}/projects/${t}/installations`}function pE(t){return{token:t.token,requestStatus:2,expiresIn:u7(t.expiresIn),creationTime:Date.now()}}async function gE(t,e){const s=(await e.json()).error;return bo.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function yE({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function c7(t,{refreshToken:e}){const n=yE(t);return n.append("Authorization",d7(e)),n}async function vE(t){const e=await t();return e.status>=500&&e.status<600?t():e}function u7(t){return Number(t.replace("s","000"))}function d7(t){return`${hE} ${t}`}async function h7({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=mE(t),a=yE(t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const u={fid:n,authVersion:hE,appId:t.appId,sdkVersion:dE},f={method:"POST",headers:a,body:JSON.stringify(u)},p=await vE(()=>fetch(s,f));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:pE(g.authToken)}}else throw await gE("Create Installation",p)}function xE(t){return new Promise(e=>{setTimeout(e,t)})}function f7(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const m7=/^[cdef][\w-]{21}$/,uy="";function p7(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=g7(t);return m7.test(n)?n:uy}catch{return uy}}function g7(t){return f7(t).substr(0,22)}function Bm(t){return`${t.appName}!${t.appId}`}const wE=new Map;function bE(t,e){const n=Bm(t);_E(n,e),y7(n,e)}function _E(t,e){const n=wE.get(t);if(n)for(const s of n)s(e)}function y7(t,e){const n=v7();n&&n.postMessage({key:t,fid:e}),x7()}let co=null;function v7(){return!co&&"BroadcastChannel"in self&&(co=new BroadcastChannel("[Firebase] FID Change"),co.onmessage=t=>{_E(t.data.key,t.data.fid)}),co}function x7(){wE.size===0&&co&&(co.close(),co=null)}const w7="firebase-installations-database",b7=1,_o="firebase-installations-store";let S0=null;function v2(){return S0||(S0=E6(w7,b7,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_o)}}})),S0}async function em(t,e){const n=Bm(t),a=(await v2()).transaction(_o,"readwrite"),l=a.objectStore(_o),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&bE(t,e.fid),e}async function EE(t){const e=Bm(t),s=(await v2()).transaction(_o,"readwrite");await s.objectStore(_o).delete(e),await s.done}async function zm(t,e){const n=Bm(t),a=(await v2()).transaction(_o,"readwrite"),l=a.objectStore(_o),u=await l.get(n),f=e(u);return f===void 0?await l.delete(n):await l.put(f,n),await a.done,f&&(!u||u.fid!==f.fid)&&bE(t,f.fid),f}async function x2(t){let e;const n=await zm(t.appConfig,s=>{const a=_7(s),l=E7(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===uy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function _7(t){const e=t||{fid:p7(),registrationStatus:0};return TE(e)}function E7(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(bo.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=T7(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:A7(t)}:{installationEntry:e}}async function T7(t,e){try{const n=await h7(t,e);return em(t.appConfig,n)}catch(n){throw fE(n)&&n.customData.serverCode===409?await EE(t.appConfig):await em(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function A7(t){let e=await m4(t.appConfig);for(;e.registrationStatus===1;)await xE(100),e=await m4(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await x2(t);return s||n}return e}function m4(t){return zm(t,e=>{if(!e)throw bo.create("installation-not-found");return TE(e)})}function TE(t){return S7(t)?{fid:t.fid,registrationStatus:0}:t}function S7(t){return t.registrationStatus===1&&t.registrationTime+uE<Date.now()}async function C7({appConfig:t,heartbeatServiceProvider:e},n){const s=N7(t,n),a=c7(t,n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const u={installation:{sdkVersion:dE,appId:t.appId}},f={method:"POST",headers:a,body:JSON.stringify(u)},p=await vE(()=>fetch(s,f));if(p.ok){const g=await p.json();return pE(g)}else throw await gE("Generate Auth Token",p)}function N7(t,{fid:e}){return`${mE(t)}/${e}/authTokens:generate`}async function w2(t,e=!1){let n;const s=await zm(t.appConfig,l=>{if(!AE(l))throw bo.create("not-registered");const u=l.authToken;if(!e&&I7(u))return l;if(u.requestStatus===1)return n=R7(t,e),l;{if(!navigator.onLine)throw bo.create("app-offline");const f=D7(l);return n=j7(t,f),f}});return n?await n:s.authToken}async function R7(t,e){let n=await p4(t.appConfig);for(;n.authToken.requestStatus===1;)await xE(100),n=await p4(t.appConfig);const s=n.authToken;return s.requestStatus===0?w2(t,e):s}function p4(t){return zm(t,e=>{if(!AE(e))throw bo.create("not-registered");const n=e.authToken;return M7(n)?{...e,authToken:{requestStatus:0}}:e})}async function j7(t,e){try{const n=await C7(t,e),s={...e,authToken:n};return await em(t.appConfig,s),n}catch(n){if(fE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await EE(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await em(t.appConfig,s)}throw n}}function AE(t){return t!==void 0&&t.registrationStatus===2}function I7(t){return t.requestStatus===2&&!k7(t)}function k7(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+r7}function D7(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function M7(t){return t.requestStatus===1&&t.requestTime+uE<Date.now()}async function P7(t){const e=t,{installationEntry:n,registrationPromise:s}=await x2(e);return s?s.catch(console.error):w2(e).catch(console.error),n.fid}async function V7(t,e=!1){const n=t;return await O7(n),(await w2(n,e)).token}async function O7(t){const{registrationPromise:e}=await x2(t);e&&await e}function L7(t){if(!t||!t.options)throw C0("App Configuration");if(!t.name)throw C0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw C0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function C0(t){return bo.create("missing-app-config-values",{valueName:t})}const SE="installations",B7="installations-internal",z7=t=>{const e=t.getProvider("app").getImmediate(),n=L7(e),s=Co(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},U7=t=>{const e=t.getProvider("app").getImmediate(),n=Co(e,SE).getImmediate();return{getId:()=>P7(n),getToken:a=>V7(n,a)}};function F7(){js(new Yi(SE,z7,"PUBLIC")),js(new Yi(B7,U7,"PRIVATE"))}F7();Si(cE,y2);Si(cE,y2,"esm2020");const tm="analytics",H7="firebase_id",q7="origin",$7=60*1e3,G7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",b2="https://www.googletagmanager.com/gtag/js";const Dn=new Pm("@firebase/analytics");const K7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ii=new So("analytics","Analytics",K7);function Y7(t){if(!t.startsWith(b2)){const e=ii.create("invalid-gtag-resource",{gtagURL:t});return Dn.warn(e.message),""}return t}function CE(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Q7(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function X7(t,e){const n=Q7("firebase-js-sdk-policy",{createScriptURL:Y7}),s=document.createElement("script"),a=`${b2}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function W7(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Z7(t,e,n,s,a,l){const u=s[a];try{if(u)await e[u];else{const p=(await CE(n)).find(g=>g.measurementId===a);p&&await e[p.appId]}}catch(f){Dn.error(f)}t("config",a,l)}async function J7(t,e,n,s,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const f=await CE(n);for(const p of u){const g=f.find(x=>x.measurementId===p),v=g&&e[g.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,a||{})}catch(l){Dn.error(l)}}function ek(t,e,n,s){async function a(l,...u){try{if(l==="event"){const[f,p]=u;await J7(t,e,n,f,p)}else if(l==="config"){const[f,p]=u;await Z7(t,e,n,s,f,p)}else if(l==="consent"){const[f,p]=u;t("consent",f,p)}else if(l==="get"){const[f,p,g]=u;t("get",f,p,g)}else if(l==="set"){const[f]=u;t("set",f)}else t(l,...u)}catch(f){Dn.error(f)}}return a}function tk(t,e,n,s,a){let l=function(...u){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=ek(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function nk(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(b2)&&n.src.includes(t))return n;return null}const ik=30,sk=1e3;class rk{constructor(e={},n=sk){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const NE=new rk;function ak(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function ok(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:ak(n)},a=G7.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let u="";try{const f=await l.json();f.error?.message&&(u=f.error.message)}catch{}throw ii.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function lk(t,e=NE,n){const{appId:s,apiKey:a,measurementId:l}=t.options;if(!s)throw ii.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw ii.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new dk;return setTimeout(async()=>{f.abort()},$7),RE({appId:s,apiKey:a,measurementId:l},u,f,e)}async function RE(t,{throttleEndTimeMillis:e,backoffCount:n},s,a=NE){const{appId:l,measurementId:u}=t;try{await ck(s,e)}catch(f){if(u)return Dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:u};throw f}try{const f=await ok(t);return a.deleteThrottleMetadata(l),f}catch(f){const p=f;if(!uk(p)){if(a.deleteThrottleMetadata(l),u)return Dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:u};throw f}const g=Number(p?.customData?.httpStatus)===503?zb(n,a.intervalMillis,ik):zb(n,a.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return a.setThrottleMetadata(l,v),Dn.debug(`Calling attemptFetch again in ${g} millis`),RE(t,v,s,a)}}function ck(t,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),s(ii.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function uk(t){if(!(t instanceof Wi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class dk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function hk(t,e,n,s,a){if(a&&a.global){t("event",n,s);return}else{const l=await e,u={...s,send_to:l};t("event",n,u)}}async function fk(t,e,n,s){if(s&&s.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function mk(){if(x6())try{await w6()}catch(t){return Dn.warn(ii.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Dn.warn(ii.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pk(t,e,n,s,a,l,u){const f=lk(t);f.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&Dn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>Dn.error(E)),e.push(f);const p=mk().then(E=>{if(E)return s.getId()}),[g,v]=await Promise.all([f,p]);nk(l)||X7(l,g.measurementId),a("js",new Date);const x=u?.config??{};return x[q7]="firebase",x.update=!0,v!=null&&(x[H7]=v),a("config",g.measurementId,x),g.measurementId}class gk{constructor(e){this.app=e}_delete(){return delete Bl[this.app.options.appId],Promise.resolve()}}let Bl={},g4=[];const y4={};let N0="dataLayer",yk="gtag",v4,_2,x4=!1;function vk(){const t=[];if(v6()&&t.push("This is a browser extension environment."),xR()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=ii.create("invalid-analytics-context",{errorInfo:e});Dn.warn(n.message)}}function xk(t,e,n){vk();const s=t.options.appId;if(!s)throw ii.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ii.create("no-api-key");if(Bl[s]!=null)throw ii.create("already-exists",{id:s});if(!x4){W7(N0);const{wrappedGtag:l,gtagCore:u}=tk(Bl,g4,y4,N0,yk);_2=l,v4=u,x4=!0}return Bl[s]=pk(t,g4,y4,e,v4,N0,n),new gk(t)}function wk(t=l2()){t=Qt(t);const e=Co(t,tm);return e.isInitialized()?e.getImmediate():bk(t)}function bk(t,e={}){const n=Co(t,tm);if(n.isInitialized()){const a=n.getImmediate();if(dr(e,n.getOptions()))return a;throw ii.create("already-initialized")}return n.initialize({options:e})}function _k(t,e,n){t=Qt(t),fk(_2,Bl[t.app.options.appId],e,n).catch(s=>Dn.error(s))}function Ek(t,e,n,s){t=Qt(t),hk(_2,Bl[t.app.options.appId],e,n,s).catch(a=>Dn.error(a))}const w4="@firebase/analytics",b4="0.10.19";function Tk(){js(new Yi(tm,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return xk(s,a,n)},"PUBLIC")),js(new Yi("analytics-internal",t,"PRIVATE")),Si(w4,b4),Si(w4,b4,"esm2020");function t(e){try{const n=e.getProvider(tm).getImmediate();return{logEvent:(s,a,l)=>Ek(n,s,a,l),setUserProperties:(s,a)=>_k(n,s,a)}}catch(n){throw ii.create("interop-component-reg-failed",{reason:n})}}}Tk();var _4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ha,jE;(function(){var t;function e(S,T){function R(){}R.prototype=T.prototype,S.F=T.prototype,S.prototype=new R,S.prototype.constructor=S,S.D=function(V,O,U){for(var I=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)I[Ne-2]=arguments[Ne];return T.prototype[O].apply(V,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(S,T,R){R||(R=0);const V=Array(16);if(typeof T=="string")for(var O=0;O<16;++O)V[O]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(O=0;O<16;++O)V[O]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=S.g[0],R=S.g[1],O=S.g[2];let U=S.g[3],I;I=T+(U^R&(O^U))+V[0]+3614090360&4294967295,T=R+(I<<7&4294967295|I>>>25),I=U+(O^T&(R^O))+V[1]+3905402710&4294967295,U=T+(I<<12&4294967295|I>>>20),I=O+(R^U&(T^R))+V[2]+606105819&4294967295,O=U+(I<<17&4294967295|I>>>15),I=R+(T^O&(U^T))+V[3]+3250441966&4294967295,R=O+(I<<22&4294967295|I>>>10),I=T+(U^R&(O^U))+V[4]+4118548399&4294967295,T=R+(I<<7&4294967295|I>>>25),I=U+(O^T&(R^O))+V[5]+1200080426&4294967295,U=T+(I<<12&4294967295|I>>>20),I=O+(R^U&(T^R))+V[6]+2821735955&4294967295,O=U+(I<<17&4294967295|I>>>15),I=R+(T^O&(U^T))+V[7]+4249261313&4294967295,R=O+(I<<22&4294967295|I>>>10),I=T+(U^R&(O^U))+V[8]+1770035416&4294967295,T=R+(I<<7&4294967295|I>>>25),I=U+(O^T&(R^O))+V[9]+2336552879&4294967295,U=T+(I<<12&4294967295|I>>>20),I=O+(R^U&(T^R))+V[10]+4294925233&4294967295,O=U+(I<<17&4294967295|I>>>15),I=R+(T^O&(U^T))+V[11]+2304563134&4294967295,R=O+(I<<22&4294967295|I>>>10),I=T+(U^R&(O^U))+V[12]+1804603682&4294967295,T=R+(I<<7&4294967295|I>>>25),I=U+(O^T&(R^O))+V[13]+4254626195&4294967295,U=T+(I<<12&4294967295|I>>>20),I=O+(R^U&(T^R))+V[14]+2792965006&4294967295,O=U+(I<<17&4294967295|I>>>15),I=R+(T^O&(U^T))+V[15]+1236535329&4294967295,R=O+(I<<22&4294967295|I>>>10),I=T+(O^U&(R^O))+V[1]+4129170786&4294967295,T=R+(I<<5&4294967295|I>>>27),I=U+(R^O&(T^R))+V[6]+3225465664&4294967295,U=T+(I<<9&4294967295|I>>>23),I=O+(T^R&(U^T))+V[11]+643717713&4294967295,O=U+(I<<14&4294967295|I>>>18),I=R+(U^T&(O^U))+V[0]+3921069994&4294967295,R=O+(I<<20&4294967295|I>>>12),I=T+(O^U&(R^O))+V[5]+3593408605&4294967295,T=R+(I<<5&4294967295|I>>>27),I=U+(R^O&(T^R))+V[10]+38016083&4294967295,U=T+(I<<9&4294967295|I>>>23),I=O+(T^R&(U^T))+V[15]+3634488961&4294967295,O=U+(I<<14&4294967295|I>>>18),I=R+(U^T&(O^U))+V[4]+3889429448&4294967295,R=O+(I<<20&4294967295|I>>>12),I=T+(O^U&(R^O))+V[9]+568446438&4294967295,T=R+(I<<5&4294967295|I>>>27),I=U+(R^O&(T^R))+V[14]+3275163606&4294967295,U=T+(I<<9&4294967295|I>>>23),I=O+(T^R&(U^T))+V[3]+4107603335&4294967295,O=U+(I<<14&4294967295|I>>>18),I=R+(U^T&(O^U))+V[8]+1163531501&4294967295,R=O+(I<<20&4294967295|I>>>12),I=T+(O^U&(R^O))+V[13]+2850285829&4294967295,T=R+(I<<5&4294967295|I>>>27),I=U+(R^O&(T^R))+V[2]+4243563512&4294967295,U=T+(I<<9&4294967295|I>>>23),I=O+(T^R&(U^T))+V[7]+1735328473&4294967295,O=U+(I<<14&4294967295|I>>>18),I=R+(U^T&(O^U))+V[12]+2368359562&4294967295,R=O+(I<<20&4294967295|I>>>12),I=T+(R^O^U)+V[5]+4294588738&4294967295,T=R+(I<<4&4294967295|I>>>28),I=U+(T^R^O)+V[8]+2272392833&4294967295,U=T+(I<<11&4294967295|I>>>21),I=O+(U^T^R)+V[11]+1839030562&4294967295,O=U+(I<<16&4294967295|I>>>16),I=R+(O^U^T)+V[14]+4259657740&4294967295,R=O+(I<<23&4294967295|I>>>9),I=T+(R^O^U)+V[1]+2763975236&4294967295,T=R+(I<<4&4294967295|I>>>28),I=U+(T^R^O)+V[4]+1272893353&4294967295,U=T+(I<<11&4294967295|I>>>21),I=O+(U^T^R)+V[7]+4139469664&4294967295,O=U+(I<<16&4294967295|I>>>16),I=R+(O^U^T)+V[10]+3200236656&4294967295,R=O+(I<<23&4294967295|I>>>9),I=T+(R^O^U)+V[13]+681279174&4294967295,T=R+(I<<4&4294967295|I>>>28),I=U+(T^R^O)+V[0]+3936430074&4294967295,U=T+(I<<11&4294967295|I>>>21),I=O+(U^T^R)+V[3]+3572445317&4294967295,O=U+(I<<16&4294967295|I>>>16),I=R+(O^U^T)+V[6]+76029189&4294967295,R=O+(I<<23&4294967295|I>>>9),I=T+(R^O^U)+V[9]+3654602809&4294967295,T=R+(I<<4&4294967295|I>>>28),I=U+(T^R^O)+V[12]+3873151461&4294967295,U=T+(I<<11&4294967295|I>>>21),I=O+(U^T^R)+V[15]+530742520&4294967295,O=U+(I<<16&4294967295|I>>>16),I=R+(O^U^T)+V[2]+3299628645&4294967295,R=O+(I<<23&4294967295|I>>>9),I=T+(O^(R|~U))+V[0]+4096336452&4294967295,T=R+(I<<6&4294967295|I>>>26),I=U+(R^(T|~O))+V[7]+1126891415&4294967295,U=T+(I<<10&4294967295|I>>>22),I=O+(T^(U|~R))+V[14]+2878612391&4294967295,O=U+(I<<15&4294967295|I>>>17),I=R+(U^(O|~T))+V[5]+4237533241&4294967295,R=O+(I<<21&4294967295|I>>>11),I=T+(O^(R|~U))+V[12]+1700485571&4294967295,T=R+(I<<6&4294967295|I>>>26),I=U+(R^(T|~O))+V[3]+2399980690&4294967295,U=T+(I<<10&4294967295|I>>>22),I=O+(T^(U|~R))+V[10]+4293915773&4294967295,O=U+(I<<15&4294967295|I>>>17),I=R+(U^(O|~T))+V[1]+2240044497&4294967295,R=O+(I<<21&4294967295|I>>>11),I=T+(O^(R|~U))+V[8]+1873313359&4294967295,T=R+(I<<6&4294967295|I>>>26),I=U+(R^(T|~O))+V[15]+4264355552&4294967295,U=T+(I<<10&4294967295|I>>>22),I=O+(T^(U|~R))+V[6]+2734768916&4294967295,O=U+(I<<15&4294967295|I>>>17),I=R+(U^(O|~T))+V[13]+1309151649&4294967295,R=O+(I<<21&4294967295|I>>>11),I=T+(O^(R|~U))+V[4]+4149444226&4294967295,T=R+(I<<6&4294967295|I>>>26),I=U+(R^(T|~O))+V[11]+3174756917&4294967295,U=T+(I<<10&4294967295|I>>>22),I=O+(T^(U|~R))+V[2]+718787259&4294967295,O=U+(I<<15&4294967295|I>>>17),I=R+(U^(O|~T))+V[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+U&4294967295}s.prototype.v=function(S,T){T===void 0&&(T=S.length);const R=T-this.blockSize,V=this.C;let O=this.h,U=0;for(;U<T;){if(O==0)for(;U<=R;)a(this,S,U),U+=this.blockSize;if(typeof S=="string"){for(;U<T;)if(V[O++]=S.charCodeAt(U++),O==this.blockSize){a(this,V),O=0;break}}else for(;U<T;)if(V[O++]=S[U++],O==this.blockSize){a(this,V),O=0;break}}this.h=O,this.o+=T},s.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;T=this.o*8;for(var R=S.length-8;R<S.length;++R)S[R]=T&255,T/=256;for(this.v(S),S=Array(16),T=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)S[T++]=this.g[R]>>>V&255;return S};function l(S,T){var R=f;return Object.prototype.hasOwnProperty.call(R,S)?R[S]:R[S]=T(S)}function u(S,T){this.h=T;const R=[];let V=!0;for(let O=S.length-1;O>=0;O--){const U=S[O]|0;V&&U==T||(R[O]=U,V=!1)}this.g=R}var f={};function p(S){return-128<=S&&S<128?l(S,function(T){return new u([T|0],T<0?-1:0)}):new u([S|0],S<0?-1:0)}function g(S){if(isNaN(S)||!isFinite(S))return x;if(S<0)return z(g(-S));const T=[];let R=1;for(let V=0;S>=R;V++)T[V]=S/R|0,R*=4294967296;return new u(T,0)}function v(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return z(v(S.substring(1),T));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(T,8));let V=x;for(let U=0;U<S.length;U+=8){var O=Math.min(8,S.length-U);const I=parseInt(S.substring(U,U+O),T);O<8?(O=g(Math.pow(T,O)),V=V.j(O).add(g(I))):(V=V.j(R),V=V.add(g(I)))}return V}var x=p(0),E=p(1),N=p(16777216);t=u.prototype,t.m=function(){if(F(this))return-z(this).m();let S=0,T=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);S+=(V>=0?V:4294967296+V)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D(this))return"0";if(F(this))return"-"+z(this).toString(S);const T=g(Math.pow(S,6));var R=this;let V="";for(;;){const O=B(R,T).g;R=H(R,O.j(T));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(S);if(R=O,D(R))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function D(S){if(S.h!=0)return!1;for(let T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function F(S){return S.h==-1}t.l=function(S){return S=H(this,S),F(S)?-1:D(S)?0:1};function z(S){const T=S.g.length,R=[];for(let V=0;V<T;V++)R[V]=~S.g[V];return new u(R,~S.h).add(E)}t.abs=function(){return F(this)?z(this):this},t.add=function(S){const T=Math.max(this.g.length,S.g.length),R=[];let V=0;for(let O=0;O<=T;O++){let U=V+(this.i(O)&65535)+(S.i(O)&65535),I=(U>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);V=I>>>16,U&=65535,I&=65535,R[O]=I<<16|U}return new u(R,R[R.length-1]&-2147483648?-1:0)};function H(S,T){return S.add(z(T))}t.j=function(S){if(D(this)||D(S))return x;if(F(this))return F(S)?z(this).j(z(S)):z(z(this).j(S));if(F(S))return z(this.j(z(S)));if(this.l(N)<0&&S.l(N)<0)return g(this.m()*S.m());const T=this.g.length+S.g.length,R=[];for(var V=0;V<2*T;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<S.g.length;O++){const U=this.i(V)>>>16,I=this.i(V)&65535,Ne=S.i(O)>>>16,tt=S.i(O)&65535;R[2*V+2*O]+=I*tt,k(R,2*V+2*O),R[2*V+2*O+1]+=U*tt,k(R,2*V+2*O+1),R[2*V+2*O+1]+=I*Ne,k(R,2*V+2*O+1),R[2*V+2*O+2]+=U*Ne,k(R,2*V+2*O+2)}for(S=0;S<T;S++)R[S]=R[2*S+1]<<16|R[2*S];for(S=T;S<2*T;S++)R[S]=0;return new u(R,0)};function k(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function P(S,T){this.g=S,this.h=T}function B(S,T){if(D(T))throw Error("division by zero");if(D(S))return new P(x,x);if(F(S))return T=B(z(S),T),new P(z(T.g),z(T.h));if(F(T))return T=B(S,z(T)),new P(z(T.g),T.h);if(S.g.length>30){if(F(S)||F(T))throw Error("slowDivide_ only works with positive integers.");for(var R=E,V=T;V.l(S)<=0;)R=M(R),V=M(V);var O=G(R,1),U=G(V,1);for(V=G(V,2),R=G(R,2);!D(V);){var I=U.add(V);I.l(S)<=0&&(O=O.add(R),U=I),V=G(V,1),R=G(R,1)}return T=H(S,O.j(T)),new P(O,T)}for(O=x;S.l(T)>=0;){for(R=Math.max(1,Math.floor(S.m()/T.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=g(R),I=U.j(T);F(I)||I.l(S)>0;)R-=V,U=g(R),I=U.j(T);D(U)&&(U=E),O=O.add(U),S=H(S,I)}return new P(O,S)}t.B=function(S){return B(this,S).h},t.and=function(S){const T=Math.max(this.g.length,S.g.length),R=[];for(let V=0;V<T;V++)R[V]=this.i(V)&S.i(V);return new u(R,this.h&S.h)},t.or=function(S){const T=Math.max(this.g.length,S.g.length),R=[];for(let V=0;V<T;V++)R[V]=this.i(V)|S.i(V);return new u(R,this.h|S.h)},t.xor=function(S){const T=Math.max(this.g.length,S.g.length),R=[];for(let V=0;V<T;V++)R[V]=this.i(V)^S.i(V);return new u(R,this.h^S.h)};function M(S){const T=S.g.length+1,R=[];for(let V=0;V<T;V++)R[V]=S.i(V)<<1|S.i(V-1)>>>31;return new u(R,S.h)}function G(S,T){const R=T>>5;T%=32;const V=S.g.length-R,O=[];for(let U=0;U<V;U++)O[U]=T>0?S.i(U+R)>>>T|S.i(U+R+1)<<32-T:S.i(U+R);return new u(O,S.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,jE=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,ha=u}).apply(typeof _4<"u"?_4:typeof self<"u"?self:typeof window<"u"?window:{});var xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var IE,Iu,kE,Mf,dy,DE,ME,PE;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof xf=="object"&&xf];for(var w=0;w<h.length;++w){var _=h[w];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function a(h,w){if(w)e:{var _=s;h=h.split(".");for(var C=0;C<h.length-1;C++){var Y=h[C];if(!(Y in _))break e;_=_[Y]}h=h[h.length-1],C=_[h],w=w(C),w!=C&&w!=null&&e(_,h,{configurable:!0,writable:!0,value:w})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(w){var _=[],C;for(C in w)Object.prototype.hasOwnProperty.call(w,C)&&_.push([C,w[C]]);return _}});var l=l||{},u=this||self;function f(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function p(h,w,_){return h.call.apply(h.bind,arguments)}function g(h,w,_){return g=p,g.apply(null,arguments)}function v(h,w){var _=Array.prototype.slice.call(arguments,1);return function(){var C=_.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function x(h,w){function _(){}_.prototype=w.prototype,h.Z=w.prototype,h.prototype=new _,h.prototype.constructor=h,h.Ob=function(C,Y,Z){for(var ue=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ue[ke-2]=arguments[ke];return w.prototype[Y].apply(C,ue)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function N(h){const w=h.length;if(w>0){const _=Array(w);for(let C=0;C<w;C++)_[C]=h[C];return _}return[]}function D(h,w){for(let C=1;C<arguments.length;C++){const Y=arguments[C];var _=typeof Y;if(_=_!="object"?_:Y?Array.isArray(Y)?"array":_:"null",_=="array"||_=="object"&&typeof Y.length=="number"){_=h.length||0;const Z=Y.length||0;h.length=_+Z;for(let ue=0;ue<Z;ue++)h[_+ue]=Y[ue]}else h.push(Y)}}class F{constructor(w,_){this.i=w,this.j=_,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function z(h){u.setTimeout(()=>{throw h},0)}function H(){var h=S;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class k{constructor(){this.h=this.g=null}add(w,_){const C=P.get();C.set(w,_),this.h?this.h.next=C:this.g=C,this.h=C}}var P=new F(()=>new B,h=>h.reset());class B{constructor(){this.next=this.g=this.h=null}set(w,_){this.h=w,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let M,G=!1,S=new k,T=()=>{const h=Promise.resolve(void 0);M=()=>{h.then(R)}};function R(){for(var h;h=H();){try{h.h.call(h.g)}catch(_){z(_)}var w=P;w.j(h),w.h<100&&(w.h++,h.next=w.g,w.g=h)}G=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};u.addEventListener("test",_,w),u.removeEventListener("test",_,w)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function Ne(h,w){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,w)}x(Ne,O),Ne.prototype.init=function(h,w){const _=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget,w||(_=="mouseover"?w=h.fromElement:_=="mouseout"&&(w=h.toElement)),this.relatedTarget=w,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ne.Z.h.call(this)},Ne.prototype.h=function(){Ne.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var tt="closure_listenable_"+(Math.random()*1e6|0),ee=0;function ce(h,w,_,C,Y){this.listener=h,this.proxy=null,this.src=w,this.type=_,this.capture=!!C,this.ha=Y,this.key=++ee,this.da=this.fa=!1}function me(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Pe(h,w,_){for(const C in h)w.call(_,h[C],C,h)}function ze(h,w){for(const _ in h)w.call(void 0,h[_],_,h)}function $(h){const w={};for(const _ in h)w[_]=h[_];return w}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(h,w){let _,C;for(let Y=1;Y<arguments.length;Y++){C=arguments[Y];for(_ in C)h[_]=C[_];for(let Z=0;Z<ae.length;Z++)_=ae[Z],Object.prototype.hasOwnProperty.call(C,_)&&(h[_]=C[_])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,w,_,C,Y){const Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);const ue=Ve(h,w,C,Y);return ue>-1?(w=h[ue],_||(w.fa=!1)):(w=new ce(w,this.src,Z,!!C,Y),w.fa=_,h.push(w)),w};function Se(h,w){const _=w.type;if(_ in h.g){var C=h.g[_],Y=Array.prototype.indexOf.call(C,w,void 0),Z;(Z=Y>=0)&&Array.prototype.splice.call(C,Y,1),Z&&(me(w),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Ve(h,w,_,C){for(let Y=0;Y<h.length;++Y){const Z=h[Y];if(!Z.da&&Z.listener==w&&Z.capture==!!_&&Z.ha==C)return Y}return-1}var Ke="closure_lm_"+(Math.random()*1e6|0),Xt={};function yt(h,w,_,C,Y){if(Array.isArray(w)){for(let Z=0;Z<w.length;Z++)yt(h,w[Z],_,C,Y);return null}return _=Ec(_),h&&h[tt]?h.J(w,_,f(C)?!!C.capture:!1,Y):Na(h,w,_,!1,C,Y)}function Na(h,w,_,C,Y,Z){if(!w)throw Error("Invalid event type");const ue=f(Y)?!!Y.capture:!!Y;let ke=Ra(h);if(ke||(h[Ke]=ke=new fe(h)),_=ke.add(w,_,C,ue,Z),_.proxy)return _;if(C=Po(),_.proxy=C,C.src=h,C.listener=_,h.addEventListener)U||(Y=ue),Y===void 0&&(Y=!1),h.addEventListener(w.toString(),C,Y);else if(h.attachEvent)h.attachEvent(Zi(w.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Po(){function h(_){return w.call(h.src,h.listener,_)}const w=bc;return h}function Vo(h,w,_,C,Y){if(Array.isArray(w))for(var Z=0;Z<w.length;Z++)Vo(h,w[Z],_,C,Y);else C=f(C)?!!C.capture:!!C,_=Ec(_),h&&h[tt]?(h=h.i,Z=String(w).toString(),Z in h.g&&(w=h.g[Z],_=Ve(w,_,C,Y),_>-1&&(me(w[_]),Array.prototype.splice.call(w,_,1),w.length==0&&(delete h.g[Z],h.h--)))):h&&(h=Ra(h))&&(w=h.g[w.toString()],h=-1,w&&(h=Ve(w,_,C,Y)),(_=h>-1?w[h]:null)&&Oo(_))}function Oo(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[tt])Se(w.i,h);else{var _=h.type,C=h.proxy;w.removeEventListener?w.removeEventListener(_,C,h.capture):w.detachEvent?w.detachEvent(Zi(_),C):w.addListener&&w.removeListener&&w.removeListener(C),(_=Ra(w))?(Se(_,h),_.h==0&&(_.src=null,w[Ke]=null)):me(h)}}}function Zi(h){return h in Xt?Xt[h]:Xt[h]="on"+h}function bc(h,w){if(h.da)h=!0;else{w=new Ne(w,this);const _=h.listener,C=h.ha||h.src;h.fa&&Oo(h),h=_.call(C,w)}return h}function Ra(h){return h=h[Ke],h instanceof fe?h:null}var _c="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ec(h){return typeof h=="function"?h:(h[_c]||(h[_c]=function(w){return h.handleEvent(w)}),h[_c])}function Vt(){V.call(this),this.i=new fe(this),this.M=this,this.G=null}x(Vt,V),Vt.prototype[tt]=!0,Vt.prototype.removeEventListener=function(h,w,_,C){Vo(this,h,w,_,C)};function Wt(h,w){var _,C=h.G;if(C)for(_=[];C;C=C.G)_.push(C);if(h=h.M,C=w.type||w,typeof w=="string")w=new O(w,h);else if(w instanceof O)w.target=w.target||h;else{var Y=w;w=new O(C,h),de(w,Y)}Y=!0;let Z,ue;if(_)for(ue=_.length-1;ue>=0;ue--)Z=w.g=_[ue],Y=wr(Z,C,!0,w)&&Y;if(Z=w.g=h,Y=wr(Z,C,!0,w)&&Y,Y=wr(Z,C,!1,w)&&Y,_)for(ue=0;ue<_.length;ue++)Z=w.g=_[ue],Y=wr(Z,C,!1,w)&&Y}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var h=this.i;for(const w in h.g){const _=h.g[w];for(let C=0;C<_.length;C++)me(_[C]);delete h.g[w],h.h--}}this.G=null},Vt.prototype.J=function(h,w,_,C){return this.i.add(String(h),w,!1,_,C)},Vt.prototype.K=function(h,w,_,C){return this.i.add(String(h),w,!0,_,C)};function wr(h,w,_,C){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();let Y=!0;for(let Z=0;Z<w.length;++Z){const ue=w[Z];if(ue&&!ue.da&&ue.capture==_){const ke=ue.listener,Rt=ue.ha||ue.src;ue.fa&&Se(h.i,ue),Y=ke.call(Rt,C)!==!1&&Y}}return Y&&!C.defaultPrevented}function fp(h,w){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:u.setTimeout(h,w||0)}function Ud(h){h.g=fp(()=>{h.g=null,h.i&&(h.i=!1,Ud(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Nn extends V{constructor(w,_){super(),this.m=w,this.l=_,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ud(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ja(h){V.call(this),this.h=h,this.g={}}x(ja,V);var Tc=[];function Ac(h){Pe(h.g,function(w,_){this.g.hasOwnProperty(_)&&Oo(w)},h),h.g={}}ja.prototype.N=function(){ja.Z.N.call(this),Ac(this)},ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var br=u.JSON.stringify,mp=u.JSON.parse,Fd=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Hd(){}function qd(){}var Di={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cn(){O.call(this,"d")}x(cn,O);function li(){O.call(this,"c")}x(li,O);var Nt={},$d=null;function Lo(){return $d=$d||new Vt}Nt.Ia="serverreachability";function Gd(h){O.call(this,Nt.Ia,h)}x(Gd,O);function Ji(h){const w=Lo();Wt(w,new Gd(w))}Nt.STAT_EVENT="statevent";function Ia(h,w){O.call(this,Nt.STAT_EVENT,h),this.stat=w}x(Ia,O);function Ot(h){const w=Lo();Wt(w,new Ia(w,h))}Nt.Ja="timingevent";function es(h,w){O.call(this,Nt.Ja,h),this.size=w}x(es,O);function ts(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},w)}function Mi(){this.g=!0}Mi.prototype.ua=function(){this.g=!1};function pp(h,w,_,C,Y,Z){h.info(function(){if(h.g)if(Z){var ue="",ke=Z.split("&");for(let Ze=0;Ze<ke.length;Ze++){var Rt=ke[Ze].split("=");if(Rt.length>1){const vt=Rt[0];Rt=Rt[1];const hi=vt.split("_");ue=hi.length>=2&&hi[1]=="type"?ue+(vt+"="+Rt+"&"):ue+(vt+"=redacted&")}}}else ue=null;else ue=Z;return"XMLHTTP REQ ("+C+") [attempt "+Y+"]: "+w+`
`+_+`
`+ue})}function Kd(h,w,_,C,Y,Z,ue){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Y+"]: "+w+`
`+_+`
`+Z+" "+ue})}function ns(h,w,_,C){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+gp(h,_)+(C?" "+C:"")})}function ka(h,w){h.info(function(){return"TIMEOUT: "+w})}Mi.prototype.info=function(){};function gp(h,w){if(!h.g)return w;if(!w)return null;try{const Z=JSON.parse(w);if(Z){for(h=0;h<Z.length;h++)if(Array.isArray(Z[h])){var _=Z[h];if(!(_.length<2)){var C=_[1];if(Array.isArray(C)&&!(C.length<1)){var Y=C[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ue=1;ue<C.length;ue++)C[ue]=""}}}}return br(Z)}catch{return w}}var Da={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cc;function Ma(){}x(Ma,Hd),Ma.prototype.g=function(){return new XMLHttpRequest},Cc=new Ma;function Os(h){return encodeURIComponent(String(h))}function Yd(h){var w=1;h=h.split(":");const _=[];for(;w>0&&h.length;)_.push(h.shift()),w--;return h.length&&_.push(h.join(":")),_}function Pi(h,w,_,C){this.j=h,this.i=w,this.l=_,this.S=C||1,this.V=new ja(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vi}function Vi(){this.i=null,this.g="",this.h=!1}var Lt={},tn={};function is(h,w,_){h.M=1,h.A=Pa(zt(w)),h.u=_,h.R=!0,Bo(h,null)}function Bo(h,w){h.F=Date.now(),ss(h),h.B=zt(h.A);var _=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),Ho(_.i,"t",C),h.C=0,_=h.j.L,h.h=new Vi,h.g=ch(h.j,_?w:null,!h.u),h.P>0&&(h.O=new Nn(g(h.Y,h,h.g),h.P)),w=h.V,_=h.g,C=h.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Tc[0]=Y.toString()),Y=Tc);for(let Z=0;Z<Y.length;Z++){const ue=yt(_,Y[Z],C||w.handleEvent,!1,w.h||w);if(!ue)break;w.g[ue.key]=ue}w=h.J?$(h.J):{},h.u?(h.v||(h.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,w)):(h.v="GET",h.g.ea(h.B,h.v,null,w)),Ji(),pp(h.i,h.v,h.B,h.l,h.S,h.u)}Pi.prototype.ba=function(h){h=h.target;const w=this.O;w&&Bi(h)==3?w.j():this.Y(h)},Pi.prototype.Y=function(h){try{if(h==this.g)e:{const ke=Bi(this.g),Rt=this.g.ya(),Ze=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||ke!=4||Rt==7||(Rt==8||Ze<=0?Ji(3):Ji(2)),rs(this);var w=this.g.ca();this.X=w;var _=yp(this);if(this.o=w==200,Kd(this.i,this.v,this.B,this.l,this.S,ke,w),this.o){if(this.U&&!this.L){t:{if(this.g){var C,Y=this.g;if((C=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(C)){var Z=C;break t}}Z=null}if(h=Z)ns(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,as(this,h);else{this.o=!1,this.m=3,Ot(12),Kn(this),ci(this);break e}}if(this.R){h=!0;let vt;for(;!this.K&&this.C<_.length;)if(vt=Xd(this,_),vt==tn){ke==4&&(this.m=4,Ot(14),h=!1),ns(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Lt){this.m=4,Ot(15),ns(this.i,this.l,_,"[Invalid Chunk]"),h=!1;break}else ns(this.i,this.l,vt,null),as(this,vt);if(Qd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||_.length!=0||this.h.h||(this.m=1,Ot(16),h=!1),this.o=this.o&&h,!h)ns(this.i,this.l,_,"[Invalid Chunked Response]"),Kn(this),ci(this);else if(_.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Fc(ue),ue.P=!0,Ot(11))}}else ns(this.i,this.l,_,null),as(this,_);ke==4&&Kn(this),this.o&&!this.K&&(ke==4?rh(this.j,this):(this.o=!1,ss(this)))}else Bs(this.g),w==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),Kn(this),ci(this)}}}catch{}finally{}};function yp(h){if(!Qd(h))return h.g.la();const w=un(h.g);if(w==="")return"";let _="";const C=w.length,Y=Bi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Kn(h),ci(h),"";h.h.i=new u.TextDecoder}for(let Z=0;Z<C;Z++)h.h.h=!0,_+=h.h.i.decode(w[Z],{stream:!(Y&&Z==C-1)});return w.length=0,h.h.g+=_,h.C=0,h.h.g}function Qd(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Xd(h,w){var _=h.C,C=w.indexOf(`
`,_);return C==-1?tn:(_=Number(w.substring(_,C)),isNaN(_)?Lt:(C+=1,C+_>w.length?tn:(w=w.slice(C,C+_),h.C=C+_,w)))}Pi.prototype.cancel=function(){this.K=!0,Kn(this)};function ss(h){h.T=Date.now()+h.H,zo(h,h.H)}function zo(h,w){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ts(g(h.aa,h),w)}function rs(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Pi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ka(this.i,this.B),this.M!=2&&(Ji(),Ot(17)),Kn(this),this.m=2,ci(this)):zo(this,this.T-h)};function ci(h){h.j.I==0||h.K||rh(h.j,h)}function Kn(h){rs(h);var w=h.O;w&&typeof w.dispose=="function"&&w.dispose(),h.O=null,Ac(h.V),h.g&&(w=h.g,h.g=null,w.abort(),w.dispose())}function as(h,w){try{var _=h.j;if(_.I!=0&&(_.g==h||ls(_.h,h))){if(!h.L&&ls(_.h,h)&&_.I==3){try{var C=_.Ba.g.parse(w)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Y=C;if(Y[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<h.F)Yo(_),Rr(_);else break e;Fa(_),Ot(18)}}else _.xa=Y[1],0<_.xa-_.K&&Y[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ts(g(_.Va,_),6e3));os(_.h)<=1&&_.ta&&(_.ta=void 0)}else ms(_,11)}else if((h.L||_.g==h)&&Yo(_),!I(w))for(Y=_.Ba.g.parse(w),w=0;w<Y.length;w++){let Ze=Y[w];const vt=Ze[0];if(!(vt<=_.K))if(_.K=vt,Ze=Ze[1],_.I==2)if(Ze[0]=="c"){_.M=Ze[1],_.ba=Ze[2];const hi=Ze[3];hi!=null&&(_.ka=hi,_.j.info("VER="+_.ka));const ps=Ze[4];ps!=null&&(_.za=ps,_.j.info("SVER="+_.za));const zi=Ze[5];zi!=null&&typeof zi=="number"&&zi>0&&(C=1.5*zi,_.O=C,_.j.info("backChannelRequestTimeoutMs_="+C)),C=_;const Ui=h.g;if(Ui){const Ha=Ui.g?Ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ha){var Z=C.h;Z.g||Ha.indexOf("spdy")==-1&&Ha.indexOf("quic")==-1&&Ha.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(jc(Z,Z.h),Z.h=null))}if(C.G){const Qo=Ui.g?Ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(C.wa=Qo,it(C.J,C.G,Qo))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-h.F,_.j.info("Handshake RTT: "+_.T+"ms")),C=_;var ue=h;if(C.na=lh(C,C.L?C.ba:null,C.W),ue.L){Ic(C.h,ue);var ke=ue,Rt=C.O;Rt&&(ke.H=Rt),ke.D&&(rs(ke),ss(ke)),C.g=ue}else ih(C);_.i.length>0&&fs(_)}else Ze[0]!="stop"&&Ze[0]!="close"||ms(_,7);else _.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?ms(_,7):zc(_):Ze[0]!="noop"&&_.l&&_.l.qa(Ze),_.A=0)}}Ji(4)}catch{}}var Bt=class{constructor(h,w){this.g=h,this.map=w}};function Nc(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rc(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function os(h){return h.h?1:h.g?h.g.size:0}function ls(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function jc(h,w){h.g?h.g.add(w):h.h=w}function Ic(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}Nc.prototype.cancel=function(){if(this.i=kc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function kc(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const _ of h.g.values())w=w.concat(_.G);return w}return N(h.i)}var Wd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uo(h,w){if(h){h=h.split("&");for(let _=0;_<h.length;_++){const C=h[_].indexOf("=");let Y,Z=null;C>=0?(Y=h[_].substring(0,C),Z=h[_].substring(C+1)):Y=h[_],w(Y,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Yn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;h instanceof Yn?(this.l=h.l,nn(this,h.j),this.o=h.o,this.g=h.g,_r(this,h.u),this.h=h.h,Dc(this,th(h.i)),this.m=h.m):h&&(w=String(h).match(Wd))?(this.l=!1,nn(this,w[1]||"",!0),this.o=cs(w[2]||""),this.g=cs(w[3]||"",!0),_r(this,w[4]),this.h=cs(w[5]||"",!0),Dc(this,w[6]||"",!0),this.m=cs(w[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}Yn.prototype.toString=function(){const h=[];var w=this.j;w&&h.push(Va(w,Fo,!0),":");var _=this.g;return(_||w=="file")&&(h.push("//"),(w=this.o)&&h.push(Va(w,Fo,!0),"@"),h.push(Os(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&h.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Va(_,_.charAt(0)=="/"?Mc:Zd,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Va(_,Jd)),h.join("")},Yn.prototype.resolve=function(h){const w=zt(this);let _=!!h.j;_?nn(w,h.j):_=!!h.o,_?w.o=h.o:_=!!h.g,_?w.g=h.g:_=h.u!=null;var C=h.h;if(_)_r(w,h.u);else if(_=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var Y=w.h.lastIndexOf("/");Y!=-1&&(C=w.h.slice(0,Y+1)+C)}if(Y=C,Y==".."||Y==".")C="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){C=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const Z=[];for(let ue=0;ue<Y.length;){const ke=Y[ue++];ke=="."?C&&ue==Y.length&&Z.push(""):ke==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),C&&ue==Y.length&&Z.push("")):(Z.push(ke),C=!0)}C=Z.join("/")}else C=Y}return _?w.h=C:_=h.i.toString()!=="",_?Dc(w,th(h.i)):_=!!h.m,_&&(w.m=h.m),w};function zt(h){return new Yn(h)}function nn(h,w,_){h.j=_?cs(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function _r(h,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);h.u=w}else h.u=null}function Dc(h,w,_){w instanceof Tr?(h.i=w,qo(h.i,h.l)):(_||(w=Va(w,Er)),h.i=new Tr(w,h.l))}function it(h,w,_){h.i.set(w,_)}function Pa(h){return it(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function cs(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Va(h,w,_){return typeof h=="string"?(h=encodeURI(h).replace(w,Vn),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Vn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Fo=/[#\/\?@]/g,Zd=/[#\?:]/g,Mc=/[#\?]/g,Er=/[#\?@]/g,Jd=/#/g;function Tr(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function On(h){h.g||(h.g=new Map,h.h=0,h.i&&Uo(h.i,function(w,_){h.add(decodeURIComponent(w.replace(/\+/g," ")),_)}))}t=Tr.prototype,t.add=function(h,w){On(this),this.i=null,h=Ar(this,h);let _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(w),this.h+=1,this};function eh(h,w){On(h),w=Ar(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function Pc(h,w){return On(h),w=Ar(h,w),h.g.has(w)}t.forEach=function(h,w){On(this),this.g.forEach(function(_,C){_.forEach(function(Y){h.call(w,Y,C,this)},this)},this)};function Vc(h,w){On(h);let _=[];if(typeof w=="string")Pc(h,w)&&(_=_.concat(h.g.get(Ar(h,w))));else for(h=Array.from(h.g.values()),w=0;w<h.length;w++)_=_.concat(h[w]);return _}t.set=function(h,w){return On(this),this.i=null,h=Ar(this,h),Pc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=Vc(this,h),h.length>0?String(h[0]):w):w};function Ho(h,w,_){eh(h,w),_.length>0&&(h.i=null,h.g.set(Ar(h,w),N(_)),h.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(let C=0;C<w.length;C++){var _=w[C];const Y=Os(_);_=Vc(this,_);for(let Z=0;Z<_.length;Z++){let ue=Y;_[Z]!==""&&(ue+="="+Os(_[Z])),h.push(ue)}}return this.i=h.join("&")};function th(h){const w=new Tr;return w.i=h.i,h.g&&(w.g=new Map(h.g),w.h=h.h),w}function Ar(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function qo(h,w){w&&!h.j&&(On(h),h.i=null,h.g.forEach(function(_,C){const Y=C.toLowerCase();C!=Y&&(eh(this,C),Ho(this,Y,_))},h)),h.j=w}function Oi(h,w){const _=new Mi;if(u.Image){const C=new Image;C.onload=v(ui,_,"TestLoadImage: loaded",!0,w,C),C.onerror=v(ui,_,"TestLoadImage: error",!1,w,C),C.onabort=v(ui,_,"TestLoadImage: abort",!1,w,C),C.ontimeout=v(ui,_,"TestLoadImage: timeout",!1,w,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else w(!1)}function Oc(h,w){const _=new Mi,C=new AbortController,Y=setTimeout(()=>{C.abort(),ui(_,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:C.signal}).then(Z=>{clearTimeout(Y),Z.ok?ui(_,"TestPingServer: ok",!0,w):ui(_,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Y),ui(_,"TestPingServer: error",!1,w)})}function ui(h,w,_,C,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),C(_)}catch{}}function Sr(){this.g=new Fd}function us(h){this.i=h.Sb||null,this.h=h.ab||!1}x(us,Hd),us.prototype.g=function(){return new Oa(this.i,this.h)};function Oa(h,w){Vt.call(this),this.H=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Oa,Vt),t=Oa.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=w,this.readyState=1,Li(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(w.body=h),(this.H||u).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Li(this)),this.g&&(this.readyState=3,Li(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$o(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function $o(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Cr(this):Li(this),this.readyState==3&&$o(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Cr(this))},t.Na=function(h){this.g&&(this.response=h,Cr(this))},t.ga=function(){this.g&&Cr(this)};function Cr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Li(h)}t.setRequestHeader=function(h,w){this.A.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var _=w.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=w.next();return h.join(`\r
`)};function Li(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function di(h){let w="";return Pe(h,function(_,C){w+=C,w+=":",w+=_,w+=`\r
`}),w}function La(h,w,_){e:{for(C in _){var C=!1;break e}C=!0}C||(_=di(_),typeof h=="string"?_!=null&&Os(_):it(h,w,_))}function at(h){Vt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(at,Vt);var ds=/^https?$/i,Lc=["POST","PUT"];t=at.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,w,_,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cc.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(Z){Ba(this,Z);return}if(h=_||"",_=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Y in C)_.set(Y,C[Y]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Z of C.keys())_.set(Z,C.get(Z));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),Y=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Lc,w,void 0)>=0)||C||Y||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ue]of _)this.g.setRequestHeader(Z,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Z){Ba(this,Z)}};function Ba(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.o=5,Bc(h),Ls(h)}function Bc(h){h.A||(h.A=!0,Wt(h,"complete"),Wt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Wt(this,"complete"),Wt(this,"abort"),Ls(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ls(this,!0)),at.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?za(this):this.Xa())},t.Xa=function(){za(this)};function za(h){if(h.h&&typeof l<"u"){if(h.v&&Bi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Wt(h,"readystatechange"),Bi(h)==4){h.h=!1;try{const Z=h.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var _;if(!(_=w)){var C;if(C=Z===0){let ue=String(h.D).match(Wd)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),C=!ds.test(ue?ue.toLowerCase():"")}_=C}if(_)Wt(h,"complete"),Wt(h,"success");else{h.o=6;try{var Y=Bi(h)>2?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.ca()+"]",Bc(h)}}finally{Ls(h)}}}}function Ls(h,w){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const _=h.g;h.g=null,w||Wt(h,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Bi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Bi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),mp(w)}};function un(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Bs(h){const w={};h=(h.g&&Bi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(I(h[C]))continue;var _=Yd(h[C]);const Y=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=w[Y]||[];w[Y]=Z,Z.push(_)}ze(w,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hs(h,w,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||w}function Nr(h){this.za=0,this.i=[],this.j=new Mi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hs("baseRetryDelayMs",5e3,h),this.Za=hs("retryDelaySeedMs",1e4,h),this.Ta=hs("forwardChannelMaxRetries",2,h),this.va=hs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Nc(h&&h.concurrentRequestLimit),this.Ba=new Sr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Nr.prototype,t.ka=8,t.I=1,t.connect=function(h,w,_,C){Ot(0),this.W=h,this.H=w||{},_&&C!==void 0&&(this.H.OSID=_,this.H.OAID=C),this.F=this.X,this.J=lh(this,null,this.W),fs(this)};function zc(h){if(Go(h),h.I==3){var w=h.V++,_=zt(h.J);if(it(_,"SID",h.M),it(_,"RID",w),it(_,"TYPE","terminate"),Ua(h,_),w=new Pi(h,h.j,w),w.M=2,w.A=Pa(zt(_)),_=!1,u.navigator&&u.navigator.sendBeacon)try{_=u.navigator.sendBeacon(w.A.toString(),"")}catch{}!_&&u.Image&&(new Image().src=w.A,_=!0),_||(w.g=ch(w.j,null),w.g.ea(w.A)),w.F=Date.now(),ss(w)}oh(h)}function Rr(h){h.g&&(Fc(h),h.g.cancel(),h.g=null)}function Go(h){Rr(h),h.v&&(u.clearTimeout(h.v),h.v=null),Yo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function fs(h){if(!Rc(h.h)&&!h.m){h.m=!0;var w=h.Ea;M||T(),G||(M(),G=!0),S.add(w,h),h.D=0}}function Ko(h,w){return os(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=w.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ts(g(h.Ea,h,w),ah(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Y=new Pi(this,this.j,h);let Z=this.o;if(this.U&&(Z?(Z=$(Z),de(Z,this.U)):Z=this.U),this.u!==null||this.R||(Y.J=Z,Z=null),this.S)e:{for(var w=0,_=0;_<this.i.length;_++){t:{var C=this.i[_];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(w+=C,w>4096){w=_;break e}if(w===4096||_===this.i.length-1){w=_+1;break e}}w=1e3}else w=1e3;w=nh(this,Y,w),_=zt(this.J),it(_,"RID",h),it(_,"CVER",22),this.G&&it(_,"X-HTTP-Session-Id",this.G),Ua(this,_),Z&&(this.R?w="headers="+Os(di(Z))+"&"+w:this.u&&La(_,this.u,Z)),jc(this.h,Y),this.Ra&&it(_,"TYPE","init"),this.S?(it(_,"$req",w),it(_,"SID","null"),Y.U=!0,is(Y,_,null)):is(Y,_,w),this.I=2}}else this.I==3&&(h?Uc(this,h):this.i.length==0||Rc(this.h)||Uc(this))};function Uc(h,w){var _;w?_=w.l:_=h.V++;const C=zt(h.J);it(C,"SID",h.M),it(C,"RID",_),it(C,"AID",h.K),Ua(h,C),h.u&&h.o&&La(C,h.u,h.o),_=new Pi(h,h.j,_,h.D+1),h.u===null&&(_.J=h.o),w&&(h.i=w.G.concat(h.i)),w=nh(h,_,1e3),_.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),jc(h.h,_),is(_,C,w)}function Ua(h,w){h.H&&Pe(h.H,function(_,C){it(w,C,_)}),h.l&&Pe({},function(_,C){it(w,C,_)})}function nh(h,w,_){_=Math.min(h.i.length,_);const C=h.l?g(h.l.Ka,h.l,h):null;e:{var Y=h.i;let ke=-1;for(;;){const Rt=["count="+_];ke==-1?_>0?(ke=Y[0].g,Rt.push("ofs="+ke)):ke=0:Rt.push("ofs="+ke);let Ze=!0;for(let vt=0;vt<_;vt++){var Z=Y[vt].g;const hi=Y[vt].map;if(Z-=ke,Z<0)ke=Math.max(0,Y[vt].g-100),Ze=!1;else try{Z="req"+Z+"_"||"";try{var ue=hi instanceof Map?hi:Object.entries(hi);for(const[ps,zi]of ue){let Ui=zi;f(zi)&&(Ui=br(zi)),Rt.push(Z+ps+"="+encodeURIComponent(Ui))}}catch(ps){throw Rt.push(Z+"type="+encodeURIComponent("_badmap")),ps}}catch{C&&C(hi)}}if(Ze){ue=Rt.join("&");break e}}ue=void 0}return h=h.i.splice(0,_),w.G=h,ue}function ih(h){if(!h.g&&!h.v){h.Y=1;var w=h.Da;M||T(),G||(M(),G=!0),S.add(w,h),h.A=0}}function Fa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ts(g(h.Da,h),ah(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,sh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ts(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),Rr(this),sh(this))};function Fc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function sh(h){h.g=new Pi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var w=zt(h.na);it(w,"RID","rpc"),it(w,"SID",h.M),it(w,"AID",h.K),it(w,"CI",h.F?"0":"1"),!h.F&&h.ia&&it(w,"TO",h.ia),it(w,"TYPE","xmlhttp"),Ua(h,w),h.u&&h.o&&La(w,h.u,h.o),h.O&&(h.g.H=h.O);var _=h.g;h=h.ba,_.M=1,_.A=Pa(zt(w)),_.u=null,_.R=!0,Bo(_,h)}t.Va=function(){this.C!=null&&(this.C=null,Rr(this),Fa(this),Ot(19))};function Yo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function rh(h,w){var _=null;if(h.g==w){Yo(h),Fc(h),h.g=null;var C=2}else if(ls(h.h,w))_=w.G,Ic(h.h,w),C=1;else return;if(h.I!=0){if(w.o)if(C==1){_=w.u?w.u.length:0,w=Date.now()-w.F;var Y=h.D;C=Lo(),Wt(C,new es(C,_)),fs(h)}else ih(h);else if(Y=w.m,Y==3||Y==0&&w.X>0||!(C==1&&Ko(h,w)||C==2&&Fa(h)))switch(_&&_.length>0&&(w=h.h,w.i=w.i.concat(_)),Y){case 1:ms(h,5);break;case 4:ms(h,10);break;case 3:ms(h,6);break;default:ms(h,2)}}}function ah(h,w){let _=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(_*=2),_*w}function ms(h,w){if(h.j.info("Error code "+w),w==2){var _=g(h.bb,h),C=h.Ua;const Y=!C;C=new Yn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||nn(C,"https"),Pa(C),Y?Oi(C.toString(),_):Oc(C.toString(),_)}else Ot(2);h.I=0,h.l&&h.l.pa(w),oh(h),Go(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function oh(h){if(h.I=0,h.ja=[],h.l){const w=kc(h.h);(w.length!=0||h.i.length!=0)&&(D(h.ja,w),D(h.ja,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.oa()}}function lh(h,w,_){var C=_ instanceof Yn?zt(_):new Yn(_);if(C.g!="")w&&(C.g=w+"."+C.g),_r(C,C.u);else{var Y=u.location;C=Y.protocol,w=w?w+"."+Y.hostname:Y.hostname,Y=+Y.port;const Z=new Yn(null);C&&nn(Z,C),w&&(Z.g=w),Y&&_r(Z,Y),_&&(Z.h=_),C=Z}return _=h.G,w=h.wa,_&&w&&it(C,_,w),it(C,"VER",h.ka),Ua(h,C),C}function ch(h,w,_){if(w&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Aa&&!h.ma?new at(new us({ab:_})):new at(h.ma),w.Fa(h.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uh(){}t=uh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function jr(){}jr.prototype.g=function(h,w){return new Rn(h,w)};function Rn(h,w){Vt.call(this),this.g=new Nr(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(h?h["X-WebChannel-Client-Profile"]=w.sa:h={"X-WebChannel-Client-Profile":w.sa}),this.g.U=h,(h=w&&w.Qb)&&!I(h)&&(this.g.u=h),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!I(w)&&(this.g.G=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new zs(this)}x(Rn,Vt),Rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){zc(this.g)},Rn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.v&&(_={},_.__data__=br(h),h=_);w.i.push(new Bt(w.Ya++,h)),w.I==3&&fs(w)},Rn.prototype.N=function(){this.g.l=null,delete this.j,zc(this.g),delete this.g,Rn.Z.N.call(this)};function dh(h){cn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const _ in w){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}x(dh,cn);function hh(){li.call(this),this.status=1}x(hh,li);function zs(h){this.g=h}x(zs,uh),zs.prototype.ra=function(){Wt(this.g,"a")},zs.prototype.qa=function(h){Wt(this.g,new dh(h))},zs.prototype.pa=function(h){Wt(this.g,new hh)},zs.prototype.oa=function(){Wt(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,PE=function(){return new jr},ME=function(){return Lo()},DE=Nt,dy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Da.NO_ERROR=0,Da.TIMEOUT=8,Da.HTTP_ERROR=6,Mf=Da,Sc.COMPLETE="complete",kE=Sc,qd.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,Iu=qd,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,IE=at}).apply(typeof xf<"u"?xf:typeof self<"u"?self:typeof window<"u"?window:{});const E4="@firebase/firestore",T4="4.9.2";class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let cc="12.3.0";const Eo=new Pm("@firebase/firestore");function Al(){return Eo.logLevel}function he(t,...e){if(Eo.logLevel<=He.DEBUG){const n=e.map(E2);Eo.debug(`Firestore (${cc}): ${t}`,...n)}}function mr(t,...e){if(Eo.logLevel<=He.ERROR){const n=e.map(E2);Eo.error(`Firestore (${cc}): ${t}`,...n)}}function Gl(t,...e){if(Eo.logLevel<=He.WARN){const n=e.map(E2);Eo.warn(`Firestore (${cc}): ${t}`,...n)}}function E2(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Te(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,VE(t,s,n)}function VE(t,e,n){let s=`FIRESTORE (${cc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw mr(s),new Error(s)}function nt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||VE(e,a,s)}function je(t,e){return t}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class OE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ak{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(_n.UNAUTHENTICATED)))}shutdown(){}}class Sk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Ck{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ar,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},f=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ar)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(nt(typeof s.accessToken=="string",31837,{l:s}),new OE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class Nk{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Rk{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Nk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const s=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new A4(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ik(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class T2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=Ik(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function qe(t,e){return t<e?-1:t>e?1:0}function hy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return R0(a)===R0(l)?qe(a,l):R0(a)?1:-1}return qe(t.length,e.length)}const kk=55296,Dk=57343;function R0(t){const e=t.charCodeAt(0);return e>=kk&&e<=Dk}function Kl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const S4="__name__";class ws{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ws.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ws?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=ws.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const s=ws.isNumericId(e),a=ws.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ws.extractNumericId(e).compare(ws.extractNumericId(n)):hy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ha.fromString(e.substring(4,e.length-2))}}class pt extends ws{construct(e,n,s){return new pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new pt(n)}static emptyPath(){return new pt([])}}const Mk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends ws{construct(e,n,s){return new yn(e,n,s)}static isValidIdentifier(e){return Mk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S4}static keyField(){return new yn([S4])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ge(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ge(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new ge(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(n)}static emptyPath(){return new yn([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(pt.fromString(e))}static fromName(e){return new we(pt.fromString(e).popFirst(5))}static empty(){return new we(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new pt(e.slice()))}}function LE(t,e,n){if(!n)throw new ge(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Pk(t,e,n,s){if(e===!0&&s===!0)throw new ge(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function C4(t){if(!we.isDocumentKey(t))throw new ge(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function N4(t){if(we.isDocumentKey(t))throw new ge(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function BE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function A2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function Xi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=A2(t);throw new ge(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function bd(t,e){if(!BE(t))throw new ge(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ge(le.INVALID_ARGUMENT,n);return!0}const R4=-62135596800,j4=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*j4);return new gt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<R4)throw new ge(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j4}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bd(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Kt("string",gt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new gt(0,0))}static max(){return new Ce(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wu=-1;function Vk(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(s===1e9?new gt(n+1,0):new gt(n,s));return new ma(a,we.empty(),e)}function Ok(t){return new ma(t.readTime,t.key,Wu)}class ma{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ma(Ce.min(),we.empty(),Wu)}static max(){return new ma(Ce.max(),we.empty(),Wu)}}function Lk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}const Bk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function uc(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==Bk)throw t;he("LocalStore","Unexpectedly lost primary lease")}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,s)=>{n(e)}))}static reject(e){return new oe(((n,s)=>{s(e)}))}static waitFor(e){return new oe(((n,s)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(p=>s(p)))})),u=!0,l===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next((a=>a?oe.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new oe(((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next((v=>{u[g]=v,++f,f===l&&s(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new oe(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function Uk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dc(t){return t.name==="IndexedDbTransactionError"}class Um{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Um.ce=-1;const S2=-1;function Fm(t){return t==null}function nm(t){return t===0&&1/t==-1/0}function Fk(t){return typeof t=="number"&&Number.isInteger(t)&&!nm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const zE="";function Hk(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=I4(e)),e=qk(t.get(n),e);return I4(e)}function qk(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case zE:n+="";break;default:n+=l}}return n}function I4(t){return t+zE+""}function k4(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Tt{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wf(this.root,e,this.comparator,!0)}}class wf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??gn.RED,this.left=a??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new gn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return gn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new D4(this.data.getIterator())}getIteratorFrom(e){return new D4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class D4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ni{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new ni([])}unionWith(e){let n=new en(yn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class FE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new FE("Invalid base64 string: "+l):l}})(e);return new vn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const $k=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(t){if(nt(!!t,39018),typeof t=="string"){let e=0;const n=$k.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ga(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}const HE="server_timestamp",qE="__type__",$E="__previous_value__",GE="__local_write_time__";function C2(t){return(t?.mapValue?.fields||{})[qE]?.stringValue===HE}function Hm(t){const e=t.mapValue.fields[$E];return C2(e)?Hm(e):e}function Zu(t){const e=pa(t.mapValue.fields[GE].timestampValue);return new gt(e.seconds,e.nanos)}class Gk{constructor(e,n,s,a,l,u,f,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const im="(default)";class Ju{constructor(e,n){this.projectId=e,this.database=n||im}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===im}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}const KE="__type__",Kk="__max__",bf={mapValue:{}},YE="__vector__",sm="value";function ya(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?C2(t)?4:Qk(t)?9007199254740991:Yk(t)?10:11:Te(28295,{value:t})}function Is(t,e){if(t===e)return!0;const n=ya(t);if(n!==ya(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zu(t).isEqual(Zu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=pa(a.timestampValue),f=pa(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ga(a.bytesValue).isEqual(ga(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Mt(a.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(a.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Mt(a.integerValue)===Mt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Mt(a.doubleValue),f=Mt(l.doubleValue);return u===f?nm(u)===nm(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Kl(t.arrayValue.values||[],e.arrayValue.values||[],Is);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(k4(u)!==k4(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!Is(u[p],f[p])))return!1;return!0})(t,e);default:return Te(52216,{left:t})}}function ed(t,e){return(t.values||[]).find((n=>Is(n,e)))!==void 0}function Yl(t,e){if(t===e)return 0;const n=ya(t),s=ya(e);if(n!==s)return qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Mt(l.integerValue||l.doubleValue),p=Mt(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(t,e);case 3:return M4(t.timestampValue,e.timestampValue);case 4:return M4(Zu(t),Zu(e));case 5:return hy(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=ga(l),p=ga(u);return f.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let g=0;g<f.length&&g<p.length;g++){const v=qe(f[g],p[g]);if(v!==0)return v}return qe(f.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=qe(Mt(l.latitude),Mt(u.latitude));return f!==0?f:qe(Mt(l.longitude),Mt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return P4(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},p=u.fields||{},g=f[sm]?.arrayValue,v=p[sm]?.arrayValue,x=qe(g?.values?.length||0,v?.values?.length||0);return x!==0?x:P4(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===bf.mapValue&&u===bf.mapValue)return 0;if(l===bf.mapValue)return 1;if(u===bf.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),g=u.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let x=0;x<p.length&&x<v.length;++x){const E=hy(p[x],v[x]);if(E!==0)return E;const N=Yl(f[p[x]],g[v[x]]);if(N!==0)return N}return qe(p.length,v.length)})(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function M4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=pa(t),s=pa(e),a=qe(n.seconds,s.seconds);return a!==0?a:qe(n.nanos,s.nanos)}function P4(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Yl(n[a],s[a]);if(l)return l}return qe(n.length,s.length)}function Ql(t){return fy(t)}function fy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=pa(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ga(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return we.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=fy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${fy(n.fields[u])}`;return a+"}"})(t.mapValue):Te(61005,{value:t})}function Pf(t){switch(ya(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hm(t);return e?16+Pf(e):16;case 5:return 2*t.stringValue.length;case 6:return ga(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Pf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Ta(s.fields,((l,u)=>{a+=l.length+Pf(u)})),a})(t.mapValue);default:throw Te(13486,{value:t})}}function my(t){return!!t&&"integerValue"in t}function N2(t){return!!t&&"arrayValue"in t}function V4(t){return!!t&&"nullValue"in t}function O4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vf(t){return!!t&&"mapValue"in t}function Yk(t){return(t?.mapValue?.fields||{})[KE]?.stringValue===YE}function Lu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ta(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Lu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lu(t.arrayValue.values[n]);return e}return{...t}}function Qk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Kk}class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(n)}setAll(e){let n=yn.emptyPath(),s={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=Lu(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Vf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ta(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new qn(Lu(this.value))}}function QE(t){const e=[];return Ta(t.fields,((n,s)=>{const a=new yn([n]);if(Vf(s)){const l=QE(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new ni(e)}class En{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new En(e,0,Ce.min(),Ce.min(),Ce.min(),qn.empty(),0)}static newFoundDocument(e,n,s,a){return new En(e,1,n,Ce.min(),s,a,0)}static newNoDocument(e,n){return new En(e,2,n,Ce.min(),Ce.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,Ce.min(),Ce.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rm{constructor(e,n){this.position=e,this.inclusive=n}}function L4(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=we.comparator(we.fromName(u.referenceValue),n.key):s=Yl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function B4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Is(t.position[n],e.position[n]))return!1;return!0}class am{constructor(e,n="asc"){this.field=e,this.dir=n}}function Xk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class XE{}class Jt extends XE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Zk(e,n,s):n==="array-contains"?new tD(e,s):n==="in"?new nD(e,s):n==="not-in"?new iD(e,s):n==="array-contains-any"?new sD(e,s):new Jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Jk(e,s):new eD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yl(n,this.value)):n!==null&&ya(this.value)===ya(n)&&this.matchesComparison(Yl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ks extends XE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ks(e,n)}matches(e){return WE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WE(t){return t.op==="and"}function ZE(t){return Wk(t)&&WE(t)}function Wk(t){for(const e of t.filters)if(e instanceof ks)return!1;return!0}function py(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+Ql(t.value);if(ZE(t))return t.filters.map((e=>py(e))).join(",");{const e=t.filters.map((n=>py(n))).join(",");return`${t.op}(${e})`}}function JE(t,e){return t instanceof Jt?(function(s,a){return a instanceof Jt&&s.op===a.op&&s.field.isEqual(a.field)&&Is(s.value,a.value)})(t,e):t instanceof ks?(function(s,a){return a instanceof ks&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,f)=>l&&JE(u,a.filters[f])),!0):!1})(t,e):void Te(19439)}function eT(t){return t instanceof Jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ql(n.value)}`})(t):t instanceof ks?(function(n){return n.op.toString()+" {"+n.getFilters().map(eT).join(" ,")+"}"})(t):"Filter"}class Zk extends Jt{constructor(e,n,s){super(e,n,s),this.key=we.fromName(s.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class Jk extends Jt{constructor(e,n){super(e,"in",n),this.keys=tT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class eD extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=tT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function tT(t,e){return(e.arrayValue?.values||[]).map((n=>we.fromName(n.referenceValue)))}class tD extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return N2(n)&&ed(n.arrayValue,this.value)}}class nD extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ed(this.value.arrayValue,n)}}class iD extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ed(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ed(this.value.arrayValue,n)}}class sD extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!N2(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ed(this.value.arrayValue,s)))}}class rD{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function z4(t,e=null,n=[],s=[],a=null,l=null,u=null){return new rD(t,e,n,s,a,l,u)}function R2(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>py(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Fm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ql(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ql(s))).join(",")),e.Te=n}return e.Te}function j2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Xk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!B4(t.startAt,e.startAt)&&B4(t.endAt,e.endAt)}function gy(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class qm{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aD(t,e,n,s,a,l,u,f){return new qm(t,e,n,s,a,l,u,f)}function I2(t){return new qm(t)}function U4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oD(t){return t.collectionGroup!==null}function Bu(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new en(yn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new am(l,s))})),n.has(yn.keyField().canonicalString())||e.Ie.push(new am(yn.keyField(),s))}return e.Ie}function Ts(t){const e=je(t);return e.Ee||(e.Ee=lD(e,Bu(t))),e.Ee}function lD(t,e){if(t.limitType==="F")return z4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new am(a.field,l)}));const n=t.endAt?new rm(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new rm(t.startAt.position,t.startAt.inclusive):null;return z4(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function yy(t,e,n){return new qm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $m(t,e){return j2(Ts(t),Ts(e))&&t.limitType===e.limitType}function nT(t){return`${R2(Ts(t))}|lt:${t.limitType}`}function Sl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>eT(a))).join(", ")}]`),Fm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Ql(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Ql(a))).join(",")),`Target(${s})`})(Ts(t))}; limitType=${t.limitType})`}function Gm(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):we.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Bu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,f,p){const g=L4(u,f,p);return u.inclusive?g<=0:g<0})(s.startAt,Bu(s),a)||s.endAt&&!(function(u,f,p){const g=L4(u,f,p);return u.inclusive?g>=0:g>0})(s.endAt,Bu(s),a))})(t,e)}function cD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iT(t){return(e,n)=>{let s=!1;for(const a of Bu(t)){const l=uD(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function uD(t,e,n){const s=t.field.isKeyField()?we.comparator(e.key,n.key):(function(l,u,f){const p=u.data.field(l),g=f.data.field(l);return p!==null&&g!==null?Yl(p,g):Te(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:t.dir})}}class Ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return UE(this.inner)}size(){return this.innerSize}}const dD=new Tt(we.comparator);function pr(){return dD}const sT=new Tt(we.comparator);function ku(...t){let e=sT;for(const n of t)e=e.insert(n.key,n);return e}function rT(t){let e=sT;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function uo(){return zu()}function aT(){return zu()}function zu(){return new Ro((t=>t.toString()),((t,e)=>t.isEqual(e)))}const hD=new Tt(we.comparator),fD=new en(we.comparator);function $e(...t){let e=fD;for(const n of t)e=e.add(n);return e}const mD=new en(qe);function pD(){return mD}function k2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nm(e)?"-0":e}}function oT(t){return{integerValue:""+t}}function lT(t,e){return Fk(e)?oT(e):k2(t,e)}class Km{constructor(){this._=void 0}}function gD(t,e,n){return t instanceof om?(function(a,l){const u={fields:{[qE]:{stringValue:HE},[GE]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&C2(l)&&(l=Hm(l)),l&&(u.fields[$E]=l),{mapValue:u}})(n,e):t instanceof Xl?uT(t,e):t instanceof td?dT(t,e):(function(a,l){const u=cT(a,l),f=F4(u)+F4(a.Ae);return my(u)&&my(a.Ae)?oT(f):k2(a.serializer,f)})(t,e)}function yD(t,e,n){return t instanceof Xl?uT(t,e):t instanceof td?dT(t,e):n}function cT(t,e){return t instanceof nd?(function(s){return my(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class om extends Km{}class Xl extends Km{constructor(e){super(),this.elements=e}}function uT(t,e){const n=hT(e);for(const s of t.elements)n.some((a=>Is(a,s)))||n.push(s);return{arrayValue:{values:n}}}class td extends Km{constructor(e){super(),this.elements=e}}function dT(t,e){let n=hT(e);for(const s of t.elements)n=n.filter((a=>!Is(a,s)));return{arrayValue:{values:n}}}class nd extends Km{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function F4(t){return Mt(t.integerValue||t.doubleValue)}function hT(t){return N2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class fT{constructor(e,n){this.field=e,this.transform=n}}function vD(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Xl&&a instanceof Xl||s instanceof td&&a instanceof td?Kl(s.elements,a.elements,Is):s instanceof nd&&a instanceof nd?Is(s.Ae,a.Ae):s instanceof om&&a instanceof om})(t.transform,e.transform)}class xD{constructor(e,n){this.version=e,this.transformResults=n}}class Ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Of(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ym{}function mT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new D2(t.key,Ci.none()):new _d(t.key,t.data,Ci.none());{const n=t.data,s=qn.empty();let a=new en(yn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Aa(t.key,s,new ni(a.toArray()),Ci.none())}}function wD(t,e,n){t instanceof _d?(function(a,l,u){const f=a.value.clone(),p=q4(a.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Aa?(function(a,l,u){if(!Of(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=q4(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(pT(a)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Uu(t,e,n,s){return t instanceof _d?(function(l,u,f,p){if(!Of(l.precondition,u))return f;const g=l.value.clone(),v=$4(l.fieldTransforms,p,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof Aa?(function(l,u,f,p){if(!Of(l.precondition,u))return f;const g=$4(l.fieldTransforms,p,u),v=u.data;return v.setAll(pT(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((x=>x.field)))})(t,e,n,s):(function(l,u,f){return Of(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function bD(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=cT(s.transform,a||null);l!=null&&(n===null&&(n=qn.empty()),n.set(s.field,l))}return n||null}function H4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Kl(s,a,((l,u)=>vD(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _d extends Ym{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Aa extends Ym{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function pT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function q4(t,e,n){const s=new Map;nt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,yD(u,f,n[a]))}return s}function $4(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,gD(l,u,e))}return s}class D2 extends Ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _D extends Ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ED{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&wD(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Uu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Uu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=aT();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const p=mT(u,f);p!==null&&s.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Ce.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&Kl(this.mutations,e.mutations,((n,s)=>H4(n,s)))&&Kl(this.baseMutations,e.baseMutations,((n,s)=>H4(n,s)))}}class M2{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){nt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return hD})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new M2(e,n,s,a)}}class TD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AD{constructor(e,n){this.count=e,this.unchangedNames=n}}var $t,Ye;function SD(t){switch(t){case le.OK:return Te(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function gT(t){if(t===void 0)return mr("GRPC error has no .code"),le.UNKNOWN;switch(t){case $t.OK:return le.OK;case $t.CANCELLED:return le.CANCELLED;case $t.UNKNOWN:return le.UNKNOWN;case $t.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case $t.INTERNAL:return le.INTERNAL;case $t.UNAVAILABLE:return le.UNAVAILABLE;case $t.UNAUTHENTICATED:return le.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case $t.NOT_FOUND:return le.NOT_FOUND;case $t.ALREADY_EXISTS:return le.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return le.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case $t.ABORTED:return le.ABORTED;case $t.OUT_OF_RANGE:return le.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return le.UNIMPLEMENTED;case $t.DATA_LOSS:return le.DATA_LOSS;default:return Te(39323,{code:t})}}(Ye=$t||($t={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function CD(){return new TextEncoder}const ND=new ha([4294967295,4294967295],0);function G4(t){const e=CD().encode(t),n=new jE;return n.update(e),new Uint8Array(n.digest())}function K4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ha([n,s],0),new ha([a,l],0)]}class P2{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Du(`Invalid padding: ${n}`);if(s<0)throw new Du(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Du(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Du(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ha.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(ha.fromNumber(s)));return a.compare(ND)===1&&(a=new ha([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=G4(e),[s,a]=K4(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new P2(l,a,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=G4(e),[s,a]=K4(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qm{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Ed.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Qm(Ce.min(),a,new Tt(qe),pr(),$e())}}class Ed{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ed(s,n,$e(),$e(),$e())}}class Lf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class yT{constructor(e,n){this.targetId=e,this.Ce=n}}class vT{constructor(e,n,s=vn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Y4{constructor(){this.ve=0,this.Fe=Q4(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),s=$e();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Te(38017,{changeType:l})}})),new Ed(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Q4()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RD{constructor(e){this.Ge=e,this.ze=new Map,this.je=pr(),this.Je=_f(),this.He=_f(),this.Ye=new Tt(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(gy(l))if(s===0){const u=new we(l.path);this.et(n,u,En.newNoDocument(u,Ce.min()))}else nt(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=ga(s).toUint8Array()}catch(p){if(p instanceof FE)return Gl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new P2(u,a,l)}catch(p){return Gl(p instanceof Du?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&gy(f.target)){const p=new we(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,En.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=$e();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Qm(e,n,this.Ye,this.je,s);return this.je=pr(),this.Je=_f(),this.He=_f(),this.Ye=new Tt(qe),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Y4,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new en(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new en(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y4),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _f(){return new Tt(we.comparator)}function Q4(){return new Tt(we.comparator)}const jD={asc:"ASCENDING",desc:"DESCENDING"},ID={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kD={and:"AND",or:"OR"};class DD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vy(t,e){return t.useProto3Json||Fm(e)?e:{value:e}}function lm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MD(t,e){return lm(t,e.toTimestamp())}function As(t){return nt(!!t,49232),Ce.fromTimestamp((function(n){const s=pa(n);return new gt(s.seconds,s.nanos)})(t))}function V2(t,e){return xy(t,e).canonicalString()}function xy(t,e){const n=(function(a){return new pt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function wT(t){const e=pt.fromString(t);return nt(AT(e),10190,{key:e.toString()}),e}function wy(t,e){return V2(t.databaseId,e.path)}function j0(t,e){const n=wT(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(_T(n))}function bT(t,e){return V2(t.databaseId,e)}function PD(t){const e=wT(t);return e.length===4?pt.emptyPath():_T(e)}function by(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _T(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function X4(t,e,n){return{name:wy(t,e),fields:n.value.mapValue.fields}}function VD(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(nt(v===void 0||typeof v=="string",58123),vn.fromBase64String(v||"")):(nt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),vn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(g){const v=g.code===void 0?le.UNKNOWN:gT(g.code);return new ge(v,g.message||"")})(u);n=new vT(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=j0(t,s.document.name),l=As(s.document.updateTime),u=s.document.createTime?As(s.document.createTime):Ce.min(),f=new qn({mapValue:{fields:s.document.fields}}),p=En.newFoundDocument(a,l,u,f),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Lf(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=j0(t,s.document),l=s.readTime?As(s.readTime):Ce.min(),u=En.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Lf([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=j0(t,s.document),l=s.removedTargetIds||[];n=new Lf([],l,a,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new AD(a,l),f=s.targetId;n=new yT(f,u)}}return n}function OD(t,e){let n;if(e instanceof _d)n={update:X4(t,e.key,e.value)};else if(e instanceof D2)n={delete:wy(t,e.key)};else if(e instanceof Aa)n={update:X4(t,e.key,e.data),updateMask:GD(e.fieldMask)};else{if(!(e instanceof _D))return Te(16599,{Vt:e.type});n={verify:wy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof om)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Xl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof td)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof nd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Te(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:MD(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)})(t,e.precondition)),n}function LD(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?As(a.updateTime):As(l);return u.isEqual(Ce.min())&&(u=As(l)),new xD(u,a.transformResults||[])})(n,e)))):[]}function BD(t,e){return{documents:[bT(t,e.path)]}}function zD(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=bT(t,a);const l=(function(g){if(g.length!==0)return TT(ks.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(E){return{field:Cl(E.field),direction:HD(E.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=vy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function UD(t){let e=PD(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){nt(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(x){const E=ET(x);return E instanceof ks&&ZE(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(x){return x.map((E=>(function(D){return new am(Nl(D.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(n.orderBy));let f=null;n.limit&&(f=(function(x){let E;return E=typeof x=="object"?x.value:x,Fm(E)?null:E})(n.limit));let p=null;n.startAt&&(p=(function(x){const E=!!x.before,N=x.values||[];return new rm(N,E)})(n.startAt));let g=null;return n.endAt&&(g=(function(x){const E=!x.before,N=x.values||[];return new rm(N,E)})(n.endAt)),aD(e,a,u,l,f,"F",p,g)}function FD(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ET(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Nl(n.unaryFilter.field);return Jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Nl(n.unaryFilter.field);return Jt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Nl(n.unaryFilter.field);return Jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Nl(n.unaryFilter.field);return Jt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Jt.create(Nl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ks.create(n.compositeFilter.filters.map((s=>ET(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(t):Te(30097,{filter:t})}function HD(t){return jD[t]}function qD(t){return ID[t]}function $D(t){return kD[t]}function Cl(t){return{fieldPath:t.canonicalString()}}function Nl(t){return yn.fromServerFormat(t.fieldPath)}function TT(t){return t instanceof Jt?(function(n){if(n.op==="=="){if(O4(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NAN"}};if(V4(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(O4(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NOT_NAN"}};if(V4(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cl(n.field),op:qD(n.op),value:n.value}}})(t):t instanceof ks?(function(n){const s=n.getFilters().map((a=>TT(a)));return s.length===1?s[0]:{compositeFilter:{op:$D(n.op),filters:s}}})(t):Te(54877,{filter:t})}function GD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function AT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class aa{constructor(e,n,s,a,l=Ce.min(),u=Ce.min(),f=vn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class KD{constructor(e){this.yt=e}}function YD(t){const e=UD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yy(e,e.limit,"L"):e}class QD{constructor(){this.Cn=new XD}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(ma.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(ma.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class XD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new en(pt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new en(pt.comparator)).toArray()}}const W4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ST=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(ST,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);class Wl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wl(0)}static cr(){return new Wl(-1)}}const Z4="LruGarbageCollector",WD=1048576;function J4([t,e],[n,s]){const a=qe(t,n);return a===0?qe(e,s):a}class ZD{constructor(e){this.Ir=e,this.buffer=new en(J4),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();J4(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(Z4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){dc(n)?he(Z4,"Ignoring IndexedDB error during garbage collection: ",n):await uc(n)}await this.Vr(3e5)}))}}class eM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Um.ce);const s=new ZD(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(W4)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W4):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,f,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,u=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(s=x,f=Date.now(),this.removeTargets(e,s,n)))).next((x=>(l=x,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((x=>(g=Date.now(),Al()<=He.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${x} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:x}))))}}function tM(t,e){return new eM(t,e)}class nM{constructor(){this.changes=new Ro((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class sM{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Uu(s.mutation,a,ni.empty(),gt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,$e()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=$e()){const a=uo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=ku();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=uo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,$e())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,a){let l=pr();const u=zu(),f=(function(){return zu()})();return n.forEach(((p,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Aa)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),Uu(v.mutation,g,v.mutation.getFieldMask(),gt.now())):u.set(g.key,ni.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>u.set(g,v))),n.forEach(((g,v)=>f.set(g,new iM(v,u.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=zu();let a=new Tt(((u,f)=>u-f)),l=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||ni.empty();v=f.applyToLocalView(g,v),s.set(p,v);const x=(a.get(f.batchId)||$e()).add(p);a=a.insert(f.batchId,x)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,v=p.value,x=aT();v.forEach((E=>{if(!l.has(E)){const N=mT(n.get(E),s.get(E));N!==null&&x.set(E,N),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,x))}return oe.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):oe.resolve(uo());let f=Wu,p=l;return u.next((g=>oe.forEach(g,((v,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),l.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{p=p.insert(v,E)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,$e()))).next((v=>({batchId:f,changes:rT(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next((s=>{let a=ku();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=ku();return this.indexManager.getCollectionParents(e,l).next((f=>oe.forEach(f,(p=>{const g=(function(x,E){return new qm(E,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((v=>{v.forEach(((x,E)=>{u=u.insert(x,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((p,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,En.newInvalidDocument(v)))}));let f=ku();return u.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&Uu(v.mutation,g,ni.empty(),gt.now()),Gm(n,g)&&(f=f.insert(p,g))})),f}))}}class rM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:As(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:YD(a.bundledQuery),readTime:As(a.readTime)}})(n)),oe.resolve()}}class aM{constructor(){this.overlays=new Tt(we.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=uo();return oe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),oe.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const a=uo(),l=n.length+1,u=new we(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Tt(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=uo(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=uo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>f.set(g,v))),!(f.size()>=a)););return oe.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new TD(n,s));let l=this.qr.get(n);l===void 0&&(l=$e(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class oM{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}class O2{constructor(){this.Qr=new en(an.$r),this.Ur=new en(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new an(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new an(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new we(new pt([])),s=new an(n,e),a=new an(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new we(new pt([])),s=new an(n,e),a=new an(n,e+1);let l=$e();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new an(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class an{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return we.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||we.comparator(e.key,n.key)}}class lM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new en(an.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new ED(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Zr=this.Zr.add(new an(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?S2:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new an(n,0),a=new an(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const f=this.Xr(u.Yr);l.push(f)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new en(qe);return n.forEach((a=>{const l=new an(a,0),u=new an(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{s=s.add(f.Yr)}))})),oe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;we.isDocumentKey(l)||(l=l.child(""));const u=new an(new we(l),0);let f=new en(qe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(f=f.add(p.Yr)),!0)}),u),oe.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){nt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return oe.forEach(n.mutations,(a=>{const l=new an(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new an(n,0),a=this.Zr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class cM{constructor(e){this.ri=e,this.docs=(function(){return new Tt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let s=pr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():En.newInvalidDocument(a))})),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=pr();const u=n.path,f=new we(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||Lk(Ok(v),s)<=0||(a.has(v.key)||Gm(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Te(9500)}ii(e,n){return oe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new uM(this)}getSize(e){return oe.resolve(this.size)}}class uM extends nM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class dM{constructor(e){this.persistence=e,this.si=new Ro((n=>R2(n)),j2),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new O2,this.targetCount=0,this.ai=Wl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),oe.waitFor(l).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}class CT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Um(0),this.li=!1,this.li=!0,this.hi=new oM,this.referenceDelegate=e(this),this.Pi=new dM(this),this.indexManager=new QD,this.remoteDocumentCache=(function(a){return new cM(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new KD(n),this.Ii=new rM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new lM(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const a=new hM(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return oe.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class hM extends zk{constructor(e){super(),this.currentSequenceNumber=e}}class L2{constructor(e){this.persistence=e,this.Ri=new O2,this.Vi=null}static mi(e){return new L2(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(s=>{const a=we.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class cm{constructor(e,n){this.persistence=e,this.pi=new Ro((s=>Hk(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=tM(this,n)}static mi(e,n){return new cm(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?oe.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((f=>{f||(s++,l.removeEntry(u,Ce.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pf(e.data.value)),n}br(e,n,s){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return oe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class B2{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=$e(),a=$e();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new B2(e,n.fromCache,s,a)}}class fM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vR()?8:Uk(An())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new fM;return this.Ss(e,n,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Al()<=He.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Sl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Al()<=He.DEBUG&&he("QueryEngine","Query:",Sl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Al()<=He.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Sl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ts(n))):oe.resolve())}ys(e,n){if(U4(n))return oe.resolve(null);let s=Ts(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=yy(n,null,"F"),s=Ts(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=$e(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,f);return this.Cs(n,g,u,p.readTime)?this.ys(e,yy(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,a){return U4(n)||a.isEqual(Ce.min())?oe.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?oe.resolve(null):(Al()<=He.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Sl(n)),this.vs(e,u,n,Vk(a,Wu)).next((f=>f)))}))}Ds(e,n){let s=new en(iT(e));return n.forEach(((a,l)=>{Gm(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Al()<=He.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Sl(n)),this.ps.getDocumentsMatchingQuery(e,n,ma.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const z2="LocalStore",pM=3e8;class gM{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Tt(qe),this.xs=new Ro((l=>R2(l)),j2),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function yM(t,e,n,s){return new gM(t,e,n,s)}async function NT(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let p=$e();for(const g of a){u.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:f})))}))}))}function vM(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,g,v){const x=g.batch,E=x.keys();let N=oe.resolve();return E.forEach((D=>{N=N.next((()=>v.getEntry(p,D))).next((F=>{const z=g.docVersions.get(D);nt(z!==null,48541),F.version.compareTo(z)<0&&(x.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),v.addEntry(F)))}))})),N.next((()=>f.mutationQueue.removeMutationBatch(p,x)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let p=$e();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function RT(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function xM(t,e){const n=je(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((v,x)=>{const E=a.get(x);if(!E)return;f.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,x))));let N=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?N=N.withResumeToken(vn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,s)),a=a.insert(x,N),(function(F,z,H){return F.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=pM?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(E,N,v)&&f.push(n.Pi.updateTargetData(l,N))}));let p=pr(),g=$e();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(wM(l,u,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(Ce.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((x=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(v)}return oe.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.Ms=a,l)))}function wM(t,e,n){let s=$e(),a=$e();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=pr();return n.forEach(((f,p)=>{const g=l.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):he(z2,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)})),{ks:u,qs:a}}))}function bM(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=S2),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function _M(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,oe.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new aa(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function _y(t,e,n){const s=je(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!dc(u))throw u;he(z2,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function e3(t,e,n){const s=je(t);let a=Ce.min(),l=$e();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,v){const x=je(p),E=x.xs.get(v);return E!==void 0?oe.resolve(x.Ms.get(E)):x.Pi.getTargetData(g,v)})(s,u,Ts(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,f.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:Ce.min(),n?l:$e()))).next((f=>(EM(s,cD(e),f),{documents:f,Qs:l})))))}function EM(t,e,n){let s=t.Os.get(e)||Ce.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class t3{constructor(){this.activeTargetIds=pD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TM{constructor(){this.Mo=new t3,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new t3,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AM{Oo(e){}shutdown(){}}const n3="ConnectivityMonitor";class i3{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(n3,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(n3,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ef=null;function Ey(){return Ef===null?Ef=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ef++,"0x"+Ef.toString(16)}const I0="RestConnection",SM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===im?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=Ey(),f=this.zo(e,n.toUriEncodedString());he(I0,`Sending RPC '${e}' ${u}:`,f,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:g}=new URL(f),v=ac(g);return this.Jo(e,f,p,s,v).then((x=>(he(I0,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw Gl(I0,`RPC '${e}' ${u} failed with error: `,x,"url: ",f,"request:",s),x}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=SM[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class NM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const bn="WebChannelConnection";class RM extends CM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=Ey();return new Promise(((f,p)=>{const g=new IE;g.setWithCredentials(!0),g.listenOnce(kE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Mf.NO_ERROR:const x=g.getResponseJson();he(bn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),f(x);break;case Mf.TIMEOUT:he(bn,`RPC '${e}' ${u} timed out`),p(new ge(le.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:const E=g.getStatus();if(he(bn,`RPC '${e}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const D=N?.error;if(D&&D.status&&D.message){const F=(function(H){const k=H.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(k)>=0?k:le.UNKNOWN})(D.status);p(new ge(F,D.message))}else p(new ge(le.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ge(le.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(bn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);he(bn,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=Ey(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=PE(),f=ME(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=l.join("");he(bn,`Creating RPC '${e}' stream ${a}: ${v}`,p);const x=u.createWebChannel(v,p);this.I_(x);let E=!1,N=!1;const D=new NM({Yo:z=>{N?he(bn,`Not sending because RPC '${e}' stream ${a} is closed:`,z):(E||(he(bn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),E=!0),he(bn,`RPC '${e}' stream ${a} sending:`,z),x.send(z))},Zo:()=>x.close()}),F=(z,H,k)=>{z.listen(H,(P=>{try{k(P)}catch(B){setTimeout((()=>{throw B}),0)}}))};return F(x,Iu.EventType.OPEN,(()=>{N||(he(bn,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),F(x,Iu.EventType.CLOSE,(()=>{N||(N=!0,he(bn,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(x))})),F(x,Iu.EventType.ERROR,(z=>{N||(N=!0,Gl(bn,`RPC '${e}' stream ${a} transport errored. Name:`,z.name,"Message:",z.message),D.a_(new ge(le.UNAVAILABLE,"The operation could not be completed")))})),F(x,Iu.EventType.MESSAGE,(z=>{if(!N){const H=z.data[0];nt(!!H,16349);const k=H,P=k?.error||k[0]?.error;if(P){he(bn,`RPC '${e}' stream ${a} received error:`,P);const B=P.status;let M=(function(T){const R=$t[T];if(R!==void 0)return gT(R)})(B),G=P.message;M===void 0&&(M=le.INTERNAL,G="Unknown error status: "+B+" with message "+P.message),N=!0,D.a_(new ge(M,G)),x.close()}else he(bn,`RPC '${e}' stream ${a} received:`,H),D.u_(H)}})),F(f,DE.STAT_EVENT,(z=>{z.stat===dy.PROXY?he(bn,`RPC '${e}' stream ${a} detected buffering proxy`):z.stat===dy.NOPROXY&&he(bn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function k0(){return typeof document<"u"?document:null}function Xm(t){return new DD(t,!0)}class jT{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const s3="PersistentStream";class IT{constructor(e,n,s,a,l,u,f,p){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ge(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(s3,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(s3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jM extends IT{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=VD(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ce.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?As(u.readTime):Ce.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=by(this.serializer),n.addTarget=(function(l,u){let f;const p=u.target;if(f=gy(p)?{documents:BD(l,p)}:{query:zD(l,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=xT(l,u.resumeToken);const g=vy(l,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ce.min())>0){f.readTime=lm(l,u.snapshotVersion.toTimestamp());const g=vy(l,u.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const s=FD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=by(this.serializer),n.removeTarget=e,this.q_(n)}}class IM extends IT{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LD(e.writeResults,e.commitTime),s=As(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=by(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>OD(this.serializer,s)))};this.q_(n)}}class kM{}class DM extends kM{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ge(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,xy(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(le.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,xy(n,s),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(le.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const To="RemoteStore";class PM{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{jo(this)&&(he(To,"Restarting streams for network reachability change."),await(async function(p){const g=je(p);g.Ea.add(4),await Td(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Wm(g)})(this))}))})),this.Ra=new MM(s,a)}}async function Wm(t){if(jo(t))for(const e of t.da)await e(!0)}async function Td(t){for(const e of t.da)await e(!1)}function kT(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),q2(n)?H2(n):hc(n).O_()&&F2(n,e))}function U2(t,e){const n=je(t),s=hc(n);n.Ia.delete(e),s.O_()&&DT(n,e),n.Ia.size===0&&(s.O_()?s.L_():jo(n)&&n.Ra.set("Unknown"))}function F2(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hc(t).Y_(e)}function DT(t,e){t.Va.Ue(e),hc(t).Z_(e)}function H2(t){t.Va=new RD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),hc(t).start(),t.Ra.ua()}function q2(t){return jo(t)&&!hc(t).x_()&&t.Ia.size>0}function jo(t){return je(t).Ea.size===0}function MT(t){t.Va=void 0}async function VM(t){t.Ra.set("Online")}async function OM(t){t.Ia.forEach(((e,n)=>{F2(t,e)}))}async function LM(t,e){MT(t),q2(t)?(t.Ra.ha(e),H2(t)):t.Ra.set("Unknown")}async function BM(t,e,n){if(t.Ra.set("Online"),e instanceof vT&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(s){he(To,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await um(t,s)}else if(e instanceof Lf?t.Va.Ze(e):e instanceof yT?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ce.min()))try{const s=await RT(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(vn.EMPTY_BYTE_STRING,v.snapshotVersion)),DT(l,p);const x=new aa(v.target,p,g,v.sequenceNumber);F2(l,x)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){he(To,"Failed to raise snapshot:",s),await um(t,s)}}async function um(t,e,n){if(!dc(e))throw e;t.Ea.add(1),await Td(t),t.Ra.set("Offline"),n||(n=()=>RT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(To,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Wm(t)}))}function PT(t,e){return e().catch((n=>um(t,n,e)))}async function Zm(t){const e=je(t),n=va(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:S2;for(;zM(e);)try{const a=await bM(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,UM(e,a)}catch(a){await um(e,a)}VT(e)&&OT(e)}function zM(t){return jo(t)&&t.Ta.length<10}function UM(t,e){t.Ta.push(e);const n=va(t);n.O_()&&n.X_&&n.ea(e.mutations)}function VT(t){return jo(t)&&!va(t).x_()&&t.Ta.length>0}function OT(t){va(t).start()}async function FM(t){va(t).ra()}async function HM(t){const e=va(t);for(const n of t.Ta)e.ea(n.mutations)}async function qM(t,e,n){const s=t.Ta.shift(),a=M2.from(s,e,n);await PT(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Zm(t)}async function $M(t,e){e&&va(t).X_&&await(async function(s,a){if((function(u){return SD(u)&&u!==le.ABORTED})(a.code)){const l=s.Ta.shift();va(s).B_(),await PT(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Zm(s)}})(t,e),VT(t)&&OT(t)}async function r3(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),he(To,"RemoteStore received new credentials");const s=jo(n);n.Ea.add(3),await Td(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wm(n)}async function GM(t,e){const n=je(t);e?(n.Ea.delete(2),await Wm(n)):e||(n.Ea.add(2),await Td(n),n.Ra.set("Unknown"))}function hc(t){return t.ma||(t.ma=(function(n,s,a){const l=je(n);return l.sa(),new jM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:VM.bind(null,t),t_:OM.bind(null,t),r_:LM.bind(null,t),H_:BM.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),q2(t)?H2(t):t.Ra.set("Unknown")):(await t.ma.stop(),MT(t))}))),t.ma}function va(t){return t.fa||(t.fa=(function(n,s,a){const l=je(n);return l.sa(),new IM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:FM.bind(null,t),r_:$M.bind(null,t),ta:HM.bind(null,t),na:qM.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Zm(t)):(await t.fa.stop(),t.Ta.length>0&&(he(To,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class $2{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new $2(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G2(t,e){if(mr("AsyncQueue",`${e}: ${t}`),dc(t))return new ge(le.UNAVAILABLE,`${e}: ${t}`);throw t}class zl{static emptySet(e){return new zl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||we.comparator(n.key,s.key):(n,s)=>we.comparator(n.key,s.key),this.keyedMap=ku(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new zl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class a3{constructor(){this.ga=new Tt(we.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Zl{constructor(e,n,s,a,l,u,f,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Zl(e,n,zl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$m(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class KM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class YM{constructor(){this.queries=o3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=je(n),l=a.queries;a.queries=o3(),l.forEach(((u,f)=>{for(const p of f.Sa)p.onError(s)}))})(this,new ge(le.ABORTED,"Firestore shutting down"))}}function o3(){return new Ro((t=>nT(t)),$m)}async function LT(t,e){const n=je(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new KM,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=G2(u,`Initialization of query '${Sl(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&K2(n)}async function BT(t,e){const n=je(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function QM(t,e){const n=je(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.Sa)f.Fa(a)&&(s=!0);u.wa=a}}s&&K2(n)}function XM(t,e,n){const s=je(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function K2(t){t.Ca.forEach((e=>{e.next()}))}var Ty,l3;(l3=Ty||(Ty={})).Ma="default",l3.Cache="cache";class zT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Zl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ty.Cache}}class UT{constructor(e){this.key=e}}class FT{constructor(e){this.key=e}}class WM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=iT(e),this.tu=new zl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new a3,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,x)=>{const E=a.get(v),N=Gm(this.query,x)?x:null,D=!!E&&this.mutatedKeys.has(E.key),F=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let z=!1;E&&N?E.data.isEqual(N.data)?D!==F&&(s.track({type:3,doc:N}),z=!0):this.su(E,N)||(s.track({type:2,doc:N}),z=!0,(p&&this.eu(N,p)>0||g&&this.eu(N,g)<0)&&(f=!0)):!E&&N?(s.track({type:0,doc:N}),z=!0):E&&!N&&(s.track({type:1,doc:E}),z=!0,(p||g)&&(f=!0)),z&&(N?(u=u.add(N),l=F?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,x)=>(function(N,D){const F=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:z})}};return F(N)-F(D)})(v.type,x.type)||this.eu(v.doc,x.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new Zl(this.query,e.tu,l,u,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new a3,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new FT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new UT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Zl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Y2="SyncEngine";class ZM{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class JM{constructor(e){this.key=e,this.hu=!1}}class eP{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ro((f=>nT(f)),$m),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(we.comparator),this.Au=new Map,this.Ru=new O2,this.Vu={},this.mu=new Map,this.fu=Wl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tP(t,e,n=!0){const s=YT(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await HT(s,e,n,!0),a}async function nP(t,e){const n=YT(t);await HT(n,e,!0,!1)}async function HT(t,e,n,s){const a=await _M(t.localStore,Ts(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await iP(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&kT(t.remoteStore,a),f}async function iP(t,e,n,s,a){t.pu=(x,E,N)=>(async function(F,z,H,k){let P=z.view.ru(H);P.Cs&&(P=await e3(F.localStore,z.query,!1).then((({documents:S})=>z.view.ru(S,P))));const B=k&&k.targetChanges.get(z.targetId),M=k&&k.targetMismatches.get(z.targetId)!=null,G=z.view.applyChanges(P,F.isPrimaryClient,B,M);return u3(F,z.targetId,G.au),G.snapshot})(t,x,E,N);const l=await e3(t.localStore,e,!0),u=new WM(e,l.Qs),f=u.ru(l.documents),p=Ed.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=u.applyChanges(f,t.isPrimaryClient,p);u3(t,n,g.au);const v=new ZM(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function sP(t,e,n){const s=je(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!$m(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await _y(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&U2(s.remoteStore,a.targetId),Ay(s,a.targetId)})).catch(uc)):(Ay(s,a.targetId),await _y(s.localStore,a.targetId,!0))}async function rP(t,e){const n=je(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),U2(n.remoteStore,s.targetId))}async function aP(t,e,n){const s=fP(t);try{const a=await(function(u,f){const p=je(u),g=gt.now(),v=f.reduce(((N,D)=>N.add(D.key)),$e());let x,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let D=pr(),F=$e();return p.Ns.getEntries(N,v).next((z=>{D=z,D.forEach(((H,k)=>{k.isValidDocument()||(F=F.add(H))}))})).next((()=>p.localDocuments.getOverlayedDocuments(N,D))).next((z=>{x=z;const H=[];for(const k of f){const P=bD(k,x.get(k.key).overlayedDocument);P!=null&&H.push(new Aa(k.key,P,QE(P.value.mapValue),Ci.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,H,f)})).next((z=>{E=z;const H=z.applyToLocalDocumentSet(x,F);return p.documentOverlayCache.saveOverlays(N,z.batchId,H)}))})).then((()=>({batchId:E.batchId,changes:rT(x)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,f,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new Tt(qe)),g=g.insert(f,p),u.Vu[u.currentUser.toKey()]=g})(s,a.batchId,n),await Ad(s,a.changes),await Zm(s.remoteStore)}catch(a){const l=G2(a,"Failed to persist write");n.reject(l)}}async function qT(t,e){const n=je(t);try{const s=await xM(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?nt(u.hu,14607):a.removedDocuments.size>0&&(nt(u.hu,42227),u.hu=!1))})),await Ad(n,s,e)}catch(s){await uc(s)}}function c3(t,e,n){const s=je(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const p=je(u);p.onlineState=f;let g=!1;p.queries.forEach(((v,x)=>{for(const E of x.Sa)E.va(f)&&(g=!0)})),g&&K2(p)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function oP(t,e,n){const s=je(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new Tt(we.comparator);u=u.insert(l,En.newNoDocument(l,Ce.min()));const f=$e().add(l),p=new Qm(Ce.min(),new Map,new Tt(qe),u,f);await qT(s,p),s.du=s.du.remove(l),s.Au.delete(e),Q2(s)}else await _y(s.localStore,e,!1).then((()=>Ay(s,e,n))).catch(uc)}async function lP(t,e){const n=je(t),s=e.batch.batchId;try{const a=await vM(n.localStore,e);GT(n,s,null),$T(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ad(n,a)}catch(a){await uc(a)}}async function cP(t,e,n){const s=je(t);try{const a=await(function(u,f){const p=je(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,f).next((x=>(nt(x!==null,37113),v=x.keys(),p.mutationQueue.removeMutationBatch(g,x)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);GT(s,e,n),$T(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ad(s,a)}catch(a){await uc(a)}}function $T(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function GT(t,e,n){const s=je(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Ay(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||KT(t,s)}))}function KT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(U2(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Q2(t))}function u3(t,e,n){for(const s of n)s instanceof UT?(t.Ru.addReference(s.key,e),uP(t,s)):s instanceof FT?(he(Y2,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||KT(t,s.key)):Te(19791,{wu:s})}function uP(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(he(Y2,"New document in limbo: "+n),t.Eu.add(s),Q2(t))}function Q2(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new we(pt.fromString(e)),s=t.fu.next();t.Au.set(s,new JM(n)),t.du=t.du.insert(n,s),kT(t.remoteStore,new aa(Ts(I2(n.path)),s,"TargetPurposeLimboResolution",Um.ce))}}async function Ad(t,e,n){const s=je(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,p)=>{u.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){a.push(g);const v=B2.As(p.targetId,g);l.push(v)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(p,g){const v=je(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>oe.forEach(g,(E=>oe.forEach(E.Es,(N=>v.persistence.referenceDelegate.addReference(x,E.targetId,N))).next((()=>oe.forEach(E.ds,(N=>v.persistence.referenceDelegate.removeReference(x,E.targetId,N)))))))))}catch(x){if(!dc(x))throw x;he(z2,"Failed to update sequence numbers: "+x)}for(const x of g){const E=x.targetId;if(!x.fromCache){const N=v.Ms.get(E),D=N.snapshotVersion,F=N.withLastLimboFreeSnapshotVersion(D);v.Ms=v.Ms.insert(E,F)}}})(s.localStore,l))}async function dP(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){he(Y2,"User change. New user:",e.toKey());const s=await NT(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new ge(le.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ad(n,s.Ls)}}function hP(t,e){const n=je(t),s=n.Au.get(e);if(s&&s.hu)return $e().add(s.key);{let a=$e();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function YT(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oP.bind(null,e),e.Pu.H_=QM.bind(null,e.eventManager),e.Pu.yu=XM.bind(null,e.eventManager),e}function fP(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cP.bind(null,e),e}class dm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return yM(this.persistence,new mM,e.initialUser,this.serializer)}Cu(e){return new CT(L2.mi,this.serializer)}Du(e){return new TM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dm.provider={build:()=>new dm};class mP extends dm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof cm,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new JD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new CT((s=>cm.mi(s,n)),this.serializer)}}class Sy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>c3(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=dP.bind(null,this.syncEngine),await GM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new YM})()}createDatastore(e){const n=Xm(e.databaseInfo.databaseId),s=(function(l){return new RM(l)})(e.databaseInfo);return(function(l,u,f,p){return new DM(l,u,f,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,f){return new PM(s,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>c3(this.syncEngine,n,0)),(function(){return i3.v()?new i3:new AM})())}createSyncEngine(e,n){return(function(a,l,u,f,p,g,v){const x=new eP(a,l,u,f,p,g);return v&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=je(n);he(To,"RemoteStore shutting down."),s.Ea.add(5),await Td(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sy.provider={build:()=>new Sy};class QT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const xa="FirestoreClient";class pP{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=_n.UNAUTHENTICATED,this.clientId=T2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{he(xa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(he(xa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=G2(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function D0(t,e){t.asyncQueue.verifyOperationInProgress(),he(xa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await NT(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function d3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gP(t);he(xa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>r3(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>r3(e.remoteStore,a))),t._onlineComponents=e}async function gP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(xa,"Using user provided OfflineComponentProvider");try{await D0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Gl("Error using user provided cache. Falling back to memory cache: "+n),await D0(t,new dm)}}else he(xa,"Using default OfflineComponentProvider"),await D0(t,new mP(void 0));return t._offlineComponents}async function XT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(xa,"Using user provided OnlineComponentProvider"),await d3(t,t._uninitializedComponentsProvider._online)):(he(xa,"Using default OnlineComponentProvider"),await d3(t,new Sy))),t._onlineComponents}function yP(t){return XT(t).then((e=>e.syncEngine))}async function WT(t){const e=await XT(t),n=e.eventManager;return n.onListen=tP.bind(null,e.syncEngine),n.onUnlisten=sP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rP.bind(null,e.syncEngine),n}function vP(t,e,n={}){const s=new ar;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,g){const v=new QT({next:E=>{v.Nu(),u.enqueueAndForget((()=>BT(l,x)));const N=E.docs.has(f);!N&&E.fromCache?g.reject(new ge(le.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&E.fromCache&&p&&p.source==="server"?g.reject(new ge(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),x=new zT(I2(f.path),v,{includeMetadataChanges:!0,qa:!0});return LT(l,x)})(await WT(t),t.asyncQueue,e,n,s))),s.promise}function xP(t,e,n={}){const s=new ar;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,g){const v=new QT({next:E=>{v.Nu(),u.enqueueAndForget((()=>BT(l,x))),E.fromCache&&p.source==="server"?g.reject(new ge(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),x=new zT(f,v,{includeMetadataChanges:!0,qa:!0});return LT(l,x)})(await WT(t),t.asyncQueue,e,n,s))),s.promise}function ZT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const h3=new Map;const JT="firestore.googleapis.com",f3=!0;class m3{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JT,this.ssl=f3}else this.host=e.host,this.ssl=e.ssl??f3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ST;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WD)throw new ge(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Pk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jm{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Ak;switch(s.type){case"firstParty":return new Rk(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=h3.get(n);s&&(he("ComponentProvider","Removing Datastore"),h3.delete(n),s.terminate())})(this),Promise.resolve()}}function wP(t,e,n,s={}){t=Xi(t,Jm);const a=ac(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(g6(`https://${f}`),y6("Firestore",!0)),l.host!==JT&&l.host!==f&&Gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:a,emulatorOptions:s};if(!dr(p,u)&&(t._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=_n.MOCK_USER;else{g=uR(s.mockUserToken,t._app?.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new ge(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new _n(x)}t._authCredentials=new Sk(new OE(g,v))}}class ep{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ep(this.firestore,e,this._query)}}class Yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(bd(n,Yt._jsonSchema))return new Yt(e,s||null,new we(pt.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:Kt("string",Yt._jsonSchemaVersion),referencePath:Kt("string")};class fa extends ep{constructor(e,n,s){super(e,n,I2(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new we(e))}withConverter(e){return new fa(this.firestore,e,this._path)}}function on(t,e,...n){if(t=Qt(t),LE("collection","path",e),t instanceof Jm){const s=pt.fromString(e,...n);return N4(s),new fa(t,null,s)}{if(!(t instanceof Yt||t instanceof fa))throw new ge(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(pt.fromString(e,...n));return N4(s),new fa(t.firestore,null,s)}}function dt(t,e,...n){if(t=Qt(t),arguments.length===1&&(e=T2.newId()),LE("doc","path",e),t instanceof Jm){const s=pt.fromString(e,...n);return C4(s),new Yt(t,null,new we(s))}{if(!(t instanceof Yt||t instanceof fa))throw new ge(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(pt.fromString(e,...n));return C4(s),new Yt(t.firestore,t instanceof fa?t.converter:null,new we(s))}}const p3="AsyncQueue";class g3{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jT(this,"async_queue_retry"),this._c=()=>{const s=k0();s&&he(p3,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=k0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=k0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dc(e))throw e;he(p3,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,mr("INTERNAL UNHANDLED ERROR: ",y3(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=$2.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Te(47125,{Pc:y3(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function y3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Io extends Jm{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new g3,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new g3(e),this._firestoreClient=void 0,await e}}}function bP(t,e){const n=typeof t=="object"?t:l2(),s=typeof t=="string"?t:im,a=Co(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=lR("firestore");l&&wP(a,...l)}return a}function X2(t){if(t._terminated)throw new ge(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_P(t),t._firestoreClient}function _P(t){const e=t._freezeSettings(),n=(function(a,l,u,f){return new Gk(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,ZT(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new pP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ti(vn.fromBase64String(e))}catch(n){throw new ge(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ti(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bd(e,Ti._jsonSchema))return Ti.fromBase64String(e.bytes)}}Ti._jsonSchemaVersion="firestore/bytes/1.0",Ti._jsonSchema={type:Kt("string",Ti._jsonSchemaVersion),bytes:Kt("string")};class tp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sd{constructor(e){this._methodName=e}}class Ss{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ss._jsonSchemaVersion}}static fromJSON(e){if(bd(e,Ss._jsonSchema))return new Ss(e.latitude,e.longitude)}}Ss._jsonSchemaVersion="firestore/geoPoint/1.0",Ss._jsonSchema={type:Kt("string",Ss._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};class Cs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Cs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bd(e,Cs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Cs(e.vectorValues);throw new ge(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Cs._jsonSchemaVersion="firestore/vectorValue/1.0",Cs._jsonSchema={type:Kt("string",Cs._jsonSchemaVersion),vectorValues:Kt("object")};const EP=/^__.*__$/;class TP{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new _d(e,this.data,n,this.fieldTransforms)}}class e5{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Aa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function t5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:t})}}class np{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new np({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(t5(this.Ac)&&EP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class AP{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Xm(e)}Cc(e,n,s,a=!1){return new np({Ac:e,methodName:n,Dc:s,path:yn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function W2(t){const e=t._freezeSettings(),n=Xm(t._databaseId);return new AP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function n5(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);e1("Data must be an object, but it was:",u,s);const f=i5(s,u);let p,g;if(l.merge)p=new ni(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const x of l.mergeFields){const E=Cy(e,x,n);if(!u.contains(E))throw new ge(le.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);r5(v,E)||v.push(E)}p=new ni(v),g=u.fieldTransforms.filter((x=>p.covers(x.field)))}else p=null,g=u.fieldTransforms;return new TP(new qn(f),p,g)}class ip extends Sd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ip}}function SP(t,e,n){return new np({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Z2 extends Sd{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=SP(this,e,!0),s=this.vc.map((l=>Cd(l,n))),a=new Xl(s);return new fT(e.path,a)}isEqual(e){return e instanceof Z2&&dr(this.vc,e.vc)}}class J2 extends Sd{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new nd(e.serializer,lT(e.serializer,this.Fc));return new fT(e.path,n)}isEqual(e){return e instanceof J2&&this.Fc===e.Fc}}function CP(t,e,n,s){const a=t.Cc(1,e,n);e1("Data must be an object, but it was:",a,s);const l=[],u=qn.empty();Ta(s,((p,g)=>{const v=t1(e,p,n);g=Qt(g);const x=a.yc(v);if(g instanceof ip)l.push(v);else{const E=Cd(g,x);E!=null&&(l.push(v),u.set(v,E))}}));const f=new ni(l);return new e5(u,f,a.fieldTransforms)}function NP(t,e,n,s,a,l){const u=t.Cc(1,e,n),f=[Cy(e,s,n)],p=[a];if(l.length%2!=0)throw new ge(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(Cy(e,l[E])),p.push(l[E+1]);const g=[],v=qn.empty();for(let E=f.length-1;E>=0;--E)if(!r5(g,f[E])){const N=f[E];let D=p[E];D=Qt(D);const F=u.yc(N);if(D instanceof ip)g.push(N);else{const z=Cd(D,F);z!=null&&(g.push(N),v.set(N,z))}}const x=new ni(g);return new e5(v,x,u.fieldTransforms)}function Cd(t,e){if(s5(t=Qt(t)))return e1("Unsupported field value:",e,t),i5(t,e);if(t instanceof Sd)return(function(s,a){if(!t5(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const f of s){let p=Cd(f,a.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=Qt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return lT(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=gt.fromDate(s);return{timestampValue:lm(a.serializer,l)}}if(s instanceof gt){const l=new gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lm(a.serializer,l)}}if(s instanceof Ss)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ti)return{bytesValue:xT(a.serializer,s._byteString)};if(s instanceof Yt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:V2(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Cs)return(function(u,f){return{mapValue:{fields:{[KE]:{stringValue:YE},[sm]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return k2(f.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${A2(s)}`)})(t,e)}function i5(t,e){const n={};return UE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(t,((s,a)=>{const l=Cd(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function s5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof Ss||t instanceof Ti||t instanceof Yt||t instanceof Sd||t instanceof Cs)}function e1(t,e,n){if(!s5(n)||!BE(n)){const s=A2(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Cy(t,e,n){if((e=Qt(e))instanceof tp)return e._internalPath;if(typeof e=="string")return t1(t,e);throw hm("Field path arguments must be of type string or ",t,!1,void 0,n)}const RP=new RegExp("[~\\*/\\[\\]]");function t1(t,e,n){if(e.search(RP)>=0)throw hm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tp(...e.split("."))._internalPath}catch{throw hm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hm(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${s}`),u&&(p+=` in document ${a}`),p+=")"),new ge(le.INVALID_ARGUMENT,f+t+p)}function r5(t,e){return t.some((n=>n.isEqual(e)))}class a5{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(o5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jP extends a5{data(){return super.data()}}function o5(t,e){return typeof e=="string"?t1(t,e):e instanceof tp?e._internalPath:e._delegate._internalPath}function IP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kP{convertValue(e,n="none"){switch(ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ta(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[sm].arrayValue?.values?.map((s=>Mt(s.doubleValue)));return new Cs(n)}convertGeoPoint(e){return new Ss(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Hm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zu(e));default:return null}}convertTimestamp(e){const n=pa(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=pt.fromString(e);nt(AT(s),9688,{name:e});const a=new Ju(s.get(1),s.get(3)),l=new we(s.popFirst(5));return a.isEqual(n)||mr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function l5(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Mu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class po extends a5{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(o5("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=po._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}po._jsonSchemaVersion="firestore/documentSnapshot/1.0",po._jsonSchema={type:Kt("string",po._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Bf extends po{data(e={}){return super.data(e)}}class Ul{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Mu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Bf(this._firestore,this._userDataWriter,s.key,s,new Mu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const p=new Bf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Mu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new Bf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Mu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:DP(f.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=T2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}function In(t){t=Xi(t,Yt);const e=Xi(t.firestore,Io);return vP(X2(e),t._key).then((n=>PP(e,t,n)))}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:Kt("string",Ul._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class c5 extends kP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ti(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function si(t){t=Xi(t,ep);const e=Xi(t.firestore,Io),n=X2(e),s=new c5(e);return IP(t._query),xP(n,t._query).then((a=>new Ul(e,s,t,a)))}function ta(t,e,n){t=Xi(t,Yt);const s=Xi(t.firestore,Io),a=l5(t.converter,e,n);return sp(s,[n5(W2(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ci.none())])}function n1(t,e,n,...s){t=Xi(t,Yt);const a=Xi(t.firestore,Io),l=W2(a);let u;return u=typeof(e=Qt(e))=="string"||e instanceof tp?NP(l,"updateDoc",t._key,e,n,s):CP(l,"updateDoc",t._key,e),sp(a,[u.toMutation(t._key,Ci.exists(!0))])}function MP(t){return sp(Xi(t.firestore,Io),[new D2(t._key,Ci.none())])}function Nd(t,e){const n=Xi(t.firestore,Io),s=dt(t),a=l5(t.converter,e);return sp(n,[n5(W2(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Ci.exists(!1))]).then((()=>s))}function sp(t,e){return(function(s,a){const l=new ar;return s.asyncQueue.enqueueAndForget((async()=>aP(await yP(s),a,l))),l.promise})(X2(t),e)}function PP(t,e,n){const s=n.docs.get(e._key),a=new c5(t);return new po(t,a,e._key,s,new Mu(n.hasPendingWrites,n.fromCache),e.converter)}function VP(...t){return new Z2("arrayUnion",t)}function OP(t){return new J2("increment",t)}(function(e,n=!0){(function(a){cc=a})(oc),js(new Yi("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new Io(new Ck(s.getProvider("auth-internal")),new jk(u,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(g.options.projectId,v)})(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Si(E4,T4,e),Si(E4,T4,"esm2020")})();const LP={apiKey:"AIzaSyA5NSXjrfmZvSdKdLPEQWFaWrmF5MR3Q9E",authDomain:"wordquestproject.firebaseapp.com",projectId:"wordquestproject",storageBucket:"wordquestproject.firebasestorage.app",messagingSenderId:"264044817910",appId:"1:264044817910:web:6ebeff42cf96c0df0fabd7",measurementId:"G-EWFLN5KXB1"},i1=T6(LP);let BP;try{BP=wk(i1)}catch(t){console.warn("Analytics not available:",t)}const Sn=X9(i1),Ie=bP(i1),zP="/Project-WordQuest/assets/libro-cTtYO1qe.png",u5="/Project-WordQuest/assets/profile-CfCI4O-H.jpeg";var d5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},v3=mo.createContext&&mo.createContext(d5),UP=["attr","size","title"];function FP(t,e){if(t==null)return{};var n=HP(t,e),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)s=l[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function HP(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function fm(){return fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},fm.apply(this,arguments)}function x3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function mm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x3(Object(n),!0).forEach(function(s){qP(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x3(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function qP(t,e,n){return e=$P(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $P(t){var e=GP(t,"string");return typeof e=="symbol"?e:e+""}function GP(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h5(t){return t&&t.map((e,n)=>mo.createElement(e.tag,mm({key:n},e.attr),h5(e.child)))}function ye(t){return e=>mo.createElement(KP,fm({attr:mm({},t.attr)},e),h5(t.child))}function KP(t){var e=n=>{var{attr:s,size:a,title:l}=t,u=FP(t,UP),f=a||n.size||"1em",p;return n.className&&(p=n.className),t.className&&(p=(p?p+" ":"")+t.className),mo.createElement("svg",fm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,u,{className:p,style:mm(mm({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&mo.createElement("title",null,l),t.children)};return v3!==void 0?mo.createElement(v3.Consumer,null,n=>e(n)):e(d5)}function YP(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 160c16-63.16 76.43-95.41 208-96a15.94 15.94 0 0 1 16 16v288a16 16 0 0 1-16 16c-128 0-177.45 25.81-208 64-30.37-38-80-64-208-64-9.88 0-16-8.05-16-17.93V80a15.94 15.94 0 0 1 16-16c131.57.59 192 32.84 208 96zm0 0v288"},child:[]}]})(t)}function QP(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M202.24 74C166.11 56.75 115.61 48.3 48 48a31.36 31.36 0 0 0-17.92 5.33A32 32 0 0 0 16 79.9V366c0 19.34 13.76 33.93 32 33.93 71.07 0 142.36 6.64 185.06 47a4.11 4.11 0 0 0 6.94-3V106.82a15.89 15.89 0 0 0-5.46-12A143 143 0 0 0 202.24 74zm279.68-20.7A31.33 31.33 0 0 0 464 48c-67.61.3-118.11 8.71-154.24 26a143.31 143.31 0 0 0-32.31 20.78 15.93 15.93 0 0 0-5.45 12v337.13a3.93 3.93 0 0 0 6.68 2.81c25.67-25.5 70.72-46.82 185.36-46.81a32 32 0 0 0 32-32v-288a32 32 0 0 0-14.12-26.61z"},child:[]}]})(t)}function XP(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M345.14 480H274a18 18 0 0 1-18-18v-27.71a31.32 31.32 0 0 0-9.71-22.77c-7.78-7.59-19.08-11.8-30.89-11.51-21.36.5-39.4 19.3-39.4 41.06V462a18 18 0 0 1-18 18H87.62A55.62 55.62 0 0 1 32 424.38V354a18 18 0 0 1 18-18h27.71c9.16 0 18.07-3.92 25.09-11a42.06 42.06 0 0 0 12.2-29.92C114.7 273.89 97.26 256 76.91 256H50a18 18 0 0 1-18-18v-70.38A55.62 55.62 0 0 1 87.62 112h55.24a8 8 0 0 0 8-8v-6.48A65.53 65.53 0 0 1 217.54 32c35.49.62 64.36 30.38 64.36 66.33V104a8 8 0 0 0 8 8h55.24A54.86 54.86 0 0 1 400 166.86v55.24a8 8 0 0 0 8 8h5.66c36.58 0 66.34 29 66.34 64.64 0 36.61-29.39 66.4-65.52 66.4H408a8 8 0 0 0-8 8v56A54.86 54.86 0 0 1 345.14 480z"},child:[]}]})(t)}function WP(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79z"},child:[]},{tag:"path",attr:{d:"m490.91 244.15-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97z"},child:[]}]})(t)}function ZP(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 480H48a32 32 0 0 1-32-32V112a32 32 0 0 1 32-32h16a32 32 0 0 1 32 32v336a32 32 0 0 1-32 32zm176-304a32 32 0 0 0-32-32h-64a32 32 0 0 0-32 32v28a4 4 0 0 0 4 4h120a4 4 0 0 0 4-4zM112 448a32 32 0 0 0 32 32h64a32 32 0 0 0 32-32v-30a2 2 0 0 0-2-2H114a2 2 0 0 0-2 2z"},child:[]},{tag:"rect",attr:{width:"128",height:"144",x:"112",y:"240",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M320 480h-32a32 32 0 0 1-32-32V64a32 32 0 0 1 32-32h32a32 32 0 0 1 32 32v384a32 32 0 0 1-32 32zm175.89-34.55-32.23-340c-1.48-15.65-16.94-27-34.53-25.31l-31.85 3c-17.59 1.67-30.65 15.71-29.17 31.36l32.23 340c1.48 15.65 16.94 27 34.53 25.31l31.85-3c17.59-1.67 30.65-15.71 29.17-31.36z"},child:[]}]})(t)}function JP(t){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 19h-6a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1h6a2 2 0 0 1 2 2a2 2 0 0 1 2 -2h6a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-6a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2z"},child:[]},{tag:"path",attr:{d:"M12 5v16"},child:[]},{tag:"path",attr:{d:"M7 7h1"},child:[]},{tag:"path",attr:{d:"M7 11h1"},child:[]},{tag:"path",attr:{d:"M16 7h1"},child:[]},{tag:"path",attr:{d:"M16 11h1"},child:[]},{tag:"path",attr:{d:"M16 15h1"},child:[]}]})(t)}function eV(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function tV(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function nV(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function Rd(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function iV(t){return ye({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(t)}function sV(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(t)}function Ki(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(t)}function rV(t){return ye({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(t)}function aV(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function oV(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function lV(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function cV(t){return ye({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(t)}function or(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function uV(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function Fl(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function dV(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(t)}function jd(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function s1(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Ny(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function Ry(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function hV(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 0C460.22 3.56 96.44 38.2 71.01 287.61c-3.09 26.66-4.84 53.44-5.99 80.24l178.87-178.69c6.25-6.25 16.4-6.25 22.65 0s6.25 16.38 0 22.63L7.04 471.03c-9.38 9.37-9.38 24.57 0 33.94 9.38 9.37 24.59 9.37 33.98 0l57.13-57.07c42.09-.14 84.15-2.53 125.96-7.36 53.48-5.44 97.02-26.47 132.58-56.54H255.74l146.79-48.88c11.25-14.89 21.37-30.71 30.45-47.12h-81.14l106.54-53.21C500.29 132.86 510.19 26.26 512 0z"},child:[]}]})(t)}function zf(t){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function f5(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"},child:[]}]})(t)}function r1(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"},child:[]}]})(t)}function fV(t){return ye({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function mV(t){return ye({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function pV(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function gV(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(t)}function id(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(t)}function sd(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function yV(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(t)}function vV(t){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function xV(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(t)}function pm(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function lr(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function jy(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function fc(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function m5(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function w3(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function wV(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function a1(t){return ye({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(t)}function rd(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function ko(t){return ye({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function ad(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function oa(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(t)}function bV(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function gm(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function _V(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function Sa(){const[t,e]=j.useState(!1),[n,s]=j.useState(!1),[a]=Ps(Sn),[l,u]=j.useState(null),f=xn();j.useEffect(()=>{(async()=>{if(a)try{const v=await In(dt(Ie,"users",a.uid));v.exists()&&u(v.data())}catch(v){console.error("Error fetching user data:",v)}})()},[a]);const p=async()=>{try{await W6(Sn),f("/")}catch(g){console.error("Error signing out:",g)}};return d.jsxs("header",{className:"w-full bg-white/80 backdrop-blur-md shadow-sm border-b border-gray-100 sticky top-0 z-50",children:[d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 cursor-pointer group",children:[d.jsx("img",{src:zP,alt:"WordQuest Logo",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-2xl shadow-lg group-hover:shadow-xl group-hover:scale-105 transition-all duration-300"}),d.jsxs("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900 tracking-tight",children:["Word",d.jsx("span",{className:"bg-linear-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Quest"})]})]}),d.jsxs("nav",{className:"hidden md:flex items-center gap-1",children:[d.jsxs(rn,{to:"/",className:"flex items-center gap-1 px-4 py-2 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer relative group",children:[d.jsx(WP,{className:"text-xl"}),d.jsx("span",{children:"Inicio"}),d.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-linear-to-r from-blue-600 to-purple-600 scale-x-0 group-hover:scale-x-100 transition-transform duration-200"})]}),d.jsxs(rn,{to:"/games",className:"flex items-center gap-1 px-4 py-2 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer relative group",children:[d.jsx(XP,{className:"text-xl"}),d.jsx("span",{children:"Retos"}),d.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-linear-to-r from-blue-600 to-purple-600 scale-x-0 group-hover:scale-x-100 transition-transform duration-200"})]}),d.jsxs("a",{className:"flex items-center gap-1 px-4 py-2 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer relative group",children:[d.jsx(JP,{className:"text-xl"}),d.jsx("span",{children:"Vocabulario"}),d.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-linear-to-r from-blue-600 to-purple-600 scale-x-0 group-hover:scale-x-100 transition-transform duration-200"})]})]}),d.jsx("div",{className:"hidden md:flex items-center gap-3",children:a?d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>s(!n),className:"flex items-center gap-3 px-4 py-2 rounded-xl bg-white/10 hover:bg-white/20 transition-all duration-200",children:[d.jsx("img",{src:u5,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover"}),d.jsx("span",{className:"text-gray-700 font-medium",children:l?.name||"Usuario"}),d.jsx(uV,{className:`text-gray-500 transition-transform ${n?"rotate-180":""}`})]}),n&&d.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",children:[d.jsxs(rn,{to:"/user-profile",className:"flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>s(!1),children:[d.jsx(gm,{className:"text-gray-400"}),"Mi Perfil"]}),l?.isAdmin&&d.jsxs(rn,{to:"/admin",className:"flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>s(!1),children:[d.jsx(Fl,{className:"text-gray-400"}),"Administracin"]}),d.jsx("button",{onClick:p,className:"w-full flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 transition-colors",children:d.jsx("span",{children:"Cerrar Sesin"})})]})]}):d.jsxs(d.Fragment,{children:[d.jsx(rn,{to:"/register",className:"px-5 py-2.5 rounded-xl border border-gray-200 text-gray-700 font-medium hover:bg-gray-50 hover:border-gray-300 hover:shadow-sm transition-all duration-200 active:scale-95 inline-block text-center",children:"Registrarse"}),d.jsxs(rn,{to:"/login",className:"px-5 py-2.5 rounded-xl bg-linear-to-r from-blue-600 to-purple-600 text-white font-medium shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-200 active:scale-95 relative overflow-hidden group inline-block text-center",children:[d.jsx("span",{className:"relative z-10",children:"Iniciar sesin"}),d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-blue-700 to-purple-700 opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]})]})}),d.jsx("div",{className:"md:hidden cursor-pointer p-2 rounded-xl hover:bg-gray-100 transition-colors duration-200 active:scale-95",onClick:()=>e(!t),children:d.jsx("svg",{className:"h-6 w-6 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})})]}),t&&d.jsx("div",{className:"md:hidden bg-white/95 backdrop-blur-md border-t border-gray-100 shadow-lg",children:d.jsxs("nav",{className:"px-4 py-4 space-y-2",children:[d.jsx(rn,{to:"/",className:"block px-4 py-3 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer",children:"Inicio"}),d.jsx(rn,{to:"/games",className:"block px-4 py-3 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer",children:"Retos"}),d.jsx("a",{className:"block px-4 py-3 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer",children:"Vocabulario"}),d.jsx("a",{className:"block px-4 py-3 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer",children:"Perfil"}),d.jsx("div",{className:"pt-4 space-y-2 border-t border-gray-100",children:a?d.jsxs(d.Fragment,{children:[d.jsxs(rn,{to:"/user-profile",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-200",children:[d.jsx(gm,{className:"text-gray-400"}),"Mi Perfil"]}),l?.isAdmin&&d.jsxs(rn,{to:"/admin",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-200",children:[d.jsx(Fl,{className:"text-gray-400"}),"Administracin"]}),d.jsx("button",{onClick:p,className:"w-full px-4 py-3 rounded-xl text-red-600 hover:bg-red-50 transition-all duration-200 text-left",children:"Cerrar Sesin"})]}):d.jsxs(d.Fragment,{children:[d.jsx(rn,{to:"/register",className:"block w-full px-4 py-3 rounded-xl border border-gray-200 text-gray-700 font-medium hover:bg-gray-50 transition-all duration-200 text-center",children:"Registrarse"}),d.jsx(rn,{to:"/login",className:"block w-full px-4 py-3 rounded-xl bg-linear-to-r from-blue-600 to-purple-600 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-200 text-center",children:"Iniciar sesin"})]})})]})})]})}const p5=j.createContext({});function EV(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const o1=typeof window<"u",TV=o1?j.useLayoutEffect:j.useEffect,l1=j.createContext(null);function c1(t,e){t.indexOf(e)===-1&&t.push(e)}function u1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const gr=(t,e,n)=>n>e?e:n<t?t:n;let d1=()=>{};const yr={},g5=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function y5(t){return typeof t=="object"&&t!==null}const v5=t=>/^0[^.\s]+$/u.test(t);function h1(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ni=t=>t,AV=(t,e)=>n=>e(t(n)),Id=(...t)=>t.reduce(AV),od=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class f1{constructor(){this.subscriptions=[]}add(e){return c1(this.subscriptions,e),()=>u1(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ns=t=>t*1e3,Ai=t=>t/1e3;function x5(t,e){return e?t*(1e3/e):0}const w5=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,SV=1e-7,CV=12;function NV(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=w5(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>SV&&++f<CV);return u}function kd(t,e,n,s){if(t===e&&n===s)return Ni;const a=l=>NV(l,0,1,t,n);return l=>l===0||l===1?l:w5(a(l),e,s)}const b5=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_5=t=>e=>1-t(1-e),E5=kd(.33,1.53,.69,.99),m1=_5(E5),T5=b5(m1),A5=t=>(t*=2)<1?.5*m1(t):.5*(2-Math.pow(2,-10*(t-1))),p1=t=>1-Math.sin(Math.acos(t)),S5=_5(p1),C5=b5(p1),RV=kd(.42,0,1,1),jV=kd(0,0,.58,1),N5=kd(.42,0,.58,1),IV=t=>Array.isArray(t)&&typeof t[0]!="number",R5=t=>Array.isArray(t)&&typeof t[0]=="number",kV={linear:Ni,easeIn:RV,easeInOut:N5,easeOut:jV,circIn:p1,circInOut:C5,circOut:S5,backIn:m1,backInOut:T5,backOut:E5,anticipate:A5},DV=t=>typeof t=="string",b3=t=>{if(R5(t)){d1(t.length===4);const[e,n,s,a]=t;return kd(e,n,s,a)}else if(DV(t))return kV[t];return t},Tf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function MV(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(v){u.has(v)&&(g.schedule(v),t()),v(f)}const g={schedule:(v,x=!1,E=!1)=>{const D=E&&a?n:s;return x&&u.add(v),D.has(v)||D.add(v),v},cancel:v=>{s.delete(v),u.delete(v)},process:v=>{if(f=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const PV=40;function j5(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Tf.reduce((P,B)=>(P[B]=MV(l),P),{}),{setup:f,read:p,resolveKeyframes:g,preUpdate:v,update:x,preRender:E,render:N,postRender:D}=u,F=()=>{const P=yr.useManualTiming?a.timestamp:performance.now();n=!1,yr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(P-a.timestamp,PV),1)),a.timestamp=P,a.isProcessing=!0,f.process(a),p.process(a),g.process(a),v.process(a),x.process(a),E.process(a),N.process(a),D.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(F))},z=()=>{n=!0,s=!0,a.isProcessing||t(F)};return{schedule:Tf.reduce((P,B)=>{const M=u[B];return P[B]=(G,S=!1,T=!1)=>(n||z(),M.schedule(G,S,T)),P},{}),cancel:P=>{for(let B=0;B<Tf.length;B++)u[Tf[B]].cancel(P)},state:a,steps:u}}const{schedule:wt,cancel:wa,state:pn,steps:M0}=j5(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ni,!0);let Uf;function VV(){Uf=void 0}const $n={now:()=>(Uf===void 0&&$n.set(pn.isProcessing||yr.useManualTiming?pn.timestamp:performance.now()),Uf),set:t=>{Uf=t,queueMicrotask(VV)}},I5=t=>e=>typeof e=="string"&&e.startsWith(t),g1=I5("--"),OV=I5("var(--"),y1=t=>OV(t)?LV.test(t.split("/*")[0].trim()):!1,LV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ld={...mc,transform:t=>gr(0,1,t)},Af={...mc,default:1},Fu=t=>Math.round(t*1e5)/1e5,v1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function BV(t){return t==null}const zV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,x1=(t,e)=>n=>!!(typeof n=="string"&&zV.test(n)&&n.startsWith(t)||e&&!BV(n)&&Object.prototype.hasOwnProperty.call(n,e)),k5=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(v1);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},UV=t=>gr(0,255,t),P0={...mc,transform:t=>Math.round(UV(t))},ho={test:x1("rgb","red"),parse:k5("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+P0.transform(t)+", "+P0.transform(e)+", "+P0.transform(n)+", "+Fu(ld.transform(s))+")"};function FV(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Iy={test:x1("#"),parse:FV,transform:ho.transform},Dd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ea=Dd("deg"),Rs=Dd("%"),Ae=Dd("px"),HV=Dd("vh"),qV=Dd("vw"),_3={...Rs,parse:t=>Rs.parse(t)/100,transform:t=>Rs.transform(t*100)},Il={test:x1("hsl","hue"),parse:k5("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Rs.transform(Fu(e))+", "+Rs.transform(Fu(n))+", "+Fu(ld.transform(s))+")"},Gt={test:t=>ho.test(t)||Iy.test(t)||Il.test(t),parse:t=>ho.test(t)?ho.parse(t):Il.test(t)?Il.parse(t):Iy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ho.transform(t):Il.transform(t),getAnimatableNone:t=>{const e=Gt.parse(t);return e.alpha=0,Gt.transform(e)}},$V=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GV(t){return isNaN(t)&&typeof t=="string"&&(t.match(v1)?.length||0)+(t.match($V)?.length||0)>0}const D5="number",M5="color",KV="var",YV="var(",E3="${}",QV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cd(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(QV,p=>(Gt.test(p)?(s.color.push(l),a.push(M5),n.push(Gt.parse(p))):p.startsWith(YV)?(s.var.push(l),a.push(KV),n.push(p)):(s.number.push(l),a.push(D5),n.push(parseFloat(p))),++l,E3)).split(E3);return{values:n,split:f,indexes:s,types:a}}function P5(t){return cd(t).values}function V5(t){const{split:e,types:n}=cd(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===D5?l+=Fu(a[u]):f===M5?l+=Gt.transform(a[u]):l+=a[u]}return l}}const XV=t=>typeof t=="number"?0:Gt.test(t)?Gt.getAnimatableNone(t):t;function WV(t){const e=P5(t);return V5(t)(e.map(XV))}const ba={test:GV,parse:P5,createTransformer:V5,getAnimatableNone:WV};function V0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ZV({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,p=2*n-f;a=V0(p,f,t+1/3),l=V0(p,f,t),u=V0(p,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function ym(t,e){return n=>n>0?e:t}const _t=(t,e,n)=>t+(e-t)*n,O0=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},JV=[Iy,ho,Il],eO=t=>JV.find(e=>e.test(t));function T3(t){const e=eO(t);if(!e)return!1;let n=e.parse(t);return e===Il&&(n=ZV(n)),n}const A3=(t,e)=>{const n=T3(t),s=T3(e);if(!n||!s)return ym(t,e);const a={...n};return l=>(a.red=O0(n.red,s.red,l),a.green=O0(n.green,s.green,l),a.blue=O0(n.blue,s.blue,l),a.alpha=_t(n.alpha,s.alpha,l),ho.transform(a))},ky=new Set(["none","hidden"]);function tO(t,e){return ky.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function nO(t,e){return n=>_t(t,e,n)}function w1(t){return typeof t=="number"?nO:typeof t=="string"?y1(t)?ym:Gt.test(t)?A3:rO:Array.isArray(t)?O5:typeof t=="object"?Gt.test(t)?A3:iO:ym}function O5(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>w1(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function iO(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=w1(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function sO(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const rO=(t,e)=>{const n=ba.createTransformer(e),s=cd(t),a=cd(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?ky.has(t)&&!a.values.length||ky.has(e)&&!s.values.length?tO(t,e):Id(O5(sO(s,a),a.values),n):ym(t,e)};function L5(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):w1(t)(t,e)}const aO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>wt.update(e,n),stop:()=>wa(e),now:()=>pn.isProcessing?pn.timestamp:$n.now()}},B5=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},vm=2e4;function b1(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<vm;)e+=n,s=t.next(e);return e>=vm?1/0:e}function oO(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(b1(s),vm);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Ai(a)}}const lO=5;function z5(t,e,n){const s=Math.max(e-lO,0);return x5(n-t(s),e-s)}const Ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},L0=.001;function cO({duration:t=Ct.duration,bounce:e=Ct.bounce,velocity:n=Ct.velocity,mass:s=Ct.mass}){let a,l,u=1-e;u=gr(Ct.minDamping,Ct.maxDamping,u),t=gr(Ct.minDuration,Ct.maxDuration,Ai(t)),u<1?(a=g=>{const v=g*u,x=v*t,E=v-n,N=Dy(g,u),D=Math.exp(-x);return L0-E/N*D},l=g=>{const x=g*u*t,E=x*n+n,N=Math.pow(u,2)*Math.pow(g,2)*t,D=Math.exp(-x),F=Dy(Math.pow(g,2),u);return(-a(g)+L0>0?-1:1)*((E-N)*D)/F}):(a=g=>{const v=Math.exp(-g*t),x=(g-n)*t+1;return-L0+v*x},l=g=>{const v=Math.exp(-g*t),x=(n-g)*(t*t);return v*x});const f=5/t,p=dO(a,l,f);if(t=Ns(t),isNaN(p))return{stiffness:Ct.stiffness,damping:Ct.damping,duration:t};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:u*2*Math.sqrt(s*g),duration:t}}}const uO=12;function dO(t,e,n){let s=n;for(let a=1;a<uO;a++)s=s-t(s)/e(s);return s}function Dy(t,e){return t*Math.sqrt(1-e*e)}const hO=["duration","bounce"],fO=["stiffness","damping","mass"];function S3(t,e){return e.some(n=>t[n]!==void 0)}function mO(t){let e={velocity:Ct.velocity,stiffness:Ct.stiffness,damping:Ct.damping,mass:Ct.mass,isResolvedFromDuration:!1,...t};if(!S3(t,fO)&&S3(t,hO))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*gr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ct.mass,stiffness:a,damping:l}}else{const n=cO(t);e={...e,...n,mass:Ct.mass},e.isResolvedFromDuration=!0}return e}function xm(t=Ct.visualDuration,e=Ct.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:g,mass:v,duration:x,velocity:E,isResolvedFromDuration:N}=mO({...n,velocity:-Ai(n.velocity||0)}),D=E||0,F=g/(2*Math.sqrt(p*v)),z=u-l,H=Ai(Math.sqrt(p/v)),k=Math.abs(z)<5;s||(s=k?Ct.restSpeed.granular:Ct.restSpeed.default),a||(a=k?Ct.restDelta.granular:Ct.restDelta.default);let P;if(F<1){const M=Dy(H,F);P=G=>{const S=Math.exp(-F*H*G);return u-S*((D+F*H*z)/M*Math.sin(M*G)+z*Math.cos(M*G))}}else if(F===1)P=M=>u-Math.exp(-H*M)*(z+(D+H*z)*M);else{const M=H*Math.sqrt(F*F-1);P=G=>{const S=Math.exp(-F*H*G),T=Math.min(M*G,300);return u-S*((D+F*H*z)*Math.sinh(T)+M*z*Math.cosh(T))/M}}const B={calculatedDuration:N&&x||null,next:M=>{const G=P(M);if(N)f.done=M>=x;else{let S=M===0?D:0;F<1&&(S=M===0?Ns(D):z5(P,M,G));const T=Math.abs(S)<=s,R=Math.abs(u-G)<=a;f.done=T&&R}return f.value=f.done?u:G,f},toString:()=>{const M=Math.min(b1(B),vm),G=B5(S=>B.next(M*S).value,M,30);return M+"ms "+G},toTransition:()=>{}};return B}xm.applyToOptions=t=>{const e=oO(t,100,xm);return t.ease=e.ease,t.duration=Ns(e.duration),t.type="keyframes",t};function My({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:p,restDelta:g=.5,restSpeed:v}){const x=t[0],E={done:!1,value:x},N=T=>f!==void 0&&T<f||p!==void 0&&T>p,D=T=>f===void 0?p:p===void 0||Math.abs(f-T)<Math.abs(p-T)?f:p;let F=n*e;const z=x+F,H=u===void 0?z:u(z);H!==z&&(F=H-x);const k=T=>-F*Math.exp(-T/s),P=T=>H+k(T),B=T=>{const R=k(T),V=P(T);E.done=Math.abs(R)<=g,E.value=E.done?H:V};let M,G;const S=T=>{N(E.value)&&(M=T,G=xm({keyframes:[E.value,D(E.value)],velocity:z5(P,T,E.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return S(0),{calculatedDuration:null,next:T=>{let R=!1;return!G&&M===void 0&&(R=!0,B(T),S(T)),M!==void 0&&T>=M?G.next(T-M):(!R&&B(T),E)}}}function pO(t,e,n){const s=[],a=n||yr.mix||L5,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const p=Array.isArray(e)?e[u]||Ni:e;f=Id(p,f)}s.push(f)}return s}function gO(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(d1(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=pO(e,s,a),p=f.length,g=v=>{if(u&&v<t[0])return e[0];let x=0;if(p>1)for(;x<t.length-2&&!(v<t[x+1]);x++);const E=od(t[x],t[x+1],v);return f[x](E)};return n?v=>g(gr(t[0],t[l-1],v)):g}function yO(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=od(0,e,s);t.push(_t(n,1,a))}}function vO(t){const e=[0];return yO(e,t.length-1),e}function xO(t,e){return t.map(n=>n*e)}function wO(t,e){return t.map(()=>e||N5).splice(0,t.length-1)}function Hu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=IV(s)?s.map(b3):b3(s),l={done:!1,value:e[0]},u=xO(n&&n.length===e.length?n:vO(e),t),f=gO(u,e,{ease:Array.isArray(a)?a:wO(e,a)});return{calculatedDuration:t,next:p=>(l.value=f(p),l.done=p>=t,l)}}const bO=t=>t!==null;function _1(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(bO),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const _O={decay:My,inertia:My,tween:Hu,keyframes:Hu,spring:xm};function U5(t){typeof t.type=="string"&&(t.type=_O[t.type])}class E1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const EO=t=>t/100;class T1 extends E1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==$n.now()&&this.tick($n.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;U5(e);const{type:n=Hu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const p=n||Hu;p!==Hu&&typeof f[0]!="number"&&(this.mixKeyframes=Id(EO,L5(f[0],f[1])),f=[0,100]);const g=p({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...f].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=b1(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:x,repeatType:E,repeatDelay:N,type:D,onUpdate:F,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const H=this.currentTime-g*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?H<0:H>a;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let P=this.currentTime,B=s;if(x){const T=Math.min(this.currentTime,a)/f;let R=Math.floor(T),V=T%1;!V&&T>=1&&(V=1),V===1&&R--,R=Math.min(R,x+1),!!(R%2)&&(E==="reverse"?(V=1-V,N&&(V-=N/f)):E==="mirror"&&(B=u)),P=gr(0,1,V)*f}const M=k?{done:!1,value:v[0]}:B.next(P);l&&(M.value=l(M.value));let{done:G}=M;!k&&p!==null&&(G=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return S&&D!==My&&(M.value=_1(v,this.options,z,this.speed)),F&&F(M.value),S&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return Ai(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ai(e)}get time(){return Ai(this.currentTime)}set time(e){e=Ns(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime($n.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ai(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=aO,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function TO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const fo=t=>t*180/Math.PI,Py=t=>{const e=fo(Math.atan2(t[1],t[0]));return Vy(e)},AO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Py,rotateZ:Py,skewX:t=>fo(Math.atan(t[1])),skewY:t=>fo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Vy=t=>(t=t%360,t<0&&(t+=360),t),C3=Py,N3=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),R3=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),SO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:N3,scaleY:R3,scale:t=>(N3(t)+R3(t))/2,rotateX:t=>Vy(fo(Math.atan2(t[6],t[5]))),rotateY:t=>Vy(fo(Math.atan2(-t[2],t[0]))),rotateZ:C3,rotate:C3,skewX:t=>fo(Math.atan(t[4])),skewY:t=>fo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Oy(t){return t.includes("scale")?1:0}function Ly(t,e){if(!t||t==="none")return Oy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=SO,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=AO,a=f}if(!a)return Oy(e);const l=s[e],u=a[1].split(",").map(NO);return typeof l=="function"?l(u):u[l]}const CO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ly(n,e)};function NO(t){return parseFloat(t.trim())}const pc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gc=new Set(pc),j3=t=>t===mc||t===Ae,RO=new Set(["x","y","z"]),jO=pc.filter(t=>!RO.has(t));function IO(t){const e=[];return jO.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const go={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ly(e,"x"),y:(t,{transform:e})=>Ly(e,"y")};go.translateX=go.x;go.translateY=go.y;const yo=new Set;let By=!1,zy=!1,Uy=!1;function F5(){if(zy){const t=Array.from(yo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=IO(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}zy=!1,By=!1,yo.forEach(t=>t.complete(Uy)),yo.clear()}function H5(){yo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(zy=!0)})}function kO(){Uy=!0,H5(),F5(),Uy=!1}class A1{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(yo.add(this),By||(By=!0,wt.read(H5),wt.resolveKeyframes(F5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}TO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),yo.delete(this)}cancel(){this.state==="scheduled"&&(yo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const DO=t=>t.startsWith("--");function MO(t,e,n){DO(e)?t.style.setProperty(e,n):t.style[e]=n}const PO=h1(()=>window.ScrollTimeline!==void 0),VO={};function OO(t,e){const n=h1(t);return()=>VO[e]??n()}const q5=OO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,I3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pu([0,.65,.55,1]),circOut:Pu([.55,0,1,.45]),backIn:Pu([.31,.01,.66,-.59]),backOut:Pu([.33,1.53,.69,.99])};function $5(t,e){if(t)return typeof t=="function"?q5()?B5(t,e):"ease-out":R5(t)?Pu(t):Array.isArray(t)?t.map(n=>$5(n,e)||I3.easeOut):I3[t]}function LO(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:p}={},g=void 0){const v={[e]:n};p&&(v.offset=p);const x=$5(f,a);Array.isArray(x)&&(v.easing=x);const E={delay:s,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(E.pseudoElement=g),t.animate(v,E)}function G5(t){return typeof t=="function"&&"applyToOptions"in t}function BO({type:t,...e}){return G5(t)&&q5()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zO extends E1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,d1(typeof e.type!="string");const g=BO(e);this.animation=LO(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=_1(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):MO(n,s,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ai(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ai(e)}get time(){return Ai(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ns(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&PO()?(this.animation.timeline=e,Ni):n(this)}}const K5={anticipate:A5,backInOut:T5,circInOut:C5};function UO(t){return t in K5}function FO(t){typeof t.ease=="string"&&UO(t.ease)&&(t.ease=K5[t.ease])}const k3=10;class HO extends zO{constructor(e){FO(e),U5(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new T1({...u,autoplay:!1}),p=Ns(this.finishedTime??this.time);n.setWithVelocity(f.sample(p-k3).value,f.sample(p).value,k3),f.stop()}}const D3=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ba.test(t)||t==="0")&&!t.startsWith("url("));function qO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function $O(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=D3(a,e),f=D3(l,e);return!u||!f?!1:qO(t)||(n==="spring"||G5(n))&&s}function Fy(t){t.duration=0,t.type="keyframes"}const GO=new Set(["opacity","clipPath","filter","transform"]),KO=h1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function YO(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=e.owner.getProps();return KO()&&n&&GO.has(n)&&(n!=="transform"||!g)&&!p&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const QO=40;class XO extends E1{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:p,motionValue:g,element:v,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=$n.now();const E={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:p,motionValue:g,element:v,...x},N=v?.KeyframeResolver||A1;this.keyframeResolver=new N(f,(D,F,z)=>this.onKeyframesResolved(D,F,E,!z),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:p,isHandoff:g,onUpdate:v}=s;this.resolvedAt=$n.now(),$O(e,l,u,f)||((yr.instantAnimations||!p)&&v?.(_1(e,s,n)),e[0]=e[e.length-1],Fy(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>QO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},N=!g&&YO(E)?new HO({...E,element:E.motionValue.owner.current}):new T1(E);N.finished.then(()=>this.notifyFinished()).catch(Ni),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),kO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const WO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZO(t){const e=WO.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function Y5(t,e,n=1){const[s,a]=ZO(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return g5(u)?parseFloat(u):u}return y1(a)?Y5(a,e,n+1):a}function S1(t,e){return t?.[e]??t?.default??t}const Q5=new Set(["width","height","top","left","right","bottom",...pc]),JO={test:t=>t==="auto",parse:t=>t},X5=t=>e=>e.test(t),W5=[mc,Ae,Rs,ea,qV,HV,JO],M3=t=>W5.find(X5(t));function eL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||v5(t):!0}const tL=new Set(["brightness","contrast","saturate","opacity"]);function nL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(v1)||[];if(!s)return t;const a=n.replace(s,"");let l=tL.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const iL=/\b([a-z-]*)\(.*?\)/gu,Hy={...ba,getAnimatableNone:t=>{const e=t.match(iL);return e?e.map(nL).join(" "):t}},P3={...mc,transform:Math.round},sL={rotate:ea,rotateX:ea,rotateY:ea,rotateZ:ea,scale:Af,scaleX:Af,scaleY:Af,scaleZ:Af,skew:ea,skewX:ea,skewY:ea,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:ld,originX:_3,originY:_3,originZ:Ae},C1={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae,...sL,zIndex:P3,fillOpacity:ld,strokeOpacity:ld,numOctaves:P3},rL={...C1,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:Hy,WebkitFilter:Hy},Z5=t=>rL[t];function J5(t,e){let n=Z5(t);return n!==Hy&&(n=ba),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const aL=new Set(["auto","none","0"]);function oL(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!aL.has(l)&&cd(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=J5(n,a)}class lL extends A1{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let g=e[p];if(typeof g=="string"&&(g=g.trim(),y1(g))){const v=Y5(g,n.current);v!==void 0&&(e[p]=v),p===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Q5.has(s)||e.length!==2)return;const[a,l]=e,u=M3(a),f=M3(l);if(u!==f)if(j3(u)&&j3(f))for(let p=0;p<e.length;p++){const g=e[p];typeof g=="string"&&(e[p]=parseFloat(g))}else go[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||eL(e[a]))&&s.push(a);s.length&&oL(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=go[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=go[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function cL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const eA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function uL(t){return y5(t)&&"offsetHeight"in t}const V3=30,dL=t=>!isNaN(parseFloat(t));class hL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=$n.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=$n.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new f1);const s=this.events[e].add(n);return e==="change"?()=>{s(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>V3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,V3);return x5(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jl(t,e){return new hL(t,e)}const{schedule:N1}=j5(queueMicrotask,!1),$i={x:!1,y:!1};function tA(){return $i.x||$i.y}function fL(t){return t==="x"||t==="y"?$i[t]?null:($i[t]=!0,()=>{$i[t]=!1}):$i.x||$i.y?null:($i.x=$i.y=!0,()=>{$i.x=$i.y=!1})}function nA(t,e){const n=cL(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function O3(t){return!(t.pointerType==="touch"||tA())}function mL(t,e,n={}){const[s,a,l]=nA(t,n),u=f=>{if(!O3(f))return;const{target:p}=f,g=e(p,f);if(typeof g!="function"||!p)return;const v=x=>{O3(x)&&(g(x),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,a)};return s.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const iA=(t,e)=>e?t===e?!0:iA(t,e.parentElement):!1,R1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gL(t){return pL.has(t.tagName)||t.tabIndex!==-1}const Ff=new WeakSet;function L3(t){return e=>{e.key==="Enter"&&t(e)}}function B0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yL=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=L3(()=>{if(Ff.has(n))return;B0(n,"down");const a=L3(()=>{B0(n,"up")}),l=()=>B0(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function B3(t){return R1(t)&&!tA()}function vL(t,e,n={}){const[s,a,l]=nA(t,n),u=f=>{const p=f.currentTarget;if(!B3(f))return;Ff.add(p);const g=e(p,f),v=(N,D)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",E),Ff.has(p)&&Ff.delete(p),B3(N)&&typeof g=="function"&&g(N,{success:D})},x=N=>{v(N,p===window||p===document||n.useGlobalTarget||iA(p,N.target))},E=N=>{v(N,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",E,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),uL(f)&&(f.addEventListener("focus",g=>yL(g,a)),!gL(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function sA(t){return y5(t)&&"ownerSVGElement"in t}function xL(t){return sA(t)&&t.tagName==="svg"}const Tn=t=>!!(t&&t.getVelocity),wL=[...W5,Gt,ba],bL=t=>wL.find(X5(t)),rA=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function _L(t=!0){const e=j.useContext(l1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=j.useId();j.useEffect(()=>{if(t)return a(l)},[t]);const u=j.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const aA=j.createContext({strict:!1}),z3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ec={};for(const t in z3)ec[t]={isEnabled:e=>z3[t].some(n=>!!e[n])};function EL(t){for(const e in t)ec[e]={...ec[e],...t[e]}}const TL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||TL.has(t)}let oA=t=>!wm(t);function AL(t){typeof t=="function"&&(oA=e=>e.startsWith("on")?!wm(e):t(e))}try{AL(require("@emotion/is-prop-valid").default)}catch{}function SL(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(oA(a)||n===!0&&wm(a)||!e&&!wm(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const rp=j.createContext({});function ap(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ud(t){return typeof t=="string"||Array.isArray(t)}const j1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],I1=["initial",...j1];function op(t){return ap(t.animate)||I1.some(e=>ud(t[e]))}function lA(t){return!!(op(t)||t.variants)}function CL(t,e){if(op(t)){const{initial:n,animate:s}=t;return{initial:n===!1||ud(n)?n:void 0,animate:ud(s)?s:void 0}}return t.inherit!==!1?e:{}}function NL(t){const{initial:e,animate:n}=CL(t,j.useContext(rp));return j.useMemo(()=>({initial:e,animate:n}),[U3(e),U3(n)])}function U3(t){return Array.isArray(t)?t.join(" "):t}const dd={};function RL(t){for(const e in t)dd[e]=t[e],g1(e)&&(dd[e].isCSSVariable=!0)}function cA(t,{layout:e,layoutId:n}){return gc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dd[t]||t==="opacity")}const jL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IL=pc.length;function kL(t,e,n){let s="",a=!0;for(let l=0;l<IL;l++){const u=pc[l],f=t[u];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(u.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||n){const g=eA(f,C1[u]);if(!p){a=!1;const v=jL[u]||u;s+=`${v}(${g}) `}n&&(e[u]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function k1(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const p in e){const g=e[p];if(gc.has(p)){u=!0;continue}else if(g1(p)){a[p]=g;continue}else{const v=eA(g,C1[p]);p.startsWith("origin")?(f=!0,l[p]=v):s[p]=v}}if(e.transform||(u||n?s.transform=kL(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:p="50%",originY:g="50%",originZ:v=0}=l;s.transformOrigin=`${p} ${g} ${v}`}}const D1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uA(t,e,n){for(const s in e)!Tn(e[s])&&!cA(s,n)&&(t[s]=e[s])}function DL({transformTemplate:t},e){return j.useMemo(()=>{const n=D1();return k1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ML(t,e){const n=t.style||{},s={};return uA(s,n,t),Object.assign(s,DL(t,e)),s}function PL(t,e){const n={},s=ML(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const VL={offset:"stroke-dashoffset",array:"stroke-dasharray"},OL={offset:"strokeDashoffset",array:"strokeDasharray"};function LL(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?VL:OL;t[l.offset]=Ae.transform(-s);const u=Ae.transform(e),f=Ae.transform(n);t[l.array]=`${u} ${f}`}function dA(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},p,g,v){if(k1(t,f,g),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:E}=t;x.transform&&(E.transform=x.transform,delete x.transform),(E.transform||x.transformOrigin)&&(E.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),E.transform&&(E.transformBox=v?.transformBox??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),s!==void 0&&(x.scale=s),a!==void 0&&LL(x,a,l,u,!1)}const hA=()=>({...D1(),attrs:{}}),fA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function BL(t,e,n,s){const a=j.useMemo(()=>{const l=hA();return dA(l,e,fA(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};uA(l,t.style,t),a.style={...l,...a.style}}return a}const zL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function M1(t){return typeof t!="string"||t.includes("-")?!1:!!(zL.indexOf(t)>-1||/[A-Z]/u.test(t))}function UL(t,e,n,{latestValues:s},a,l=!1){const f=(M1(t)?BL:PL)(e,s,a,t),p=SL(e,typeof t=="string",l),g=t!==j.Fragment?{...p,...f,ref:n}:{},{children:v}=e,x=j.useMemo(()=>Tn(v)?v.get():v,[v]);return j.createElement(t,{...g,children:x})}function F3(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function P1(t,e,n,s){if(typeof e=="function"){const[a,l]=F3(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=F3(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Hf(t){return Tn(t)?t.get():t}function FL({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:HL(n,s,a,t),renderState:e()}}function HL(t,e,n,s){const a={},l=s(t,{});for(const E in l)a[E]=Hf(l[E]);let{initial:u,animate:f}=t;const p=op(t),g=lA(t);e&&g&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const x=v?f:u;if(x&&typeof x!="boolean"&&!ap(x)){const E=Array.isArray(x)?x:[x];for(let N=0;N<E.length;N++){const D=P1(t,E[N]);if(D){const{transitionEnd:F,transition:z,...H}=D;for(const k in H){let P=H[k];if(Array.isArray(P)){const B=v?P.length-1:0;P=P[B]}P!==null&&(a[k]=P)}for(const k in F)a[k]=F[k]}}}return a}const mA=t=>(e,n)=>{const s=j.useContext(rp),a=j.useContext(l1),l=()=>FL(t,e,s,a);return n?l():EV(l)};function V1(t,e,n){const{style:s}=t,a={};for(const l in s)(Tn(s[l])||e.style&&Tn(e.style[l])||cA(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const qL=mA({scrapeMotionValuesFromProps:V1,createRenderState:D1});function pA(t,e,n){const s=V1(t,e,n);for(const a in t)if(Tn(t[a])||Tn(e[a])){const l=pc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const $L=mA({scrapeMotionValuesFromProps:pA,createRenderState:hA}),GL=Symbol.for("motionComponentSymbol");function kl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function KL(t,e,n){return j.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):kl(n)&&(n.current=s))},[e])}const O1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YL="framerAppearId",gA="data-"+O1(YL),yA=j.createContext({});function QL(t,e,n,s,a){const{visualElement:l}=j.useContext(rp),u=j.useContext(aA),f=j.useContext(l1),p=j.useContext(rA).reducedMotion,g=j.useRef(null);s=s||u.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,x=j.useContext(yA);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&XL(g.current,n,a,x);const E=j.useRef(!1);j.useInsertionEffect(()=>{v&&E.current&&v.update(n,f)});const N=n[gA],D=j.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return TV(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),D.current&&v.animationState&&v.animationState.animateChanges())}),j.useEffect(()=>{v&&(!D.current&&v.animationState&&v.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),D.current=!1),v.enteringChildren=void 0)}),v}function XL(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:vA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&kl(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:p,layoutRoot:g})}function vA(t){if(t)return t.options.allowProjection!==!1?t.projection:vA(t.parent)}function z0(t,{forwardMotionProps:e=!1}={},n,s){n&&EL(n);const a=M1(t)?$L:qL;function l(f,p){let g;const v={...j.useContext(rA),...f,layoutId:WL(f)},{isStatic:x}=v,E=NL(f),N=a(f,x);if(!x&&o1){ZL();const D=JL(v);g=D.MeasureLayout,E.visualElement=QL(t,N,v,s,D.ProjectionNode)}return d.jsxs(rp.Provider,{value:E,children:[g&&E.visualElement?d.jsx(g,{visualElement:E.visualElement,...v}):null,UL(t,f,KL(N,E.visualElement,p),N,x,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=j.forwardRef(l);return u[GL]=t,u}function WL({layoutId:t}){const e=j.useContext(p5).id;return e&&t!==void 0?e+"-"+t:t}function ZL(t,e){j.useContext(aA).strict}function JL(t){const{drag:e,layout:n}=ec;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function eB(t,e){if(typeof Proxy>"u")return z0;const n=new Map,s=(l,u)=>z0(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,z0(u,void 0,t,e)),n.get(u))})}function xA({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function tB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function U0(t){return t===void 0||t===1}function qy({scale:t,scaleX:e,scaleY:n}){return!U0(t)||!U0(e)||!U0(n)}function lo(t){return qy(t)||wA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wA(t){return H3(t.x)||H3(t.y)}function H3(t){return t&&t!=="0%"}function bm(t,e,n){const s=t-n,a=e*s;return n+a}function q3(t,e,n,s,a){return a!==void 0&&(t=bm(t,a,s)),bm(t,n,s)+e}function $y(t,e=0,n=1,s,a){t.min=q3(t.min,e,n,s,a),t.max=q3(t.max,e,n,s,a)}function bA(t,{x:e,y:n}){$y(t.x,e.translate,e.scale,e.originPoint),$y(t.y,n.translate,n.scale,n.originPoint)}const $3=.999999999999,G3=1.0000000000001;function iB(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ml(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,bA(t,u)),s&&lo(l.latestValues)&&Ml(t,l.latestValues))}e.x<G3&&e.x>$3&&(e.x=1),e.y<G3&&e.y>$3&&(e.y=1)}function Dl(t,e){t.min=t.min+e,t.max=t.max+e}function K3(t,e,n,s,a=.5){const l=_t(t.min,t.max,a);$y(t,e,n,l,s)}function Ml(t,e){K3(t.x,e.x,e.scaleX,e.scale,e.originX),K3(t.y,e.y,e.scaleY,e.scale,e.originY)}function _A(t,e){return xA(nB(t.getBoundingClientRect(),e))}function sB(t,e,n){const s=_A(t,n),{scroll:a}=e;return a&&(Dl(s.x,a.offset.x),Dl(s.y,a.offset.y)),s}const Y3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pl=()=>({x:Y3(),y:Y3()}),Q3=()=>({min:0,max:0}),kt=()=>({x:Q3(),y:Q3()}),Gy={current:null},EA={current:!1};function rB(){if(EA.current=!0,!!o1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gy.current=t.matches;t.addEventListener("change",e),e()}else Gy.current=!1}const aB=new WeakMap;function oB(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Tn(a))t.addValue(s,a);else if(Tn(l))t.addValue(s,Jl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Jl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const X3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lB{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=A1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=$n.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,wt.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=op(n),this.isVariantNode=lA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in x){const N=x[E];p[E]!==void 0&&Tn(N)&&N.set(p[E])}}mount(e){this.current=e,aB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),EA.current||rB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wa(this.notifyUpdate),wa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=gc.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&wt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ec){const n=ec[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<X3.length;s++){const a=X3[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=oB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Jl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(g5(s)||v5(s))?s=parseFloat(s):!bL(s)&&ba.test(n)&&(s=J5(e,n)),this.setBaseTarget(e,Tn(s)?s.get():s)),Tn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=P1(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Tn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new f1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){N1.render(this.render)}}class TA extends lB{constructor(){super(...arguments),this.KeyframeResolver=lL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function AA(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function cB(t){return window.getComputedStyle(t)}class uB extends TA{constructor(){super(...arguments),this.type="html",this.renderInstance=AA}readValueFromInstance(e,n){if(gc.has(n))return this.projection?.isProjecting?Oy(n):CO(e,n);{const s=cB(e),a=(g1(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return _A(e,n)}build(e,n,s){k1(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return V1(e,n,s)}}const SA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dB(t,e,n,s){AA(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(SA.has(a)?a:O1(a),e.attrs[a])}class hB extends TA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(gc.has(n)){const s=Z5(n);return s&&s.default||0}return n=SA.has(n)?n:O1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return pA(e,n,s)}build(e,n,s){dA(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){dB(e,n,s,a)}mount(e){this.isSVGTag=fA(e.tagName),super.mount(e)}}const fB=(t,e)=>M1(t)?new hB(e):new uB(e,{allowProjection:t!==j.Fragment});function Hl(t,e,n){const s=t.getProps();return P1(s,e,n!==void 0?n:s.custom,t)}const Ky=t=>Array.isArray(t);function mB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Jl(n))}function pB(t){return Ky(t)?t[t.length-1]||0:t}function gB(t,e){const n=Hl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=pB(l[u]);mB(t,u,f)}}function yB(t){return!!(Tn(t)&&t.add)}function Yy(t,e){const n=t.getValue("willChange");if(yB(n))return n.add(e);if(!n&&yr.WillChange){const s=new yr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function CA(t){return t.props[gA]}const vB=t=>t!==null;function xB(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(vB),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const wB={type:"spring",stiffness:500,damping:25,restSpeed:10},bB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_B={type:"keyframes",duration:.8},EB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TB=(t,{keyframes:e})=>e.length>2?_B:gc.has(t)?t.startsWith("scale")?bB(e[1]):wB:EB;function AB({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const L1=(t,e,n,s={},a,l)=>u=>{const f=S1(s,t)||{},p=f.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Ns(p);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:E=>{e.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};AB(f)||Object.assign(v,TB(t,v)),v.duration&&(v.duration=Ns(v.duration)),v.repeatDelay&&(v.repeatDelay=Ns(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let x=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Fy(v),v.delay===0&&(x=!0)),(yr.instantAnimations||yr.skipAnimations)&&(x=!0,Fy(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,x&&!l&&e.get()!==void 0){const E=xB(v.keyframes,f);if(E!==void 0){wt.update(()=>{v.onUpdate(E),v.onComplete()});return}}return f.isSync?new T1(v):new XO(v)};function SB({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function NA(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;s&&(l=s);const p=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const v in f){const x=t.getValue(v,t.latestValues[v]??null),E=f[v];if(E===void 0||g&&SB(g,v))continue;const N={delay:n,...S1(l||{},v)},D=x.get();if(D!==void 0&&!x.isAnimating&&!Array.isArray(E)&&E===D&&!N.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const H=CA(t);if(H){const k=window.MotionHandoffAnimation(H,v,wt);k!==null&&(N.startTime=k,F=!0)}}Yy(t,v),x.start(L1(v,x,E,t.shouldReduceMotion&&Q5.has(v)?{type:!1}:N,t,F));const z=x.animation;z&&p.push(z)}return u&&Promise.all(p).then(()=>{wt.update(()=>{u&&gB(t,u)})}),p}function RA(t,e,n,s=0,a=1){const l=Array.from(t).sort((g,v)=>g.sortNodePosition(v)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:f-l*s}function Qy(t,e,n={}){const s=Hl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(NA(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:x}=a;return CB(t,e,p,g,v,x,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,g]=f==="beforeChildren"?[l,u]:[u,l];return p().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function CB(t,e,n=0,s=0,a=0,l=1,u){const f=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),f.push(Qy(p,e,{...u,delay:n+(typeof s=="function"?0:s)+RA(t.variantChildren,p,s,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(f)}function NB(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Qy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Qy(t,e,n);else{const a=typeof e=="function"?Hl(t,e,n.custom):e;s=Promise.all(NA(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function jA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const RB=I1.length;function IA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?IA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<RB;n++){const s=I1[n],a=t.props[s];(ud(a)||a===!1)&&(e[s]=a)}return e}const jB=[...j1].reverse(),IB=j1.length;function kB(t){return e=>Promise.all(e.map(({animation:n,options:s})=>NB(t,n,s)))}function DB(t){let e=kB(t),n=W3(),s=!0;const a=p=>(g,v)=>{const x=Hl(t,v,p==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:E,transitionEnd:N,...D}=x;g={...g,...D,...N}}return g};function l(p){e=p(t)}function u(p){const{props:g}=t,v=IA(t.parent)||{},x=[],E=new Set;let N={},D=1/0;for(let z=0;z<IB;z++){const H=jB[z],k=n[H],P=g[H]!==void 0?g[H]:v[H],B=ud(P),M=H===p?k.isActive:null;M===!1&&(D=z);let G=P===v[H]&&P!==g[H]&&B;if(G&&s&&t.manuallyAnimateOnMount&&(G=!1),k.protectedKeys={...N},!k.isActive&&M===null||!P&&!k.prevProp||ap(P)||typeof P=="boolean")continue;const S=MB(k.prevProp,P);let T=S||H===p&&k.isActive&&!G&&B||z>D&&B,R=!1;const V=Array.isArray(P)?P:[P];let O=V.reduce(a(H),{});M===!1&&(O={});const{prevResolvedValues:U={}}=k,I={...U,...O},Ne=ce=>{T=!0,E.has(ce)&&(R=!0,E.delete(ce)),k.needsAnimating[ce]=!0;const me=t.getValue(ce);me&&(me.liveStyle=!1)};for(const ce in I){const me=O[ce],Pe=U[ce];if(N.hasOwnProperty(ce))continue;let ze=!1;Ky(me)&&Ky(Pe)?ze=!jA(me,Pe):ze=me!==Pe,ze?me!=null?Ne(ce):E.add(ce):me!==void 0&&E.has(ce)?Ne(ce):k.protectedKeys[ce]=!0}k.prevProp=P,k.prevResolvedValues=O,k.isActive&&(N={...N,...O}),s&&t.blockInitialAnimation&&(T=!1);const tt=G&&S;T&&(!tt||R)&&x.push(...V.map(ce=>{const me={type:H};if(typeof ce=="string"&&s&&!tt&&t.manuallyAnimateOnMount&&t.parent){const{parent:Pe}=t,ze=Hl(Pe,ce);if(Pe.enteringChildren&&ze){const{delayChildren:$}=ze.transition||{};me.delay=RA(Pe.enteringChildren,t,$)}}return{animation:ce,options:me}}))}if(E.size){const z={};if(typeof g.initial!="boolean"){const H=Hl(t,Array.isArray(g.initial)?g.initial[0]:g.initial);H&&H.transition&&(z.transition=H.transition)}E.forEach(H=>{const k=t.getBaseTarget(H),P=t.getValue(H);P&&(P.liveStyle=!0),z[H]=k??null}),x.push({animation:z})}let F=!!x.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(F=!1),s=!1,F?e(x):Promise.resolve()}function f(p,g){if(n[p].isActive===g)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(p,g)),n[p].isActive=g;const v=u(p);for(const x in n)n[x].protectedKeys={};return v}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=W3()}}}function MB(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!jA(e,t):!1}function ro(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W3(){return{animate:ro(!0),whileInView:ro(),whileHover:ro(),whileTap:ro(),whileDrag:ro(),whileFocus:ro(),exit:ro()}}class Ca{constructor(e){this.isMounted=!1,this.node=e}update(){}}class PB extends Ca{constructor(e){super(e),e.animationState||(e.animationState=DB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ap(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let VB=0;class OB extends Ca{constructor(){super(...arguments),this.id=VB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const LB={animation:{Feature:PB},exit:{Feature:OB}};function hd(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Md(t){return{point:{x:t.pageX,y:t.pageY}}}const BB=t=>e=>R1(e)&&t(e,Md(e));function qu(t,e,n,s){return hd(t,e,BB(n),s)}const kA=1e-4,zB=1-kA,UB=1+kA,DA=.01,FB=0-DA,HB=0+DA;function kn(t){return t.max-t.min}function qB(t,e,n){return Math.abs(t-e)<=n}function Z3(t,e,n,s=.5){t.origin=s,t.originPoint=_t(e.min,e.max,t.origin),t.scale=kn(n)/kn(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=zB&&t.scale<=UB||isNaN(t.scale))&&(t.scale=1),(t.translate>=FB&&t.translate<=HB||isNaN(t.translate))&&(t.translate=0)}function $u(t,e,n,s){Z3(t.x,e.x,n.x,s?s.originX:void 0),Z3(t.y,e.y,n.y,s?s.originY:void 0)}function J3(t,e,n){t.min=n.min+e.min,t.max=t.min+kn(e)}function $B(t,e,n){J3(t.x,e.x,n.x),J3(t.y,e.y,n.y)}function e_(t,e,n){t.min=e.min-n.min,t.max=t.min+kn(e)}function Gu(t,e,n){e_(t.x,e.x,n.x),e_(t.y,e.y,n.y)}function _i(t){return[t("x"),t("y")]}const MA=({current:t})=>t?t.ownerDocument.defaultView:null,t_=(t,e)=>Math.abs(t-e);function GB(t,e){const n=t_(t.x,e.x),s=t_(t.y,e.y);return Math.sqrt(n**2+s**2)}class PA{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=H0(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,D=GB(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!D)return;const{point:F}=E,{timestamp:z}=pn;this.history.push({...F,timestamp:z});const{onStart:H,onMove:k}=this.handlers;N||(H&&H(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,E)},this.handlePointerMove=(E,N)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=F0(N,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(E,N)=>{this.end();const{onEnd:D,onSessionEnd:F,resumeAnimation:z}=this.handlers;if(this.dragSnapToOrigin&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=H0(E.type==="pointercancel"?this.lastMoveEventInfo:F0(N,this.transformPagePoint),this.history);this.startEvent&&D&&D(E,H),F&&F(E,H)},!R1(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const f=Md(e),p=F0(f,this.transformPagePoint),{point:g}=p,{timestamp:v}=pn;this.history=[{...g,timestamp:v}];const{onSessionStart:x}=n;x&&x(e,H0(p,this.history)),this.removeListeners=Id(qu(this.contextWindow,"pointermove",this.handlePointerMove),qu(this.contextWindow,"pointerup",this.handlePointerUp),qu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wa(this.updatePoint)}}function F0(t,e){return e?{point:e(t.point)}:t}function n_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function H0({point:t},e){return{point:t,delta:n_(t,VA(e)),offset:n_(t,KB(e)),velocity:YB(e,.1)}}function KB(t){return t[0]}function VA(t){return t[t.length-1]}function YB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=VA(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Ns(e)));)n--;if(!s)return{x:0,y:0};const l=Ai(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function QB(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?_t(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?_t(n,t,s.max):Math.min(t,n)),t}function i_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function XB(t,{top:e,left:n,bottom:s,right:a}){return{x:i_(t.x,n,a),y:i_(t.y,e,s)}}function s_(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function WB(t,e){return{x:s_(t.x,e.x),y:s_(t.y,e.y)}}function ZB(t,e){let n=.5;const s=kn(t),a=kn(e);return a>s?n=od(e.min,e.max-s,t.min):s>a&&(n=od(t.min,t.max-a,e.min)),gr(0,1,n)}function JB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Xy=.35;function ez(t=Xy){return t===!1?t=0:t===!0&&(t=Xy),{x:r_(t,"left","right"),y:r_(t,"top","bottom")}}function r_(t,e,n){return{min:a_(t,e),max:a_(t,n)}}function a_(t,e){return typeof t=="number"?t:t[e]||0}const tz=new WeakMap;class nz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Md(x).point)},u=(x,E)=>{const{drag:N,dragPropagation:D,onDragStart:F}=this.getProps();if(N&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fL(N),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_i(H=>{let k=this.getAxisMotionValue(H).get()||0;if(Rs.test(k)){const{projection:P}=this.visualElement;if(P&&P.layout){const B=P.layout.layoutBox[H];B&&(k=kn(B)*(parseFloat(k)/100))}}this.originPoint[H]=k}),F&&wt.postRender(()=>F(x,E)),Yy(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},f=(x,E)=>{this.latestPointerEvent=x,this.latestPanInfo=E;const{dragPropagation:N,dragDirectionLock:D,onDirectionLock:F,onDrag:z}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:H}=E;if(D&&this.currentDirection===null){this.currentDirection=iz(H),this.currentDirection!==null&&F&&F(this.currentDirection);return}this.updateAxis("x",E.point,H),this.updateAxis("y",E.point,H),this.visualElement.render(),z&&z(x,E)},p=(x,E)=>{this.latestPointerEvent=x,this.latestPanInfo=E,this.stop(x,E),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>_i(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new PA(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:MA(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&wt.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Sf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=QB(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&kl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=XB(s.layoutBox,e):this.constraints=!1,this.elastic=ez(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&_i(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=JB(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!kl(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=sB(s,a.root,this.visualElement.getTransformPagePoint());let u=WB(a.layout.layoutBox,l);if(n){const f=n(tB(u));this.hasMutatedConstraints=!!f,f&&(u=xA(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},g=_i(v=>{if(!Sf(v,n,this.currentDirection))return;let x=p&&p[v]||{};u&&(x={min:0,max:0});const E=a?200:1e6,N=a?40:1e7,D={type:"inertia",velocity:s?e[v]:0,bounceStiffness:E,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(v,D)});return Promise.all(g).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Yy(this.visualElement,e),s.start(L1(e,s,0,n,this.visualElement,!1))}stopAnimation(){_i(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_i(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){_i(n=>{const{drag:s}=this.getProps();if(!Sf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n];l.set(e[n]-_t(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!kl(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};_i(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const p=f.get();a[u]=ZB({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),_i(u=>{if(!Sf(u,e,null))return;const f=this.getAxisMotionValue(u),{min:p,max:g}=this.constraints[u];f.set(_t(p,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;tz.set(this.visualElement,this);const e=this.visualElement.current,n=qu(e,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();kl(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),wt.read(s);const u=hd(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(_i(v=>{const x=this.getAxisMotionValue(v);x&&(this.originPoint[v]+=p[v].translate,x.set(x.get()+p[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Xy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function Sf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function iz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sz extends Ca{constructor(e){super(e),this.removeGroupControls=Ni,this.removeListeners=Ni,this.controls=new nz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const o_=t=>(e,n)=>{t&&wt.postRender(()=>t(e,n))};class rz extends Ca{constructor(){super(...arguments),this.removePointerDownListener=Ni}onPointerDown(e){this.session=new PA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:o_(e),onStart:o_(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&wt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=qu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function l_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=l_(t,e.target.x),s=l_(t,e.target.y);return`${n}% ${s}%`}},az={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=ba.parse(t);if(a.length>5)return s;const l=ba.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,p=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=p;const g=_t(f,p,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}};let q0=!1;class oz extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;RL(lz),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),q0&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),qf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,q0=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||wt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),N1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;q0=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function OA(t){const[e,n]=_L(),s=j.useContext(p5);return d.jsx(oz,{...t,layoutGroup:s,switchLayoutGroup:j.useContext(yA),isPresent:e,safeToRemove:n})}const lz={borderRadius:{...Nu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nu,borderTopRightRadius:Nu,borderBottomLeftRadius:Nu,borderBottomRightRadius:Nu,boxShadow:az};function cz(t,e,n){const s=Tn(t)?t:Jl(t);return s.start(L1("",s,e,n)),s.animation}const uz=(t,e)=>t.depth-e.depth;class dz{constructor(){this.children=[],this.isDirty=!1}add(e){c1(this.children,e),this.isDirty=!0}remove(e){u1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uz),this.isDirty=!1,this.children.forEach(e)}}function hz(t,e){const n=$n.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(wa(s),t(l-e))};return wt.setup(s,!0),()=>wa(s)}const LA=["TopLeft","TopRight","BottomLeft","BottomRight"],fz=LA.length,c_=t=>typeof t=="string"?parseFloat(t):t,u_=t=>typeof t=="number"||Ae.test(t);function mz(t,e,n,s,a,l){a?(t.opacity=_t(0,n.opacity??1,pz(s)),t.opacityExit=_t(e.opacity??1,0,gz(s))):l&&(t.opacity=_t(e.opacity??1,n.opacity??1,s));for(let u=0;u<fz;u++){const f=`border${LA[u]}Radius`;let p=d_(e,f),g=d_(n,f);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||u_(p)===u_(g)?(t[f]=Math.max(_t(c_(p),c_(g),s),0),(Rs.test(g)||Rs.test(p))&&(t[f]+="%")):t[f]=g}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,s))}function d_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pz=BA(0,.5,S5),gz=BA(.5,.95,Ni);function BA(t,e,n){return s=>s<t?0:s>e?1:n(od(t,e,s))}function h_(t,e){t.min=e.min,t.max=e.max}function bi(t,e){h_(t.x,e.x),h_(t.y,e.y)}function f_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function m_(t,e,n,s,a){return t-=e,t=bm(t,1/n,s),a!==void 0&&(t=bm(t,1/a,s)),t}function yz(t,e=0,n=1,s=.5,a,l=t,u=t){if(Rs.test(e)&&(e=parseFloat(e),e=_t(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=_t(l.min,l.max,s);t===l&&(f-=e),t.min=m_(t.min,e,n,f,a),t.max=m_(t.max,e,n,f,a)}function p_(t,e,[n,s,a],l,u){yz(t,e[n],e[s],e[a],e.scale,l,u)}const vz=["x","scaleX","originX"],xz=["y","scaleY","originY"];function g_(t,e,n,s){p_(t.x,e,vz,n?n.x:void 0,s?s.x:void 0),p_(t.y,e,xz,n?n.y:void 0,s?s.y:void 0)}function y_(t){return t.translate===0&&t.scale===1}function zA(t){return y_(t.x)&&y_(t.y)}function v_(t,e){return t.min===e.min&&t.max===e.max}function wz(t,e){return v_(t.x,e.x)&&v_(t.y,e.y)}function x_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function UA(t,e){return x_(t.x,e.x)&&x_(t.y,e.y)}function w_(t){return kn(t.x)/kn(t.y)}function b_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class bz{constructor(){this.members=[]}add(e){c1(this.members,e),e.scheduleRender()}remove(e){if(u1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _z(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:x,rotateY:E,skewX:N,skewY:D}=n;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),x&&(s+=`rotateX(${x}deg) `),E&&(s+=`rotateY(${E}deg) `),N&&(s+=`skewX(${N}deg) `),D&&(s+=`skewY(${D}deg) `)}const f=t.x.scale*e.x,p=t.y.scale*e.y;return(f!==1||p!==1)&&(s+=`scale(${f}, ${p})`),s||"none"}const $0=["","X","Y","Z"],Ez=1e3;let Tz=0;function G0(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function FA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=CA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",wt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&FA(s)}function HA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=Tz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Cz),this.nodes.forEach(Iz),this.nodes.forEach(kz),this.nodes.forEach(Nz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new dz)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new f1),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const p=this.eventHandlers.get(u);p&&p.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=sA(u)&&!xL(u),this.instance=u;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),t){let v,x=0;const E=()=>this.root.updateBlockedByResize=!1;wt.read(()=>{x=window.innerWidth}),t(u,()=>{const N=window.innerWidth;N!==x&&(x=N,this.root.updateBlockedByResize=!0,v&&v(),v=hz(E,250),qf.hasAnimatedSinceResize&&(qf.hasAnimatedSinceResize=!1,this.nodes.forEach(T_)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:E,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||g.getDefaultTransition()||Oz,{onLayoutAnimationStart:F,onLayoutAnimationComplete:z}=g.getProps(),H=!this.targetLayout||!UA(this.targetLayout,N),k=!x&&E;if(this.options.layoutRoot||this.resumeFrom||k||x&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...S1(D,"layout"),onPlay:F,onComplete:z};(g.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(v,k)}else x||T_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Dz),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&FA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const x=this.path[v];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(__);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(E_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(jz),this.nodes.forEach(Az),this.nodes.forEach(Sz)):this.nodes.forEach(E_),this.clearAllSnapshots();const f=$n.now();pn.delta=gr(0,1e3/60,f-pn.timestamp),pn.timestamp=f,pn.isProcessing=!0,M0.update.process(pn),M0.preRender.process(pn),M0.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,N1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Rz),this.sharedNodes.forEach(Mz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kn(this.snapshot.measuredBox.x)&&!kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!zA(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;u&&this.instance&&(f||lo(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return u&&(p=this.removeTransform(p)),Lz(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return kt();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Bz))){const{scroll:g}=this.root;g&&(Dl(f.x,g.offset.x),Dl(f.y,g.offset.y))}return f}removeElementScroll(u){const f=kt();if(bi(f,u),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:x}=g;g!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&bi(f,u),Dl(f.x,v.offset.x),Dl(f.y,v.offset.y))}return f}applyTransform(u,f=!1){const p=kt();bi(p,u);for(let g=0;g<this.path.length;g++){const v=this.path[g];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ml(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),lo(v.latestValues)&&Ml(p,v.latestValues)}return lo(this.latestValues)&&Ml(p,this.latestValues),p}removeTransform(u){const f=kt();bi(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!lo(g.latestValues))continue;qy(g.latestValues)&&g.updateSnapshot();const v=kt(),x=g.measurePageBox();bi(v,x),g_(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return lo(this.latestValues)&&g_(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!(!this.layout||!(v||x))){if(this.resolvedRelativeTargetAt=pn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Gu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$B(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bi(this.target,this.layout.layoutBox),bA(this.target,this.targetDelta)):bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Gu(this.relativeTargetOrigin,this.target,E.target),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qy(this.parent.latestValues)||wA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;bi(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,E=this.treeScale.y;iB(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=kt());const{target:N}=u;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(f_(this.prevProjectionDelta.x,this.projectionDelta.x),f_(this.prevProjectionDelta.y,this.projectionDelta.y)),$u(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==E||!b_(this.projectionDelta.x,this.prevProjectionDelta.x)||!b_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pl(),this.projectionDelta=Pl(),this.projectionDeltaWithTransform=Pl()}setAnimationOrigin(u,f=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},x=Pl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=kt(),N=p?p.source:void 0,D=this.layout?this.layout.source:void 0,F=N!==D,z=this.getStack(),H=!z||z.members.length<=1,k=!!(F&&!H&&this.options.crossfade===!0&&!this.path.some(Vz));this.animationProgress=0;let P;this.mixTargetDelta=B=>{const M=B/1e3;A_(x.x,u.x,M),A_(x.y,u.y,M),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Pz(this.relativeTarget,this.relativeTargetOrigin,E,M),P&&wz(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=kt()),bi(P,this.relativeTarget)),F&&(this.animationValues=v,mz(v,g,this.latestValues,M,k,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{qf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Jl(0)),this.currentAnimation=cz(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ez),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:p,layout:g,latestValues:v}=u;if(!(!f||!p||!g)){if(this!==u&&this.layout&&g&&qA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||kt();const x=kn(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+x;const E=kn(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+E}bi(f,p),Ml(f,v),$u(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new bz),this.sharedNodes.get(u).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const g={};p.z&&G0("z",u,g,this.animationValues);for(let v=0;v<$0.length;v++)G0(`rotate${$0[v]}`,u,g,this.animationValues),G0(`skew${$0[v]}`,u,g,this.animationValues);u.render();for(const v in g)u.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Hf(f?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Hf(f?.pointerEvents)||""),this.hasProjected&&!lo(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let x=_z(this.projectionDeltaWithTransform,this.treeScale,v);p&&(x=p(v,x)),u.transform=x;const{x:E,y:N}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${N.origin*100}% 0`,g.animationValues?u.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const D in dd){if(v[D]===void 0)continue;const{correct:F,applyTo:z,isCSSVariable:H}=dd[D],k=x==="none"?v[D]:F(v[D],g);if(z){const P=z.length;for(let B=0;B<P;B++)u[z[B]]=k}else H?this.options.visualElement.renderState.vars[D]=k:u[D]=k}this.options.layoutId&&(u.pointerEvents=g===this?Hf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(__),this.root.sharedNodes.clear()}}}function Az(t){t.updateLayout()}function Sz(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?_i(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],E=kn(x);x.min=n[v].min,x.max=x.min+E}):qA(a,e.layoutBox,n)&&_i(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],E=kn(n[v]);x.max=x.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+E)});const u=Pl();$u(u,n,e.layoutBox);const f=Pl();l?$u(f,t.applyTransform(s,!0),e.measuredBox):$u(f,n,e.layoutBox);const p=!zA(u);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:E}=v;if(x&&E){const N=kt();Gu(N,e.layoutBox,x.layoutBox);const D=kt();Gu(D,n,E.layoutBox),UA(N,D)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=N,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Cz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Nz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Rz(t){t.clearSnapshot()}function __(t){t.clearMeasurements()}function E_(t){t.isLayoutDirty=!1}function jz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function T_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Iz(t){t.resolveTargetDelta()}function kz(t){t.calcProjection()}function Dz(t){t.resetSkewAndRotation()}function Mz(t){t.removeLeadSnapshot()}function A_(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function S_(t,e,n,s){t.min=_t(e.min,n.min,s),t.max=_t(e.max,n.max,s)}function Pz(t,e,n,s){S_(t.x,e.x,n.x,s),S_(t.y,e.y,n.y,s)}function Vz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Oz={duration:.45,ease:[.4,0,.1,1]},C_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),N_=C_("applewebkit/")&&!C_("chrome/")?Math.round:Ni;function R_(t){t.min=N_(t.min),t.max=N_(t.max)}function Lz(t){R_(t.x),R_(t.y)}function qA(t,e,n){return t==="position"||t==="preserve-aspect"&&!qB(w_(e),w_(n),.2)}function Bz(t){return t!==t.root&&t.scroll?.wasRoot}const zz=HA({attachResizeListener:(t,e)=>hd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),K0={current:void 0},$A=HA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!K0.current){const t=new zz({});t.mount(window),t.setOptions({layoutScroll:!0}),K0.current=t}return K0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Uz={pan:{Feature:rz},drag:{Feature:sz,ProjectionNode:$A,MeasureLayout:OA}};function j_(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&wt.postRender(()=>l(e,Md(e)))}class Fz extends Ca{mount(){const{current:e}=this.node;e&&(this.unmount=mL(e,(n,s)=>(j_(this.node,s,"Start"),a=>j_(this.node,a,"End"))))}unmount(){}}class Hz extends Ca{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Id(hd(this.node.current,"focus",()=>this.onFocus()),hd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function I_(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&wt.postRender(()=>l(e,Md(e)))}class qz extends Ca{mount(){const{current:e}=this.node;e&&(this.unmount=vL(e,(n,s)=>(I_(this.node,s,"Start"),(a,{success:l})=>I_(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wy=new WeakMap,Y0=new WeakMap,$z=t=>{const e=Wy.get(t.target);e&&e(t)},Gz=t=>{t.forEach($z)};function Kz({root:t,...e}){const n=t||document;Y0.has(n)||Y0.set(n,{});const s=Y0.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(Gz,{root:t,...e})),s[a]}function Yz(t,e,n){const s=Kz(e);return Wy.set(t,n),s.observe(t),()=>{Wy.delete(t),s.unobserve(t)}}const Qz={some:0,all:1};class Xz extends Ca{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Qz[a]},f=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:x}=this.node.getProps(),E=g?v:x;E&&E(p)};return Yz(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Wz(e,n))&&this.startObserver()}unmount(){}}function Wz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Zz={inView:{Feature:Xz},tap:{Feature:qz},focus:{Feature:Hz},hover:{Feature:Fz}},Jz={layout:{ProjectionNode:$A,MeasureLayout:OA}},eU={...LB,...Zz,...Uz,...Jz},ie=eB(eU,fB);const tU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),k_=t=>{const e=nU(t);return e.charAt(0).toUpperCase()+e.slice(1)},GA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),iU=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var sU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rU=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...f},p)=>j.createElement("svg",{ref:p,...sU,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:GA("lucide",a),...!l&&!iU(f)&&{"aria-hidden":"true"},...f},[...u.map(([g,v])=>j.createElement(g,v)),...Array.isArray(l)?l:[l]]));const ki=(t,e)=>{const n=j.forwardRef(({className:s,...a},l)=>j.createElement(rU,{ref:l,iconNode:e,className:GA(`lucide-${tU(k_(t))}`,`lucide-${t}`,s),...a}));return n.displayName=k_(t),n};const aU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],oU=ki("arrow-right",aU);const lU=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],KA=ki("book-open",lU);const cU=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],uU=ki("book",cU);const dU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_m=ki("clock",dU);const hU=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],B1=ki("sparkles",hU);const fU=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],YA=ki("star",fU);const mU=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],pU=ki("sword",mU);const gU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],yU=ki("target",gU);const vU=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],xU=ki("timer",vU);const wU=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],bU=ki("trophy",wU);const _U=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],EU=ki("users",_U);const TU=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],AU=ki("zap",TU);function SU(t){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,32V192a8,8,0,0,1-8,8H72a16,16,0,0,0-16,16H192a8,8,0,0,1,0,16H48a8,8,0,0,1-8-8V56A32,32,0,0,1,72,24H208A8,8,0,0,1,216,32Z"},child:[]}]})(t)}function D_(t){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M232,128A104,104,0,1,1,128,24,104.13,104.13,0,0,1,232,128Z"},child:[]}]})(t)}function CU(t){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,96a12,12,0,1,1,12,12A12,12,0,0,1,208,96ZM196,72a12,12,0,1,0-12-12A12,12,0,0,0,196,72Zm28.66,56a8,8,0,0,0-8.63,7.31A88.12,88.12,0,1,1,120.66,40,8,8,0,0,0,119.34,24,104.12,104.12,0,1,0,232,136.66,8,8,0,0,0,224.66,128ZM128,56a72,72,0,1,1-72,72A72.08,72.08,0,0,1,128,56Zm-8,72a8,8,0,0,0,8,8h48a8,8,0,0,0,0-16H136V80a8,8,0,0,0-16,0Zm40-80a12,12,0,1,0-12-12A12,12,0,0,0,160,48Z"},child:[]}]})(t)}function NU(t){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M176,207.24a119,119,0,0,0,16-7.73V240a8,8,0,0,1-16,0Zm11.76-88.43-56-29.87a8,8,0,0,0-7.52,14.12L171,128l17-9.06Zm64-29.87-120-64a8,8,0,0,0-7.52,0l-120,64a8,8,0,0,0,0,14.12L32,117.87v48.42a15.91,15.91,0,0,0,4.06,10.65C49.16,191.53,78.51,216,128,216a130,130,0,0,0,48-8.76V130.67L171,128l-43,22.93L43.83,106l0,0L25,96,128,41.07,231,96l-18.78,10-.06,0L188,118.94a8,8,0,0,1,4,6.93v73.64a115.63,115.63,0,0,0,27.94-22.57A15.91,15.91,0,0,0,224,166.29V117.87l27.76-14.81a8,8,0,0,0,0-14.12Z"},child:[]}]})(t)}function RU(t){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-32.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"},child:[]}]})(t)}function jU(t){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM51.31,160l90.35-90.35,16.68,16.69L68,176.68ZM48,179.31,76.69,208H48Zm48,25.38L79.31,188l90.35-90.35h0l16.68,16.69Z"},child:[]}]})(t)}function M_(t){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M234.29,114.85l-45,38.83L203,211.75a16.4,16.4,0,0,1-24.5,17.82L128,198.49,77.47,229.57A16.4,16.4,0,0,1,53,211.75l13.76-58.07-45-38.83A16.46,16.46,0,0,1,31.08,86l59-4.76,22.76-55.08a16.36,16.36,0,0,1,30.27,0l22.75,55.08,59,4.76a16.46,16.46,0,0,1,9.37,28.86Z"},child:[]}]})(t)}function IU(){const t=[{icon:QP,key:"book1",top:10,left:5},{icon:YP,key:"book2",top:70,left:15},{icon:ZP,key:"library",top:25,left:85},{icon:D_,key:"circle",top:80,left:75},{icon:SU,key:"bookFill",top:45,left:10},{icon:jU,key:"pencil",top:15,left:90},{icon:NU,key:"graduation",top:35,left:95},{icon:RU,key:"lightbulb",top:85,left:5},{icon:M_,key:"star1",top:20,left:25},{icon:M_,key:"star2",top:60,left:90},{icon:D_,key:"circle2",top:5,left:70},{text:"A",key:"letterA",top:30,left:3},{text:"B",key:"letterB",top:75,left:95},{text:"Q",key:"letterQ",top:50,left:2},{text:"W",key:"letterW",top:12,left:78},{text:"E",key:"letterE",top:65,left:50},{text:"R",key:"letterR",top:40,left:70},{text:"T",key:"letterT",top:85,left:40},{text:"Y",key:"letterY",top:18,left:45}];return d.jsxs("section",{className:"relative w-full overflow-hidden rounded-2xl sm:rounded-3xl bg-[#0F172A] py-12 sm:py-16 md:py-20 px-4 sm:px-6 md:px-8 shadow-2xl border border-white/10",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-[#1E3A8A]/40 via-[#38BDF8]/30 to-transparent blur-3xl opacity-40 pointer-events-none"}),t.map((e,n)=>d.jsx(ie.div,{className:"absolute text-4xl sm:text-5xl opacity-10 select-none pointer-events-none text-blue-300 font-bold",initial:{opacity:0,y:50},animate:{opacity:[.05,.15,.05],y:[-20,20,-20],x:[0,10,-10,0],rotate:[0,5,-5,0]},transition:{duration:8+n*1.5,repeat:1/0,ease:"easeInOut"},style:{top:`${e.top}%`,left:`${e.left}%`},children:e.icon?d.jsx(e.icon,{}):e.text},e.key)),d.jsxs("div",{className:"relative max-w-5xl mx-auto text-center",children:[d.jsxs(ie.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold leading-tight text-white drop-shadow-xl",children:["Embrcate en la Aventura del Conocimiento con"," ",d.jsx("span",{className:"bg-linear-to-r from-[#38BDF8] to-[#1E3A8A] bg-clip-text text-transparent",children:"WordQuest"})]}),d.jsx(ie.p,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.8},className:"mt-4 sm:mt-6 text-base sm:text-lg md:text-xl text-gray-300 max-w-3xl mx-auto px-2",children:"Fortalece tu vocabulario, comprensin lectora y habilidades de escritura mientras avanzas por mundos temticos llenos de retos y recompensas."}),d.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1},className:"mt-8 sm:mt-10",children:d.jsxs(rn,{to:"/games",className:"group inline-flex items-center gap-2 bg-[#FACC15] text-[#0F172A] font-bold text-base sm:text-lg px-6 sm:px-8 py-3 sm:py-4 rounded-xl sm:rounded-2xl shadow-lg shadow-yellow-300/20 hover:shadow-yellow-300/40 transition-all duration-300",children:[d.jsx(B1,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:rotate-12 transition-transform"}),"Comenzar tu aventura"]})})]})]})}function kU(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496.938 14.063c-95.14 3.496-172.297 24.08-231.282 55.812l-29.47 49.28-4.967-28.093c-10.535 7.402-20.314 15.222-29.314 23.407l-14.687 45.06-5.032-25.155c-40.65 45.507-60.41 99.864-58.938 155.906 47.273-93.667 132.404-172.727 211.97-221.155l9.717 15.97c-75.312 45.838-156.387 121.202-202.187 208.25h12.156c19.78-12.02 39.16-26.858 58.406-43.44l-30.28 1.595 54.218-23.094c46.875-43.637 93.465-94.974 143.313-138.28l-24.47-5.19 56.5-21.03c26.853-20.485 54.8-37.844 84.344-49.843zM59.53 312.03v30.408H194V312.03H59.53zm20.376 49.095L47.25 389.813 24.97 474.78l14.53 15.876h177.22l14.56-15.875L209 389.814l-30.906-28.688H79.906z"},child:[]}]})(t)}function DU(){const t=[{title:"Misiones de Vocabulario",description:"Explora nuevas palabras a travs de historias interactivas y desafos atractivos que hacen que el aprendizaje perdure.",icon:d.jsx(sV,{className:"text-4xl"}),gradient:"from-blue-500 to-blue-600",accentBg:"bg-blue-50 dark:bg-blue-950"},{title:"Aventuras de Lectura",description:"Desbloquea superpoderes de comprensin con pasajes adaptativos diseados para tu nivel.",icon:d.jsx(kU,{className:"text-4xl"}),gradient:"from-cyan-500 to-blue-500",accentBg:"bg-cyan-50 dark:bg-cyan-950"},{title:"Misiones de Escritura",description:"Construye confianza con indicaciones guiadas, retroalimentacin instantnea y expresin creativa.",icon:d.jsx(hV,{className:"text-4xl"}),gradient:"from-purple-500 to-pink-500",accentBg:"bg-purple-50 dark:bg-purple-950"},{title:"Sistema de Logros",description:"Gana insignias, desbloquea nuevo contenido y rastrea tu progreso en la tabla de clasificacin.",icon:d.jsx(oa,{className:"text-4xl"}),gradient:"from-amber-500 to-orange-500",accentBg:"bg-amber-50 dark:bg-amber-950"},{title:"Desafos Diarios",description:"Mantn tus habilidades afiladas con desafos frescos entregados cada da.",icon:d.jsx(iV,{className:"text-4xl"}),gradient:"from-yellow-500 to-amber-500",accentBg:"bg-yellow-50 dark:bg-yellow-950"},{title:"Modo Contrareloj",description:"Ejercicios de vocabulario y comprensin con lmite de tiempo.",icon:d.jsx(CU,{className:"text-4xl"}),gradient:"from-rose-500 to-red-500",accentBg:"bg-rose-50 dark:bg-rose-950"}];return d.jsxs("section",{className:"w-full py-20 px-4 sm:px-6 md:px-12 lg:px-20 bg-linear-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:[d.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[d.jsx("h2",{className:"text-4xl sm:text-5xl font-black text-slate-900 dark:text-white mb-4 text-balance",children:"Por qu WordQuest?"}),d.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 leading-relaxed",children:"Convierte el aprendizaje en una aventura con experiencia gamificada para motivar a los estudiantes y fomentar la creatividad."})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:t.map((e,n)=>d.jsxs("div",{className:"group relative h-full rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 overflow-hidden transition-all duration-500 hover:shadow-2xl hover:-translate-y-1",children:[d.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-linear-to-br ${e.gradient} rounded-full -translate-y-16 translate-x-16 opacity-10 group-hover:scale-125 transition-transform duration-500`}),d.jsx("div",{className:`relative m-6 w-20 h-20 rounded-2xl ${e.accentBg} flex items-center justify-center bg-linear-to-br ${e.gradient} text-white group-hover:scale-110 group-hover:rotate-3 transition-all duration-300`,children:e.icon}),d.jsxs("div",{className:"relative px-6 pb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3 group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-linear-to-r group-hover:from-blue-600 group-hover:to-purple-600 transition-all duration-300",children:e.title}),d.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-base leading-relaxed",children:e.description})]}),d.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 bg-linear-to-r ${e.gradient} transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left`})]},n))})]})}function MU(){const t=[{number:"01",icon:bV,title:"Crea tu Hroe",description:"Regstrate y personaliza tu avatar de aprendizaje.",color:"from-purple-500 to-pink-500"},{number:"02",icon:yV,title:"Elige tu Camino",description:"Selecciona misiones segn tu nivel e intereses.",color:"from-blue-500 to-cyan-500"},{number:"03",icon:xV,title:"Completa Retos",description:"Domina vocabulario, lectura y escritura con actividades dinmicas.",color:"from-yellow-500 to-orange-500"},{number:"04",icon:jy,title:"Sube de Nivel",description:"Gana XP, desbloquea recompensas y escala en el ranking.",color:"from-green-500 to-emerald-500"}];return d.jsxs("section",{className:"relative w-full py-20 bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 opacity-20",children:d.jsx("div",{className:"w-full h-full",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='1.5'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-4",children:[d.jsxs(ie.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold bg-linear-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent mb-4",children:"Cmo Funciona?"}),d.jsx("p",{className:"text-gray-300 text-lg max-w-2xl mx-auto",children:"Tu aventura de aprendizaje comienza en 4 simples pasos."})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"hidden lg:block absolute top-1/2 left-0 right-0 h-0.5 bg-linear-to-r from-purple-500 via-blue-500 via-yellow-500 to-green-500 transform -translate-y-1/2 z-0"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative z-10",children:t.map((e,n)=>{const s=e.icon;return d.jsx(ie.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:n*.2},whileHover:{y:-10,scale:1.02},className:"relative group",children:d.jsxs("div",{className:"relative h-full backdrop-blur-xl bg-white/10 border border-white/20 rounded-3xl p-8 shadow-2xl hover:shadow-purple-500/25 transition-all duration-500",children:[d.jsx("div",{className:`absolute inset-0 bg-linear-to-br ${e.color} opacity-0 group-hover:opacity-20 rounded-3xl transition-opacity duration-500`}),d.jsx(ie.div,{className:`absolute -top-6 left-1/2 transform -translate-x-1/2 w-12 h-12 bg-linear-to-br ${e.color} text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg`,whileHover:{rotate:360,scale:1.1},transition:{duration:.5},children:e.number}),d.jsx(ie.div,{className:"flex justify-center mt-6 mb-6",whileHover:{rotate:[0,-10,10,-10,0],scale:1.2},transition:{duration:.5},children:d.jsx(s,{className:"text-5xl text-white"})}),d.jsx("h3",{className:"font-bold text-xl text-white mb-3 text-center",children:e.title}),d.jsx("p",{className:"text-gray-300 text-center leading-relaxed",children:e.description}),d.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 bg-linear-to-r ${e.color} rounded-b-3xl transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500`})]})},n)})})]})]})]})}function PU(){const t=new Date().getFullYear();return d.jsxs("footer",{className:"w-full bg-slate-900 text-slate-300 pt-14 pb-6 px-6",children:[d.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-3 gap-10",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-cyan-400",children:"WordQuest"}),d.jsx("p",{className:"mt-3 text-sm text-slate-400",children:"Aprende jugando. Domina el vocabulario, la lectura y la escritura de forma divertida."})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-cyan-400",children:"Enlaces"}),d.jsxs("ul",{className:"mt-3 space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"/",className:"hover:text-cyan-400 transition",children:"Inicio"})}),d.jsx("li",{children:d.jsx("a",{href:"/learn",className:"hover:text-cyan-400 transition",children:"Aprender"})}),d.jsx("li",{children:d.jsx("a",{href:"/challenges",className:"hover:text-cyan-400 transition",children:"Retos"})}),d.jsx("li",{children:d.jsx("a",{href:"/about",className:"hover:text-cyan-400 transition",children:"Sobre Nosotros"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-cyan-400",children:"Contacto"}),d.jsx("p",{className:"mt-3 text-sm",children:"Email: soporte@wordquest.com"}),d.jsx("p",{className:"text-sm",children:"Colombia"}),d.jsxs("div",{className:"flex gap-4 mt-4 text-xl",children:[d.jsx(eV,{className:"cursor-pointer hover:text-cyan-400 transition"}),d.jsx(tV,{className:"cursor-pointer hover:text-cyan-400 transition"}),d.jsx(nV,{className:"cursor-pointer hover:text-cyan-400 transition"})]})]})]}),d.jsxs("div",{className:"text-center text-slate-500 text-sm mt-10 border-t border-slate-700 pt-4",children:[" ",t," WordQuest  Todos los derechos reservados."]})]})}function VU(){return d.jsxs(d.Fragment,{children:[d.jsx(Sa,{}),d.jsx("div",{className:"px-4 sm:px-6 md:px-8 py-8",children:d.jsx(IU,{})}),d.jsx(DU,{}),d.jsx(MU,{}),d.jsx("div",{className:"h-px bg-linear-to-r from-transparent via-blue-400/50 to-transparent"}),d.jsx(PU,{})]})}function Vs(){const[t]=Ps(Sn),e=xr(),n=xn(),s=async()=>{try{await W6(Sn),n("/")}catch(l){console.error("Error signing out:",l)}};if(!t)return null;const a=[{path:"/",icon:pV,label:"Inicio"},{path:"/dashboard",icon:cV,label:"Dashboard"},{path:"/user-profile",icon:gm,label:"Perfil"}];return d.jsx(ie.nav,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"fixed top-4 right-4 z-50",children:d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-2 flex items-center space-x-2",children:[a.map(l=>{const u=l.icon,f=e.pathname===l.path;return d.jsx(rn,{to:l.path,className:`p-3 rounded-xl transition-all ${f?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,children:d.jsx(u,{className:"text-lg"})},l.path)}),d.jsx("button",{onClick:s,className:"p-3 rounded-xl text-white/70 hover:text-white hover:bg-red-500/20 transition-all",title:"Cerrar sesin",children:d.jsx(wV,{className:"text-lg"})})]})})}function OU(){const[t,e]=Ps(Sn);return e?d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando..."})}):d.jsxs(d.Fragment,{children:[t&&d.jsx(Vs,{}),d.jsx(VU,{})]})}const LU=async t=>{try{if(!Sn)throw new Error("Firebase Auth no est configurado correctamente");const n=(await PI(Sn,t.email,t.password)).user;return await ta(dt(Ie,"users",n.uid),{name:t.name,email:t.email,birthdate:t.birthdate,country:t.country,city:t.city,createdAt:new Date,uid:n.uid}),{success:!0,user:n}}catch(e){console.error("Registration error:",e);let n=e.message;return e.code==="auth/configuration-not-found"?n="Firebase Authentication no est habilitado. Contacta al administrador.":e.code==="auth/email-already-in-use"?n="Este email ya est registrado.":e.code==="auth/weak-password"?n="La contrasea es muy dbil.":e.code==="permission-denied"&&(n="Error de permisos. Contacta al administrador."),{success:!1,error:n}}},BU=async(t,e)=>{try{if(!Sn)throw new Error("Firebase Auth no est configurado correctamente");const s=(await VI(Sn,t,e)).user,a=await In(dt(Ie,"users",s.uid)),l=a.exists()?a.data():null;return{success:!0,user:s,userData:l}}catch(n){console.error("Login error:",n);let s=n.message;return n.code==="auth/invalid-credential"?s="Email o contrasea incorrectos. Verifica tus datos.":n.code==="auth/user-not-found"?s="No existe una cuenta con este email.":n.code==="auth/wrong-password"?s="Contrasea incorrecta.":n.code==="auth/invalid-email"?s="Email invlido.":n.code==="auth/user-disabled"&&(s="Esta cuenta ha sido deshabilitada."),{success:!1,error:s}}};function QA(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function zU(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function P_(t,e){return t.get(QA(t,e))}function UU(t,e,n){zU(t,e),e.set(t,n)}function FU(t,e,n){return t.set(QA(t,e),n),n}const HU=100,be={},qU=()=>{be.previousActiveElement instanceof HTMLElement?(be.previousActiveElement.focus(),be.previousActiveElement=null):document.body&&document.body.focus()},$U=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,s=window.scrollY;be.restoreFocusTimeout=setTimeout(()=>{qU(),e()},HU),window.scrollTo(n,s)}),XA="swal2-",GU=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],te=GU.reduce((t,e)=>(t[e]=XA+e,t),{}),KU=["success","warning","info","question","error"],Em=KU.reduce((t,e)=>(t[e]=XA+e,t),{}),WA="SweetAlert2:",z1=t=>t.charAt(0).toUpperCase()+t.slice(1),Mn=t=>{console.warn(`${WA} ${typeof t=="object"?t.join(" "):t}`)},Do=t=>{console.error(`${WA} ${t}`)},V_=[],YU=t=>{V_.includes(t)||(V_.push(t),Mn(t))},ZA=(t,e=null)=>{YU(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},lp=t=>typeof t=="function"?t():t,U1=t=>t&&typeof t.toPromise=="function",Pd=t=>U1(t)?t.toPromise():Promise.resolve(t),F1=t=>t&&Promise.resolve(t)===t,Pn=()=>document.body.querySelector(`.${te.container}`),Vd=t=>{const e=Pn();return e?e.querySelector(t):null},ai=t=>Vd(`.${t}`),We=()=>ai(te.popup),yc=()=>ai(te.icon),QU=()=>ai(te["icon-content"]),JA=()=>ai(te.title),H1=()=>ai(te["html-container"]),eS=()=>ai(te.image),q1=()=>ai(te["progress-steps"]),cp=()=>ai(te["validation-message"]),Ds=()=>Vd(`.${te.actions} .${te.confirm}`),vc=()=>Vd(`.${te.actions} .${te.cancel}`),Mo=()=>Vd(`.${te.actions} .${te.deny}`),XU=()=>ai(te["input-label"]),xc=()=>Vd(`.${te.loader}`),Od=()=>ai(te.actions),tS=()=>ai(te.footer),up=()=>ai(te["timer-progress-bar"]),$1=()=>ai(te.close),WU=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,G1=()=>{const t=We();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((l,u)=>{const f=parseInt(l.getAttribute("tabindex")||"0"),p=parseInt(u.getAttribute("tabindex")||"0");return f>p?1:f<p?-1:0}),s=t.querySelectorAll(WU),a=Array.from(s).filter(l=>l.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(a))].filter(l=>Gn(l))},K1=()=>cr(document.body,te.shown)&&!cr(document.body,te["toast-shown"])&&!cr(document.body,te["no-backdrop"]),dp=()=>{const t=We();return t?cr(t,te.toast):!1},ZU=()=>{const t=We();return t?t.hasAttribute("data-loading"):!1},oi=(t,e)=>{if(t.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),a=s.querySelector("head");a&&Array.from(a.childNodes).forEach(u=>{t.appendChild(u)});const l=s.querySelector("body");l&&Array.from(l.childNodes).forEach(u=>{u instanceof HTMLVideoElement||u instanceof HTMLAudioElement?t.appendChild(u.cloneNode(!0)):t.appendChild(u)})}},cr=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let s=0;s<n.length;s++)if(!t.classList.contains(n[s]))return!1;return!0},JU=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(te).includes(n)&&!Object.values(Em).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},ri=(t,e,n)=>{if(JU(t,e),!e.customClass)return;const s=e.customClass[n];if(s){if(typeof s!="string"&&!s.forEach){Mn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof s}"`);return}et(t,s)}},hp=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${te.popup} > .${te[e]}`);case"checkbox":return t.querySelector(`.${te.popup} > .${te.checkbox} input`);case"radio":return t.querySelector(`.${te.popup} > .${te.radio} input:checked`)||t.querySelector(`.${te.popup} > .${te.radio} input:first-child`);case"range":return t.querySelector(`.${te.popup} > .${te.range} input`);default:return t.querySelector(`.${te.popup} > .${te.input}`)}},nS=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},iS=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(t)?t.forEach(a=>{n?a.classList.add(s):a.classList.remove(s)}):n?t.classList.add(s):t.classList.remove(s)}))},et=(t,e)=>{iS(t,e,!0)},ji=(t,e)=>{iS(t,e,!1)},la=(t,e)=>{const n=Array.from(t.children);for(let s=0;s<n.length;s++){const a=n[s];if(a instanceof HTMLElement&&cr(a,e))return a}},vo=(t,e,n)=>{n===`${parseInt(`${n}`)}`&&(n=parseInt(n)),n||parseInt(`${n}`)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},ln=(t,e="flex")=>{t&&(t.style.display=e)},Cn=t=>{t&&(t.style.display="none")},Y1=(t,e="block")=>{t&&new MutationObserver(()=>{Ld(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},O_=(t,e,n,s)=>{const a=t.querySelector(e);a&&a.style.setProperty(n,s)},Ld=(t,e,n="flex")=>{e?ln(t,n):Cn(t)},Gn=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),eF=()=>!Gn(Ds())&&!Gn(Mo())&&!Gn(vc()),Zy=t=>t.scrollHeight>t.clientHeight,tF=(t,e)=>{let n=t;for(;n&&n!==e;){if(Zy(n))return!0;n=n.parentElement}return!1},sS=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||s>0},Q1=(t,e=!1)=>{const n=up();n&&Gn(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},nF=()=>{const t=up();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),s=e/n*100;t.style.width=`${s}%`},iF=()=>typeof window>"u"||typeof document>"u",sF=`
 <div aria-labelledby="${te.title}" aria-describedby="${te["html-container"]}" class="${te.popup}" tabindex="-1">
   <button type="button" class="${te.close}"></button>
   <ul class="${te["progress-steps"]}"></ul>
   <div class="${te.icon}"></div>
   <img class="${te.image}" />
   <h2 class="${te.title}" id="${te.title}"></h2>
   <div class="${te["html-container"]}" id="${te["html-container"]}"></div>
   <input class="${te.input}" id="${te.input}" />
   <input type="file" class="${te.file}" />
   <div class="${te.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${te.select}" id="${te.select}"></select>
   <div class="${te.radio}"></div>
   <label class="${te.checkbox}">
     <input type="checkbox" id="${te.checkbox}" />
     <span class="${te.label}"></span>
   </label>
   <textarea class="${te.textarea}" id="${te.textarea}"></textarea>
   <div class="${te["validation-message"]}" id="${te["validation-message"]}"></div>
   <div class="${te.actions}">
     <div class="${te.loader}"></div>
     <button type="button" class="${te.confirm}"></button>
     <button type="button" class="${te.deny}"></button>
     <button type="button" class="${te.cancel}"></button>
   </div>
   <div class="${te.footer}"></div>
   <div class="${te["timer-progress-bar-container"]}">
     <div class="${te["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),rF=()=>{const t=Pn();return t?(t.remove(),ji([document.documentElement,document.body],[te["no-backdrop"],te["toast-shown"],te["has-column"]]),!0):!1},ao=()=>{be.currentInstance.resetValidationMessage()},aF=()=>{const t=We(),e=la(t,te.input),n=la(t,te.file),s=t.querySelector(`.${te.range} input`),a=t.querySelector(`.${te.range} output`),l=la(t,te.select),u=t.querySelector(`.${te.checkbox} input`),f=la(t,te.textarea);e.oninput=ao,n.onchange=ao,l.onchange=ao,u.onchange=ao,f.oninput=ao,s.oninput=()=>{ao(),a.value=s.value},s.onchange=()=>{ao(),a.value=s.value}},oF=t=>typeof t=="string"?document.querySelector(t):t,lF=t=>{const e=We();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},cF=t=>{window.getComputedStyle(t).direction==="rtl"&&et(Pn(),te.rtl)},uF=t=>{const e=rF();if(iF()){Do("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=te.container,e&&et(n,te["no-transition"]),oi(n,sF),n.dataset.swal2Theme=t.theme;const s=oF(t.target);s.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),lF(t),cF(s),aF()},X1=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?dF(t,e):t&&oi(e,t)},dF=(t,e)=>{t.jquery?hF(e,t):oi(e,t.toString())},hF=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},fF=(t,e)=>{const n=Od(),s=xc();!n||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Cn(n):ln(n),ri(n,e,"actions"),mF(n,s,e),oi(s,e.loaderHtml||""),ri(s,e,"loader"))};function mF(t,e,n){const s=Ds(),a=Mo(),l=vc();!s||!a||!l||(X0(s,"confirm",n),X0(a,"deny",n),X0(l,"cancel",n),pF(s,a,l,n),n.reverseButtons&&(n.toast?(t.insertBefore(l,s),t.insertBefore(a,s)):(t.insertBefore(l,e),t.insertBefore(a,e),t.insertBefore(s,e))))}function pF(t,e,n,s){if(!s.buttonsStyling){ji([t,e,n],te.styled);return}et([t,e,n],te.styled),s.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),Q0(t),Q0(e),Q0(n)}function Q0(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function X0(t,e,n){const s=z1(e);Ld(t,n[`show${s}Button`],"inline-block"),oi(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=te[e],ri(t,n,`${e}Button`)}const gF=(t,e)=>{const n=$1();n&&(oi(n,e.closeButtonHtml||""),ri(n,e,"closeButton"),Ld(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},yF=(t,e)=>{const n=Pn();n&&(vF(n,e.backdrop),xF(n,e.position),wF(n,e.grow),ri(n,e,"container"))};function vF(t,e){typeof e=="string"?t.style.background=e:e||et([document.documentElement,document.body],te["no-backdrop"])}function xF(t,e){e&&(e in te?et(t,te[e]):(Mn('The "position" parameter is not valid, defaulting to "center"'),et(t,te.center)))}function wF(t,e){e&&et(t,te[`grow-${e}`])}var ht={innerParams:new WeakMap,domCache:new WeakMap};const bF=["input","file","range","select","radio","checkbox","textarea"],_F=(t,e)=>{const n=We();if(!n)return;const s=ht.innerParams.get(t),a=!s||e.input!==s.input;bF.forEach(l=>{const u=la(n,te[l]);u&&(AF(l,e.inputAttributes),u.className=te[l],a&&Cn(u))}),e.input&&(a&&EF(e),SF(e))},EF=t=>{if(!t.input)return;if(!Dt[t.input]){Do(`Unexpected type of input! Expected ${Object.keys(Dt).join(" | ")}, got "${t.input}"`);return}const e=rS(t.input);if(!e)return;const n=Dt[t.input](e,t);ln(e),t.inputAutoFocus&&setTimeout(()=>{nS(n)})},TF=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},AF=(t,e)=>{const n=We();if(!n)return;const s=hp(n,t);if(s){TF(s);for(const a in e)s.setAttribute(a,e[a])}},SF=t=>{if(!t.input)return;const e=rS(t.input);e&&ri(e,t,"input")},W1=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Bd=(t,e,n)=>{if(n.inputLabel){const s=document.createElement("label"),a=te["input-label"];s.setAttribute("for",t.id),s.className=a,typeof n.customClass=="object"&&et(s,n.customClass.inputLabel),s.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",s)}},rS=t=>{const e=We();if(e)return la(e,te[t]||te.input)},Tm=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:F1(e)||Mn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Dt={};Dt.text=Dt.email=Dt.password=Dt.number=Dt.tel=Dt.url=Dt.search=Dt.date=Dt["datetime-local"]=Dt.time=Dt.week=Dt.month=(t,e)=>(Tm(t,e.inputValue),Bd(t,t,e),W1(t,e),t.type=e.input,t);Dt.file=(t,e)=>(Bd(t,t,e),W1(t,e),t);Dt.range=(t,e)=>{const n=t.querySelector("input"),s=t.querySelector("output");return Tm(n,e.inputValue),n.type=e.input,Tm(s,e.inputValue),Bd(n,t,e),t};Dt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");oi(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Bd(t,t,e),t};Dt.radio=t=>(t.textContent="",t);Dt.checkbox=(t,e)=>{const n=hp(We(),"checkbox");n.value="1",n.checked=!!e.inputValue;const s=t.querySelector("span");return oi(s,e.inputPlaceholder||e.inputLabel),n};Dt.textarea=(t,e)=>{Tm(t,e.inputValue),W1(t,e),Bd(t,t,e);const n=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(We()).width),a=()=>{if(!document.body.contains(t))return;const l=t.offsetWidth+n(t);l>s?We().style.width=`${l}px`:vo(We(),"width",e.width)};new MutationObserver(a).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const CF=(t,e)=>{const n=H1();n&&(Y1(n),ri(n,e,"htmlContainer"),e.html?(X1(e.html,n),ln(n,"block")):e.text?(n.textContent=e.text,ln(n,"block")):Cn(n),_F(t,e))},NF=(t,e)=>{const n=tS();n&&(Y1(n),Ld(n,!!e.footer,"block"),e.footer&&X1(e.footer,n),ri(n,e,"footer"))},RF=(t,e)=>{const n=ht.innerParams.get(t),s=yc();if(!s)return;if(n&&e.icon===n.icon){B_(s,e),L_(s,e);return}if(!e.icon&&!e.iconHtml){Cn(s);return}if(e.icon&&Object.keys(Em).indexOf(e.icon)===-1){Do(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Cn(s);return}ln(s),B_(s,e),L_(s,e),et(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",aS)},L_=(t,e)=>{for(const[n,s]of Object.entries(Em))e.icon!==n&&ji(t,s);et(t,e.icon&&Em[e.icon]),kF(t,e),aS(),ri(t,e,"icon")},aS=()=>{const t=We();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<n.length;s++)n[s].style.backgroundColor=e},jF=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,IF=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,B_=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,s="";e.iconHtml?s=z_(e.iconHtml):e.icon==="success"?(s=jF(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?s=IF:e.icon&&(s=z_({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==s.trim()&&oi(t,s)},kF=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])O_(t,n,"background-color",e.iconColor);O_(t,".swal2-success-ring","border-color",e.iconColor)}},z_=t=>`<div class="${te["icon-content"]}">${t}</div>`,DF=(t,e)=>{const n=eS();if(n){if(!e.imageUrl){Cn(n);return}ln(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),vo(n,"width",e.imageWidth),vo(n,"height",e.imageHeight),n.className=te.image,ri(n,e,"image")}};let Z1=!1,oS=0,lS=0,cS=0,uS=0;const MF=t=>{t.addEventListener("mousedown",Am),document.body.addEventListener("mousemove",Sm),t.addEventListener("mouseup",Cm),t.addEventListener("touchstart",Am),document.body.addEventListener("touchmove",Sm),t.addEventListener("touchend",Cm)},PF=t=>{t.removeEventListener("mousedown",Am),document.body.removeEventListener("mousemove",Sm),t.removeEventListener("mouseup",Cm),t.removeEventListener("touchstart",Am),document.body.removeEventListener("touchmove",Sm),t.removeEventListener("touchend",Cm)},Am=t=>{const e=We();if(t.target===e||yc().contains(t.target)){Z1=!0;const n=dS(t);oS=n.clientX,lS=n.clientY,cS=parseInt(e.style.insetInlineStart)||0,uS=parseInt(e.style.insetBlockStart)||0,et(e,"swal2-dragging")}},Sm=t=>{const e=We();if(Z1){let{clientX:n,clientY:s}=dS(t);e.style.insetInlineStart=`${cS+(n-oS)}px`,e.style.insetBlockStart=`${uS+(s-lS)}px`}},Cm=()=>{const t=We();Z1=!1,ji(t,"swal2-dragging")},dS=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},VF=(t,e)=>{const n=Pn(),s=We();if(!(!n||!s)){if(e.toast){vo(n,"width",e.width),s.style.width="100%";const a=xc();a&&s.insertBefore(a,yc())}else vo(s,"width",e.width);vo(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),Cn(cp()),OF(s,e),e.draggable&&!e.toast?(et(s,te.draggable),MF(s)):(ji(s,te.draggable),PF(s))}},OF=(t,e)=>{const n=e.showClass||{};t.className=`${te.popup} ${Gn(t)?n.popup:""}`,e.toast?(et([document.documentElement,document.body],te["toast-shown"]),et(t,te.toast)):et(t,te.modal),ri(t,e,"popup"),typeof e.customClass=="string"&&et(t,e.customClass),e.icon&&et(t,te[`icon-${e.icon}`])},LF=(t,e)=>{const n=q1();if(!n)return;const{progressSteps:s,currentProgressStep:a}=e;if(!s||s.length===0||a===void 0){Cn(n);return}ln(n),n.textContent="",a>=s.length&&Mn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((l,u)=>{const f=BF(l);if(n.appendChild(f),u===a&&et(f,te["active-progress-step"]),u!==s.length-1){const p=zF(e);n.appendChild(p)}})},BF=t=>{const e=document.createElement("li");return et(e,te["progress-step"]),oi(e,t),e},zF=t=>{const e=document.createElement("li");return et(e,te["progress-step-line"]),t.progressStepsDistance&&vo(e,"width",t.progressStepsDistance),e},UF=(t,e)=>{const n=JA();n&&(Y1(n),Ld(n,!!(e.title||e.titleText),"block"),e.title&&X1(e.title,n),e.titleText&&(n.innerText=e.titleText),ri(n,e,"title"))},hS=(t,e)=>{VF(t,e),yF(t,e),LF(t,e),RF(t,e),DF(t,e),UF(t,e),gF(t,e),CF(t,e),fF(t,e),NF(t,e);const n=We();typeof e.didRender=="function"&&n&&e.didRender(n),be.eventEmitter.emit("didRender",n)},FF=()=>Gn(We()),fS=()=>{var t;return(t=Ds())===null||t===void 0?void 0:t.click()},HF=()=>{var t;return(t=Mo())===null||t===void 0?void 0:t.click()},qF=()=>{var t;return(t=vc())===null||t===void 0?void 0:t.click()},wc=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),mS=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},$F=(t,e,n)=>{mS(t),e.toast||(t.keydownHandler=s=>KF(e,s,n),t.keydownTarget=e.keydownListenerCapture?window:We(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Jy=(t,e)=>{var n;const s=G1();if(s.length){t=t+e,t===-2&&(t=s.length-1),t===s.length?t=0:t===-1&&(t=s.length-1),s[t].focus();return}(n=We())===null||n===void 0||n.focus()},pS=["ArrowRight","ArrowDown"],GF=["ArrowLeft","ArrowUp"],KF=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?YF(e,t):e.key==="Tab"?QF(e):[...pS,...GF].includes(e.key)?XF(e.key):e.key==="Escape"&&WF(e,t,n)))},YF=(t,e)=>{if(!lp(e.allowEnterKey))return;const n=hp(We(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;fS(),t.preventDefault()}},QF=t=>{const e=t.target,n=G1();let s=-1;for(let a=0;a<n.length;a++)if(e===n[a]){s=a;break}t.shiftKey?Jy(s,-1):Jy(s,1),t.stopPropagation(),t.preventDefault()},XF=t=>{const e=Od(),n=Ds(),s=Mo(),a=vc();if(!e||!n||!s||!a)return;const l=[n,s,a];if(document.activeElement instanceof HTMLElement&&!l.includes(document.activeElement))return;const u=pS.includes(t)?"nextElementSibling":"previousElementSibling";let f=document.activeElement;if(f){for(let p=0;p<e.children.length;p++){if(f=f[u],!f)return;if(f instanceof HTMLButtonElement&&Gn(f))break}f instanceof HTMLButtonElement&&f.focus()}},WF=(t,e,n)=>{t.preventDefault(),lp(e.allowEscapeKey)&&n(wc.esc)};var tc={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ZF=()=>{const t=Pn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},gS=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},yS=typeof window<"u"&&!!window.GestureEvent,JF=()=>{if(yS&&!cr(document.body,te.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,et(document.body,te.iosfix),eH()}},eH=()=>{const t=Pn();if(!t)return;let e;t.ontouchstart=n=>{e=tH(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},tH=t=>{const e=t.target,n=Pn(),s=H1();return!n||!s||nH(t)||iH(t)?!1:e===n||!Zy(n)&&e instanceof HTMLElement&&!tF(e,s)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Zy(s)&&s.contains(e))},nH=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",iH=t=>t.touches&&t.touches.length>1,sH=()=>{if(cr(document.body,te.iosfix)){const t=parseInt(document.body.style.top,10);ji(document.body,te.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},rH=()=>{const t=document.createElement("div");t.className=te["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let ql=null;const aH=t=>{ql===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(ql=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ql+rH()}px`)},oH=()=>{ql!==null&&(document.body.style.paddingRight=`${ql}px`,ql=null)};function vS(t,e,n,s){dp()?U_(t,s):($U(n).then(()=>U_(t,s)),mS(be)),yS?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),K1()&&(oH(),sH(),gS()),lH()}function lH(){ji([document.documentElement,document.body],[te.shown,te["height-auto"],te["no-backdrop"],te["toast-shown"]])}function ca(t){t=uH(t);const e=tc.swalPromiseResolve.get(this),n=cH(this);this.isAwaitingPromise?t.isDismissed||(zd(this),e(t)):n&&e(t)}const cH=t=>{const e=We();if(!e)return!1;const n=ht.innerParams.get(t);if(!n||cr(e,n.hideClass.popup))return!1;ji(e,n.showClass.popup),et(e,n.hideClass.popup);const s=Pn();return ji(s,n.showClass.backdrop),et(s,n.hideClass.backdrop),dH(t,e,n),!0};function xS(t){const e=tc.swalPromiseReject.get(this);zd(this),e&&e(t)}const zd=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,ht.innerParams.get(t)||t._destroy())},uH=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),dH=(t,e,n)=>{var s;const a=Pn(),l=sS(e);typeof n.willClose=="function"&&n.willClose(e),(s=be.eventEmitter)===null||s===void 0||s.emit("willClose",e),l?hH(t,e,a,n.returnFocus,n.didClose):vS(t,a,n.returnFocus,n.didClose)},hH=(t,e,n,s,a)=>{be.swalCloseEventFinishedCallback=vS.bind(null,t,n,s,a);const l=function(u){if(u.target===e){var f;(f=be.swalCloseEventFinishedCallback)===null||f===void 0||f.call(be),delete be.swalCloseEventFinishedCallback,e.removeEventListener("animationend",l),e.removeEventListener("transitionend",l)}};e.addEventListener("animationend",l),e.addEventListener("transitionend",l)},U_=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=be.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},nc=t=>{let e=We();if(e||new Me,e=We(),!e)return;const n=xc();dp()?Cn(yc()):fH(e,t),ln(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},fH=(t,e)=>{const n=Od(),s=xc();!n||!s||(!e&&Gn(Ds())&&(e=Ds()),ln(n),e&&(Cn(e),s.setAttribute("data-button-to-replace",e.className),n.insertBefore(s,e)),et([t,n],te.loading))},mH=(t,e)=>{e.input==="select"||e.input==="radio"?xH(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(U1(e.inputValue)||F1(e.inputValue))&&(nc(Ds()),wH(t,e))},pH=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return gH(n);case"radio":return yH(n);case"file":return vH(n);default:return e.inputAutoTrim?n.value.trim():n.value}},gH=t=>t.checked?1:0,yH=t=>t.checked?t.value:null,vH=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,xH=(t,e)=>{const n=We();if(!n)return;const s=a=>{e.input==="select"?bH(n,Nm(a),e):e.input==="radio"&&_H(n,Nm(a),e)};U1(e.inputOptions)||F1(e.inputOptions)?(nc(Ds()),Pd(e.inputOptions).then(a=>{t.hideLoading(),s(a)})):typeof e.inputOptions=="object"?s(e.inputOptions):Do(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},wH=(t,e)=>{const n=t.getInput();n&&(Cn(n),Pd(e.inputValue).then(s=>{n.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,ln(n),n.focus(),t.hideLoading()}).catch(s=>{Do(`Error in inputValue promise: ${s}`),n.value="",ln(n),n.focus(),t.hideLoading()}))};function bH(t,e,n){const s=la(t,te.select);if(!s)return;const a=(l,u,f)=>{const p=document.createElement("option");p.value=f,oi(p,u),p.selected=wS(f,n.inputValue),l.appendChild(p)};e.forEach(l=>{const u=l[0],f=l[1];if(Array.isArray(f)){const p=document.createElement("optgroup");p.label=u,p.disabled=!1,s.appendChild(p),f.forEach(g=>a(p,g[1],g[0]))}else a(s,f,u)}),s.focus()}function _H(t,e,n){const s=la(t,te.radio);if(!s)return;e.forEach(l=>{const u=l[0],f=l[1],p=document.createElement("input"),g=document.createElement("label");p.type="radio",p.name=te.radio,p.value=u,wS(u,n.inputValue)&&(p.checked=!0);const v=document.createElement("span");oi(v,f),v.className=te.label,g.appendChild(p),g.appendChild(v),s.appendChild(g)});const a=s.querySelectorAll("input");a.length&&a[0].focus()}const Nm=t=>{const e=[];return t instanceof Map?t.forEach((n,s)=>{let a=n;typeof a=="object"&&(a=Nm(a)),e.push([s,a])}):Object.keys(t).forEach(n=>{let s=t[n];typeof s=="object"&&(s=Nm(s)),e.push([n,s])}),e},wS=(t,e)=>!!e&&e.toString()===t.toString(),EH=t=>{const e=ht.innerParams.get(t);t.disableButtons(),e.input?bS(t,"confirm"):ev(t,!0)},TH=t=>{const e=ht.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?bS(t,"deny"):J1(t,!1)},AH=(t,e)=>{t.disableButtons(),e(wc.cancel)},bS=(t,e)=>{const n=ht.innerParams.get(t);if(!n.input){Do(`The "input" parameter is needed to be set when using returnInputValueOn${z1(e)}`);return}const s=t.getInput(),a=pH(t,n);n.inputValidator?SH(t,a,e):s&&!s.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||s.validationMessage)):e==="deny"?J1(t,a):ev(t,a)},SH=(t,e,n)=>{const s=ht.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Pd(s.inputValidator(e,s.validationMessage))).then(l=>{t.enableButtons(),t.enableInput(),l?t.showValidationMessage(l):n==="deny"?J1(t,e):ev(t,e)})},J1=(t,e)=>{const n=ht.innerParams.get(t||void 0);n.showLoaderOnDeny&&nc(Mo()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Pd(n.preDeny(e,n.validationMessage))).then(a=>{a===!1?(t.hideLoading(),zd(t)):t.close({isDenied:!0,value:typeof a>"u"?e:a})}).catch(a=>_S(t||void 0,a))):t.close({isDenied:!0,value:e})},F_=(t,e)=>{t.close({isConfirmed:!0,value:e})},_S=(t,e)=>{t.rejectPromise(e)},ev=(t,e)=>{const n=ht.innerParams.get(t||void 0);n.showLoaderOnConfirm&&nc(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Pd(n.preConfirm(e,n.validationMessage))).then(a=>{Gn(cp())||a===!1?(t.hideLoading(),zd(t)):F_(t,typeof a>"u"?e:a)}).catch(a=>_S(t||void 0,a))):F_(t,e)};function Rm(){const t=ht.innerParams.get(this);if(!t)return;const e=ht.domCache.get(this);Cn(e.loader),dp()?t.icon&&ln(yc()):CH(e),ji([e.popup,e.actions],te.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const CH=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?ln(e[0],"inline-block"):eF()&&Cn(t.actions)};function ES(){const t=ht.innerParams.get(this),e=ht.domCache.get(this);return e?hp(e.popup,t.input):null}function TS(t,e,n){const s=ht.domCache.get(t);e.forEach(a=>{s[a].disabled=n})}function AS(t,e){const n=We();if(!(!n||!t))if(t.type==="radio"){const s=n.querySelectorAll(`[name="${te.radio}"]`);for(let a=0;a<s.length;a++)s[a].disabled=e}else t.disabled=e}function SS(){TS(this,["confirmButton","denyButton","cancelButton"],!1)}function CS(){TS(this,["confirmButton","denyButton","cancelButton"],!0)}function NS(){AS(this.getInput(),!1)}function RS(){AS(this.getInput(),!0)}function jS(t){const e=ht.domCache.get(this),n=ht.innerParams.get(this);oi(e.validationMessage,t),e.validationMessage.className=te["validation-message"],n.customClass&&n.customClass.validationMessage&&et(e.validationMessage,n.customClass.validationMessage),ln(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",te["validation-message"]),nS(s),et(s,te.inputerror))}function IS(){const t=ht.domCache.get(this);t.validationMessage&&Cn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),ji(e,te.inputerror))}const $l={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},NH=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],RH={allowEnterKey:void 0},jH=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],kS=t=>Object.prototype.hasOwnProperty.call($l,t),DS=t=>NH.indexOf(t)!==-1,MS=t=>RH[t],IH=t=>{kS(t)||Mn(`Unknown parameter "${t}"`)},kH=t=>{jH.includes(t)&&Mn(`The parameter "${t}" is incompatible with toasts`)},DH=t=>{const e=MS(t);e&&ZA(t,e)},PS=t=>{t.backdrop===!1&&t.allowOutsideClick&&Mn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Mn(`Invalid theme "${t.theme}"`);for(const e in t)IH(e),t.toast&&kH(e),DH(e)};function VS(t){const e=Pn(),n=We(),s=ht.innerParams.get(this);if(!n||cr(n,s.hideClass.popup)){Mn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=MH(t),l=Object.assign({},s,a);PS(l),e.dataset.swal2Theme=l.theme,hS(this,l),ht.innerParams.set(this,l),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const MH=t=>{const e={};return Object.keys(t).forEach(n=>{DS(n)?e[n]=t[n]:Mn(`Invalid parameter to update: ${n}`)}),e};function OS(){const t=ht.domCache.get(this),e=ht.innerParams.get(this);if(!e){LS(this);return}t.popup&&be.swalCloseEventFinishedCallback&&(be.swalCloseEventFinishedCallback(),delete be.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),be.eventEmitter.emit("didDestroy"),PH(this)}const PH=t=>{LS(t),delete t.params,delete be.keydownHandler,delete be.keydownTarget,delete be.currentInstance},LS=t=>{t.isAwaitingPromise?(W0(ht,t),t.isAwaitingPromise=!0):(W0(tc,t),W0(ht,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},W0=(t,e)=>{for(const n in t)t[n].delete(e)};var VH=Object.freeze({__proto__:null,_destroy:OS,close:ca,closeModal:ca,closePopup:ca,closeToast:ca,disableButtons:CS,disableInput:RS,disableLoading:Rm,enableButtons:SS,enableInput:NS,getInput:ES,handleAwaitingPromise:zd,hideLoading:Rm,rejectPromise:xS,resetValidationMessage:IS,showValidationMessage:jS,update:VS});const OH=(t,e,n)=>{t.toast?LH(t,e,n):(zH(e),UH(e),FH(t,e,n))},LH=(t,e,n)=>{e.popup.onclick=()=>{t&&(BH(t)||t.timer||t.input)||n(wc.close)}},BH=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let jm=!1;const zH=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(jm=!0)}}},UH=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(jm=!0)}}},FH=(t,e,n)=>{e.container.onclick=s=>{if(jm){jm=!1;return}s.target===e.container&&lp(t.allowOutsideClick)&&n(wc.backdrop)}},HH=t=>typeof t=="object"&&t.jquery,H_=t=>t instanceof Element||HH(t),qH=t=>{const e={};return typeof t[0]=="object"&&!H_(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,s)=>{const a=t[s];typeof a=="string"||H_(a)?e[n]=a:a!==void 0&&Do(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof a}`)}),e};function $H(...t){return new this(...t)}function GH(t){class e extends this{_main(s,a){return super._main(s,Object.assign({},t,a))}}return e}const KH=()=>be.timeout&&be.timeout.getTimerLeft(),BS=()=>{if(be.timeout)return nF(),be.timeout.stop()},zS=()=>{if(be.timeout){const t=be.timeout.start();return Q1(t),t}},YH=()=>{const t=be.timeout;return t&&(t.running?BS():zS())},QH=t=>{if(be.timeout){const e=be.timeout.increase(t);return Q1(e,!0),e}},XH=()=>!!(be.timeout&&be.timeout.isRunning());let q_=!1;const e2={};function WH(t="data-swal-template"){e2[t]=this,q_||(document.body.addEventListener("click",ZH),q_=!0)}const ZH=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in e2){const s=e.getAttribute(n);if(s){e2[n].fire({template:s});return}}};class JH{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const s=this._getHandlersByEventName(e);s.includes(n)||s.push(n)}once(e,n){const s=(...a)=>{this.removeListener(e,s),n.apply(this,a)};this.on(e,s)}emit(e,...n){this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,n)}catch(a){console.error(a)}})}removeListener(e,n){const s=this._getHandlersByEventName(e),a=s.indexOf(n);a>-1&&s.splice(a,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}be.eventEmitter=new JH;const eq=(t,e)=>{be.eventEmitter.on(t,e)},tq=(t,e)=>{be.eventEmitter.once(t,e)},nq=(t,e)=>{if(!t){be.eventEmitter.reset();return}e?be.eventEmitter.removeListener(t,e):be.eventEmitter.removeAllListeners(t)};var iq=Object.freeze({__proto__:null,argsToParams:qH,bindClickHandler:WH,clickCancel:qF,clickConfirm:fS,clickDeny:HF,enableLoading:nc,fire:$H,getActions:Od,getCancelButton:vc,getCloseButton:$1,getConfirmButton:Ds,getContainer:Pn,getDenyButton:Mo,getFocusableElements:G1,getFooter:tS,getHtmlContainer:H1,getIcon:yc,getIconContent:QU,getImage:eS,getInputLabel:XU,getLoader:xc,getPopup:We,getProgressSteps:q1,getTimerLeft:KH,getTimerProgressBar:up,getTitle:JA,getValidationMessage:cp,increaseTimer:QH,isDeprecatedParameter:MS,isLoading:ZU,isTimerRunning:XH,isUpdatableParameter:DS,isValidParameter:kS,isVisible:FF,mixin:GH,off:nq,on:eq,once:tq,resumeTimer:zS,showLoading:nc,stopTimer:BS,toggleTimer:YH});class sq{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const US=["swal-title","swal-html","swal-footer"],rq=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return fq(n),Object.assign(aq(n),oq(n),lq(n),cq(n),uq(n),dq(n),hq(n,US))},aq=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(s=>{Ao(s,["name","value"]);const a=s.getAttribute("name"),l=s.getAttribute("value");!a||!l||(typeof $l[a]=="boolean"?e[a]=l!=="false":typeof $l[a]=="object"?e[a]=JSON.parse(l):e[a]=l)}),e},oq=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(s=>{const a=s.getAttribute("name"),l=s.getAttribute("value");!a||!l||(e[a]=new Function(`return ${l}`)())}),e},lq=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(s=>{Ao(s,["type","color","aria-label"]);const a=s.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(e[`${a}ButtonText`]=s.innerHTML,e[`show${z1(a)}Button`]=!0,s.hasAttribute("color")&&(e[`${a}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(e[`${a}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),e},cq=t=>{const e={},n=t.querySelector("swal-image");return n&&(Ao(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},uq=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Ao(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},dq=t=>{const e={},n=t.querySelector("swal-input");n&&(Ao(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const s=Array.from(t.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(a=>{Ao(a,["value"]);const l=a.getAttribute("value");if(!l)return;const u=a.innerHTML;e.inputOptions[l]=u})),e},hq=(t,e)=>{const n={};for(const s in e){const a=e[s],l=t.querySelector(a);l&&(Ao(l,[]),n[a.replace(/^swal-/,"")]=l.innerHTML.trim())}return n},fq=t=>{const e=US.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const s=n.tagName.toLowerCase();e.includes(s)||Mn(`Unrecognized element <${s}>`)})},Ao=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Mn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},FS=10,mq=t=>{const e=Pn(),n=We();typeof t.willOpen=="function"&&t.willOpen(n),be.eventEmitter.emit("willOpen",n);const a=window.getComputedStyle(document.body).overflowY;yq(e,n,t),setTimeout(()=>{pq(e,n)},FS),K1()&&(gq(e,t.scrollbarPadding,a),ZF()),!dp()&&!be.previousActiveElement&&(be.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),be.eventEmitter.emit("didOpen",n)},Im=t=>{const e=We();if(t.target!==e)return;const n=Pn();e.removeEventListener("animationend",Im),e.removeEventListener("transitionend",Im),n.style.overflowY="auto",ji(n,te["no-transition"])},pq=(t,e)=>{sS(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Im),e.addEventListener("transitionend",Im)):t.style.overflowY="auto"},gq=(t,e,n)=>{JF(),e&&n!=="hidden"&&aH(n),setTimeout(()=>{t.scrollTop=0})},yq=(t,e,n)=>{et(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),ln(e,"grid"),setTimeout(()=>{et(e,n.showClass.popup),e.style.removeProperty("opacity")},FS)):ln(e,"grid"),et([document.documentElement,document.body],te.shown),n.heightAuto&&n.backdrop&&!n.toast&&et([document.documentElement,document.body],te["height-auto"])};var $_={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function vq(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=$_.email),t.input==="url"&&(t.inputValidator=$_.url))}function xq(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Mn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function wq(t){vq(t),t.showLoaderOnConfirm&&!t.preConfirm&&Mn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),xq(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),uF(t)}let bs;var Cf=new WeakMap;class Pt{constructor(...e){if(UU(this,Cf,void 0),typeof window>"u")return;bs=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,FU(Cf,this,this._main(bs.params))}_main(e,n={}){if(PS(Object.assign({},n,e)),be.currentInstance){const l=tc.swalPromiseResolve.get(be.currentInstance),{isAwaitingPromise:u}=be.currentInstance;be.currentInstance._destroy(),u||l({isDismissed:!0}),K1()&&gS()}be.currentInstance=bs;const s=_q(e,n);wq(s),Object.freeze(s),be.timeout&&(be.timeout.stop(),delete be.timeout),clearTimeout(be.restoreFocusTimeout);const a=Eq(bs);return hS(bs,s),ht.innerParams.set(bs,s),bq(bs,a,s)}then(e){return P_(Cf,this).then(e)}finally(e){return P_(Cf,this).finally(e)}}const bq=(t,e,n)=>new Promise((s,a)=>{const l=u=>{t.close({isDismissed:!0,dismiss:u,isConfirmed:!1,isDenied:!1})};tc.swalPromiseResolve.set(t,s),tc.swalPromiseReject.set(t,a),e.confirmButton.onclick=()=>{EH(t)},e.denyButton.onclick=()=>{TH(t)},e.cancelButton.onclick=()=>{AH(t,l)},e.closeButton.onclick=()=>{l(wc.close)},OH(n,e,l),$F(be,n,l),mH(t,n),mq(n),Tq(be,n,l),Aq(e,n),setTimeout(()=>{e.container.scrollTop=0})}),_q=(t,e)=>{const n=rq(t),s=Object.assign({},$l,e,n,t);return s.showClass=Object.assign({},$l.showClass,s.showClass),s.hideClass=Object.assign({},$l.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},Eq=t=>{const e={popup:We(),container:Pn(),actions:Od(),confirmButton:Ds(),denyButton:Mo(),cancelButton:vc(),loader:xc(),closeButton:$1(),validationMessage:cp(),progressSteps:q1()};return ht.domCache.set(t,e),e},Tq=(t,e,n)=>{const s=up();Cn(s),e.timer&&(t.timeout=new sq(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(ln(s),ri(s,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&Q1(e.timer)})))},Aq=(t,e)=>{if(!e.toast){if(!lp(e.allowEnterKey)){ZA("allowEnterKey"),Nq();return}Sq(t)||Cq(t,e)||Jy(-1,1)}},Sq=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Gn(n))return n.focus(),!0;return!1},Cq=(t,e)=>e.focusDeny&&Gn(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Gn(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Gn(t.confirmButton)?(t.confirmButton.focus(),!0):!1,Nq=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Pt.prototype.disableButtons=CS;Pt.prototype.enableButtons=SS;Pt.prototype.getInput=ES;Pt.prototype.disableInput=RS;Pt.prototype.enableInput=NS;Pt.prototype.hideLoading=Rm;Pt.prototype.disableLoading=Rm;Pt.prototype.showValidationMessage=jS;Pt.prototype.resetValidationMessage=IS;Pt.prototype.close=ca;Pt.prototype.closePopup=ca;Pt.prototype.closeModal=ca;Pt.prototype.closeToast=ca;Pt.prototype.rejectPromise=xS;Pt.prototype.update=VS;Pt.prototype._destroy=OS;Object.assign(Pt,iq);Object.keys(VH).forEach(t=>{Pt[t]=function(...e){return bs&&bs[t]?bs[t](...e):null}});Pt.DismissReason=wc;Pt.version="11.26.3";const Me=Pt;Me.default=Me;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function Rq(){const t=xn(),[e,n]=j.useState(0),[s,a]=j.useState(!1),[l,u]=j.useState(!1),[f,p]=j.useState(!1),[g,v]=j.useState({}),[x,E]=j.useState({name:"",email:"",password:"",confirmPassword:"",birthdate:"",country:"",city:""}),N=(P,B)=>{E(M=>({...M,[P]:B})),g[P]&&v(M=>({...M,[P]:""}))},D=P=>{try{if(P===0)return x.name?.trim().length>=2&&/^[a-zA-Z\s]+$/.test(x.name||"")&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.email||"")&&(x.password?.length||0)>=8&&/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(x.password||"")&&x.password===x.confirmPassword;if(P===1){if(!x.birthdate)return!1;const B=new Date(x.birthdate),G=new Date().getFullYear()-B.getFullYear();return G>=13&&G<=120&&(x.country?.trim().length||0)>0&&/^[a-zA-Z\s]+$/.test(x.country||"")&&(x.city?.trim().length||0)>0&&/^[a-zA-Z\s]+$/.test(x.city||"")}return!1}catch(B){return console.error("Validation error:",B),!1}},F=P=>{const B={};if(P===0&&(x.name.trim()?x.name.trim().length<2?B.name="El nombre debe tener al menos 2 caracteres":/^[a-zA-Z\s]+$/.test(x.name)||(B.name="El nombre solo puede contener letras"):B.name="El nombre es requerido",x.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.email)||(B.email="Ingresa un email vlido"):B.email="El email es requerido",x.password?x.password.length<8?B.password="La contrasea debe tener al menos 8 caracteres":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(x.password)||(B.password="Debe contener mayscula, minscula y nmero"):B.password="La contrasea es requerida",x.confirmPassword?x.password!==x.confirmPassword&&(B.confirmPassword="Las contraseas no coinciden"):B.confirmPassword="Confirma tu contrasea"),P===1){if(!x.birthdate)B.birthdate="La fecha de nacimiento es requerida";else{const M=new Date(x.birthdate),S=new Date().getFullYear()-M.getFullYear();S<13?B.birthdate="Debes tener al menos 13 aos":S>120&&(B.birthdate="Ingresa una fecha vlida")}x.country.trim()?/^[a-zA-Z\s]+$/.test(x.country)||(B.country="El pas solo puede contener letras"):B.country="El pas es requerido",x.city.trim()?/^[a-zA-Z\s]+$/.test(x.city)||(B.city="La ciudad solo puede contener letras"):B.city="La ciudad es requerida"}return v(B),Object.keys(B).length===0},z=()=>{F(e)&&n(P=>Math.min(2,P+1))},H=()=>n(P=>Math.max(0,P-1)),k=async()=>{if(!F(0)||!F(1)){Me.fire({icon:"warning",title:"Formulario incompleto",text:"Por favor corrige los errores antes de continuar",confirmButtonColor:"#8B5CF6"});return}p(!0);const P=await LU(x);P.success?Me.fire({icon:"success",title:"Cuenta creada exitosamente!",text:"Bienvenido a WordQuest",confirmButtonColor:"#8B5CF6"}).then(()=>{t("/login")}):Me.fire({icon:"error",title:"Error al crear cuenta",text:P.error,confirmButtonColor:"#8B5CF6"}),p(!1)};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[d.jsx("div",{className:"absolute inset-0 opacity-20",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative w-full max-w-lg mx-auto px-4 sm:px-0",children:d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-4 sm:p-8 shadow-2xl",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx(ie.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-12 h-12 sm:w-16 sm:h-16 bg-linear-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:d.jsx(jy,{className:"text-lg sm:text-2xl text-white"})}),d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"nete a WordQuest"}),d.jsx("p",{className:"text-white/70",children:"Comienza tu aventura de aprendizaje"})]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex justify-between text-sm text-white/60 mb-2",children:[d.jsxs("span",{children:["Paso ",e+1," de 3"]}),d.jsxs("span",{children:[Math.round((e+1)/3*100),"%"]})]}),d.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:d.jsx(ie.div,{className:"bg-linear-to-r from-purple-500 to-pink-500 h-2 rounded-full",initial:{width:"33%"},animate:{width:`${(e+1)/3*100}%`},transition:{duration:.3}})})]}),d.jsx("div",{className:"flex justify-center space-x-2 sm:space-x-4 mb-8",children:["Cuenta","Personal","Confirmar"].map((P,B)=>{const M=B===0?D(0):B===1?D(0)&&D(1):!1,G=B===0||B===1&&D(0)||B===2&&D(0)&&D(1);return d.jsxs(ie.button,{onClick:()=>G&&n(B),whileHover:G?{scale:1.05}:{},whileTap:G?{scale:.95}:{},disabled:!G,className:`flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 rounded-xl text-xs sm:text-sm font-medium transition-all ${e===B?"bg-linear-to-r from-purple-500 to-pink-500 text-white shadow-lg":M?"bg-green-500/20 text-green-300 border border-green-500/30 cursor-pointer":G?"bg-white/10 text-white/70 border border-white/20 cursor-pointer hover:bg-white/20":"bg-white/5 text-white/30 border border-white/5 cursor-not-allowed opacity-50"}`,children:[d.jsx("span",{className:`w-4 h-4 sm:w-5 sm:h-5 rounded-full flex items-center justify-center text-xs ${e===B?"bg-white/20":M?"bg-green-500 text-white":"bg-white/10"}`,children:M?d.jsx(or,{className:"text-xs"}):B+1}),d.jsx("span",{className:"hidden sm:inline",children:P})]},B)})}),d.jsxs(ie.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{duration:.25},children:[e===0&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Nombre completo"}),d.jsxs("div",{className:"relative",children:[d.jsx(gm,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),d.jsx("input",{type:"text",value:x.name,onChange:P=>N("name",P.target.value),placeholder:"Tu nombre completo",className:`w-full pl-12 pr-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${g.name?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`})]}),g.name&&d.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.name})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Correo electrnico"}),d.jsxs("div",{className:"relative",children:[d.jsx(s1,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),d.jsx("input",{type:"email",value:x.email,onChange:P=>N("email",P.target.value),placeholder:"tu@email.com",className:`w-full pl-12 pr-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${g.email?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`})]}),g.email&&d.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.email})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Contrasea"}),d.jsxs("div",{className:"relative",children:[d.jsx(sd,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),d.jsx("input",{type:s?"text":"password",value:x.password,onChange:P=>N("password",P.target.value),placeholder:"Mnimo 8 caracteres",className:`w-full pl-12 pr-12 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${g.password?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`}),d.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60 transition-colors",children:s?d.jsx(Ny,{}):d.jsx(Ry,{})})]}),g.password&&d.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.password})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Confirmar contrasea"}),d.jsxs("div",{className:"relative",children:[d.jsx(sd,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),d.jsx("input",{type:l?"text":"password",value:x.confirmPassword,onChange:P=>N("confirmPassword",P.target.value),placeholder:"Repite tu contrasea",className:`w-full pl-12 pr-12 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${g.confirmPassword?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`}),d.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60 transition-colors",children:l?d.jsx(Ny,{}):d.jsx(Ry,{})})]}),g.confirmPassword&&d.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.confirmPassword})]})]}),e===1&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Fecha de nacimiento"}),d.jsx("input",{type:"date",value:x.birthdate,onChange:P=>N("birthdate",P.target.value),className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white focus:outline-none focus:ring-2 focus:border-transparent transition-all ${g.birthdate?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`}),g.birthdate&&d.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.birthdate})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Pas"}),d.jsx("input",{type:"text",value:x.country,onChange:P=>N("country",P.target.value),placeholder:"Colombia",className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${g.country?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`}),g.country&&d.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.country})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Ciudad"}),d.jsx("input",{type:"text",value:x.city,onChange:P=>N("city",P.target.value),placeholder:"Bogot",className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${g.city?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`}),g.city&&d.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.city})]})]})]}),e===2&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-linear-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(rd,{className:"text-lg sm:text-2xl text-white"})}),d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white mb-2",children:"Casi listo!"}),d.jsx("p",{className:"text-white/60 text-sm",children:"Revisa tu informacin antes de continuar"})]}),d.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 sm:p-6 space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[d.jsx("span",{className:"text-white/60",children:"Nombre"}),d.jsx("span",{className:"text-white font-medium",children:x.name||"No especificado"})]}),d.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[d.jsx("span",{className:"text-white/60",children:"Email"}),d.jsx("span",{className:"text-white font-medium",children:x.email||"No especificado"})]}),d.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[d.jsx("span",{className:"text-white/60",children:"Fecha de nacimiento"}),d.jsx("span",{className:"text-white font-medium",children:x.birthdate||"No especificado"})]}),d.jsxs("div",{className:"flex justify-between items-center py-2",children:[d.jsx("span",{className:"text-white/60",children:"Ubicacin"}),d.jsx("span",{className:"text-white font-medium",children:x.city&&x.country?`${x.city}, ${x.country}`:"No especificado"})]})]}),d.jsxs(ie.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:k,disabled:f,className:"w-full bg-linear-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 flex items-center justify-center disabled:opacity-50",children:[d.jsx(jy,{className:"mr-2"})," ",f?"Creando cuenta...":"Crear mi cuenta"]})]})]},e),e<2&&d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mt-8 space-y-4 sm:space-y-0",children:[e>0?d.jsx(ie.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:H,className:"w-full sm:w-auto px-6 py-3 bg-white/10 hover:bg-white/20 text-white rounded-xl font-medium transition-all duration-200 border border-white/10",children:" Atrs"}):d.jsx("div",{}),d.jsx(ie.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:z,className:"w-full sm:w-auto px-6 py-3 bg-linear-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-xl font-medium transition-all duration-200 shadow-lg",children:"Siguiente "})]}),d.jsx("div",{className:"text-center mt-8",children:d.jsxs("p",{className:"text-white/60 text-sm",children:["Ya tienes cuenta?"," ",d.jsx("a",{href:"/login",className:"text-purple-400 hover:text-purple-300 font-medium transition-colors",children:"Inicia sesin"})]})})]})})]})}function jq(){const[t,e]=j.useState(!1),[n,s]=j.useState(!1),[a,l]=j.useState({email:"",password:""}),u=(g,v)=>{l(x=>({...x,[g]:v}))},f=xn(),p=async g=>{if(g.preventDefault(),!a.email||!a.password){Me.fire({title:"Error",text:"Por favor, completa todos los campos",icon:"error",confirmButtonColor:"#8B5CF6"});return}s(!0);const v=await BU(a.email,a.password);if(v.success){const x=v.userData?.isAdmin||!1;Me.fire({title:"Bienvenido!",text:"Has iniciado sesin correctamente",icon:"success",confirmButtonColor:"#8B5CF6"}).then(()=>{f(x?"/admin":"/user-profile")})}else Me.fire({title:"Error de inicio de sesin",text:v.error,icon:"error",confirmButtonColor:"#8B5CF6"});s(!1)};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[d.jsx("div",{className:"absolute inset-0 opacity-20",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative w-full max-w-md mx-auto px-4 sm:px-0",children:d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 sm:p-8 shadow-2xl",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx(ie.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:d.jsx(w3,{className:"text-lg sm:text-2xl text-white"})}),d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Bienvenido de vuelta"}),d.jsx("p",{className:"text-white/70",children:"Inicia sesin para continuar tu aventura"})]}),d.jsxs("form",{onSubmit:p,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Correo electrnico"}),d.jsxs("div",{className:"relative",children:[d.jsx(s1,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),d.jsx("input",{type:"email",value:a.email,onChange:g=>u("email",g.target.value),placeholder:"tu@email.com",className:"w-full pl-12 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Contrasea"}),d.jsxs("div",{className:"relative",children:[d.jsx(sd,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),d.jsx("input",{type:t?"text":"password",value:a.password,onChange:g=>u("password",g.target.value),placeholder:"Tu contrasea",className:"w-full pl-12 pr-12 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0}),d.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60 transition-colors",children:t?d.jsx(Ny,{}):d.jsx(Ry,{})})]})]}),d.jsx("div",{className:"text-right",children:d.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300 text-sm font-medium transition-colors",children:"Olvidaste tu contrasea?"})}),d.jsxs(ie.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},disabled:n,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 flex items-center justify-center disabled:opacity-50",children:[d.jsx(w3,{className:"mr-2"})," ",n?"Iniciando sesin...":"Iniciar sesin"]})]}),d.jsx("div",{className:"text-center mt-8",children:d.jsxs("p",{className:"text-white/60 text-sm",children:["No tienes cuenta?"," ",d.jsx("a",{href:"/register",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Regstrate aqu"})]})})]})})]})}const Ii={async updateCurrentProgress(t,e,n,s){try{const a=dt(Ie,"users",t,"progress",e);await ta(a,{currentChapter:n,currentMission:s,lastAccess:new Date},{merge:!0})}catch(a){console.error("Error updating current progress:",a)}},async saveMissionProgress(t,e,n,s,a,l){try{const u=dt(Ie,"users",t,"progress",e,"chapters",n,"missions",s),f=await In(u),p=f.exists()?(f.data().attempts||0)+1:1,g=f.exists()?Math.max(f.data().score||0,a):a,v=Math.round(a*10),x={completed:!0,score:g,currentScore:a,attempts:p,mode:l,points:v,completedAt:new Date,unlocksNext:g>=70};await ta(u,x,{merge:!0});const E=dt(Ie,"users",t,"progress",e,"chapters",n);await ta(E,{missionsCompleted:VP(s),lastAccess:new Date},{merge:!0});const N=dt(Ie,"users",t,"progress",e);await ta(N,{lastAccess:new Date},{merge:!0}),await this.addPoints(t,v),await this.checkAchievements(t,{score:a,mode:l,attempts:p})}catch(u){console.error("Error saving mission progress:",u)}},async getUserProgress(t,e){try{const n=dt(Ie,"users",t,"progress",e),s=await In(n);return s.exists()?s.data():null}catch(n){return console.error("Error getting user progress:",n),null}},async isMissionCompleted(t,e,n,s){try{const a=dt(Ie,"users",t,"progress",e,"chapters",n,"missions",s),l=await In(a);return l.exists()&&l.data().completed}catch(a){return console.error("Error checking mission completion:",a),!1}},async addPoints(t,e){try{const n=dt(Ie,"users",t);await n1(n,{totalPoints:OP(e)})}catch{try{await ta(userRef,{totalPoints:e},{merge:!0})}catch(s){console.error("Error adding points:",s)}}},async saveAchievement(t,e,n){try{const s=dt(Ie,"users",t,"achievements",e);await ta(s,{...n,unlockedAt:new Date})}catch(s){console.error("Error saving achievement:",s)}},async checkAchievements(t,e){try{const{score:n,mode:s,attempts:a}=e;n===100&&a===1&&(await this.saveAchievement(t,"perfect_first_try",{title:"Perfeccin al Primer Intento",description:"Completaste una misin con 100% en el primer intento",type:"performance",points:500}),await this.addPoints(t,500)),s==="keywords"&&n>=90&&(await this.saveAchievement(t,"keyword_master",{title:"Maestro de Palabras Clave",description:"Obtuviste 90% o ms en una misin de palabras clave",type:"skill",points:200}),await this.addPoints(t,200)),s==="completarFrase"&&n>=90&&(await this.saveAchievement(t,"sentence_expert",{title:"Experto en Oraciones",description:"Obtuviste 90% o ms en una misin de completar frases",type:"skill",points:200}),await this.addPoints(t,200)),s==="ordenar-secuencia"&&n>=90&&(await this.saveAchievement(t,"sequence_master",{title:"Maestro del Orden",description:"Obtuviste 90% o ms en una misin de ordenar secuencias",type:"skill",points:200}),await this.addPoints(t,200)),s==="ordenar-secuencia"&&n===100&&(await this.saveAchievement(t,"perfect_sequencer",{title:"Secuenciador Perfecto",description:"Ordenaste una secuencia perfectamente",type:"performance",points:300}),await this.addPoints(t,300))}catch(n){console.error("Error checking achievements:",n)}},async getUserPoints(t){try{const e=dt(Ie,"users",t),n=await In(e);return n.exists()&&n.data().totalPoints||0}catch(e){return console.error("Error getting user points:",e),0}},async getUserAchievements(t){try{const e=on(Ie,"users",t,"achievements");return(await si(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){return console.error("Error getting user achievements:",e),[]}},async getMissionProgress(t,e,n,s){try{const a=dt(Ie,"users",t,"progress",e,"chapters",n,"missions",s),l=await In(a);return l.exists()?l.data():null}catch(a){return console.error("Error getting mission progress:",a),null}},async canUnlockNext(t,e,n,s){try{const a=await this.getMissionProgress(t,e,n,s);return a&&a.score>=70}catch(a){return console.error("Error checking unlock status:",a),!1}}};function Iq(){const[t,e]=Ps(Sn),[n,s]=j.useState(null),[a,l]=j.useState(!1),[u,f]=j.useState({}),[p,g]=j.useState(!0),[v,x]=j.useState({totalPoints:0,achievements:[],completedMissions:0,averageScore:0});j.useEffect(()=>{(async()=>{if(t)try{const k=await In(dt(Ie,"users",t.uid));if(k.exists()){const P=k.data();s(P),f(P);const B=await Ii.getUserPoints(t.uid),M=await Ii.getUserAchievements(t.uid);x({totalPoints:B,achievements:M,completedMissions:M.length,averageScore:85})}else{console.warn("No user document found");const P={name:t.displayName||t.email?.split("@")[0]||"Usuario",email:t.email,createdAt:new Date,uid:t.uid,totalPoints:0};await ta(dt(Ie,"users",t.uid),P),s(P),f(P)}}catch(k){console.error("Error fetching user data:",k),Me.fire({icon:"error",title:"Error",text:"No se pudo cargar la informacin del usuario",confirmButtonColor:"#8B5CF6"})}g(!1)})()},[t]);const E=()=>{l(!0),f(n)},N=async()=>{try{await n1(dt(Ie,"users",t.uid),{name:u.name,country:u.country,city:u.city}),s({...n,...u}),l(!1),Me.fire({icon:"success",title:"Perfil actualizado!",text:"Tus cambios han sido guardados exitosamente",confirmButtonColor:"#8B5CF6"})}catch{Me.fire({icon:"error",title:"Error",text:"No se pudo actualizar el perfil",confirmButtonColor:"#8B5CF6"})}},D=()=>{l(!1),f(n)},F=H=>{if(!H)return"No especificado";const k=new Date,P=new Date(H);return`${k.getFullYear()-P.getFullYear()} aos`},z=H=>H?new Date(H.seconds?H.seconds*1e3:H).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"No especificado";return e||p?d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando perfil..."})}):t?d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:[d.jsx(Vs,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-4",children:[d.jsxs(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6 sm:mb-8",children:[d.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-2",children:"Mi Perfil"}),d.jsx("p",{className:"text-white/70 text-sm sm:text-base",children:"Gestiona tu informacin y revisa tu progreso"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[d.jsx(ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6 shadow-2xl",children:[d.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[d.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full mx-auto mb-3 sm:mb-4 overflow-hidden border-4 border-purple-500",children:d.jsx("img",{src:u5,alt:"Profile",className:"w-full h-full object-cover"})}),d.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-1",children:n?.name||"Usuario"}),d.jsxs("p",{className:"text-white/60 text-sm sm:text-base",children:["Nivel ",Math.floor(v.totalPoints/1e3)+1]})]}),d.jsx("div",{className:"space-y-3 sm:space-y-4",children:a?d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-white/80 text-sm",children:"Nombre"}),d.jsx("input",{type:"text",value:u.name||"",onChange:H=>f({...u,name:H.target.value}),className:"w-full mt-1 px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-white/80 text-sm",children:"Pas"}),d.jsx("input",{type:"text",value:u.country||"",onChange:H=>f({...u,country:H.target.value}),className:"w-full mt-1 px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-white/80 text-sm",children:"Ciudad"}),d.jsx("input",{type:"text",value:u.city||"",onChange:H=>f({...u,city:H.target.value}),className:"w-full mt-1 px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white"})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs("button",{onClick:N,className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg flex items-center justify-center",children:[d.jsx(fc,{className:"mr-2"})," Guardar"]}),d.jsxs("button",{onClick:D,className:"flex-1 bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg flex items-center justify-center",children:[d.jsx(ko,{className:"mr-2"})," Cancelar"]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center space-x-3 p-2 sm:p-3 bg-white/5 rounded-lg",children:[d.jsx(s1,{className:"text-purple-400 text-sm sm:text-base"}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Email"}),d.jsx("p",{className:"text-white text-sm sm:text-base truncate",children:n?.email})]})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 sm:p-3 bg-white/5 rounded-lg",children:[d.jsx(aV,{className:"text-purple-400 text-sm sm:text-base"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Edad"}),d.jsx("p",{className:"text-white text-sm sm:text-base",children:F(n?.birthdate)})]})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 sm:p-3 bg-white/5 rounded-lg",children:[d.jsx(vV,{className:"text-purple-400 text-sm sm:text-base"}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Ubicacin"}),d.jsx("p",{className:"text-white text-sm sm:text-base truncate",children:n?.city&&n?.country?`${n.city}, ${n.country}`:"No especificado"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 sm:p-3 bg-white/5 rounded-lg",children:[d.jsx(fV,{className:"text-purple-400 text-sm sm:text-base"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Miembro desde"}),d.jsx("p",{className:"text-white text-sm sm:text-base",children:z(n?.createdAt)})]})]}),d.jsxs("button",{onClick:E,className:"w-full bg-linear-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white py-3 px-4 rounded-lg flex items-center justify-center transition-all",children:[d.jsx(jd,{className:"mr-2"})," Editar Perfil"]})]})})]})}),d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4",children:"Estadsticas"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl sm:rounded-2xl p-3 sm:p-4 text-center",children:[d.jsx(r1,{className:"text-xl sm:text-2xl text-purple-400 mx-auto mb-2"}),d.jsx("p",{className:"text-lg sm:text-2xl font-bold text-white",children:v.totalPoints}),d.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Puntos"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[d.jsx(oa,{className:"text-2xl text-yellow-400 mx-auto mb-2"}),d.jsx("p",{className:"text-2xl font-bold text-white",children:v.achievements.length}),d.jsx("p",{className:"text-white/60 text-sm",children:"Logros"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[d.jsx(Ki,{className:"text-2xl text-blue-400 mx-auto mb-2"}),d.jsx("p",{className:"text-2xl font-bold text-white",children:v.completedMissions}),d.jsx("p",{className:"text-white/60 text-sm",children:"Misiones"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[d.jsx(rV,{className:"text-2xl text-green-400 mx-auto mb-2"}),d.jsxs("p",{className:"text-2xl font-bold text-white",children:[v.averageScore,"%"]}),d.jsx("p",{className:"text-white/60 text-sm",children:"Precisin"})]})]})]}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6",children:[d.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4",children:"Progreso de Aprendizaje"}),d.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-white/80",children:"Precisin"}),d.jsxs("span",{className:"text-white font-bold",children:[v.averageScore,"%"]})]}),d.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:d.jsx("div",{className:"bg-linear-to-r from-green-400 to-blue-500 h-3 rounded-full transition-all duration-500",style:{width:`${v.averageScore}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-white/80",children:"Nivel actual"}),d.jsx("span",{className:"text-white font-bold",children:Math.floor(v.totalPoints/1e3)+1})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(rd,{className:"text-yellow-400"}),d.jsx("span",{className:"text-white/60",children:"Basado en puntos obtenidos"})]})]})]})]}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[d.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4",children:"Logros Recientes"}),d.jsx("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:v.achievements.length>0?v.achievements.slice(0,3).map((H,k)=>d.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[d.jsx("div",{className:"w-10 h-10 bg-linear-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:d.jsx(oa,{className:"text-white"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-white font-medium",children:H.title}),d.jsx("p",{className:"text-white/60 text-sm",children:H.description})]})]},H.id)):d.jsxs("div",{className:"text-center py-4",children:[d.jsx(oa,{className:"text-4xl text-white/20 mx-auto mb-2"}),d.jsx("p",{className:"text-white/60",children:"Completa misiones para desbloquear logros!"})]})})]}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[d.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4",children:"Actividad Semanal"}),d.jsx("div",{className:"flex items-center justify-center h-32 bg-white/5 rounded-lg",children:d.jsxs("div",{className:"text-center",children:[d.jsx(lV,{className:"text-4xl text-purple-400 mx-auto mb-2"}),d.jsx("p",{className:"text-white/60",children:"Grfico de actividad prximamente"})]})})]})]})]})]})]}):d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Por favor inicia sesin"})})}function kq(){const[t]=Ps(Sn),[e,n]=j.useState(null),[s,a]=j.useState({totalPoints:0,level:1,nextLevelXP:1e3,achievements:[],completedMissions:0}),[l,u]=j.useState(!0);return j.useEffect(()=>{(async()=>{if(t)try{const p=await In(dt(Ie,"users",t.uid));p.exists()&&n(p.data());const g=await Ii.getUserPoints(t.uid),v=await Ii.getUserAchievements(t.uid),x=Math.floor(g/1e3)+1,E=x*1e3;a({totalPoints:g,level:x,nextLevelXP:E,achievements:v,completedMissions:v.length})}catch(p){console.error("Error fetching user data:",p)}u(!1)})()},[t]),l?d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando dashboard..."})}):t?d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:[d.jsx(Vs,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-7xl mx-auto pt-16 sm:pt-20 px-4",children:[d.jsxs(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 sm:mb-8",children:[d.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-2",children:["Hola, ",e?.name?.split(" ")[0]||"Usuario","! "]}),d.jsx("p",{className:"text-white/70 text-base sm:text-lg",children:"Contina tu aventura de aprendizaje"})]}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl sm:rounded-2xl p-3 sm:p-4 text-center",children:[d.jsx(r1,{className:"text-2xl sm:text-3xl text-purple-400 mx-auto mb-2"}),d.jsx("p",{className:"text-lg sm:text-2xl font-bold text-white",children:s.totalPoints}),d.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Puntos"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[d.jsx(oa,{className:"text-3xl text-yellow-400 mx-auto mb-2"}),d.jsx("p",{className:"text-2xl font-bold text-white",children:s.achievements.length}),d.jsx("p",{className:"text-white/60 text-sm",children:"Logros"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[d.jsx(Ki,{className:"text-3xl text-blue-400 mx-auto mb-2"}),d.jsx("p",{className:"text-2xl font-bold text-white",children:s.completedMissions}),d.jsx("p",{className:"text-white/60 text-sm",children:"Misiones"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[d.jsx(rd,{className:"text-3xl text-green-400 mx-auto mb-2"}),d.jsx("p",{className:"text-2xl font-bold text-white",children:s.level}),d.jsx("p",{className:"text-white/60 text-sm",children:"Nivel"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[d.jsxs(ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-2",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6 mb-4 sm:mb-6",children:[d.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4",children:"Progreso de Hoy"}),d.jsxs("div",{className:"mb-4 sm:mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-white/80 text-sm sm:text-base",children:"Puntos totales"}),d.jsxs("span",{className:"text-white font-bold text-sm sm:text-base",children:[s.totalPoints," puntos"]})]}),d.jsx("div",{className:"w-full bg-white/10 rounded-full h-4",children:d.jsx("div",{className:"bg-linear-to-r from-green-400 to-blue-500 h-4 rounded-full transition-all duration-500",style:{width:`${Math.min(s.totalPoints/5e3*100,100)}%`}})}),d.jsx("p",{className:"text-white/60 text-xs sm:text-sm mt-2",children:"Sigue completando misiones para ganar ms puntos!"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("span",{className:"text-white/80 text-sm sm:text-base",children:["Nivel ",s.level]}),d.jsxs("span",{className:"text-white font-bold text-sm sm:text-base",children:[s.totalPoints,"/",s.nextLevelXP," puntos"]})]}),d.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:d.jsx("div",{className:"bg-linear-to-r from-purple-400 to-pink-500 h-3 rounded-full transition-all duration-500",style:{width:`${s.totalPoints%1e3/1e3*100}%`}})})]})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6",children:[d.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4",children:"Logros Recientes"}),d.jsx("div",{className:"space-y-2 sm:space-y-3",children:s.achievements.length>0?s.achievements.slice(0,3).map(f=>d.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-white/5 rounded-xl",children:[d.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-1 min-w-0",children:[d.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center bg-yellow-500",children:d.jsx(oa,{className:"text-white text-sm"})}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-white font-medium text-sm sm:text-base truncate",children:f.title}),d.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:f.description})]})]}),d.jsxs("div",{className:"text-yellow-400 font-bold text-sm",children:["+",f.points]})]},f.id)):d.jsxs("div",{className:"text-center py-4",children:[d.jsx(oa,{className:"text-4xl text-white/20 mx-auto mb-2"}),d.jsx("p",{className:"text-white/60 text-sm",children:"Completa misiones para desbloquear logros!"})]})})]})]}),d.jsxs(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"space-y-6",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6",children:[d.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4",children:"Logros"}),d.jsx("div",{className:"space-y-2 sm:space-y-3",children:s.achievements.length>0?s.achievements.slice(0,4).map(f=>d.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-xl bg-yellow-500/20 border border-yellow-500/30",children:[d.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-yellow-500",children:d.jsx(oa,{className:"text-sm text-white"})}),d.jsx("span",{className:"text-sm text-white",children:f.title})]},f.id)):d.jsx("div",{className:"text-center py-2",children:d.jsx("p",{className:"text-white/60 text-sm",children:"An no tienes logros!"})})})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6",children:[d.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4",children:"Tu Nivel"}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-linear-to-r from-purple-400 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx(rd,{className:"text-xl sm:text-2xl text-white"})}),d.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-white mb-1",children:s.level}),d.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"nivel actual"}),d.jsxs("p",{className:"text-white/40 text-xs mt-1",children:[1e3-s.totalPoints%1e3," puntos para subir"]})]})]})]})]})]})]}):d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Por favor inicia sesin"})})}const Dq=()=>{const t=xn(),[e]=Ps(Sn),n=()=>{if(!e){Me.fire({icon:"warning",title:"Inicia sesin requerida",text:"Debes iniciar sesin para acceder a los modos de juego",confirmButtonText:"Ir a Login",confirmButtonColor:"#8B5CF6",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(s=>{s.isConfirmed&&t("/login")});return}t("/adventure-shelf")};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:[d.jsx(Vs,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-6xl mx-auto pt-20",children:[d.jsxs(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[d.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-4",children:["Modos de ",d.jsx("span",{className:"bg-linear-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Juego"})]}),d.jsx("p",{className:"text-white/70 text-base sm:text-lg max-w-2xl mx-auto px-4",children:"Explora diferentes experiencias de aprendizaje. Ms aventuras estn en camino."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[d.jsxs(ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},onClick:n,className:"group cursor-pointer bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 sm:p-8 shadow-2xl hover:shadow-purple-500/20 transition-all duration-300 hover:scale-105 hover:bg-white/15",children:[d.jsxs("div",{className:"relative mb-6",children:[d.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-linear-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto group-hover:scale-110 transition-transform duration-300",children:d.jsx(KA,{size:32,className:"text-white"})}),d.jsx("div",{className:"absolute -top-2 -right-2",children:d.jsx(B1,{size:20,className:"text-yellow-400 animate-pulse"})})]}),d.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white text-center mb-3",children:"Aventura Temtica"}),d.jsx("p",{className:"text-white/70 text-center text-sm sm:text-base mb-6 leading-relaxed",children:"Sumrgete en historias interactivas. Completa captulos, supera misiones y vive la narrativa mientras aprendes."}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:[d.jsxs("span",{className:"bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[d.jsx(uU,{size:12})," Historia"]}),d.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[d.jsx(pU,{size:12})," Misiones"]}),d.jsxs("span",{className:"bg-green-500/20 text-green-300 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[d.jsx(bU,{size:12})," Recompensas"]})]}),d.jsxs("button",{className:"w-full py-3 rounded-xl bg-linear-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold transition-all duration-200 flex items-center justify-center gap-2 group-hover:shadow-lg",children:[d.jsx(AU,{size:18,className:"group-hover:animate-bounce"}),"Jugar Ahora!"]})]}),d.jsxs(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-6 sm:p-8 shadow-2xl",children:[d.jsxs("div",{className:"relative mb-6",children:[d.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-linear-to-r from-gray-600 to-gray-500 rounded-2xl flex items-center justify-center mx-auto",children:d.jsx(_m,{size:32,className:"text-gray-300"})}),d.jsx("div",{className:"absolute -top-1 -right-1",children:d.jsx("div",{className:"w-6 h-6 bg-yellow-500 rounded-full flex items-center justify-center",children:d.jsx(YA,{size:12,className:"text-white"})})})]}),d.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-300 text-center mb-3",children:"Ms Aventuras"}),d.jsx("p",{className:"text-gray-400 text-center text-sm sm:text-base mb-6 leading-relaxed",children:"Estamos creando nuevos y emocionantes modos de juego. Mantente atento para ms diversin!"}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:[d.jsxs("span",{className:"bg-gray-600/20 text-gray-400 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[d.jsx(yU,{size:12})," Desafos"]}),d.jsxs("span",{className:"bg-gray-600/20 text-gray-400 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[d.jsx(EU,{size:12})," Multijugador"]}),d.jsxs("span",{className:"bg-gray-600/20 text-gray-400 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[d.jsx(xU,{size:12})," Tiempo Real"]})]}),d.jsxs("button",{disabled:!0,className:"w-full py-3 rounded-xl bg-gray-600/50 cursor-not-allowed text-gray-300 font-semibold flex items-center justify-center gap-2",children:[d.jsx(_m,{size:18}),"Prximamente..."]})]})]}),d.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center mt-12",children:d.jsxs("p",{className:"text-white/60 text-sm",children:["Tienes ideas para nuevos modos de juego?",d.jsx("span",{className:"text-purple-400 hover:text-purple-300 cursor-pointer transition-colors",children:"Comprtelas con nosotros!"})]})})]})]})},Mq=t=>{switch(t){case"Principiante":return dV;case"Intermedio":return m5;case"Avanzado":return r1;default:return Ki}},Pq=t=>{switch(t){case"Principiante":return"from-blue-500 to-purple-600";case"Intermedio":return"from-amber-500 to-orange-600";case"Avanzado":return"from-purple-500 to-pink-600";default:return"from-gray-500 to-slate-600"}};function G_(){const[t,e]=j.useState([]),[n,s]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{const l=on(Ie,"books"),f=(await si(l)).docs.map(p=>({id:p.id,...p.data(),icon:Mq(p.data().difficulty),color:Pq(p.data().difficulty)}));e(f)}catch(l){console.error("Error fetching books:",l)}finally{s(!1)}})()},[]),n?d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando libros..."})}):d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:[d.jsx(Vs,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-7xl mx-auto pt-20",children:[d.jsxs(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(Ki,{className:"text-4xl text-purple-400"}),d.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white",children:["Estantera ",d.jsx("span",{className:"bg-linear-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Temtica"})]}),d.jsx(B1,{className:"text-4xl text-yellow-400 animate-pulse"})]}),d.jsx("p",{className:"text-white/70 text-base sm:text-lg max-w-2xl mx-auto px-4",children:"Elige un libro para comenzar tu aventura narrativa y sumrgete en historias fascinantes."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:[t.length===0?d.jsxs("div",{className:"col-span-full text-center py-12",children:[d.jsx(Ki,{className:"text-6xl text-white/20 mx-auto mb-4"}),d.jsx("p",{className:"text-white/60 text-lg",children:"No hay libros disponibles an"})]}):t.map((a,l)=>{const u=a.icon;return d.jsxs(ie.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:l*.15},className:"group relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl overflow-hidden shadow-2xl transition-all duration-300 hover:scale-105 hover:shadow-purple-500/20 cursor-pointer",children:[d.jsx("div",{className:"relative h-48 sm:h-56 overflow-hidden",children:a.cover?d.jsxs(d.Fragment,{children:[d.jsx("img",{src:a.cover,alt:a.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),d.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/60 to-transparent"}),d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx("div",{className:`w-12 h-12 bg-linear-to-r ${a.color} rounded-full flex items-center justify-center shadow-lg`,children:d.jsx(u,{className:"text-white text-xl"})})})]}):d.jsxs("div",{className:"w-full h-full bg-linear-to-br from-gray-700 to-gray-800 flex flex-col items-center justify-center",children:[d.jsx(Ki,{size:40,className:"text-gray-400 mb-2"}),d.jsx("span",{className:"text-gray-300 font-medium text-center px-4",children:a.title})]})}),d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white mb-1",children:a.title}),d.jsx("p",{className:"text-purple-300 text-sm font-medium mb-3",children:a.author}),d.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2",children:a.description}),d.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[d.jsxs("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[d.jsx(YA,{size:10})," ",a.difficulty]}),d.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-2 py-1 rounded-full text-xs font-medium",children:[a.chapters," captulos"]})]}),d.jsx(rn,{to:`/chapter-selection?bookId=${a.id}`,className:`w-full block bg-linear-to-r ${a.color} hover:shadow-lg py-3 rounded-xl text-white font-semibold transition-all duration-200 text-center group-hover:scale-105`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(KA,{size:18}),"Entrar al Libro",d.jsx(oU,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})})]})]},a.id)}),d.jsxs(ie.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:t.length*.15+.2},className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl overflow-hidden shadow-xl opacity-75",children:[d.jsx("div",{className:"relative h-48 sm:h-56 overflow-hidden",children:d.jsxs("div",{className:"w-full h-full bg-linear-to-br from-gray-700 to-gray-800 flex flex-col items-center justify-center",children:[d.jsx(_m,{size:40,className:"text-gray-400 mb-2"}),d.jsx("span",{className:"text-gray-300 font-medium",children:"Ms Libros"}),d.jsx("span",{className:"text-gray-400 text-sm",children:"Prximamente"})]})}),d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-300 mb-1",children:"Nuevas Aventuras"}),d.jsx("p",{className:"text-gray-400 text-sm font-medium mb-3",children:"Prximamente"}),d.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Estamos trabajando en nuevos libros emocionantes. Mantente atento!"}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:d.jsx("span",{className:"bg-gray-600/20 text-gray-400 px-2 py-1 rounded-full text-xs font-medium",children:"Prximamente"})}),d.jsxs("button",{disabled:!0,className:"w-full bg-gray-600/50 py-3 rounded-xl text-gray-300 font-semibold cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(_m,{size:18}),"Prximamente"]})]})]})]})]})]})}function Vq(){const t=[{title:"Modos de Juego",description:"Agrega o administra los modos de juego del sistema.",icon:f5,link:"/admin/games",color:"from-blue-500 to-purple-600",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/20"},{title:"Aventura Temtica",description:"Agrega libros, captulos y niveles del modo de juego.",icon:Ki,link:"/admin/books",color:"from-green-500 to-teal-600",bgColor:"bg-green-500/10",borderColor:"border-green-500/20"},{title:"Usuarios",description:"Gestin de usuarios y privilegios del sistema.",icon:_V,link:"/admin/users",color:"from-orange-500 to-red-600",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/20"},{title:"Estadsticas",description:"Visualiza mtricas y reportes del sistema.",icon:oV,link:"/admin/stats",color:"from-purple-500 to-pink-600",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/20"},{title:"Configuracin",description:"Ajustes generales y configuracin del sistema.",icon:Fl,link:"/admin/settings",color:"from-gray-500 to-slate-600",bgColor:"bg-gray-500/10",borderColor:"border-gray-500/20"}];return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Sa,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[d.jsxs(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(m5,{className:"text-4xl text-red-400"}),d.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white",children:["Panel de ",d.jsx("span",{className:"bg-linear-to-r from-red-400 to-pink-400 bg-clip-text text-transparent",children:"Administracin"})]})]}),d.jsx("p",{className:"text-white/70 text-base sm:text-lg max-w-2xl mx-auto",children:"Gestiona todos los aspectos de WordQuest desde este panel centralizado."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e,n)=>{const s=e.icon;return d.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},children:d.jsxs(rn,{to:e.link,className:`group block ${e.bgColor} backdrop-blur-xl border ${e.borderColor} rounded-3xl p-6 shadow-2xl hover:shadow-purple-500/20 transition-all duration-300 hover:scale-105 hover:bg-white/15`,children:[d.jsx("div",{className:"mb-4",children:d.jsx("div",{className:`w-16 h-16 bg-linear-to-r ${e.color} rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300`,children:d.jsx(s,{className:"text-2xl text-white"})})}),d.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-3 group-hover:text-transparent group-hover:bg-linear-to-r group-hover:bg-clip-text group-hover:from-white group-hover:to-gray-300 transition-all",children:e.title}),d.jsx("p",{className:"text-white/70 text-sm sm:text-base leading-relaxed",children:e.description}),d.jsxs("div",{className:"mt-4 flex items-center text-white/50 group-hover:text-white/80 transition-colors",children:[d.jsx("span",{className:"text-sm font-medium",children:"Administrar"}),d.jsx("svg",{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},e.title)})}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-12 bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-6",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:"Estado del Sistema"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-400",children:"Online"}),d.jsx("div",{className:"text-white/60 text-sm",children:"Sistema"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-400",children:"3"}),d.jsx("div",{className:"text-white/60 text-sm",children:"Libros"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-400",children:"150+"}),d.jsx("div",{className:"text-white/60 text-sm",children:"Usuarios"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:"99.9%"}),d.jsx("div",{className:"text-white/60 text-sm",children:"Uptime"})]})]})]})]})]})}function Oq(){const[t,e]=j.useState([]),[n,s]=j.useState(!1),[a,l]=j.useState(!1),[u,f]=j.useState(null),p=xn(),[g,v]=j.useState({title:"",author:"",description:"",difficulty:"Principiante",chapters:"",cover:""});j.useEffect(()=>{x()},[]);const x=async()=>{try{const k=await si(on(Ie,"books"));e(k.docs.map(P=>({id:P.id,...P.data()})))}catch(k){console.error("Error fetching books:",k),k.code==="permission-denied"&&Me.fire({icon:"error",title:"Permisos insuficientes",text:"No tienes permisos para acceder a los libros. Contacta al administrador.",confirmButtonColor:"#8B5CF6"})}},E=(k,P)=>{v(B=>({...B,[k]:P}))},N=()=>{v({title:"",author:"",description:"",difficulty:"Principiante",chapters:"",cover:""}),s(!1),f(null)},D=k=>{v({title:k.title,author:k.author,description:k.description,difficulty:k.difficulty,chapters:k.chapters.toString(),cover:k.cover}),f(k.id),s(!0)},F=async()=>{if(!g.title.trim()||!g.author.trim()){Me.fire({icon:"warning",title:"Campos requeridos",text:"Por favor completa al menos el ttulo y autor",confirmButtonColor:"#8B5CF6"});return}l(!0);try{await n1(dt(Ie,"books",u),{title:g.title,author:g.author,description:g.description,difficulty:g.difficulty,chapters:parseInt(g.chapters)||0,cover:g.cover,updatedAt:new Date}),Me.fire({icon:"success",title:"Libro actualizado!",text:"El libro ha sido actualizado exitosamente",confirmButtonColor:"#8B5CF6"}),N(),x()}catch{Me.fire({icon:"error",title:"Error",text:"No se pudo actualizar el libro",confirmButtonColor:"#8B5CF6"})}l(!1)},z=async()=>{if(!g.title.trim()||!g.author.trim()){Me.fire({icon:"warning",title:"Campos requeridos",text:"Por favor completa al menos el ttulo y autor",confirmButtonColor:"#8B5CF6"});return}l(!0);try{await Nd(on(Ie,"books"),{title:g.title,author:g.author,description:g.description,difficulty:g.difficulty,chapters:parseInt(g.chapters)||0,cover:g.cover,createdAt:new Date,updatedAt:new Date}),Me.fire({icon:"success",title:"Libro creado!",text:"El libro ha sido agregado exitosamente",confirmButtonColor:"#8B5CF6"}),N(),x()}catch{Me.fire({icon:"error",title:"Error",text:"No se pudo crear el libro",confirmButtonColor:"#8B5CF6"})}l(!1)},H=async(k,P)=>{if((await Me.fire({title:"Ests seguro?",text:`Se eliminar el libro "${P}"`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{await MP(dt(Ie,"books",k)),x(),Me.fire({icon:"success",title:"Eliminado",text:"El libro ha sido eliminado",confirmButtonColor:"#8B5CF6"})}catch{Me.fire({icon:"error",title:"Error",text:"No se pudo eliminar el libro",confirmButtonColor:"#8B5CF6"})}};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Sa,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[d.jsxs(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(Ki,{className:"text-4xl text-green-400"}),d.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Administrar ",d.jsx("span",{className:"bg-linear-to-r from-green-400 to-teal-400 bg-clip-text text-transparent",children:"Libros"})]})]}),d.jsx("p",{className:"text-white/70 text-base sm:text-lg",children:"Gestiona los libros del modo Aventura Temtica"})]}),d.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8 text-center",children:d.jsxs("button",{onClick:()=>s(!n),className:"bg-linear-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2 mx-auto",children:[d.jsx(lr,{})," ",n?"Cancelar":"Agregar Nuevo Libro"]})}),n&&d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 mb-8",children:[d.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[d.jsx(Ki,{className:"text-green-400"})," ",u?"Editar Libro":"Nuevo Libro"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Ttulo *"}),d.jsx("input",{type:"text",value:g.title,onChange:k=>E("title",k.target.value),placeholder:"Ttulo del libro",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Autor *"}),d.jsx("input",{type:"text",value:g.author,onChange:k=>E("author",k.target.value),placeholder:"Nombre del autor",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 bg-linear-to-r from-green-400 to-blue-400 rounded-full"}),"Dificultad"]}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:g.difficulty,onChange:k=>E("difficulty",k.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all appearance-none cursor-pointer hover:bg-white/10 hover:border-white/30",children:[d.jsx("option",{value:"Principiante",className:"bg-slate-800 text-white",children:"Principiante"}),d.jsx("option",{value:"Intermedio",className:"bg-slate-800 text-white",children:"Intermedio"}),d.jsx("option",{value:"Avanzado",className:"bg-slate-800 text-white",children:"Avanzado"})]}),d.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:d.jsx("svg",{className:"w-5 h-5 text-white/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),d.jsxs("div",{className:"mt-1 text-xs text-white/50",children:[g.difficulty==="Principiante"&&" Ideal para nuevos lectores",g.difficulty==="Intermedio"&&" Requiere experiencia bsica",g.difficulty==="Avanzado"&&" Para lectores experimentados"]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Nmero de Captulos"}),d.jsx("input",{type:"number",value:g.chapters,onChange:k=>E("chapters",k.target.value),placeholder:"Ej: 12",min:"1",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 flex items-center gap-2",children:[d.jsx(gV,{})," URL de la Portada"]}),d.jsx("input",{type:"url",value:g.cover,onChange:k=>E("cover",k.target.value),placeholder:"https://ejemplo.com/imagen.jpg",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Descripcin"}),d.jsx("textarea",{value:g.description,onChange:k=>E("description",k.target.value),placeholder:"Descripcin del libro...",rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all resize-none"})]})]}),d.jsxs("div",{className:"flex gap-4 mt-6",children:[d.jsxs("button",{onClick:u?F:z,disabled:a,className:"flex-1 bg-linear-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[d.jsx(fc,{})," ",a?"Guardando...":u?"Actualizar Libro":"Guardar Libro"]}),d.jsxs("button",{onClick:N,className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2",children:[d.jsx(ko,{})," Cancelar"]})]})]}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:["Libros Existentes (",t.length,")"]}),t.length===0?d.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 text-center",children:[d.jsx(Ki,{className:"text-4xl text-white/40 mx-auto mb-4"}),d.jsx("p",{className:"text-white/60",children:"No hay libros registrados an"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((k,P)=>d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:P*.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300",children:[k.cover&&d.jsx("div",{className:"h-48 overflow-hidden",children:d.jsx("img",{src:k.cover,alt:k.title,className:"w-full h-full object-cover",onError:B=>{B.target.style.display="none"}})}),d.jsxs("div",{className:"p-4",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-1 truncate",children:k.title}),d.jsx("p",{className:"text-green-300 text-sm mb-2",children:k.author}),d.jsx("p",{className:"text-white/70 text-sm mb-3 line-clamp-2",children:k.description}),d.jsxs("div",{className:"flex gap-2 mb-4",children:[d.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full text-xs",children:k.difficulty}),d.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-2 py-1 rounded-full text-xs",children:[k.chapters," cap."]})]}),d.jsxs("div",{className:"flex gap-2 mb-2",children:[d.jsxs("button",{onClick:()=>D(k),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-3 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-1",children:[d.jsx(jd,{size:12})," Editar"]}),d.jsxs("button",{onClick:()=>H(k.id,k.title),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-3 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-1",children:[d.jsx(ad,{size:12})," Eliminar"]})]}),d.jsxs("button",{onClick:()=>p(`/admin/chapters?bookId=${k.id}`),className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 px-3 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-1",children:[d.jsx(zf,{size:12})," Captulos"]})]})]},k.id))})]})]})]})}function Lq(){const[t,e]=j.useState([]),[n,s]=j.useState([]),[a,l]=j.useState(""),[u,f]=j.useState(!1),[p,g]=j.useState(!1),[v,x]=j.useState({title:"",content:"",order:"",description:""}),[E]=rc();j.useEffect(()=>{N();const k=E.get("bookId");k&&l(k)},[E]),j.useEffect(()=>{a&&D(a)},[a]);const N=async()=>{try{const k=await si(on(Ie,"books"));e(k.docs.map(P=>({id:P.id,...P.data()})))}catch(k){console.error("Error fetching books:",k)}},D=async k=>{try{const P=await si(on(Ie,"books",k,"chapters"));s(P.docs.map(B=>({id:B.id,...B.data()})))}catch(P){console.error("Error fetching chapters:",P)}},F=(k,P)=>{x(B=>({...B,[k]:P}))},z=()=>{x({title:"",content:"",order:"",description:""}),f(!1)},H=async()=>{if(!a){Me.fire({icon:"warning",title:"Selecciona un libro",text:"Debes seleccionar un libro primero",confirmButtonColor:"#8B5CF6"});return}if(!v.title.trim()){Me.fire({icon:"warning",title:"Ttulo requerido",text:"Por favor ingresa el ttulo del captulo",confirmButtonColor:"#8B5CF6"});return}g(!0);try{await Nd(on(Ie,"books",a,"chapters"),{title:v.title,content:v.content,order:parseInt(v.order)||1,description:v.description,createdAt:new Date,updatedAt:new Date}),Me.fire({icon:"success",title:"Captulo creado!",text:"El captulo ha sido agregado exitosamente",confirmButtonColor:"#8B5CF6"}),z(),D(a)}catch{Me.fire({icon:"error",title:"Error",text:"No se pudo crear el captulo",confirmButtonColor:"#8B5CF6"})}g(!1)};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Sa,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[d.jsxs(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(zf,{className:"text-4xl text-blue-400"}),d.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Administrar ",d.jsx("span",{className:"bg-linear-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Captulos"})]})]}),d.jsx("p",{className:"text-white/70 text-base sm:text-lg",children:"Gestiona los captulos de cada libro"})]}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6 mb-8",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-3",children:"Seleccionar Libro"}),d.jsxs("select",{value:a,onChange:k=>l(k.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none cursor-pointer",children:[d.jsx("option",{value:"",className:"bg-slate-800 text-white",children:"Selecciona un libro..."}),t.map(k=>d.jsxs("option",{value:k.id,className:"bg-slate-800 text-white",children:[k.title," - ",k.author]},k.id))]})]}),a&&d.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 text-center",children:d.jsxs("button",{onClick:()=>f(!u),className:"bg-linear-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2 mx-auto",children:[d.jsx(lr,{})," ",u?"Cancelar":"Agregar Nuevo Captulo"]})}),u&&a&&d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 mb-8",children:[d.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[d.jsx(zf,{className:"text-blue-400"})," Nuevo Captulo"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Ttulo *"}),d.jsx("input",{type:"text",value:v.title,onChange:k=>F("title",k.target.value),placeholder:"Ttulo del captulo",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Orden"}),d.jsx("input",{type:"number",value:v.order,onChange:k=>F("order",k.target.value),placeholder:"Ej: 1",min:"1",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Descripcin"}),d.jsx("input",{type:"text",value:v.description,onChange:k=>F("description",k.target.value),placeholder:"Breve descripcin del captulo",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Contenido"}),d.jsx("textarea",{value:v.content,onChange:k=>F("content",k.target.value),placeholder:"Contenido del captulo...",rows:6,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none"})]})]}),d.jsxs("div",{className:"flex gap-4 mt-6",children:[d.jsxs("button",{onClick:H,disabled:p,className:"flex-1 bg-linear-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[d.jsx(fc,{})," ",p?"Guardando...":"Guardar Captulo"]}),d.jsxs("button",{onClick:z,className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2",children:[d.jsx(ko,{})," Cancelar"]})]})]}),a&&d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:["Captulos (",n.length,")"]}),n.length===0?d.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 text-center",children:[d.jsx(zf,{className:"text-4xl text-white/40 mx-auto mb-4"}),d.jsx("p",{className:"text-white/60",children:"No hay captulos registrados para este libro"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.sort((k,P)=>k.order-P.order).map((k,P)=>d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:P*.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300",children:[d.jsx("div",{className:"flex items-center gap-3 mb-4",children:d.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-3 py-1 rounded-full text-sm font-medium",children:["Cap. ",k.order]})}),d.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:k.title}),k.description&&d.jsx("p",{className:"text-white/70 text-sm mb-3",children:k.description}),k.content&&d.jsxs("div",{className:"bg-white/5 rounded-lg p-3 mb-4",children:[d.jsx("p",{className:"text-white/60 text-xs mb-1",children:"Contenido:"}),d.jsx("p",{className:"text-white/80 text-sm line-clamp-3",children:k.content})]}),d.jsxs("div",{className:"text-xs text-white/40",children:["Creado: ",k.createdAt?.toDate?.()?.toLocaleDateString()||"N/A"]})]},k.id))})]})]})]})}function Bq(){const t=xn();return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Sa,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[d.jsxs(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(f5,{className:"text-4xl text-purple-400"}),d.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Administrar ",d.jsx("span",{className:"bg-linear-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Juegos"})]})]}),d.jsx("p",{className:"text-white/70 text-base sm:text-lg",children:"Gestiona los diferentes modos de juego disponibles"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[d.jsxs("div",{className:"bg-linear-to-r from-yellow-500 to-orange-500 p-6 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-3",children:d.jsx(id,{className:"text-3xl text-white"})}),d.jsx("h3",{className:"text-xl font-bold text-white",children:"Palabras Clave"}),d.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Keywords Game"})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("p",{className:"text-white/70 text-sm mb-4 leading-relaxed",children:"Los usuarios leen un extracto del captulo y luego identifican palabras clave de opciones mltiples. Cada acierto ilumina la interfaz con retroalimentacin positiva, mientras que los errores ofrecen pistas sutiles para el aprendizaje."}),d.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[d.jsx("span",{className:"bg-yellow-500/20 text-yellow-300 px-2 py-1 rounded-full text-xs",children:"Vocabulario"}),d.jsx("span",{className:"bg-orange-500/20 text-orange-300 px-2 py-1 rounded-full text-xs",children:"Escritura"}),d.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full text-xs",children:"Categoras"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{onClick:()=>t("/admin/games/edit-keywords"),className:"w-full bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[d.jsx(Fl,{size:14})," Editar Misiones"]}),d.jsxs("button",{onClick:()=>t("/admin/games/add-keyword"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[d.jsx(lr,{size:14})," Agregar Contenido"]})]})]})]}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[d.jsxs("div",{className:"bg-linear-to-r from-blue-500 to-indigo-600 p-6 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-3",children:d.jsx(jd,{className:"text-3xl text-white"})}),d.jsx("h3",{className:"text-xl font-bold text-white",children:"Completar Oracin"}),d.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Complete the Sentence"})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("p",{className:"text-white/70 text-sm mb-4 leading-relaxed",children:"Los usuarios completan fragmentos con espacios en blanco seleccionando las opciones correctas. Cada seleccin proporciona retroalimentacin inmediata y una barra de progreso mantiene la motivacin durante la actividad."}),d.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[d.jsx("span",{className:"bg-blue-500/20 text-blue-300 px-2 py-1 rounded-full text-xs",children:"Comprensin"}),d.jsx("span",{className:"bg-indigo-500/20 text-indigo-300 px-2 py-1 rounded-full text-xs",children:"Gramtica"}),d.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full text-xs",children:"Contexto"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{className:"w-full bg-linear-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[d.jsx(Fl,{size:14})," Configurar"]}),d.jsxs("button",{onClick:()=>t("/admin/games/add-sentence"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[d.jsx(lr,{size:14})," Agregar Contenido"]})]})]})]}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[d.jsxs("div",{className:"bg-linear-to-r from-green-500 to-teal-600 p-6 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-3",children:d.jsx(a1,{className:"text-3xl text-white"})}),d.jsx("h3",{className:"text-xl font-bold text-white",children:"Ordenar Secuencia"}),d.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Order the Sequence"})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("p",{className:"text-white/70 text-sm mb-4 leading-relaxed",children:"Los usuarios reciben fragmentos desordenados del libro y deben arrastrar y organizar cada elemento hasta reconstruir la secuencia correcta de la historia con retroalimentacin visual suave."}),d.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[d.jsx("span",{className:"bg-green-500/20 text-green-300 px-2 py-1 rounded-full text-xs",children:"Secuencia"}),d.jsx("span",{className:"bg-teal-500/20 text-teal-300 px-2 py-1 rounded-full text-xs",children:"Narrativa"}),d.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full text-xs",children:"Drag & Drop"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{className:"w-full bg-linear-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[d.jsx(Fl,{size:14})," Configurar"]}),d.jsxs("button",{onClick:()=>t("/admin/games/add-sequence"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[d.jsx(lr,{size:14})," Agregar Contenido"]})]})]})]})]})]})]})}function zq(){const t=xn(),[e,n]=j.useState([]),[s,a]=j.useState([]),[l,u]=j.useState(""),[f,p]=j.useState(""),[g,v]=j.useState(!1),[x,E]=j.useState({title:"Identifica las palabras clave en el fragmento",description:"Selecciona las palabras que representan las ideas esenciales del texto ledo",mode:"keywords",difficulty:"Intermedio",order:"",text:"",correctWords:[""],distractors:[""]});j.useEffect(()=>{N()},[]),j.useEffect(()=>{l&&D(l)},[l]);const N=async()=>{try{const B=await si(on(Ie,"books"));n(B.docs.map(M=>({id:M.id,...M.data()})))}catch(B){console.error("Error fetching books:",B)}},D=async B=>{try{const M=await si(on(Ie,"books",B,"chapters"));a(M.docs.map(G=>({id:G.id,...G.data()})))}catch(M){console.error("Error fetching chapters:",M)}},F=(B,M)=>{E(G=>({...G,[B]:M}))},z=(B,M,G)=>{E(S=>({...S,[B]:S[B].map((T,R)=>R===M?G:T)}))},H=B=>{E(M=>({...M,[B]:[...M[B],""]}))},k=(B,M)=>{E(G=>({...G,[B]:G[B].filter((S,T)=>T!==M)}))},P=async()=>{if(!l||!f){Me.fire({icon:"warning",title:"Seleccin requerida",text:"Debes seleccionar un libro y captulo",confirmButtonColor:"#8B5CF6"});return}if(!x.text.trim()||!x.order){Me.fire({icon:"warning",title:"Campos requeridos",text:"Completa el texto y orden de la misin",confirmButtonColor:"#8B5CF6"});return}const B=x.correctWords.filter(G=>G.trim()),M=x.distractors.filter(G=>G.trim());if(B.length===0){Me.fire({icon:"warning",title:"Palabras requeridas",text:"Debes agregar al menos una palabra correcta",confirmButtonColor:"#8B5CF6"});return}v(!0);try{const G={title:x.title,description:x.description,mode:x.mode,difficulty:x.difficulty,order:parseInt(x.order),data:{text:x.text,correctWords:B,distractors:M},createdAt:new Date,updatedAt:new Date};console.log("Creating mission with data:",G),console.log("Path:",`books/${l}/chapters/${f}/missions`),await Nd(on(Ie,"books",l,"chapters",f,"missions"),G),Me.fire({icon:"success",title:"Misin creada!",text:"La misin de palabras clave ha sido agregada exitosamente",confirmButtonColor:"#8B5CF6"}),t("/admin/games")}catch(G){console.error("Error creating mission:",G),Me.fire({icon:"error",title:"Error",text:`No se pudo crear la misin: ${G.message}`,confirmButtonColor:"#8B5CF6"})}v(!1)};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Sa,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 py-8",children:[d.jsx(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(id,{className:"text-4xl text-yellow-400"}),d.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Agregar ",d.jsx("span",{className:"bg-linear-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:"Misin Keywords"})]})]})}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Libro *"}),d.jsxs("select",{value:l,onChange:B=>u(B.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all appearance-none",children:[d.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un libro..."}),e.map(B=>d.jsx("option",{value:B.id,className:"bg-slate-800",children:B.title},B.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Captulo *"}),d.jsxs("select",{value:f,onChange:B=>p(B.target.value),disabled:!l,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all appearance-none disabled:opacity-50",children:[d.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un captulo..."}),s.map(B=>d.jsx("option",{value:B.id,className:"bg-slate-800",children:B.title},B.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Dificultad"}),d.jsxs("select",{value:x.difficulty,onChange:B=>F("difficulty",B.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all appearance-none",children:[d.jsx("option",{value:"Principiante",className:"bg-slate-800",children:"Principiante"}),d.jsx("option",{value:"Intermedio",className:"bg-slate-800",children:"Intermedio"}),d.jsx("option",{value:"Avanzado",className:"bg-slate-800",children:"Avanzado"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Orden *"}),d.jsx("input",{type:"number",value:x.order,onChange:B=>F("order",B.target.value),placeholder:"1",min:"1",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Texto del fragmento *"}),d.jsx("textarea",{value:x.text,onChange:B=>F("text",B.target.value),placeholder:"Escribe el fragmento de texto aqu...",rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all resize-none"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Palabras Correctas"}),x.correctWords.map((B,M)=>d.jsxs("div",{className:"flex gap-2 mb-2",children:[d.jsx("input",{type:"text",value:B,onChange:G=>z("correctWords",M,G.target.value),placeholder:"Palabra clave",className:"flex-1 px-4 py-2 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"}),d.jsx("button",{onClick:()=>k("correctWords",M),className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-all",children:d.jsx(ad,{size:12})})]},M)),d.jsxs("button",{onClick:()=>H("correctWords"),className:"w-full py-2 border-2 border-dashed border-green-500/50 text-green-400 rounded-xl hover:border-green-500 hover:bg-green-500/10 transition-all flex items-center justify-center gap-2",children:[d.jsx(lr,{size:12})," Agregar palabra correcta"]})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Distractores"}),x.distractors.map((B,M)=>d.jsxs("div",{className:"flex gap-2 mb-2",children:[d.jsx("input",{type:"text",value:B,onChange:G=>z("distractors",M,G.target.value),placeholder:"Palabra distractor",className:"flex-1 px-4 py-2 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"}),d.jsx("button",{onClick:()=>k("distractors",M),className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-all",children:d.jsx(ad,{size:12})})]},M)),d.jsxs("button",{onClick:()=>H("distractors"),className:"w-full py-2 border-2 border-dashed border-red-500/50 text-red-400 rounded-xl hover:border-red-500 hover:bg-red-500/10 transition-all flex items-center justify-center gap-2",children:[d.jsx(lr,{size:12})," Agregar distractor"]})]})]}),d.jsxs("div",{className:"flex gap-4 mt-8",children:[d.jsxs("button",{onClick:P,disabled:g,className:"flex-1 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[d.jsx(fc,{})," ",g?"Guardando...":"Crear Misin"]}),d.jsxs("button",{onClick:()=>t("/admin/games"),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2",children:[d.jsx(ko,{})," Cancelar"]})]})]})]})]})}function Uq(){const t=xn(),[e,n]=j.useState([]),[s,a]=j.useState([]),[l,u]=j.useState(""),[f,p]=j.useState(""),[g,v]=j.useState(!1),[x,E]=j.useState({title:"Completa las frases del fragmento",description:"Selecciona la palabra o frase que completa correctamente cada parte del texto.",mode:"completarFrase",difficulty:"Intermedio",order:"",textoBase:"",espacios:[{id:"s1",opciones:["","",""],respuestaCorrecta:""}]});j.useEffect(()=>{N()},[]),j.useEffect(()=>{l&&D(l)},[l]);const N=async()=>{try{const M=await si(on(Ie,"books"));n(M.docs.map(G=>({id:G.id,...G.data()})))}catch(M){console.error("Error fetching books:",M)}},D=async M=>{try{const G=await si(on(Ie,"books",M,"chapters"));a(G.docs.map(S=>({id:S.id,...S.data()})))}catch(G){console.error("Error fetching chapters:",G)}},F=(M,G)=>{E(S=>({...S,[M]:G}))},z=(M,G,S)=>{E(T=>({...T,espacios:T.espacios.map((R,V)=>V===M?{...R,[G]:S}:R)}))},H=(M,G,S)=>{E(T=>({...T,espacios:T.espacios.map((R,V)=>V===M?{...R,opciones:R.opciones.map((O,U)=>U===G?S:O)}:R)}))},k=()=>{const M=`s${x.espacios.length+1}`;E(G=>({...G,espacios:[...G.espacios,{id:M,opciones:["","",""],respuestaCorrecta:""}]}))},P=M=>{x.espacios.length>1&&E(G=>({...G,espacios:G.espacios.filter((S,T)=>T!==M)}))},B=async()=>{if(!l||!f){Me.fire({icon:"warning",title:"Seleccin requerida",text:"Debes seleccionar un libro y captulo",confirmButtonColor:"#8B5CF6"});return}if(!x.textoBase.trim()||!x.order){Me.fire({icon:"warning",title:"Campos requeridos",text:"Completa el texto base y orden de la misin",confirmButtonColor:"#8B5CF6"});return}if(x.espacios.some(G=>!G.respuestaCorrecta.trim()||G.opciones.some(S=>!S.trim()))){Me.fire({icon:"warning",title:"Espacios incompletos",text:"Completa todas las opciones y respuestas correctas",confirmButtonColor:"#8B5CF6"});return}v(!0);try{const G={title:x.title,description:x.description,mode:x.mode,difficulty:x.difficulty,order:parseInt(x.order),data:{textoBase:x.textoBase,espacios:x.espacios},createdAt:new Date,updatedAt:new Date};await Nd(on(Ie,"books",l,"chapters",f,"missions"),G),Me.fire({icon:"success",title:"Misin creada!",text:"La misin de completar frases ha sido agregada exitosamente",confirmButtonColor:"#8B5CF6"}),t("/admin/games")}catch{Me.fire({icon:"error",title:"Error",text:"No se pudo crear la misin",confirmButtonColor:"#8B5CF6"})}v(!1)};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Sa,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 py-8",children:[d.jsx(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(jd,{className:"text-4xl text-blue-400"}),d.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Agregar ",d.jsx("span",{className:"bg-linear-to-r from-blue-400 to-indigo-400 bg-clip-text text-transparent",children:"Misin Completar Frases"})]})]})}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Libro *"}),d.jsxs("select",{value:l,onChange:M=>u(M.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none",children:[d.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un libro..."}),e.map(M=>d.jsx("option",{value:M.id,className:"bg-slate-800",children:M.title},M.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Captulo *"}),d.jsxs("select",{value:f,onChange:M=>p(M.target.value),disabled:!l,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none disabled:opacity-50",children:[d.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un captulo..."}),s.map(M=>d.jsx("option",{value:M.id,className:"bg-slate-800",children:M.title},M.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Dificultad"}),d.jsxs("select",{value:x.difficulty,onChange:M=>F("difficulty",M.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none",children:[d.jsx("option",{value:"Principiante",className:"bg-slate-800",children:"Principiante"}),d.jsx("option",{value:"Intermedio",className:"bg-slate-800",children:"Intermedio"}),d.jsx("option",{value:"Avanzado",className:"bg-slate-800",children:"Avanzado"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Orden *"}),d.jsx("input",{type:"number",value:x.order,onChange:M=>F("order",M.target.value),placeholder:"1",min:"1",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),d.jsxs("div",{className:"mb-8",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Texto Base *"}),d.jsx("textarea",{value:x.textoBase,onChange:M=>F("textoBase",M.target.value),placeholder:"Escribe el texto con ____ donde van los espacios en blanco...",rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none"})]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-white",children:"Espacios en Blanco"}),d.jsxs("button",{onClick:k,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl text-sm font-medium transition-all flex items-center gap-2",children:[d.jsx(lr,{size:12})," Agregar Espacio"]})]}),x.espacios.map((M,G)=>d.jsxs("div",{className:"bg-white/5 rounded-xl p-4 mb-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h4",{className:"text-white font-medium",children:["Espacio ",G+1," (",M.id,")"]}),x.espacios.length>1&&d.jsx("button",{onClick:()=>P(G),className:"text-red-400 hover:text-red-300 transition-colors",children:d.jsx(ad,{size:14})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:M.opciones.map((S,T)=>d.jsxs("div",{children:[d.jsxs("label",{className:"block text-white/70 text-xs mb-1",children:["Opcin ",T+1]}),d.jsx("input",{type:"text",value:S,onChange:R=>H(G,T,R.target.value),placeholder:`Opcin ${T+1}`,className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]},T))}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/70 text-xs mb-1",children:"Respuesta Correcta"}),d.jsxs("select",{value:M.respuestaCorrecta,onChange:S=>z(G,"respuestaCorrecta",S.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all appearance-none text-sm",children:[d.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona la respuesta correcta..."}),M.opciones.filter(S=>S.trim()).map((S,T)=>d.jsx("option",{value:S,className:"bg-slate-800",children:S},T))]})]})]},M.id))]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:B,disabled:g,className:"flex-1 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[d.jsx(fc,{})," ",g?"Guardando...":"Crear Misin"]}),d.jsxs("button",{onClick:()=>t("/admin/games"),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2",children:[d.jsx(ko,{})," Cancelar"]})]})]})]})]})}function Fq(){const[t]=rc(),e=xn(),[n,s]=j.useState(null),[a,l]=j.useState([]),[u,f]=j.useState(!0),p=t.get("bookId");j.useEffect(()=>{p&&g()},[p]);const g=async()=>{try{const x=await In(dt(Ie,"books",p));x.exists()&&s({id:x.id,...x.data()});const N=(await si(on(Ie,"books",p,"chapters"))).docs.map(D=>({id:D.id,...D.data()}));l(N.sort((D,F)=>D.order-F.order))}catch(x){console.error("Error fetching data:",x)}f(!1)},v=x=>{e(`/chapter-missions?bookId=${p}&chapterId=${x}`)};return u?d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando captulos..."})}):d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Vs,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 pt-20 pb-8",children:[d.jsxs(ie.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e("/adventure-shelf"),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[d.jsx(Rd,{})," Volver a la Estantera"]}),n&&d.jsxs(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-6 mb-6",children:[n.cover&&d.jsx("div",{className:"w-32 h-48 rounded-2xl overflow-hidden shadow-2xl",children:d.jsx("img",{src:n.cover,alt:n.title,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"text-center md:text-left",children:[d.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-white mb-2",children:n.title}),d.jsxs("p",{className:"text-xl text-purple-300 mb-3",children:["por ",n.author]}),d.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-2",children:[d.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full text-sm",children:n.difficulty}),d.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-3 py-1 rounded-full text-sm",children:[a.length," captulos"]})]})]})]}),d.jsx("p",{className:"text-white/70 text-lg max-w-2xl mx-auto",children:n.description})]}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-8 text-center",children:"Selecciona un Captulo"}),a.length===0?d.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 text-center",children:[d.jsx(Ki,{className:"text-4xl text-white/40 mx-auto mb-4"}),d.jsx("p",{className:"text-white/60",children:"No hay captulos disponibles para este libro"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((x,E)=>d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.1},onClick:()=>v(x.id),className:"group cursor-pointer bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 hover:bg-white/15",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-lg",children:x.order})}),d.jsx("div",{className:"text-purple-400 group-hover:text-purple-300 transition-colors",children:d.jsx(pm,{size:20})})]}),d.jsx("h3",{className:"text-xl font-bold text-white mb-3 group-hover:text-purple-200 transition-colors",children:x.title}),x.description&&d.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-3",children:x.description}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),d.jsx("span",{className:"text-green-300 text-xs",children:"Disponible"})]}),d.jsxs("button",{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2",children:[d.jsx(pm,{size:12})," Jugar"]})]})]},x.id))})]}),d.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-12 text-center",children:d.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Cmo funciona?"}),d.jsx("p",{className:"text-white/70 text-sm",children:"Selecciona un captulo para acceder a sus misiones. Completa las actividades de palabras clave para avanzar en tu aventura de aprendizaje."})]})})]})]})}function Hq(){const[t]=rc(),e=xn(),[n]=Ps(Sn),[s,a]=j.useState(null),[l,u]=j.useState(null),[f,p]=j.useState([]),[g,v]=j.useState([]),[x,E]=j.useState({}),[N,D]=j.useState(!0),F=t.get("bookId"),z=t.get("chapterId");j.useEffect(()=>{F&&z&&H()},[F,z,n]);const H=async()=>{try{const M=await In(dt(Ie,"books",F));M.exists()&&a({id:M.id,...M.data()});const G=await In(dt(Ie,"books",F,"chapters",z));G.exists()&&u({id:G.id,...G.data()});const T=(await si(on(Ie,"books",F,"chapters",z,"missions"))).docs.map(R=>({id:R.id,...R.data()}));if(p(T.sort((R,V)=>R.order-V.order)),n){const R=await Ii.getUserProgress(n.uid,F);if(R&&R.completedMissions&&v(R.completedMissions),T.length>0){const V=T.map(I=>Ii.getMissionProgress(n.uid,F,z,I.id).then(Ne=>({missionId:I.id,progress:Ne}))),U=(await Promise.all(V)).reduce((I,{missionId:Ne,progress:tt})=>(tt&&(I[Ne]=tt),I),{});E(U)}}}catch(M){console.error("Error fetching data:",M)}D(!1)},k=M=>{switch(M){case"keywords":return id;default:return pm}},P=(M,G,S,T)=>{if(M===0)return!0;const R=T[G[M-1].id],V=S.includes(G[M-1].id);return R&&R.score>=70||V&&!R},B=M=>{M.mode==="keywords"?e(`/keywords-mode?bookId=${F}&chapterId=${z}&missionId=${M.id}`):M.mode==="completarFrase"?e(`/complete-phrase-mode?bookId=${F}&chapterId=${z}&missionId=${M.id}`):M.mode==="ordenar-secuencia"?e(`/order-sequence-mode?bookId=${F}&chapterId=${z}&missionId=${M.id}`):console.log("Mission mode not implemented:",M.mode)};return N?d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando misiones..."})}):d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Vs,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-8",children:[d.jsxs(ie.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e(`/chapter-selection?bookId=${F}`),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[d.jsx(Rd,{})," Volver a Captulos"]}),s&&l&&d.jsxs(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[d.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-2",children:l.title}),d.jsxs("p",{className:"text-purple-300 mb-4 text-sm sm:text-base",children:[s.title," - Captulo ",l.order]}),l.description&&d.jsx("p",{className:"text-white/70 max-w-2xl mx-auto",children:l.description})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(id,{className:"text-6xl text-white/20 mx-auto mb-4"}),d.jsx("p",{className:"text-white/60 text-lg",children:"No hay misiones disponibles para este captulo"})]}):f.map((M,G)=>{const S=k(M.mode),T=g.includes(M.id),R=x[M.id],V=R?R.score:0,O=P(G,f,g,x);return d.jsx(ie.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:G*.1,type:"spring",stiffness:100},className:"relative group",children:d.jsxs("div",{className:`relative bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl border-2 rounded-2xl overflow-hidden transition-all duration-500 ${T&&V>=70?"border-green-400/50 shadow-lg shadow-green-500/20":T&&V<70?"border-yellow-400/50 shadow-lg shadow-yellow-500/20":O?"border-blue-400/50 shadow-lg shadow-blue-500/20 hover:scale-105 cursor-pointer":"border-gray-600/30 opacity-60"}`,onClick:()=>O&&B(M),children:[d.jsx("div",{className:"absolute -top-3 -left-3 z-10",children:d.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-white shadow-lg ${T&&V>=70?"bg-gradient-to-r from-green-500 to-emerald-600":T&&V<70?"bg-gradient-to-r from-yellow-500 to-amber-600":O?"bg-gradient-to-r from-blue-500 to-indigo-600":"bg-gradient-to-r from-gray-500 to-gray-600"}`,children:T&&V>=70?"":M.order})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center ${O?"bg-gradient-to-r from-purple-500 to-pink-500":"bg-gray-600"}`,children:O?d.jsx(S,{className:"text-white text-xl"}):d.jsx(sd,{className:"text-gray-300 text-xl"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:M.title}),d.jsx("p",{className:"text-purple-300 text-sm capitalize",children:M.mode})]})]}),d.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2 leading-relaxed",children:M.description}),d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-lg text-xs font-medium",children:M.difficulty}),M.data?.correctWords&&d.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-2 py-1 rounded-lg text-xs font-medium",children:[M.data.correctWords.length," palabras"]})]}),T&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex items-center gap-1",children:[1,2,3].map(U=>d.jsx(rd,{size:14,className:U<=Math.floor(V/34)?"text-yellow-400":"text-gray-500"},U))}),d.jsxs("span",{className:"text-white font-bold text-sm",children:[V,"%"]})]})]}),d.jsx("button",{onClick:()=>O&&B(M),disabled:!O,className:`w-full py-3 rounded-xl font-semibold transition-all flex items-center justify-center gap-2 text-sm ${T?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white":O?"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white":"bg-gray-600/50 text-gray-400 cursor-not-allowed"}`,children:T?d.jsxs(d.Fragment,{children:[d.jsx(or,{size:14})," Completado"]}):O?d.jsxs(d.Fragment,{children:[d.jsx(pm,{size:14})," Jugar"]}):d.jsxs(d.Fragment,{children:[d.jsx(sd,{size:14})," Bloqueado"]})})]})]})},M.id)})}),f.length>0&&d.jsx(ie.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:f.length*.1+.3},className:"flex justify-center mt-8",children:d.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-teal-500 px-6 py-3 rounded-2xl flex items-center gap-3 shadow-xl",children:[d.jsx(or,{className:"text-white text-xl"}),d.jsx("span",{className:"text-white font-bold text-lg",children:"Captulo Completo"})]})})]})]})]})}function qq(){const[t]=rc(),e=xn(),[n]=Ps(Sn),[s,a]=j.useState(null),[l,u]=j.useState([]),[f,p]=j.useState(!1),[g,v]=j.useState(!0),[x,E]=j.useState(!1),N=t.get("bookId"),D=t.get("chapterId"),F=t.get("missionId");j.useEffect(()=>{N&&D&&F&&(z(),n&&Ii.updateCurrentProgress(n.uid,N,D,F))},[N,D,F,n]);const z=async()=>{try{const G=await In(dt(Ie,"books",N,"chapters",D,"missions",F));G.exists()&&a({id:G.id,...G.data()})}catch(G){console.error("Error fetching mission:",G)}v(!1)},H=G=>{l.includes(G)?u(l.filter(S=>S!==G)):u([...l,G])},k=async()=>{if(p(!0),n&&!x){const G=B();await Ii.saveMissionProgress(n.uid,N,D,F,G,s.mode),E(!0)}},P=G=>f?s.data.correctWords.includes(G)?l.includes(G)?"correct":"missed":l.includes(G)?"incorrect":"default":"default",B=()=>{const G=l.filter(T=>s.data.correctWords.includes(T)).length,S=s.data.correctWords.length;return Math.round(G/S*100)};if(g)return d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando misin..."})});if(!s)return d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Misin no encontrada"})});const M=[...s.data.correctWords,...s.data.distractors].sort(()=>Math.random()-.5);return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Vs,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 pt-20 pb-8",children:[d.jsxs(ie.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e(`/chapter-missions?bookId=${N}&chapterId=${D}`),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[d.jsx(Rd,{})," Volver a Misiones"]}),d.jsxs(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[d.jsxs("div",{className:"relative mb-6",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-yellow-400/20 to-orange-400/20 blur-3xl rounded-full"}),d.jsxs("div",{className:"relative flex items-center justify-center gap-4 mb-4",children:[d.jsx(ie.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 bg-linear-to-r from-yellow-400 to-orange-500 rounded-2xl flex items-center justify-center shadow-2xl",children:d.jsx(id,{className:"text-2xl text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-linear-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:s.title}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[d.jsx("span",{className:"bg-yellow-500/20 text-yellow-300 px-3 py-1 rounded-full text-sm font-medium",children:s.difficulty}),d.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full text-sm font-medium",children:"Palabras Clave"})]})]})]})]}),d.jsx("p",{className:"text-white/80 text-xl max-w-2xl mx-auto leading-relaxed",children:s.description})]}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"relative mb-12",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-blue-500/10 to-purple-500/10 blur-xl rounded-3xl"}),d.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-8 h-8 bg-linear-to-r from-blue-400 to-purple-500 rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-sm",children:""})}),d.jsx("h3",{className:"text-xl font-bold text-white",children:"Lee el siguiente fragmento:"})]}),d.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"bg-linear-to-br from-white/10 to-white/5 rounded-2xl p-6 border border-white/10 shadow-inner",children:d.jsx("p",{className:"text-white/95 leading-relaxed text-lg font-medium tracking-wide",children:s.data.text})})]})]}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"relative mb-12",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-green-500/10 to-teal-500/10 blur-xl rounded-3xl"}),d.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[d.jsx("div",{className:"w-8 h-8 bg-linear-to-r from-green-400 to-teal-500 rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-sm",children:""})}),d.jsx("h3",{className:"text-xl font-bold text-white",children:"Selecciona las palabras clave del texto:"})]}),!f&&d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-white/70 text-sm",children:"Palabras seleccionadas:"}),d.jsx("span",{className:"text-yellow-400 font-bold",children:l.length})]}),d.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:d.jsx(ie.div,{className:"blinear-to-r from-yellow-400 to-orange-500 h-2 rounded-full",initial:{width:0},animate:{width:`${Math.min(l.length/s.data.correctWords.length*100,100)}%`},transition:{duration:.3}})})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:M.map((G,S)=>{const T=P(G),R=l.includes(G);return d.jsxs(ie.button,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},transition:{delay:.6+S*.05,type:"spring",stiffness:100},whileHover:f?{}:{scale:1.05,y:-2},whileTap:f?{}:{scale:.95},onClick:()=>!f&&H(G),disabled:f,className:`relative p-4 rounded-2xl font-semibold transition-all duration-300 shadow-lg ${T==="correct"?"bg-linear-to-r from-green-500 to-emerald-600 text-white shadow-green-500/30":T==="incorrect"?"bg-linear-to-r from-red-500 to-rose-600 text-white shadow-red-500/30":T==="missed"?"bg-linear-to-r from-yellow-400 to-amber-500 text-white border-2 border-yellow-300 shadow-yellow-500/30":R?"bg-linear-to-r from-blue-500 to-indigo-600 text-white shadow-blue-500/30":"bg-linear-to-r from-white/10 to-white/5 text-white hover:from-white/20 hover:to-white/15 border border-white/20 hover:border-white/30"} ${f?"cursor-default":"cursor-pointer"}`,children:[R&&!f&&d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-blue-400/20 to-indigo-400/20 rounded-2xl blur-lg"}),d.jsxs("span",{className:"relative flex items-center justify-center gap-2 text-sm sm:text-base",children:[G,f&&T==="correct"&&d.jsx(ie.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:d.jsx(or,{size:14,className:"text-white"})}),f&&T==="incorrect"&&d.jsx(ie.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:d.jsx(ko,{size:14,className:"text-white"})})]})]},G)})})]})]}),f?d.jsxs(ie.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:100},className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-green-500/20 to-teal-500/20 blur-2xl rounded-3xl"}),d.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 text-center shadow-2xl",children:[d.jsx(ie.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-linear-to-r from-green-400 to-teal-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:d.jsx(or,{className:"text-3xl text-white"})}),d.jsx(ie.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-white mb-6",children:"Misin Completada!"}),d.jsxs(ie.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},className:"relative mb-6",children:[d.jsxs("div",{className:"text-6xl font-bold bg-linear-to-r from-yellow-400 to-orange-500 bg-clip-text text-transparent mb-2",children:[B(),"%"]}),d.jsx("div",{className:"flex justify-center gap-1 mb-4",children:[...Array(3)].map((G,S)=>d.jsx(ie.div,{initial:{opacity:0,scale:0},animate:{opacity:B()>S*33?1:.3,scale:1},transition:{delay:.5+S*.1},className:`text-2xl ${B()>S*33?"text-yellow-400":"text-gray-500"}`,children:""},S))})]}),d.jsxs(ie.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-white/80 text-lg mb-4 leading-relaxed",children:["Has identificado ",d.jsx("span",{className:"text-green-400 font-bold",children:l.filter(G=>s.data.correctWords.includes(G)).length})," de ",d.jsx("span",{className:"text-yellow-400 font-bold",children:s.data.correctWords.length})," palabras clave correctamente."]}),d.jsx(ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:`p-4 rounded-2xl mb-6 ${B()>=70?"bg-green-500/20 border border-green-500/30":"bg-yellow-500/20 border border-yellow-500/30"}`,children:d.jsx("p",{className:`text-center font-medium ${B()>=70?"text-green-300":"text-yellow-300"}`,children:B()>=70?" Excelente! Has desbloqueado la siguiente misin.":" Necesitas al menos 70% para desbloquear la siguiente misin. Intntalo de nuevo!"})}),d.jsxs("div",{className:"flex gap-4 justify-center",children:[d.jsx(ie.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(`/chapter-missions?bookId=${N}&chapterId=${D}`),className:"bg-linear-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-green-500/30",children:"Continuar Aventura"}),B()<70&&d.jsx(ie.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-yellow-500/30",children:"Intentar de Nuevo"})]})]})]}):d.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"text-center",children:d.jsxs(ie.button,{onClick:k,disabled:l.length===0,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-12 py-4 rounded-2xl font-bold text-lg transition-all duration-300 flex items-center gap-3 mx-auto shadow-2xl shadow-yellow-500/30",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-yellow-400/20 to-orange-400/20 rounded-2xl blur-lg"}),d.jsxs("span",{className:"relative flex items-center gap-3",children:[d.jsx(or,{className:"text-xl"})," Verificar Respuestas"]})]})})]})]})}function $q(){const[t]=rc(),e=xn(),[n]=Ps(Sn),[s,a]=j.useState(null),[l,u]=j.useState({}),[f,p]=j.useState(!1),[g,v]=j.useState(!0),[x,E]=j.useState(!1),N=t.get("bookId"),D=t.get("chapterId"),F=t.get("missionId");j.useEffect(()=>{N&&D&&F&&(z(),n&&Ii.updateCurrentProgress(n.uid,N,D,F))},[N,D,F,n]);const z=async()=>{try{const S=await In(dt(Ie,"books",N,"chapters",D,"missions",F));S.exists()&&a({id:S.id,...S.data()})}catch(S){console.error("Error fetching mission:",S)}v(!1)},H=(S,T)=>{f||u(R=>({...R,[S]:T}))},k=async()=>{if(p(!0),n&&!x){const S=P();await Ii.saveMissionProgress(n.uid,N,D,F,S,s.mode),E(!0)}},P=()=>{const S=s.data.espacios.filter(T=>l[T.id]===T.respuestaCorrecta).length;return Math.round(S/s.data.espacios.length*100)},B=()=>{let S=s.data.textoBase;return s.data.espacios.forEach((T,R)=>{const V=l[T.id],O=f&&V===T.respuestaCorrecta,U=f&&V&&V!==T.respuestaCorrecta,Ne=`<span class="inline-block px-3 py-1 rounded-lg font-medium cursor-pointer transition-all ${f?O?"bg-green-500 text-white":U?"bg-red-500 text-white":"bg-yellow-500 text-white":V?"bg-blue-500 text-white":"bg-white/20 text-white border-2 border-dashed border-white/40"}" data-espacio="${T.id}">
        ${V||"____"}
      </span>`;S=S.replace("____",Ne)}),S};if(g)return d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando misin..."})});if(!s)return d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Misin no encontrada"})});const M=Object.keys(l).length,G=s.data.espacios.length;return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Vs,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 pt-20 pb-8",children:[d.jsxs(ie.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e(`/chapter-missions?bookId=${N}&chapterId=${D}`),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[d.jsx(Rd,{})," Volver a Misiones"]}),d.jsxs(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[d.jsxs("div",{className:"relative mb-6",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-blue-400/20 to-indigo-400/20 blur-3xl rounded-full"}),d.jsxs("div",{className:"relative flex items-center justify-center gap-4 mb-4",children:[d.jsx(ie.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 bg-linear-to-r from-blue-400 to-indigo-500 rounded-2xl flex items-center justify-center shadow-2xl",children:d.jsx(jd,{className:"text-2xl text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-linear-to-r from-blue-400 to-indigo-400 bg-clip-text text-transparent",children:s.title}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[d.jsx("span",{className:"bg-blue-500/20 text-blue-300 px-3 py-1 rounded-full text-sm font-medium",children:s.difficulty}),d.jsx("span",{className:"bg-indigo-500/20 text-indigo-300 px-3 py-1 rounded-full text-sm font-medium",children:"Completar Frases"})]})]})]})]}),d.jsx("p",{className:"text-white/80 text-xl max-w-2xl mx-auto leading-relaxed",children:s.description})]}),!f&&d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-white/70 text-sm",children:"Progreso:"}),d.jsxs("span",{className:"text-blue-400 font-bold",children:[M,"/",G]})]}),d.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:d.jsx(ie.div,{className:"bg-linear-to-r from-blue-400 to-indigo-500 h-3 rounded-full",initial:{width:0},animate:{width:`${M/G*100}%`},transition:{duration:.3}})})]}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"relative mb-12",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-purple-500/10 to-blue-500/10 blur-xl rounded-3xl"}),d.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-8 h-8 bg-linear-to-r from-purple-400 to-blue-500 rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-sm",children:""})}),d.jsx("h3",{className:"text-xl font-bold text-white",children:"Completa el texto:"})]}),d.jsx("div",{className:"text-white/95 leading-relaxed text-lg font-medium tracking-wide",dangerouslySetInnerHTML:{__html:B()},onClick:S=>{const T=S.target.getAttribute("data-espacio");T&&!f&&s.data.espacios.find(R=>R.id===T)}})]})]}),!f&&d.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-6 mb-12",children:s.data.espacios.map((S,T)=>d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[d.jsxs("h4",{className:"text-white font-bold mb-4",children:["Espacio ",T+1,":"]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:S.opciones.map((R,V)=>d.jsx(ie.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>H(S.id,R),className:`p-4 rounded-xl font-medium transition-all duration-200 ${l[S.id]===R?"bg-linear-to-r from-blue-500 to-indigo-600 text-white shadow-blue-500/30":"bg-white/10 text-white hover:bg-white/20 border border-white/20"}`,children:R},V))})]},S.id))}),f?d.jsxs(ie.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:100},className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-green-500/20 to-teal-500/20 blur-2xl rounded-3xl"}),d.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 text-center shadow-2xl",children:[d.jsx(ie.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-linear-to-r from-green-400 to-teal-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:d.jsx(or,{className:"text-3xl text-white"})}),d.jsx(ie.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-white mb-6",children:"Misin Completada!"}),d.jsxs(ie.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},className:"relative mb-6",children:[d.jsxs("div",{className:"text-6xl font-bold bg-linear-to-r from-blue-400 to-indigo-500 bg-clip-text text-transparent mb-2",children:[P(),"%"]}),d.jsx("div",{className:"flex justify-center gap-1 mb-4",children:[...Array(3)].map((S,T)=>d.jsx(ie.div,{initial:{opacity:0,scale:0},animate:{opacity:P()>T*33?1:.3,scale:1},transition:{delay:.5+T*.1},className:`text-2xl ${P()>T*33?"text-blue-400":"text-gray-500"}`,children:""},T))})]}),d.jsxs(ie.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-white/80 text-lg mb-4 leading-relaxed",children:["Has completado ",d.jsx("span",{className:"text-green-400 font-bold",children:s.data.espacios.filter(S=>l[S.id]===S.respuestaCorrecta).length})," de ",d.jsx("span",{className:"text-blue-400 font-bold",children:s.data.espacios.length})," espacios correctamente."]}),d.jsx(ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:`p-4 rounded-2xl mb-6 ${P()>=70?"bg-green-500/20 border border-green-500/30":"bg-yellow-500/20 border border-yellow-500/30"}`,children:d.jsx("p",{className:`text-center font-medium ${P()>=70?"text-green-300":"text-yellow-300"}`,children:P()>=70?" Excelente! Has desbloqueado la siguiente misin.":" Necesitas al menos 70% para desbloquear la siguiente misin. Intntalo de nuevo!"})}),d.jsxs("div",{className:"flex gap-4 justify-center",children:[d.jsx(ie.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(`/chapter-missions?bookId=${N}&chapterId=${D}`),className:"bg-linear-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-green-500/30",children:"Continuar Aventura"}),P()<70&&d.jsx(ie.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-yellow-500/30",children:"Intentar de Nuevo"})]})]})]}):d.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"text-center",children:d.jsxs(ie.button,{onClick:k,disabled:M<G,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative bg-linear-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-12 py-4 rounded-2xl font-bold text-lg transition-all duration-300 flex items-center gap-3 mx-auto shadow-2xl shadow-blue-500/30",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-blue-400/20 to-indigo-400/20 rounded-2xl blur-lg"}),d.jsxs("span",{className:"relative flex items-center gap-3",children:[d.jsx(or,{className:"text-xl"})," Verificar Respuestas"]})]})})]})]})}function Gq(){const[t]=rc(),e=xn(),[n]=Ps(Sn),[s,a]=j.useState(null),[l,u]=j.useState([]),[f,p]=j.useState(null),[g,v]=j.useState(!1),[x,E]=j.useState(!1),[N,D]=j.useState(0),[F,z]=j.useState(!0),H=t.get("bookId"),k=t.get("chapterId"),P=t.get("missionId");j.useEffect(()=>{H&&k&&P&&B()},[H,k,P]);const B=async()=>{try{const U=await In(dt(Ie,"books",H,"chapters",k,"missions",P));if(U.exists()){const I={id:U.id,...U.data()};a(I);const Ne=[...I.data.sequence].sort(()=>Math.random()-.5);u(Ne)}}catch(U){console.error("Error fetching mission:",U)}z(!1)},M=(U,I)=>{p(I),U.dataTransfer.effectAllowed="move"},G=U=>{U.preventDefault(),U.dataTransfer.dropEffect="move"},S=(U,I)=>{if(U.preventDefault(),!f||f.id===I.id)return;const Ne=l.findIndex(ce=>ce.id===f.id),tt=l.findIndex(ce=>ce.id===I.id),ee=[...l];ee.splice(Ne,1),ee.splice(tt,0,f),u(ee),p(null)},T=()=>{const U=s.data.correctOrder,I=l.map(ee=>ee.id);let Ne=0;for(let ee=0;ee<U.length;ee++)U[ee]===I[ee]&&Ne++;const tt=Math.round(Ne/U.length*100);D(tt),v(tt===100),E(!0)},R=async()=>{if(n)try{await Ii.saveMissionProgress(n.uid,H,k,P,N,{userSequence:l.map(U=>U.id)}),N>=70&&await Ii.updateUserProgress(n.uid,H,P,N)}catch(U){console.error("Error saving progress:",U)}},V=async()=>{await R(),e(`/chapter-missions?bookId=${H}&chapterId=${k}`)},O=()=>{const U=[...s.data.sequence].sort(()=>Math.random()-.5);u(U),E(!1),v(!1),D(0)};return F?d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando misin..."})}):s?d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Vs,{}),d.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 py-8",children:[d.jsxs(ie.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e(`/chapter-missions?bookId=${H}&chapterId=${k}`),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[d.jsx(Rd,{})," Volver a Misiones"]}),d.jsxs(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(a1,{className:"text-4xl text-green-400"}),d.jsx("h1",{className:"text-3xl font-bold text-white",children:s.title})]}),d.jsx("p",{className:"text-white/70",children:s.description})]}),d.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-xl",children:d.jsxs("div",{className:"mb-6",children:[d.jsx("p",{className:"text-white/70 text-center mb-8",children:s.data?.instruction}),x?d.jsxs(ie.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:100},className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-green-500/20 to-teal-500/20 blur-2xl rounded-3xl"}),d.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 text-center shadow-2xl",children:[d.jsx(ie.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-linear-to-r from-green-400 to-teal-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:d.jsx(or,{className:"text-3xl text-white"})}),d.jsx(ie.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-white mb-6",children:"Misin Completada!"}),d.jsxs(ie.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},className:"relative mb-6",children:[d.jsxs("div",{className:"text-6xl font-bold bg-linear-to-r from-green-400 to-teal-500 bg-clip-text text-transparent mb-2",children:[N,"%"]}),d.jsx("div",{className:"flex justify-center gap-1 mb-4",children:[...Array(3)].map((U,I)=>d.jsx(ie.div,{initial:{opacity:0,scale:0},animate:{opacity:N>I*33?1:.3,scale:1},transition:{delay:.5+I*.1},className:`text-2xl ${N>I*33?"text-green-400":"text-gray-500"}`,children:""},I))})]}),d.jsxs(ie.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-white/80 text-lg mb-4 leading-relaxed",children:["Has ordenado ",d.jsx("span",{className:"text-green-400 font-bold",children:Math.round(N/100*s.data.sequence.length)})," de ",d.jsx("span",{className:"text-green-400 font-bold",children:s.data.sequence.length})," eventos correctamente."]}),d.jsx(ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:`p-4 rounded-2xl mb-6 ${N>=70?"bg-green-500/20 border border-green-500/30":"bg-yellow-500/20 border border-yellow-500/30"}`,children:d.jsx("p",{className:`text-center font-medium ${N>=70?"text-green-300":"text-yellow-300"}`,children:N>=70?" Excelente! Has desbloqueado la siguiente misin.":" Necesitas al menos 70% para desbloquear la siguiente misin. Intntalo de nuevo!"})}),d.jsxs("div",{className:"flex gap-4 justify-center",children:[d.jsx(ie.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:V,className:"bg-linear-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-green-500/30",children:"Continuar Aventura"}),N<70&&d.jsx(ie.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:O,className:"bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-yellow-500/30",children:"Intentar de Nuevo"})]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"space-y-3 mb-8",children:l.map((U,I)=>d.jsxs(ie.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:I*.1},draggable:!0,onDragStart:Ne=>M(Ne,U),onDragOver:G,onDrop:Ne=>S(Ne,U),className:"bg-white/5 border border-white/20 rounded-xl p-4 cursor-move hover:bg-white/10 transition-all duration-200 flex items-center gap-4",children:[d.jsx("div",{className:"text-green-400",children:d.jsx(mV,{})}),d.jsx("div",{className:"bg-green-600 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0",children:I+1}),d.jsx("p",{className:"text-white flex-1 text-left",children:U.text})]},U.id))}),d.jsxs("div",{className:"flex gap-4 justify-center",children:[d.jsx("button",{onClick:O,className:"bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all",children:"Reiniciar"}),d.jsx("button",{onClick:T,className:"bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white py-3 px-8 rounded-xl font-semibold transition-all",children:"Confirmar Orden"})]})]})]})})]})]}):d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Misin no encontrada"})})}function K_(){const t=xn(),[e,n]=j.useState([]),[s,a]=j.useState([]),[l,u]=j.useState(""),[f,p]=j.useState(""),[g,v]=j.useState(!1),[x,E]=j.useState({title:"Ordena la secuencia de eventos",description:"Organiza correctamente los eventos segn ocurren en la historia.",mode:"ordenar-secuencia",difficulty:"Intermedio",order:"",instruction:"Lee atentamente los eventos y ordnalos segn la secuencia en que ocurren en la historia.",sequence:[{id:"step_1",text:""},{id:"step_2",text:""}]});j.useEffect(()=>{N()},[]),j.useEffect(()=>{l&&D(l)},[l]);const N=async()=>{try{const B=await si(on(Ie,"books"));n(B.docs.map(M=>({id:M.id,...M.data()})))}catch(B){console.error("Error fetching books:",B)}},D=async B=>{try{const M=await si(on(Ie,"books",B,"chapters"));a(M.docs.map(G=>({id:G.id,...G.data()})))}catch(M){console.error("Error fetching chapters:",M)}},F=(B,M)=>{E(G=>({...G,[B]:M}))},z=(B,M)=>{E(G=>({...G,sequence:G.sequence.map((S,T)=>T===B?{...S,text:M}:S)}))},H=()=>{const B={id:`step_${x.sequence.length+1}`,text:""};E(M=>({...M,sequence:[...M.sequence,B]}))},k=B=>{if(x.sequence.length>2){const G=x.sequence.filter((S,T)=>T!==B).map((S,T)=>({...S,id:`step_${T+1}`}));E(S=>({...S,sequence:G}))}},P=async()=>{if(!l||!f){Me.fire({icon:"warning",title:"Seleccin requerida",text:"Debes seleccionar un libro y captulo",confirmButtonColor:"#8B5CF6"});return}if(!x.order){Me.fire({icon:"warning",title:"Campos requeridos",text:"Completa el orden de la misin",confirmButtonColor:"#8B5CF6"});return}if(x.sequence.some(M=>!M.text.trim())){Me.fire({icon:"warning",title:"Secuencia incompleta",text:"Completa todos los eventos de la secuencia",confirmButtonColor:"#8B5CF6"});return}v(!0);try{const M={title:x.title,description:x.description,mode:x.mode,difficulty:x.difficulty,order:parseInt(x.order),data:{instruction:x.instruction,sequence:x.sequence,correctOrder:x.sequence.map(G=>G.id)},createdAt:new Date,updatedAt:new Date};await Nd(on(Ie,"books",l,"chapters",f,"missions"),M),Me.fire({icon:"success",title:"Misin creada!",text:"La misin de ordenar secuencia ha sido agregada exitosamente",confirmButtonColor:"#8B5CF6"}),t("/admin/games")}catch{Me.fire({icon:"error",title:"Error",text:"No se pudo crear la misin",confirmButtonColor:"#8B5CF6"})}v(!1)};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Sa,{}),d.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 py-8",children:[d.jsx(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(a1,{className:"text-4xl text-green-400"}),d.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Agregar ",d.jsx("span",{className:"bg-linear-to-r from-green-400 to-teal-400 bg-clip-text text-transparent",children:"Misin Ordenar Secuencia"})]})]})}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Libro *"}),d.jsxs("select",{value:l,onChange:B=>u(B.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all appearance-none",children:[d.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un libro..."}),e.map(B=>d.jsx("option",{value:B.id,className:"bg-slate-800",children:B.title},B.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Captulo *"}),d.jsxs("select",{value:f,onChange:B=>p(B.target.value),disabled:!l,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all appearance-none disabled:opacity-50",children:[d.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un captulo..."}),s.map(B=>d.jsx("option",{value:B.id,className:"bg-slate-800",children:B.title},B.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Dificultad"}),d.jsxs("select",{value:x.difficulty,onChange:B=>F("difficulty",B.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all appearance-none",children:[d.jsx("option",{value:"Principiante",className:"bg-slate-800",children:"Principiante"}),d.jsx("option",{value:"Intermedio",className:"bg-slate-800",children:"Intermedio"}),d.jsx("option",{value:"Avanzado",className:"bg-slate-800",children:"Avanzado"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Orden *"}),d.jsx("input",{type:"number",value:x.order,onChange:B=>F("order",B.target.value),placeholder:"1",min:"1",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]})]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium",children:"Secuencia de Eventos"}),d.jsxs("button",{type:"button",onClick:H,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-xl text-sm font-medium transition-all flex items-center gap-2",children:[d.jsx(lr,{size:12})," Agregar Evento"]})]}),d.jsx("div",{className:"space-y-4",children:x.sequence.map((B,M)=>d.jsxs("div",{className:"flex gap-3 items-start",children:[d.jsx("div",{className:"bg-green-600 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 mt-2",children:M+1}),d.jsx("textarea",{value:B.text,onChange:G=>z(M,G.target.value),className:"flex-1 px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all resize-none",placeholder:`Evento ${M+1}...`,rows:3}),x.sequence.length>2&&d.jsx("button",{type:"button",onClick:()=>k(M),className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-all mt-2",children:d.jsx(ad,{size:12})})]},B.id))})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:P,disabled:g,className:"flex-1 bg-linear-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[d.jsx(fc,{})," ",g?"Guardando...":"Crear Misin"]}),d.jsxs("button",{onClick:()=>t("/admin/games"),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2",children:[d.jsx(ko,{})," Cancelar"]})]})]})]})]})}const Kq=()=>d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-6",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Editar Misiones de Palabras Clave"}),d.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:d.jsx("p",{className:"text-white",children:"Funcionalidad de edicin en desarrollo..."})})]})});RN.createRoot(document.getElementById("root")).render(d.jsx(j.StrictMode,{children:d.jsx(q8,{basename:"/Project-WordQuest",children:d.jsxs(w8,{children:[d.jsx(bt,{path:"/",element:d.jsx(OU,{})}),d.jsx(bt,{path:"/register",element:d.jsx(Rq,{})}),d.jsx(bt,{path:"/login",element:d.jsx(jq,{})}),d.jsx(bt,{path:"/user-profile",element:d.jsx(Iq,{})}),d.jsx(bt,{path:"/dashboard",element:d.jsx(kq,{})}),d.jsx(bt,{path:"/games",element:d.jsx(Dq,{})}),d.jsx(bt,{path:"/adventure-shelf",element:d.jsx(G_,{})}),d.jsx(bt,{path:"/adventure",element:d.jsx(G_,{})}),d.jsx(bt,{path:"/admin",element:d.jsx(Vq,{})}),d.jsx(bt,{path:"/admin/books",element:d.jsx(Oq,{})}),d.jsx(bt,{path:"/admin/chapters",element:d.jsx(Lq,{})}),d.jsx(bt,{path:"/admin/games",element:d.jsx(Bq,{})}),d.jsx(bt,{path:"/admin/games/add-keyword",element:d.jsx(zq,{})}),d.jsx(bt,{path:"/admin/games/add-sentence",element:d.jsx(Uq,{})}),d.jsx(bt,{path:"/admin/games/add-sequence",element:d.jsx(K_,{})}),d.jsx(bt,{path:"/admin/games/edit-keywords",element:d.jsx(Kq,{})}),d.jsx(bt,{path:"/chapter-selection",element:d.jsx(Fq,{})}),d.jsx(bt,{path:"/chapter-missions",element:d.jsx(Hq,{})}),d.jsx(bt,{path:"/keywords-mode",element:d.jsx(qq,{})}),d.jsx(bt,{path:"/complete-phrase-mode",element:d.jsx($q,{})}),d.jsx(bt,{path:"/order-sequence-mode",element:d.jsx(Gq,{})}),d.jsx(bt,{path:"/add-sequence",element:d.jsx(K_,{})})]})})}));

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function HN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v0={exports:{}},Mu={};var Mw;function qN(){if(Mw)return Mu;Mw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Mu.Fragment=e,Mu.jsx=n,Mu.jsxs=n,Mu}var Pw;function $N(){return Pw||(Pw=1,v0.exports=qN()),v0.exports}var c=$N(),b0={exports:{}},Re={};var Vw;function GN(){if(Vw)return Re;Vw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function A($){return $===null||typeof $!="object"?null:($=_&&$[_]||$["@@iterator"],typeof $=="function"?$:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,k={};function L($,re,de){this.props=$,this.context=re,this.refs=k,this.updater=de||V}L.prototype.isReactComponent={},L.prototype.setState=function($,re){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,re,"setState")},L.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function B(){}B.prototype=L.prototype;function I($,re,de){this.props=$,this.context=re,this.refs=k,this.updater=de||V}var D=I.prototype=new B;D.constructor=I,M(D,L.prototype),D.isPureReactComponent=!0;var P=Array.isArray;function H(){}var S={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function N($,re,de){var me=de.ref;return{$$typeof:t,type:$,key:re,ref:me!==void 0?me:null,props:de}}function O($,re){return N($.type,re,$.props)}function z($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function G($){var re={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(de){return re[de]})}var U=/\/+/g;function Ke($,re){return typeof $=="object"&&$!==null&&$.key!=null?G(""+$.key):re.toString(36)}function Xe($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(H,H):($.status="pending",$.then(function(re){$.status==="pending"&&($.status="fulfilled",$.value=re)},function(re){$.status==="pending"&&($.status="rejected",$.reason=re)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function te($,re,de,me,Ce){var Me=typeof $;(Me==="undefined"||Me==="boolean")&&($=null);var Ue=!1;if($===null)Ue=!0;else switch(Me){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch($.$$typeof){case t:case e:Ue=!0;break;case x:return Ue=$._init,te(Ue($._payload),re,de,me,Ce)}}if(Ue)return Ce=Ce($),Ue=me===""?"."+Ke($,0):me,P(Ce)?(de="",Ue!=null&&(de=Ue.replace(U,"$&/")+"/"),te(Ce,re,de,"",function(We){return We})):Ce!=null&&(z(Ce)&&(Ce=O(Ce,de+(Ce.key==null||$&&$.key===Ce.key?"":(""+Ce.key).replace(U,"$&/")+"/")+Ue)),re.push(Ce)),1;Ue=0;var jt=me===""?".":me+":";if(P($))for(var fe=0;fe<$.length;fe++)me=$[fe],Me=jt+Ke(me,fe),Ue+=te(me,re,de,Me,Ce);else if(fe=A($),typeof fe=="function")for($=fe.call($),fe=0;!(me=$.next()).done;)me=me.value,Me=jt+Ke(me,fe++),Ue+=te(me,re,de,Me,Ce);else if(Me==="object"){if(typeof $.then=="function")return te(Xe($),re,de,me,Ce);throw re=String($),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ce($,re,de){if($==null)return $;var me=[],Ce=0;return te($,me,"","",function(Me){return re.call(de,Me,Ce++)}),me}function pe($){if($._status===-1){var re=$._result;re=re(),re.then(function(de){($._status===0||$._status===-1)&&($._status=1,$._result=de)},function(de){($._status===0||$._status===-1)&&($._status=2,$._result=de)}),$._status===-1&&($._status=0,$._result=re)}if($._status===1)return $._result.default;throw $._result}var De=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},Le={map:ce,forEach:function($,re,de){ce($,function(){re.apply(this,arguments)},de)},count:function($){var re=0;return ce($,function(){re++}),re},toArray:function($){return ce($,function(re){return re})||[]},only:function($){if(!z($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Re.Activity=v,Re.Children=Le,Re.Component=L,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=I,Re.StrictMode=s,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Re.__COMPILER_RUNTIME={__proto__:null,c:function($){return S.H.useMemoCache($)}},Re.cache=function($){return function(){return $.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function($,re,de){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var me=M({},$.props),Ce=$.key;if(re!=null)for(Me in re.key!==void 0&&(Ce=""+re.key),re)!T.call(re,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&re.ref===void 0||(me[Me]=re[Me]);var Me=arguments.length-2;if(Me===1)me.children=de;else if(1<Me){for(var Ue=Array(Me),jt=0;jt<Me;jt++)Ue[jt]=arguments[jt+2];me.children=Ue}return N($.type,Ce,me)},Re.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:l,_context:$},$},Re.createElement=function($,re,de){var me,Ce={},Me=null;if(re!=null)for(me in re.key!==void 0&&(Me=""+re.key),re)T.call(re,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ce[me]=re[me]);var Ue=arguments.length-2;if(Ue===1)Ce.children=de;else if(1<Ue){for(var jt=Array(Ue),fe=0;fe<Ue;fe++)jt[fe]=arguments[fe+2];Ce.children=jt}if($&&$.defaultProps)for(me in Ue=$.defaultProps,Ue)Ce[me]===void 0&&(Ce[me]=Ue[me]);return N($,Me,Ce)},Re.createRef=function(){return{current:null}},Re.forwardRef=function($){return{$$typeof:h,render:$}},Re.isValidElement=z,Re.lazy=function($){return{$$typeof:x,_payload:{_status:-1,_result:$},_init:pe}},Re.memo=function($,re){return{$$typeof:p,type:$,compare:re===void 0?null:re}},Re.startTransition=function($){var re=S.T,de={};S.T=de;try{var me=$(),Ce=S.S;Ce!==null&&Ce(de,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(H,De)}catch(Me){De(Me)}finally{re!==null&&de.types!==null&&(re.types=de.types),S.T=re}},Re.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Re.use=function($){return S.H.use($)},Re.useActionState=function($,re,de){return S.H.useActionState($,re,de)},Re.useCallback=function($,re){return S.H.useCallback($,re)},Re.useContext=function($){return S.H.useContext($)},Re.useDebugValue=function(){},Re.useDeferredValue=function($,re){return S.H.useDeferredValue($,re)},Re.useEffect=function($,re){return S.H.useEffect($,re)},Re.useEffectEvent=function($){return S.H.useEffectEvent($)},Re.useId=function(){return S.H.useId()},Re.useImperativeHandle=function($,re,de){return S.H.useImperativeHandle($,re,de)},Re.useInsertionEffect=function($,re){return S.H.useInsertionEffect($,re)},Re.useLayoutEffect=function($,re){return S.H.useLayoutEffect($,re)},Re.useMemo=function($,re){return S.H.useMemo($,re)},Re.useOptimistic=function($,re){return S.H.useOptimistic($,re)},Re.useReducer=function($,re,de){return S.H.useReducer($,re,de)},Re.useRef=function($){return S.H.useRef($)},Re.useState=function($){return S.H.useState($)},Re.useSyncExternalStore=function($,re,de){return S.H.useSyncExternalStore($,re,de)},Re.useTransition=function(){return S.H.useTransition()},Re.version="19.2.0",Re}var Ow;function dx(){return Ow||(Ow=1,b0.exports=GN()),b0.exports}var j=dx();const _o=HN(j);var w0={exports:{}},Pu={},_0={exports:{}},E0={};var Lw;function KN(){return Lw||(Lw=1,(function(t){function e(te,ce){var pe=te.length;te.push(ce);e:for(;0<pe;){var De=pe-1>>>1,Le=te[De];if(0<a(Le,ce))te[De]=ce,te[pe]=Le,pe=De;else break e}}function n(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var ce=te[0],pe=te.pop();if(pe!==ce){te[0]=pe;e:for(var De=0,Le=te.length,$=Le>>>1;De<$;){var re=2*(De+1)-1,de=te[re],me=re+1,Ce=te[me];if(0>a(de,pe))me<Le&&0>a(Ce,de)?(te[De]=Ce,te[me]=pe,De=me):(te[De]=de,te[re]=pe,De=re);else if(me<Le&&0>a(Ce,pe))te[De]=Ce,te[me]=pe,De=me;else break e}}return ce}function a(te,ce){var pe=te.sortIndex-ce.sortIndex;return pe!==0?pe:te.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var g=[],p=[],x=1,v=null,_=3,A=!1,V=!1,M=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function D(te){for(var ce=n(p);ce!==null;){if(ce.callback===null)s(p);else if(ce.startTime<=te)s(p),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=n(p)}}function P(te){if(M=!1,D(te),!V)if(n(g)!==null)V=!0,H||(H=!0,G());else{var ce=n(p);ce!==null&&Xe(P,ce.startTime-te)}}var H=!1,S=-1,T=5,N=-1;function O(){return k?!0:!(t.unstable_now()-N<T)}function z(){if(k=!1,H){var te=t.unstable_now();N=te;var ce=!0;try{e:{V=!1,M&&(M=!1,B(S),S=-1),A=!0;var pe=_;try{t:{for(D(te),v=n(g);v!==null&&!(v.expirationTime>te&&O());){var De=v.callback;if(typeof De=="function"){v.callback=null,_=v.priorityLevel;var Le=De(v.expirationTime<=te);if(te=t.unstable_now(),typeof Le=="function"){v.callback=Le,D(te),ce=!0;break t}v===n(g)&&s(g),D(te)}else s(g);v=n(g)}if(v!==null)ce=!0;else{var $=n(p);$!==null&&Xe(P,$.startTime-te),ce=!1}}break e}finally{v=null,_=pe,A=!1}ce=void 0}}finally{ce?G():H=!1}}}var G;if(typeof I=="function")G=function(){I(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Ke=U.port2;U.port1.onmessage=z,G=function(){Ke.postMessage(null)}}else G=function(){L(z,0)};function Xe(te,ce){S=L(function(){te(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(te){switch(_){case 1:case 2:case 3:var ce=3;break;default:ce=_}var pe=_;_=ce;try{return te()}finally{_=pe}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(te,ce){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var pe=_;_=te;try{return ce()}finally{_=pe}},t.unstable_scheduleCallback=function(te,ce,pe){var De=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?De+pe:De):pe=De,te){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=pe+Le,te={id:x++,callback:ce,priorityLevel:te,startTime:pe,expirationTime:Le,sortIndex:-1},pe>De?(te.sortIndex=pe,e(p,te),n(g)===null&&te===n(p)&&(M?(B(S),S=-1):M=!0,Xe(P,pe-De))):(te.sortIndex=Le,e(g,te),V||A||(V=!0,H||(H=!0,G()))),te},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(te){var ce=_;return function(){var pe=_;_=ce;try{return te.apply(this,arguments)}finally{_=pe}}}})(E0)),E0}var Bw;function YN(){return Bw||(Bw=1,_0.exports=KN()),_0.exports}var T0={exports:{}},Cn={};var zw;function QN(){if(zw)return Cn;zw=1;var t=dx();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,p,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:g,containerInfo:p,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Cn.createPortal=function(g,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,x)},Cn.flushSync=function(g){var p=u.T,x=s.p;try{if(u.T=null,s.p=2,g)return g()}finally{u.T=p,s.p=x,s.d.f()}},Cn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Cn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Cn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var x=p.as,v=h(x,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:A}):x==="script"&&s.d.X(g,{crossOrigin:v,integrity:_,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Cn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=h(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Cn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,v=h(x,p.crossOrigin);s.d.L(g,x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Cn.preloadModule=function(g,p){if(typeof g=="string")if(p){var x=h(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Cn.requestFormReset=function(g){s.d.r(g)},Cn.unstable_batchedUpdates=function(g,p){return g(p)},Cn.useFormState=function(g,p,x){return u.H.useFormState(g,p,x)},Cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Cn.version="19.2.0",Cn}var Uw;function XN(){if(Uw)return T0.exports;Uw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),T0.exports=QN(),T0.exports}var Fw;function WN(){if(Fw)return Pu;Fw=1;var t=YN(),e=dx(),n=XN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function g(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,d=r;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){o=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return g(m),i;if(y===d)return g(m),r;y=y.sibling}throw Error(s(188))}if(o.return!==d.return)o=m,d=y;else{for(var w=!1,C=m.child;C;){if(C===o){w=!0,o=m,d=y;break}if(C===d){w=!0,d=m,o=y;break}C=C.sibling}if(!w){for(C=y.child;C;){if(C===o){w=!0,o=y,d=m;break}if(C===d){w=!0,d=y,o=m;break}C=C.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==d)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function x(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=x(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),I=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var U=Symbol.for("react.client.reference");function Ke(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===U?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case L:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case H:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case V:return"Portal";case I:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case D:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case S:return r=i.displayName||null,r!==null?r:Ke(i.type)||"Memo";case T:r=i._payload,i=i._init;try{return Ke(i(r))}catch{}}return null}var Xe=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},De=[],Le=-1;function $(i){return{current:i}}function re(i){0>Le||(i.current=De[Le],De[Le]=null,Le--)}function de(i,r){Le++,De[Le]=i.current,i.current=r}var me=$(null),Ce=$(null),Me=$(null),Ue=$(null);function jt(i,r){switch(de(Me,r),de(Ce,i),de(me,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?sw(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=sw(r),i=iw(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}re(me),de(me,i)}function fe(){re(me),re(Ce),re(Me)}function We(i){i.memoizedState!==null&&de(Ue,i);var r=me.current,o=iw(r,i.type);r!==o&&(de(Ce,i),de(me,o))}function nt(i){Ce.current===i&&(re(me),re(Ce)),Ue.current===i&&(re(Ue),Iu._currentValue=pe)}var Dn,mn;function Fn(i){if(Dn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Dn=r&&r[1]||"",mn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dn+i+mn}var Ic=!1;function Oa(i,r){if(!i||Ic)return"";Ic=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(ee){var W=ee}Reflect.construct(i,[],ae)}else{try{ae.call()}catch(ee){W=ee}i.call(ae.prototype)}}else{try{throw Error()}catch(ee){W=ee}(ae=i())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(ee){if(ee&&W&&typeof ee.stack=="string")return[ee.stack,W.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),w=y[0],C=y[1];if(w&&C){var F=w.split(`
`),X=C.split(`
`);for(m=d=0;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(d===F.length||m===X.length)for(d=F.length-1,m=X.length-1;1<=d&&0<=m&&F[d]!==X[m];)m--;for(;1<=d&&0<=m;d--,m--)if(F[d]!==X[m]){if(d!==1||m!==1)do if(d--,m--,0>m||F[d]!==X[m]){var se=`
`+F[d].replace(" at new "," at ");return i.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",i.displayName)),se}while(1<=d&&0<=m);break}}}finally{Ic=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Fn(o):""}function Rc(i,r){switch(i.tag){case 26:case 27:case 5:return Fn(i.type);case 16:return Fn("Lazy");case 13:return i.child!==r&&r!==null?Fn("Suspense Fallback"):Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return Oa(i.type,!1);case 11:return Oa(i.type.render,!1);case 1:return Oa(i.type,!0);case 31:return Fn("Activity");default:return""}}function kc(i){try{var r="",o=null;do r+=Rc(i,o),o=i,i=i.return;while(i);return r}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var qt=Object.prototype.hasOwnProperty,rn=t.unstable_scheduleCallback,Ir=t.unstable_cancelCallback,wp=t.unstable_shouldYield,$d=t.unstable_requestPaint,Mn=t.unstable_now,La=t.unstable_getCurrentPriorityLevel,Dc=t.unstable_ImmediatePriority,Mc=t.unstable_UserBlockingPriority,Rr=t.unstable_NormalPriority,_p=t.unstable_LowPriority,Gd=t.unstable_IdlePriority,Kd=t.log,Yd=t.unstable_setDisableYieldValue,qs=null,pn=null;function gs(i){if(typeof Kd=="function"&&Yd(i),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(qs,i)}catch{}}var Mt=Math.clz32?Math.clz32:Xd,Qd=Math.log,qo=Math.LN2;function Xd(i){return i>>>=0,i===0?32:31-(Qd(i)/qo|0)|0}var ui=256,Ba=262144,$t=4194304;function di(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function hi(i,r,o){var d=i.pendingLanes;if(d===0)return 0;var m=0,y=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var C=d&134217727;return C!==0?(d=C&~y,d!==0?m=di(d):(w&=C,w!==0?m=di(w):o||(o=C&~i,o!==0&&(m=di(o))))):(C=d&~y,C!==0?m=di(C):w!==0?m=di(w):o||(o=d&~i,o!==0&&(m=di(o)))),m===0?0:r!==0&&r!==m&&(r&y)===0&&(y=m&-m,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:m}function $s(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Ep(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wd(){var i=$t;return $t<<=1,($t&62914560)===0&&($t=4194304),i}function fi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function za(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Tp(i,r,o,d,m,y){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var C=i.entanglements,F=i.expirationTimes,X=i.hiddenUpdates;for(o=w&~o;0<o;){var se=31-Mt(o),ae=1<<se;C[se]=0,F[se]=-1;var W=X[se];if(W!==null)for(X[se]=null,se=0;se<W.length;se++){var ee=W[se];ee!==null&&(ee.lane&=-536870913)}o&=~ae}d!==0&&Ua(i,d,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(w&~r))}function Ua(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var d=31-Mt(r);i.entangledLanes|=r,i.entanglements[d]=i.entanglements[d]|1073741824|o&261930}function Pc(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var d=31-Mt(o),m=1<<d;m&r|i[d]&r&&(i[d]|=r),o&=~m}}function Vc(i,r){var o=r&-r;return o=(o&42)!==0?1:Fa(o),(o&(i.suspendedLanes|r))!==0?0:o}function Fa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ki(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Zd(){var i=ce.p;return i!==0?i:(i=window.event,i===void 0?32:Sw(i.type))}function Gs(i,r){var o=ce.p;try{return ce.p=i,r()}finally{ce.p=o}}var Ks=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Ks,ln="__reactProps$"+Ks,mi="__reactContainer$"+Ks,$o="__reactEvents$"+Ks,Ap="__reactListeners$"+Ks,Jd="__reactHandles$"+Ks,eh="__reactResources$"+Ks,pi="__reactMarker$"+Ks;function Go(i){delete i[Gt],delete i[ln],delete i[$o],delete i[Ap],delete i[Jd]}function gi(i){var r=i[Gt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[mi]||o[Gt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=dw(i);i!==null;){if(o=i[Gt])return o;i=dw(i)}return r}i=o,o=i.parentNode}return null}function ys(i){if(i=i[Gt]||i[mi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function ts(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function yi(i){var r=i[eh];return r||(r=i[eh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Kt(i){i[pi]=!0}var Oc=new Set,Lc={};function xi(i,r){vi(i,r),vi(i+"Capture",r)}function vi(i,r){for(Lc[i]=r,i=0;i<r.length;i++)Oc.add(r[i])}var Bc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zc={},Uc={};function th(i){return qt.call(Uc,i)?!0:qt.call(zc,i)?!1:Bc.test(i)?Uc[i]=!0:(zc[i]=!0,!1)}function Ko(i,r,o){if(th(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function ns(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Yt(i,r,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+d)}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function kr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Fc(i,r,o){var d=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var m=d.get,y=d.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(w){o=""+w,y.call(this,w)}}),Object.defineProperty(i,r,{enumerable:d.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function lt(i){if(!i._valueTracker){var r=kr(i)?"checked":"value";i._valueTracker=Fc(i,r,""+i[r])}}function Ha(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),d="";return i&&(d=kr(i)?i.checked?"true":"false":i.value),i=d,i!==o?(r.setValue(i),!0):!1}function bi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var qa=/[\n"\\]/g;function Hn(i){return i.replace(qa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Yo(i,r,o,d,m,y,w,C){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),r!=null?w==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+cn(r)):i.value!==""+cn(r)&&(i.value=""+cn(r)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),r!=null?Hc(i,w,cn(r)):o!=null?Hc(i,w,cn(o)):d!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+cn(C):i.removeAttribute("name")}function nh(i,r,o,d,m,y,w,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){lt(i);return}o=o!=null?""+cn(o):"",r=r!=null?""+cn(r):o,C||r===i.value||(i.value=r),i.defaultValue=r}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=C?i.checked:!!d,i.defaultChecked=!!d,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),lt(i)}function Hc(i,r,o){r==="number"&&bi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Dr(i,r,o,d){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&d&&(i[o].defaultSelected=!0)}else{for(o=""+cn(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function sh(i,r,o){if(r!=null&&(r=""+cn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+cn(o):""}function Mr(i,r,o,d){if(r==null){if(d!=null){if(o!=null)throw Error(s(92));if(Xe(d)){if(1<d.length)throw Error(s(93));d=d[0]}o=d}o==null&&(o=""),r=o}o=cn(r),i.defaultValue=o,d=i.textContent,d===o&&d!==""&&d!==null&&(i.value=d),lt(i)}function qn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var ih=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qc(i,r,o){var d=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":d?i.setProperty(r,o):typeof o!="number"||o===0||ih.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function $c(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var m in r)d=r[m],r.hasOwnProperty(m)&&o[m]!==d&&qc(i,m,d)}else for(var y in r)r.hasOwnProperty(y)&&qc(i,y,r[y])}function Qo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xo(i){return Pr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ys(){}var Gc=null;function xs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vr=null,wi=null;function $a(i){var r=ys(i);if(r&&(i=r.stateNode)){var o=i[ln]||null;e:switch(i=r.stateNode,r.type){case"input":if(Yo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Hn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var d=o[r];if(d!==i&&d.form===i.form){var m=d[ln]||null;if(!m)throw Error(s(90));Yo(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)d=o[r],d.form===i.form&&Ha(d)}break e;case"textarea":sh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Dr(i,!!o.multiple,r,!1)}}}var Wo=!1;function Or(i,r,o){if(Wo)return i(r,o);Wo=!0;try{var d=i(r);return d}finally{if(Wo=!1,(Vr!==null||wi!==null)&&(Zh(),Vr&&(r=Vr,i=wi,wi=Vr=null,$a(r),i)))for(r=0;r<i.length;r++)$a(i[r])}}function Qs(i,r){var o=i.stateNode;if(o===null)return null;var d=o[ln]||null;if(d===null)return null;o=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ga=!1;if(vs)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){Ga=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{Ga=!1}var _i=null,Kc=null,Ka=null;function Yc(){if(Ka)return Ka;var i,r=Kc,o=r.length,d,m="value"in _i?_i.value:_i.textContent,y=m.length;for(i=0;i<o&&r[i]===m[i];i++);var w=o-i;for(d=1;d<=w&&r[o-d]===m[y-d];d++);return Ka=m.slice(i,1<d?1-d:void 0)}function Ya(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Yi(){return!0}function Xs(){return!1}function gn(i){function r(o,d,m,y,w){this._reactName=o,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(o=i[C],this[C]=o?o(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Yi:Xs,this.isPropagationStopped=Xs,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),r}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=gn(Qi),Lr=v({},Qi,{view:0,detail:0}),Qc=gn(Lr),Br,Zo,Ti,Jo=v({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ti&&(Ti&&i.type==="mousemove"?(Br=i.screenX-Ti.screenX,Zo=i.screenY-Ti.screenY):Zo=Br=0,Ti=i),Br)},movementY:function(i){return"movementY"in i?i.movementY:Zo}}),Xc=gn(Jo),Qa=v({},Jo,{dataTransfer:0}),ah=gn(Qa),oh=v({},Lr,{relatedTarget:0}),Xa=gn(oh),Wc=v({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),lh=gn(Wc),el=v({},Qi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ch=gn(el),uh=v({},Qi,{data:0}),Ai=gn(uh),dh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=fh[i])?!!r[i]:!1}function zr(){return mh}var Pn=v({},Lr,{key:function(i){if(i.key){var r=dh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ya(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(i){return i.type==="keypress"?Ya(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ya(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ph=gn(Pn),gh=v({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=gn(gh),f=v({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),b=gn(f),E=v({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=gn(E),Y=v({},Jo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),J=gn(Y),ue=v({},Qi,{newState:0,oldState:0}),Pe=gn(ue),Pt=[9,13,27,32],st=vs&&"CompositionEvent"in window,Et=null;vs&&"documentMode"in document&&(Et=document.documentMode);var bs=vs&&"TextEvent"in window&&!Et,Ci=vs&&(!st||Et&&8<Et&&11>=Et),Ws=" ",Zs=!1;function Wa(i,r){switch(i){case"keyup":return Pt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var nl=!1;function fS(i,r){switch(i){case"compositionend":return tl(r);case"keypress":return r.which!==32?null:(Zs=!0,Ws);case"textInput":return i=r.data,i===Ws&&Zs?null:i;default:return null}}function mS(i,r){if(nl)return i==="compositionend"||!st&&Wa(i,r)?(i=Yc(),Ka=Kc=_i=null,nl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ci&&r.locale!=="ko"?null:r.data;default:return null}}var pS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m1(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!pS[i.type]:r==="textarea"}function p1(i,r,o,d){Vr?wi?wi.push(d):wi=[d]:Vr=d,r=af(r,"onChange"),0<r.length&&(o=new Ei("onChange","change",null,o,d),i.push({event:o,listeners:r}))}var Zc=null,Jc=null;function gS(i){Wb(i,0)}function yh(i){var r=ts(i);if(Ha(r))return i}function g1(i,r){if(i==="change")return r}var y1=!1;if(vs){var Cp;if(vs){var Sp="oninput"in document;if(!Sp){var x1=document.createElement("div");x1.setAttribute("oninput","return;"),Sp=typeof x1.oninput=="function"}Cp=Sp}else Cp=!1;y1=Cp&&(!document.documentMode||9<document.documentMode)}function v1(){Zc&&(Zc.detachEvent("onpropertychange",b1),Jc=Zc=null)}function b1(i){if(i.propertyName==="value"&&yh(Jc)){var r=[];p1(r,Jc,i,xs(i)),Or(gS,r)}}function yS(i,r,o){i==="focusin"?(v1(),Zc=r,Jc=o,Zc.attachEvent("onpropertychange",b1)):i==="focusout"&&v1()}function xS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return yh(Jc)}function vS(i,r){if(i==="click")return yh(r)}function bS(i,r){if(i==="input"||i==="change")return yh(r)}function wS(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var ss=typeof Object.is=="function"?Object.is:wS;function eu(i,r){if(ss(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),d=Object.keys(r);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var m=o[d];if(!qt.call(r,m)||!ss(i[m],r[m]))return!1}return!0}function w1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _1(i,r){var o=w1(i);i=0;for(var d;o;){if(o.nodeType===3){if(d=i+o.textContent.length,i<=r&&d>=r)return{node:o,offset:r-i};i=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=w1(o)}}function E1(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?E1(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function T1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=bi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=bi(i.document)}return r}function Np(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var _S=vs&&"documentMode"in document&&11>=document.documentMode,sl=null,jp=null,tu=null,Ip=!1;function A1(i,r,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ip||sl==null||sl!==bi(d)||(d=sl,"selectionStart"in d&&Np(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),tu&&eu(tu,d)||(tu=d,d=af(jp,"onSelect"),0<d.length&&(r=new Ei("onSelect","select",null,r,o),i.push({event:r,listeners:d}),r.target=sl)))}function Za(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var il={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},Rp={},C1={};vs&&(C1=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function Ja(i){if(Rp[i])return Rp[i];if(!il[i])return i;var r=il[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in C1)return Rp[i]=r[o];return i}var S1=Ja("animationend"),N1=Ja("animationiteration"),j1=Ja("animationstart"),ES=Ja("transitionrun"),TS=Ja("transitionstart"),AS=Ja("transitioncancel"),I1=Ja("transitionend"),R1=new Map,kp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kp.push("scrollEnd");function Js(i,r){R1.set(i,r),xi(r,[i])}var xh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ws=[],rl=0,Dp=0;function vh(){for(var i=rl,r=Dp=rl=0;r<i;){var o=ws[r];ws[r++]=null;var d=ws[r];ws[r++]=null;var m=ws[r];ws[r++]=null;var y=ws[r];if(ws[r++]=null,d!==null&&m!==null){var w=d.pending;w===null?m.next=m:(m.next=w.next,w.next=m),d.pending=m}y!==0&&k1(o,m,y)}}function bh(i,r,o,d){ws[rl++]=i,ws[rl++]=r,ws[rl++]=o,ws[rl++]=d,Dp|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function Mp(i,r,o,d){return bh(i,r,o,d),wh(i)}function eo(i,r){return bh(i,null,null,r),wh(i)}function k1(i,r,o){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o);for(var m=!1,y=i.return;y!==null;)y.childLanes|=o,d=y.alternate,d!==null&&(d.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&r!==null&&(m=31-Mt(o),i=y.hiddenUpdates,d=i[m],d===null?i[m]=[r]:d.push(r),r.lane=o|536870912),y):null}function wh(i){if(50<Eu)throw Eu=0,Hg=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var al={};function CS(i,r,o,d){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(i,r,o,d){return new CS(i,r,o,d)}function Pp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Wi(i,r){var o=i.alternate;return o===null?(o=is(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function D1(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function _h(i,r,o,d,m,y){var w=0;if(d=i,typeof i=="function")Pp(i)&&(w=1);else if(typeof i=="string")w=RN(i,o,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=is(31,o,r,m),i.elementType=N,i.lanes=y,i;case M:return to(o.children,m,y,r);case k:w=8,m|=24;break;case L:return i=is(12,o,r,m|2),i.elementType=L,i.lanes=y,i;case P:return i=is(13,o,r,m),i.elementType=P,i.lanes=y,i;case H:return i=is(19,o,r,m),i.elementType=H,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:w=10;break e;case B:w=9;break e;case D:w=11;break e;case S:w=14;break e;case T:w=16,d=null;break e}w=29,o=Error(s(130,i===null?"null":typeof i,"")),d=null}return r=is(w,o,r,m),r.elementType=i,r.type=d,r.lanes=y,r}function to(i,r,o,d){return i=is(7,i,d,r),i.lanes=o,i}function Vp(i,r,o){return i=is(6,i,null,r),i.lanes=o,i}function M1(i){var r=is(18,null,null,0);return r.stateNode=i,r}function Op(i,r,o){return r=is(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var P1=new WeakMap;function _s(i,r){if(typeof i=="object"&&i!==null){var o=P1.get(i);return o!==void 0?o:(r={value:i,source:r,stack:kc(r)},P1.set(i,r),r)}return{value:i,source:r,stack:kc(r)}}var ol=[],ll=0,Eh=null,nu=0,Es=[],Ts=0,Ur=null,Si=1,Ni="";function Zi(i,r){ol[ll++]=nu,ol[ll++]=Eh,Eh=i,nu=r}function V1(i,r,o){Es[Ts++]=Si,Es[Ts++]=Ni,Es[Ts++]=Ur,Ur=i;var d=Si;i=Ni;var m=32-Mt(d)-1;d&=~(1<<m),o+=1;var y=32-Mt(r)+m;if(30<y){var w=m-m%5;y=(d&(1<<w)-1).toString(32),d>>=w,m-=w,Si=1<<32-Mt(r)+m|o<<m|d,Ni=y+i}else Si=1<<y|o<<m|d,Ni=i}function Lp(i){i.return!==null&&(Zi(i,1),V1(i,1,0))}function Bp(i){for(;i===Eh;)Eh=ol[--ll],ol[ll]=null,nu=ol[--ll],ol[ll]=null;for(;i===Ur;)Ur=Es[--Ts],Es[Ts]=null,Ni=Es[--Ts],Es[Ts]=null,Si=Es[--Ts],Es[Ts]=null}function O1(i,r){Es[Ts++]=Si,Es[Ts++]=Ni,Es[Ts++]=Ur,Si=r.id,Ni=r.overflow,Ur=i}var yn=null,vt=null,Ye=!1,Fr=null,As=!1,zp=Error(s(519));function Hr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw su(_s(r,i)),zp}function L1(i){var r=i.stateNode,o=i.type,d=i.memoizedProps;switch(r[Gt]=i,r[ln]=d,o){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(o=0;o<Au.length;o++)ze(Au[o],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),nh(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),Mr(r,d.value,d.defaultValue,d.children)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||d.suppressHydrationWarning===!0||tw(r.textContent,o)?(d.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),d.onScroll!=null&&ze("scroll",r),d.onScrollEnd!=null&&ze("scrollend",r),d.onClick!=null&&(r.onclick=Ys),r=!0):r=!1,r||Hr(i,!0)}function B1(i){for(yn=i.return;yn;)switch(yn.tag){case 5:case 31:case 13:As=!1;return;case 27:case 3:As=!0;return;default:yn=yn.return}}function cl(i){if(i!==yn)return!1;if(!Ye)return B1(i),Ye=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||i0(i.type,i.memoizedProps)),o=!o),o&&vt&&Hr(i),B1(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));vt=uw(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));vt=uw(i)}else r===27?(r=vt,sa(i.type)?(i=c0,c0=null,vt=i):vt=r):vt=yn?Ss(i.stateNode.nextSibling):null;return!0}function no(){vt=yn=null,Ye=!1}function Up(){var i=Fr;return i!==null&&(Yn===null?Yn=i:Yn.push.apply(Yn,i),Fr=null),i}function su(i){Fr===null?Fr=[i]:Fr.push(i)}var Fp=$(null),so=null,Ji=null;function qr(i,r,o){de(Fp,r._currentValue),r._currentValue=o}function er(i){i._currentValue=Fp.current,re(Fp)}function Hp(i,r,o){for(;i!==null;){var d=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),i===o)break;i=i.return}}function qp(i,r,o,d){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var w=m.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=m;for(var F=0;F<r.length;F++)if(C.context===r[F]){y.lanes|=o,C=y.alternate,C!==null&&(C.lanes|=o),Hp(y.return,o,i),d||(w=null);break e}y=C.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(s(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),Hp(w,o,i),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function ul(i,r,o,d){i=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var C=m.type;ss(m.pendingProps.value,w.value)||(i!==null?i.push(C):i=[C])}}else if(m===Ue.current){if(w=m.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Iu):i=[Iu])}m=m.return}i!==null&&qp(r,i,o,d),r.flags|=262144}function Th(i){for(i=i.firstContext;i!==null;){if(!ss(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function io(i){so=i,Ji=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function xn(i){return z1(so,i)}function Ah(i,r){return so===null&&io(i),z1(i,r)}function z1(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ji===null){if(i===null)throw Error(s(308));Ji=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ji=Ji.next=r;return o}var SS=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,d){i.push(d)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},NS=t.unstable_scheduleCallback,jS=t.unstable_NormalPriority,Qt={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $p(){return{controller:new SS,data:new Map,refCount:0}}function iu(i){i.refCount--,i.refCount===0&&NS(jS,function(){i.controller.abort()})}var ru=null,Gp=0,dl=0,hl=null;function IS(i,r){if(ru===null){var o=ru=[];Gp=0,dl=Qg(),hl={status:"pending",value:void 0,then:function(d){o.push(d)}}}return Gp++,r.then(U1,U1),r}function U1(){if(--Gp===0&&ru!==null){hl!==null&&(hl.status="fulfilled");var i=ru;ru=null,dl=0,hl=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function RS(i,r){var o=[],d={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){d.status="fulfilled",d.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(d.status="rejected",d.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),d}var F1=te.S;te.S=function(i,r){Ab=Mn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&IS(i,r),F1!==null&&F1(i,r)};var ro=$(null);function Kp(){var i=ro.current;return i!==null?i:pt.pooledCache}function Ch(i,r){r===null?de(ro,ro.current):de(ro,r.pool)}function H1(){var i=Kp();return i===null?null:{parent:Qt._currentValue,pool:i}}var fl=Error(s(460)),Yp=Error(s(474)),Sh=Error(s(542)),Nh={then:function(){}};function q1(i){return i=i.status,i==="fulfilled"||i==="rejected"}function $1(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Ys,Ys),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,K1(i),i;default:if(typeof r.status=="string")r.then(Ys,Ys);else{if(i=pt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(d){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=d}},function(d){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,K1(i),i}throw oo=r,fl}}function ao(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(oo=o,fl):o}}var oo=null;function G1(){if(oo===null)throw Error(s(459));var i=oo;return oo=null,i}function K1(i){if(i===fl||i===Sh)throw Error(s(483))}var ml=null,au=0;function jh(i){var r=au;return au+=1,ml===null&&(ml=[]),$1(ml,i,r)}function ou(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ih(i,r){throw r.$$typeof===_?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Y1(i){function r(K,q){if(i){var Q=K.deletions;Q===null?(K.deletions=[q],K.flags|=16):Q.push(q)}}function o(K,q){if(!i)return null;for(;q!==null;)r(K,q),q=q.sibling;return null}function d(K){for(var q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function m(K,q){return K=Wi(K,q),K.index=0,K.sibling=null,K}function y(K,q,Q){return K.index=Q,i?(Q=K.alternate,Q!==null?(Q=Q.index,Q<q?(K.flags|=67108866,q):Q):(K.flags|=67108866,q)):(K.flags|=1048576,q)}function w(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function C(K,q,Q,ie){return q===null||q.tag!==6?(q=Vp(Q,K.mode,ie),q.return=K,q):(q=m(q,Q),q.return=K,q)}function F(K,q,Q,ie){var we=Q.type;return we===M?se(K,q,Q.props.children,ie,Q.key):q!==null&&(q.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===T&&ao(we)===q.type)?(q=m(q,Q.props),ou(q,Q),q.return=K,q):(q=_h(Q.type,Q.key,Q.props,null,K.mode,ie),ou(q,Q),q.return=K,q)}function X(K,q,Q,ie){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=Op(Q,K.mode,ie),q.return=K,q):(q=m(q,Q.children||[]),q.return=K,q)}function se(K,q,Q,ie,we){return q===null||q.tag!==7?(q=to(Q,K.mode,ie,we),q.return=K,q):(q=m(q,Q),q.return=K,q)}function ae(K,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Vp(""+q,K.mode,Q),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return Q=_h(q.type,q.key,q.props,null,K.mode,Q),ou(Q,q),Q.return=K,Q;case V:return q=Op(q,K.mode,Q),q.return=K,q;case T:return q=ao(q),ae(K,q,Q)}if(Xe(q)||G(q))return q=to(q,K.mode,Q,null),q.return=K,q;if(typeof q.then=="function")return ae(K,jh(q),Q);if(q.$$typeof===I)return ae(K,Ah(K,q),Q);Ih(K,q)}return null}function W(K,q,Q,ie){var we=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return we!==null?null:C(K,q,""+Q,ie);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:return Q.key===we?F(K,q,Q,ie):null;case V:return Q.key===we?X(K,q,Q,ie):null;case T:return Q=ao(Q),W(K,q,Q,ie)}if(Xe(Q)||G(Q))return we!==null?null:se(K,q,Q,ie,null);if(typeof Q.then=="function")return W(K,q,jh(Q),ie);if(Q.$$typeof===I)return W(K,q,Ah(K,Q),ie);Ih(K,Q)}return null}function ee(K,q,Q,ie,we){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return K=K.get(Q)||null,C(q,K,""+ie,we);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:return K=K.get(ie.key===null?Q:ie.key)||null,F(q,K,ie,we);case V:return K=K.get(ie.key===null?Q:ie.key)||null,X(q,K,ie,we);case T:return ie=ao(ie),ee(K,q,Q,ie,we)}if(Xe(ie)||G(ie))return K=K.get(Q)||null,se(q,K,ie,we,null);if(typeof ie.then=="function")return ee(K,q,Q,jh(ie),we);if(ie.$$typeof===I)return ee(K,q,Q,Ah(q,ie),we);Ih(q,ie)}return null}function ye(K,q,Q,ie){for(var we=null,Ze=null,ve=q,Oe=q=0,He=null;ve!==null&&Oe<Q.length;Oe++){ve.index>Oe?(He=ve,ve=null):He=ve.sibling;var Je=W(K,ve,Q[Oe],ie);if(Je===null){ve===null&&(ve=He);break}i&&ve&&Je.alternate===null&&r(K,ve),q=y(Je,q,Oe),Ze===null?we=Je:Ze.sibling=Je,Ze=Je,ve=He}if(Oe===Q.length)return o(K,ve),Ye&&Zi(K,Oe),we;if(ve===null){for(;Oe<Q.length;Oe++)ve=ae(K,Q[Oe],ie),ve!==null&&(q=y(ve,q,Oe),Ze===null?we=ve:Ze.sibling=ve,Ze=ve);return Ye&&Zi(K,Oe),we}for(ve=d(ve);Oe<Q.length;Oe++)He=ee(ve,K,Oe,Q[Oe],ie),He!==null&&(i&&He.alternate!==null&&ve.delete(He.key===null?Oe:He.key),q=y(He,q,Oe),Ze===null?we=He:Ze.sibling=He,Ze=He);return i&&ve.forEach(function(la){return r(K,la)}),Ye&&Zi(K,Oe),we}function Ae(K,q,Q,ie){if(Q==null)throw Error(s(151));for(var we=null,Ze=null,ve=q,Oe=q=0,He=null,Je=Q.next();ve!==null&&!Je.done;Oe++,Je=Q.next()){ve.index>Oe?(He=ve,ve=null):He=ve.sibling;var la=W(K,ve,Je.value,ie);if(la===null){ve===null&&(ve=He);break}i&&ve&&la.alternate===null&&r(K,ve),q=y(la,q,Oe),Ze===null?we=la:Ze.sibling=la,Ze=la,ve=He}if(Je.done)return o(K,ve),Ye&&Zi(K,Oe),we;if(ve===null){for(;!Je.done;Oe++,Je=Q.next())Je=ae(K,Je.value,ie),Je!==null&&(q=y(Je,q,Oe),Ze===null?we=Je:Ze.sibling=Je,Ze=Je);return Ye&&Zi(K,Oe),we}for(ve=d(ve);!Je.done;Oe++,Je=Q.next())Je=ee(ve,K,Oe,Je.value,ie),Je!==null&&(i&&Je.alternate!==null&&ve.delete(Je.key===null?Oe:Je.key),q=y(Je,q,Oe),Ze===null?we=Je:Ze.sibling=Je,Ze=Je);return i&&ve.forEach(function(FN){return r(K,FN)}),Ye&&Zi(K,Oe),we}function mt(K,q,Q,ie){if(typeof Q=="object"&&Q!==null&&Q.type===M&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:e:{for(var we=Q.key;q!==null;){if(q.key===we){if(we=Q.type,we===M){if(q.tag===7){o(K,q.sibling),ie=m(q,Q.props.children),ie.return=K,K=ie;break e}}else if(q.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===T&&ao(we)===q.type){o(K,q.sibling),ie=m(q,Q.props),ou(ie,Q),ie.return=K,K=ie;break e}o(K,q);break}else r(K,q);q=q.sibling}Q.type===M?(ie=to(Q.props.children,K.mode,ie,Q.key),ie.return=K,K=ie):(ie=_h(Q.type,Q.key,Q.props,null,K.mode,ie),ou(ie,Q),ie.return=K,K=ie)}return w(K);case V:e:{for(we=Q.key;q!==null;){if(q.key===we)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){o(K,q.sibling),ie=m(q,Q.children||[]),ie.return=K,K=ie;break e}else{o(K,q);break}else r(K,q);q=q.sibling}ie=Op(Q,K.mode,ie),ie.return=K,K=ie}return w(K);case T:return Q=ao(Q),mt(K,q,Q,ie)}if(Xe(Q))return ye(K,q,Q,ie);if(G(Q)){if(we=G(Q),typeof we!="function")throw Error(s(150));return Q=we.call(Q),Ae(K,q,Q,ie)}if(typeof Q.then=="function")return mt(K,q,jh(Q),ie);if(Q.$$typeof===I)return mt(K,q,Ah(K,Q),ie);Ih(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,q!==null&&q.tag===6?(o(K,q.sibling),ie=m(q,Q),ie.return=K,K=ie):(o(K,q),ie=Vp(Q,K.mode,ie),ie.return=K,K=ie),w(K)):o(K,q)}return function(K,q,Q,ie){try{au=0;var we=mt(K,q,Q,ie);return ml=null,we}catch(ve){if(ve===fl||ve===Sh)throw ve;var Ze=is(29,ve,null,K.mode);return Ze.lanes=ie,Ze.return=K,Ze}finally{}}}var lo=Y1(!0),Q1=Y1(!1),$r=!1;function Qp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xp(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Gr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Kr(i,r,o){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(it&2)!==0){var m=d.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),d.pending=r,r=wh(i),k1(i,null,o),r}return bh(i,d,r,o),wh(i)}function lu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var d=r.lanes;d&=i.pendingLanes,o|=d,r.lanes=o,Pc(i,o)}}function Wp(i,r){var o=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?m=y=r:y=y.next=r}else m=y=r;o={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Zp=!1;function cu(){if(Zp){var i=hl;if(i!==null)throw i}}function uu(i,r,o,d){Zp=!1;var m=i.updateQueue;$r=!1;var y=m.firstBaseUpdate,w=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var F=C,X=F.next;F.next=null,w===null?y=X:w.next=X,w=F;var se=i.alternate;se!==null&&(se=se.updateQueue,C=se.lastBaseUpdate,C!==w&&(C===null?se.firstBaseUpdate=X:C.next=X,se.lastBaseUpdate=F))}if(y!==null){var ae=m.baseState;w=0,se=X=F=null,C=y;do{var W=C.lane&-536870913,ee=W!==C.lane;if(ee?(Fe&W)===W:(d&W)===W){W!==0&&W===dl&&(Zp=!0),se!==null&&(se=se.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ye=i,Ae=C;W=r;var mt=o;switch(Ae.tag){case 1:if(ye=Ae.payload,typeof ye=="function"){ae=ye.call(mt,ae,W);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ae.payload,W=typeof ye=="function"?ye.call(mt,ae,W):ye,W==null)break e;ae=v({},ae,W);break e;case 2:$r=!0}}W=C.callback,W!==null&&(i.flags|=64,ee&&(i.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[W]:ee.push(W))}else ee={lane:W,tag:C.tag,payload:C.payload,callback:C.callback,next:null},se===null?(X=se=ee,F=ae):se=se.next=ee,w|=W;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);se===null&&(F=ae),m.baseState=F,m.firstBaseUpdate=X,m.lastBaseUpdate=se,y===null&&(m.shared.lanes=0),Zr|=w,i.lanes=w,i.memoizedState=ae}}function X1(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function W1(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)X1(o[i],r)}var pl=$(null),Rh=$(0);function Z1(i,r){i=cr,de(Rh,i),de(pl,r),cr=i|r.baseLanes}function Jp(){de(Rh,cr),de(pl,pl.current)}function eg(){cr=Rh.current,re(pl),re(Rh)}var rs=$(null),Cs=null;function Yr(i){var r=i.alternate;de(Vt,Vt.current&1),de(rs,i),Cs===null&&(r===null||pl.current!==null||r.memoizedState!==null)&&(Cs=i)}function tg(i){de(Vt,Vt.current),de(rs,i),Cs===null&&(Cs=i)}function J1(i){i.tag===22?(de(Vt,Vt.current),de(rs,i),Cs===null&&(Cs=i)):Qr()}function Qr(){de(Vt,Vt.current),de(rs,rs.current)}function as(i){re(rs),Cs===i&&(Cs=null),re(Vt)}var Vt=$(0);function kh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o0(o)||l0(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var tr=0,Ve=null,ht=null,Xt=null,Dh=!1,gl=!1,co=!1,Mh=0,du=0,yl=null,kS=0;function It(){throw Error(s(321))}function ng(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!ss(i[o],r[o]))return!1;return!0}function sg(i,r,o,d,m,y){return tr=y,Ve=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,te.H=i===null||i.memoizedState===null?Vv:xg,co=!1,y=o(d,m),co=!1,gl&&(y=tv(r,o,d,m)),ev(i),y}function ev(i){te.H=mu;var r=ht!==null&&ht.next!==null;if(tr=0,Xt=ht=Ve=null,Dh=!1,du=0,yl=null,r)throw Error(s(300));i===null||Wt||(i=i.dependencies,i!==null&&Th(i)&&(Wt=!0))}function tv(i,r,o,d){Ve=i;var m=0;do{if(gl&&(yl=null),du=0,gl=!1,25<=m)throw Error(s(301));if(m+=1,Xt=ht=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}te.H=Ov,y=r(o,d)}while(gl);return y}function DS(){var i=te.H,r=i.useState()[0];return r=typeof r.then=="function"?hu(r):r,i=i.useState()[0],(ht!==null?ht.memoizedState:null)!==i&&(Ve.flags|=1024),r}function ig(){var i=Mh!==0;return Mh=0,i}function rg(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function ag(i){if(Dh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Dh=!1}tr=0,Xt=ht=Ve=null,gl=!1,du=Mh=0,yl=null}function Vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Ve.memoizedState=Xt=i:Xt=Xt.next=i,Xt}function Ot(){if(ht===null){var i=Ve.alternate;i=i!==null?i.memoizedState:null}else i=ht.next;var r=Xt===null?Ve.memoizedState:Xt.next;if(r!==null)Xt=r,ht=i;else{if(i===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));ht=i,i={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Xt===null?Ve.memoizedState=Xt=i:Xt=Xt.next=i}return Xt}function Ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hu(i){var r=du;return du+=1,yl===null&&(yl=[]),i=$1(yl,i,r),r=Ve,(Xt===null?r.memoizedState:Xt.next)===null&&(r=r.alternate,te.H=r===null||r.memoizedState===null?Vv:xg),i}function Vh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return hu(i);if(i.$$typeof===I)return xn(i)}throw Error(s(438,String(i)))}function og(i){var r=null,o=Ve.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var d=Ve.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Ph(),Ve.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),d=0;d<i;d++)o[d]=O;return r.index++,o}function nr(i,r){return typeof r=="function"?r(i):r}function Oh(i){var r=Ot();return lg(r,ht,i)}function lg(i,r,o){var d=i.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=o;var m=i.baseQueue,y=d.pending;if(y!==null){if(m!==null){var w=m.next;m.next=y.next,y.next=w}r.baseQueue=m=y,d.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{r=m.next;var C=w=null,F=null,X=r,se=!1;do{var ae=X.lane&-536870913;if(ae!==X.lane?(Fe&ae)===ae:(tr&ae)===ae){var W=X.revertLane;if(W===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ae===dl&&(se=!0);else if((tr&W)===W){X=X.next,W===dl&&(se=!0);continue}else ae={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},F===null?(C=F=ae,w=y):F=F.next=ae,Ve.lanes|=W,Zr|=W;ae=X.action,co&&o(y,ae),y=X.hasEagerState?X.eagerState:o(y,ae)}else W={lane:ae,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},F===null?(C=F=W,w=y):F=F.next=W,Ve.lanes|=ae,Zr|=ae;X=X.next}while(X!==null&&X!==r);if(F===null?w=y:F.next=C,!ss(y,i.memoizedState)&&(Wt=!0,se&&(o=hl,o!==null)))throw o;i.memoizedState=y,i.baseState=w,i.baseQueue=F,d.lastRenderedState=y}return m===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function cg(i){var r=Ot(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var d=o.dispatch,m=o.pending,y=r.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do y=i(y,w.action),w=w.next;while(w!==m);ss(y,r.memoizedState)||(Wt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,d]}function nv(i,r,o){var d=Ve,m=Ot(),y=Ye;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=r();var w=!ss((ht||m).memoizedState,o);if(w&&(m.memoizedState=o,Wt=!0),m=m.queue,hg(rv.bind(null,d,m,i),[i]),m.getSnapshot!==r||w||Xt!==null&&Xt.memoizedState.tag&1){if(d.flags|=2048,xl(9,{destroy:void 0},iv.bind(null,d,m,o,r),null),pt===null)throw Error(s(349));y||(tr&127)!==0||sv(d,r,o)}return o}function sv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ve.updateQueue,r===null?(r=Ph(),Ve.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function iv(i,r,o,d){r.value=o,r.getSnapshot=d,av(r)&&ov(i)}function rv(i,r,o){return o(function(){av(r)&&ov(i)})}function av(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!ss(i,o)}catch{return!0}}function ov(i){var r=eo(i,2);r!==null&&Qn(r,i,2)}function ug(i){var r=Vn();if(typeof i=="function"){var o=i;if(i=o(),co){gs(!0);try{o()}finally{gs(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:i},r}function lv(i,r,o,d){return i.baseState=o,lg(i,ht,typeof d=="function"?d:nr)}function MS(i,r,o,d,m){if(zh(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};te.T!==null?o(!0):y.isTransition=!1,d(y),o=r.pending,o===null?(y.next=r.pending=y,cv(r,y)):(y.next=o.next,r.pending=o.next=y)}}function cv(i,r){var o=r.action,d=r.payload,m=i.state;if(r.isTransition){var y=te.T,w={};te.T=w;try{var C=o(m,d),F=te.S;F!==null&&F(w,C),uv(i,r,C)}catch(X){dg(i,r,X)}finally{y!==null&&w.types!==null&&(y.types=w.types),te.T=y}}else try{y=o(m,d),uv(i,r,y)}catch(X){dg(i,r,X)}}function uv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){dv(i,r,d)},function(d){return dg(i,r,d)}):dv(i,r,o)}function dv(i,r,o){r.status="fulfilled",r.value=o,hv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,cv(i,o)))}function dg(i,r,o){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=o,hv(r),r=r.next;while(r!==d)}i.action=null}function hv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function fv(i,r){return r}function mv(i,r){if(Ye){var o=pt.formState;if(o!==null){e:{var d=Ve;if(Ye){if(vt){t:{for(var m=vt,y=As;m.nodeType!==8;){if(!y){m=null;break t}if(m=Ss(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){vt=Ss(m.nextSibling),d=m.data==="F!";break e}}Hr(d)}d=!1}d&&(r=o[0])}}return o=Vn(),o.memoizedState=o.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fv,lastRenderedState:r},o.queue=d,o=Dv.bind(null,Ve,d),d.dispatch=o,d=ug(!1),y=yg.bind(null,Ve,!1,d.queue),d=Vn(),m={state:r,dispatch:null,action:i,pending:null},d.queue=m,o=MS.bind(null,Ve,m,y,o),m.dispatch=o,d.memoizedState=i,[r,o,!1]}function pv(i){var r=Ot();return gv(r,ht,i)}function gv(i,r,o){if(r=lg(i,r,fv)[0],i=Oh(nr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=hu(r)}catch(w){throw w===fl?Sh:w}else d=r;r=Ot();var m=r.queue,y=m.dispatch;return o!==r.memoizedState&&(Ve.flags|=2048,xl(9,{destroy:void 0},PS.bind(null,m,o),null)),[d,y,i]}function PS(i,r){i.action=r}function yv(i){var r=Ot(),o=ht;if(o!==null)return gv(r,o,i);Ot(),r=r.memoizedState,o=Ot();var d=o.queue.dispatch;return o.memoizedState=i,[r,d,!1]}function xl(i,r,o,d){return i={tag:i,create:o,deps:d,inst:r,next:null},r=Ve.updateQueue,r===null&&(r=Ph(),Ve.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(d=o.next,o.next=i,i.next=d,r.lastEffect=i),i}function xv(){return Ot().memoizedState}function Lh(i,r,o,d){var m=Vn();Ve.flags|=i,m.memoizedState=xl(1|r,{destroy:void 0},o,d===void 0?null:d)}function Bh(i,r,o,d){var m=Ot();d=d===void 0?null:d;var y=m.memoizedState.inst;ht!==null&&d!==null&&ng(d,ht.memoizedState.deps)?m.memoizedState=xl(r,y,o,d):(Ve.flags|=i,m.memoizedState=xl(1|r,y,o,d))}function vv(i,r){Lh(8390656,8,i,r)}function hg(i,r){Bh(2048,8,i,r)}function VS(i){Ve.flags|=4;var r=Ve.updateQueue;if(r===null)r=Ph(),Ve.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function bv(i){var r=Ot().memoizedState;return VS({ref:r,nextImpl:i}),function(){if((it&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function wv(i,r){return Bh(4,2,i,r)}function _v(i,r){return Bh(4,4,i,r)}function Ev(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Tv(i,r,o){o=o!=null?o.concat([i]):null,Bh(4,4,Ev.bind(null,r,i),o)}function fg(){}function Av(i,r){var o=Ot();r=r===void 0?null:r;var d=o.memoizedState;return r!==null&&ng(r,d[1])?d[0]:(o.memoizedState=[i,r],i)}function Cv(i,r){var o=Ot();r=r===void 0?null:r;var d=o.memoizedState;if(r!==null&&ng(r,d[1]))return d[0];if(d=i(),co){gs(!0);try{i()}finally{gs(!1)}}return o.memoizedState=[d,r],d}function mg(i,r,o){return o===void 0||(tr&1073741824)!==0&&(Fe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Sb(),Ve.lanes|=i,Zr|=i,o)}function Sv(i,r,o,d){return ss(o,r)?o:pl.current!==null?(i=mg(i,o,d),ss(i,r)||(Wt=!0),i):(tr&42)===0||(tr&1073741824)!==0&&(Fe&261930)===0?(Wt=!0,i.memoizedState=o):(i=Sb(),Ve.lanes|=i,Zr|=i,r)}function Nv(i,r,o,d,m){var y=ce.p;ce.p=y!==0&&8>y?y:8;var w=te.T,C={};te.T=C,yg(i,!1,r,o);try{var F=m(),X=te.S;if(X!==null&&X(C,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var se=RS(F,d);fu(i,r,se,cs(i))}else fu(i,r,d,cs(i))}catch(ae){fu(i,r,{then:function(){},status:"rejected",reason:ae},cs())}finally{ce.p=y,w!==null&&C.types!==null&&(w.types=C.types),te.T=w}}function OS(){}function pg(i,r,o,d){if(i.tag!==5)throw Error(s(476));var m=jv(i).queue;Nv(i,m,r,pe,o===null?OS:function(){return Iv(i),o(d)})}function jv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:pe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Iv(i){var r=jv(i);r.next===null&&(r=i.alternate.memoizedState),fu(i,r.next.queue,{},cs())}function gg(){return xn(Iu)}function Rv(){return Ot().memoizedState}function kv(){return Ot().memoizedState}function LS(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=cs();i=Gr(o);var d=Kr(r,i,o);d!==null&&(Qn(d,r,o),lu(d,r,o)),r={cache:$p()},i.payload=r;return}r=r.return}}function BS(i,r,o){var d=cs();o={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},zh(i)?Mv(r,o):(o=Mp(i,r,o,d),o!==null&&(Qn(o,i,d),Pv(o,r,d)))}function Dv(i,r,o){var d=cs();fu(i,r,o,d)}function fu(i,r,o,d){var m={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(zh(i))Mv(r,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var w=r.lastRenderedState,C=y(w,o);if(m.hasEagerState=!0,m.eagerState=C,ss(C,w))return bh(i,r,m,0),pt===null&&vh(),!1}catch{}finally{}if(o=Mp(i,r,m,d),o!==null)return Qn(o,i,d),Pv(o,r,d),!0}return!1}function yg(i,r,o,d){if(d={lane:2,revertLane:Qg(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},zh(i)){if(r)throw Error(s(479))}else r=Mp(i,o,d,2),r!==null&&Qn(r,i,2)}function zh(i){var r=i.alternate;return i===Ve||r!==null&&r===Ve}function Mv(i,r){gl=Dh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Pv(i,r,o){if((o&4194048)!==0){var d=r.lanes;d&=i.pendingLanes,o|=d,r.lanes=o,Pc(i,o)}}var mu={readContext:xn,use:Vh,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};mu.useEffectEvent=It;var Vv={readContext:xn,use:Vh,useCallback:function(i,r){return Vn().memoizedState=[i,r===void 0?null:r],i},useContext:xn,useEffect:vv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Lh(4194308,4,Ev.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Lh(4194308,4,i,r)},useInsertionEffect:function(i,r){Lh(4,2,i,r)},useMemo:function(i,r){var o=Vn();r=r===void 0?null:r;var d=i();if(co){gs(!0);try{i()}finally{gs(!1)}}return o.memoizedState=[d,r],d},useReducer:function(i,r,o){var d=Vn();if(o!==void 0){var m=o(r);if(co){gs(!0);try{o(r)}finally{gs(!1)}}}else m=r;return d.memoizedState=d.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},d.queue=i,i=i.dispatch=BS.bind(null,Ve,i),[d.memoizedState,i]},useRef:function(i){var r=Vn();return i={current:i},r.memoizedState=i},useState:function(i){i=ug(i);var r=i.queue,o=Dv.bind(null,Ve,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:fg,useDeferredValue:function(i,r){var o=Vn();return mg(o,i,r)},useTransition:function(){var i=ug(!1);return i=Nv.bind(null,Ve,i.queue,!0,!1),Vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var d=Ve,m=Vn();if(Ye){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),pt===null)throw Error(s(349));(Fe&127)!==0||sv(d,r,o)}m.memoizedState=o;var y={value:o,getSnapshot:r};return m.queue=y,vv(rv.bind(null,d,y,i),[i]),d.flags|=2048,xl(9,{destroy:void 0},iv.bind(null,d,y,o,r),null),o},useId:function(){var i=Vn(),r=pt.identifierPrefix;if(Ye){var o=Ni,d=Si;o=(d&~(1<<32-Mt(d)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Mh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=kS++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:gg,useFormState:mv,useActionState:mv,useOptimistic:function(i){var r=Vn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=yg.bind(null,Ve,!0,o),o.dispatch=r,[i,r]},useMemoCache:og,useCacheRefresh:function(){return Vn().memoizedState=LS.bind(null,Ve)},useEffectEvent:function(i){var r=Vn(),o={impl:i};return r.memoizedState=o,function(){if((it&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},xg={readContext:xn,use:Vh,useCallback:Av,useContext:xn,useEffect:hg,useImperativeHandle:Tv,useInsertionEffect:wv,useLayoutEffect:_v,useMemo:Cv,useReducer:Oh,useRef:xv,useState:function(){return Oh(nr)},useDebugValue:fg,useDeferredValue:function(i,r){var o=Ot();return Sv(o,ht.memoizedState,i,r)},useTransition:function(){var i=Oh(nr)[0],r=Ot().memoizedState;return[typeof i=="boolean"?i:hu(i),r]},useSyncExternalStore:nv,useId:Rv,useHostTransitionStatus:gg,useFormState:pv,useActionState:pv,useOptimistic:function(i,r){var o=Ot();return lv(o,ht,i,r)},useMemoCache:og,useCacheRefresh:kv};xg.useEffectEvent=bv;var Ov={readContext:xn,use:Vh,useCallback:Av,useContext:xn,useEffect:hg,useImperativeHandle:Tv,useInsertionEffect:wv,useLayoutEffect:_v,useMemo:Cv,useReducer:cg,useRef:xv,useState:function(){return cg(nr)},useDebugValue:fg,useDeferredValue:function(i,r){var o=Ot();return ht===null?mg(o,i,r):Sv(o,ht.memoizedState,i,r)},useTransition:function(){var i=cg(nr)[0],r=Ot().memoizedState;return[typeof i=="boolean"?i:hu(i),r]},useSyncExternalStore:nv,useId:Rv,useHostTransitionStatus:gg,useFormState:yv,useActionState:yv,useOptimistic:function(i,r){var o=Ot();return ht!==null?lv(o,ht,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:og,useCacheRefresh:kv};Ov.useEffectEvent=bv;function vg(i,r,o,d){r=i.memoizedState,o=o(d,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var bg={enqueueSetState:function(i,r,o){i=i._reactInternals;var d=cs(),m=Gr(d);m.payload=r,o!=null&&(m.callback=o),r=Kr(i,m,d),r!==null&&(Qn(r,i,d),lu(r,i,d))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var d=cs(),m=Gr(d);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Kr(i,m,d),r!==null&&(Qn(r,i,d),lu(r,i,d))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=cs(),d=Gr(o);d.tag=2,r!=null&&(d.callback=r),r=Kr(i,d,o),r!==null&&(Qn(r,i,o),lu(r,i,o))}};function Lv(i,r,o,d,m,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,w):r.prototype&&r.prototype.isPureReactComponent?!eu(o,d)||!eu(m,y):!0}function Bv(i,r,o,d){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,d),r.state!==i&&bg.enqueueReplaceState(r,r.state,null)}function uo(i,r){var o=r;if("ref"in r){o={};for(var d in r)d!=="ref"&&(o[d]=r[d])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function zv(i){xh(i)}function Uv(i){console.error(i)}function Fv(i){xh(i)}function Uh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function Hv(i,r,o){try{var d=i.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function wg(i,r,o){return o=Gr(o),o.tag=3,o.payload={element:null},o.callback=function(){Uh(i,r)},o}function qv(i){return i=Gr(i),i.tag=3,i}function $v(i,r,o,d){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=d.value;i.payload=function(){return m(y)},i.callback=function(){Hv(r,o,d)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){Hv(r,o,d),typeof m!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var C=d.stack;this.componentDidCatch(d.value,{componentStack:C!==null?C:""})})}function zS(i,r,o,d,m){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=o.alternate,r!==null&&ul(r,o,m,!0),o=rs.current,o!==null){switch(o.tag){case 31:case 13:return Cs===null?Jh():o.alternate===null&&Rt===0&&(Rt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,d===Nh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([d]):r.add(d),Gg(i,d,m)),!1;case 22:return o.flags|=65536,d===Nh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([d]):o.add(d)),Gg(i,d,m)),!1}throw Error(s(435,o.tag))}return Gg(i,d,m),Jh(),!1}if(Ye)return r=rs.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,d!==zp&&(i=Error(s(422),{cause:d}),su(_s(i,o)))):(d!==zp&&(r=Error(s(423),{cause:d}),su(_s(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,d=_s(d,o),m=wg(i.stateNode,d,m),Wp(i,m),Rt!==4&&(Rt=2)),!1;var y=Error(s(520),{cause:d});if(y=_s(y,o),_u===null?_u=[y]:_u.push(y),Rt!==4&&(Rt=2),r===null)return!0;d=_s(d,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=wg(o.stateNode,d,i),Wp(o,i),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Jr===null||!Jr.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=qv(m),$v(m,i,o,d),Wp(o,m),!1}o=o.return}while(o!==null);return!1}var _g=Error(s(461)),Wt=!1;function vn(i,r,o,d){r.child=i===null?Q1(r,null,o,d):lo(r,i.child,o,d)}function Gv(i,r,o,d,m){o=o.render;var y=r.ref;if("ref"in d){var w={};for(var C in d)C!=="ref"&&(w[C]=d[C])}else w=d;return io(r),d=sg(i,r,o,w,y,m),C=ig(),i!==null&&!Wt?(rg(i,r,m),sr(i,r,m)):(Ye&&C&&Lp(r),r.flags|=1,vn(i,r,d,m),r.child)}function Kv(i,r,o,d,m){if(i===null){var y=o.type;return typeof y=="function"&&!Pp(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Yv(i,r,y,d,m)):(i=_h(o.type,null,d,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!Ig(i,m)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:eu,o(w,d)&&i.ref===r.ref)return sr(i,r,m)}return r.flags|=1,i=Wi(y,d),i.ref=r.ref,i.return=r,r.child=i}function Yv(i,r,o,d,m){if(i!==null){var y=i.memoizedProps;if(eu(y,d)&&i.ref===r.ref)if(Wt=!1,r.pendingProps=d=y,Ig(i,m))(i.flags&131072)!==0&&(Wt=!0);else return r.lanes=i.lanes,sr(i,r,m)}return Eg(i,r,o,d,m)}function Qv(i,r,o,d){var m=d.children,y=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,i!==null){for(d=r.child=i.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;d=m&~y}else d=0,r.child=null;return Xv(i,r,y,o,d)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ch(r,y!==null?y.cachePool:null),y!==null?Z1(r,y):Jp(),J1(r);else return d=r.lanes=536870912,Xv(i,r,y!==null?y.baseLanes|o:o,o,d)}else y!==null?(Ch(r,y.cachePool),Z1(r,y),Qr(),r.memoizedState=null):(i!==null&&Ch(r,null),Jp(),Qr());return vn(i,r,m,o),r.child}function pu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Xv(i,r,o,d,m){var y=Kp();return y=y===null?null:{parent:Qt._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},i!==null&&Ch(r,null),Jp(),J1(r),i!==null&&ul(i,r,d,!0),r.childLanes=m,null}function Fh(i,r){return r=qh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Wv(i,r,o){return lo(r,i.child,null,o),i=Fh(r,r.pendingProps),i.flags|=2,as(r),r.memoizedState=null,i}function US(i,r,o){var d=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ye){if(d.mode==="hidden")return i=Fh(r,d),r.lanes=536870912,pu(null,i);if(tg(r),(i=vt)?(i=cw(i,As),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ur!==null?{id:Si,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},o=M1(i),o.return=r,r.child=o,yn=r,vt=null)):i=null,i===null)throw Hr(r);return r.lanes=536870912,null}return Fh(r,d)}var y=i.memoizedState;if(y!==null){var w=y.dehydrated;if(tg(r),m)if(r.flags&256)r.flags&=-257,r=Wv(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Wt||ul(i,r,o,!1),m=(o&i.childLanes)!==0,Wt||m){if(d=pt,d!==null&&(w=Vc(d,o),w!==0&&w!==y.retryLane))throw y.retryLane=w,eo(i,w),Qn(d,i,w),_g;Jh(),r=Wv(i,r,o)}else i=y.treeContext,vt=Ss(w.nextSibling),yn=r,Ye=!0,Fr=null,As=!1,i!==null&&O1(r,i),r=Fh(r,d),r.flags|=4096;return r}return i=Wi(i.child,{mode:d.mode,children:d.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Hh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Eg(i,r,o,d,m){return io(r),o=sg(i,r,o,d,void 0,m),d=ig(),i!==null&&!Wt?(rg(i,r,m),sr(i,r,m)):(Ye&&d&&Lp(r),r.flags|=1,vn(i,r,o,m),r.child)}function Zv(i,r,o,d,m,y){return io(r),r.updateQueue=null,o=tv(r,d,o,m),ev(i),d=ig(),i!==null&&!Wt?(rg(i,r,y),sr(i,r,y)):(Ye&&d&&Lp(r),r.flags|=1,vn(i,r,o,y),r.child)}function Jv(i,r,o,d,m){if(io(r),r.stateNode===null){var y=al,w=o.contextType;typeof w=="object"&&w!==null&&(y=xn(w)),y=new o(d,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=bg,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=d,y.state=r.memoizedState,y.refs={},Qp(r),w=o.contextType,y.context=typeof w=="object"&&w!==null?xn(w):al,y.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(vg(r,o,w,d),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&bg.enqueueReplaceState(y,y.state,null),uu(r,d,y,m),cu(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(i===null){y=r.stateNode;var C=r.memoizedProps,F=uo(o,C);y.props=F;var X=y.context,se=o.contextType;w=al,typeof se=="object"&&se!==null&&(w=xn(se));var ae=o.getDerivedStateFromProps;se=typeof ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||X!==w)&&Bv(r,y,d,w),$r=!1;var W=r.memoizedState;y.state=W,uu(r,d,y,m),cu(),X=r.memoizedState,C||W!==X||$r?(typeof ae=="function"&&(vg(r,o,ae,d),X=r.memoizedState),(F=$r||Lv(r,o,F,d,W,X,w))?(se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=X),y.props=d,y.state=X,y.context=w,d=F):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{y=r.stateNode,Xp(i,r),w=r.memoizedProps,se=uo(o,w),y.props=se,ae=r.pendingProps,W=y.context,X=o.contextType,F=al,typeof X=="object"&&X!==null&&(F=xn(X)),C=o.getDerivedStateFromProps,(X=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==ae||W!==F)&&Bv(r,y,d,F),$r=!1,W=r.memoizedState,y.state=W,uu(r,d,y,m),cu();var ee=r.memoizedState;w!==ae||W!==ee||$r||i!==null&&i.dependencies!==null&&Th(i.dependencies)?(typeof C=="function"&&(vg(r,o,C,d),ee=r.memoizedState),(se=$r||Lv(r,o,se,d,W,ee,F)||i!==null&&i.dependencies!==null&&Th(i.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,ee,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,ee,F)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&W===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&W===i.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=ee),y.props=d,y.state=ee,y.context=F,d=se):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&W===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&W===i.memoizedState||(r.flags|=1024),d=!1)}return y=d,Hh(i,r),d=(r.flags&128)!==0,y||d?(y=r.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&d?(r.child=lo(r,i.child,null,m),r.child=lo(r,null,o,m)):vn(i,r,o,m),r.memoizedState=y.state,i=r.child):i=sr(i,r,m),i}function eb(i,r,o,d){return no(),r.flags|=256,vn(i,r,o,d),r.child}var Tg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ag(i){return{baseLanes:i,cachePool:H1()}}function Cg(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ls),i}function tb(i,r,o){var d=r.pendingProps,m=!1,y=(r.flags&128)!==0,w;if((w=y)||(w=i!==null&&i.memoizedState===null?!1:(Vt.current&2)!==0),w&&(m=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ye){if(m?Yr(r):Qr(),(i=vt)?(i=cw(i,As),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ur!==null?{id:Si,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},o=M1(i),o.return=r,r.child=o,yn=r,vt=null)):i=null,i===null)throw Hr(r);return l0(i)?r.lanes=32:r.lanes=536870912,null}var C=d.children;return d=d.fallback,m?(Qr(),m=r.mode,C=qh({mode:"hidden",children:C},m),d=to(d,m,o,null),C.return=r,d.return=r,C.sibling=d,r.child=C,d=r.child,d.memoizedState=Ag(o),d.childLanes=Cg(i,w,o),r.memoizedState=Tg,pu(null,d)):(Yr(r),Sg(r,C))}var F=i.memoizedState;if(F!==null&&(C=F.dehydrated,C!==null)){if(y)r.flags&256?(Yr(r),r.flags&=-257,r=Ng(i,r,o)):r.memoizedState!==null?(Qr(),r.child=i.child,r.flags|=128,r=null):(Qr(),C=d.fallback,m=r.mode,d=qh({mode:"visible",children:d.children},m),C=to(C,m,o,null),C.flags|=2,d.return=r,C.return=r,d.sibling=C,r.child=d,lo(r,i.child,null,o),d=r.child,d.memoizedState=Ag(o),d.childLanes=Cg(i,w,o),r.memoizedState=Tg,r=pu(null,d));else if(Yr(r),l0(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var X=w.dgst;w=X,d=Error(s(419)),d.stack="",d.digest=w,su({value:d,source:null,stack:null}),r=Ng(i,r,o)}else if(Wt||ul(i,r,o,!1),w=(o&i.childLanes)!==0,Wt||w){if(w=pt,w!==null&&(d=Vc(w,o),d!==0&&d!==F.retryLane))throw F.retryLane=d,eo(i,d),Qn(w,i,d),_g;o0(C)||Jh(),r=Ng(i,r,o)}else o0(C)?(r.flags|=192,r.child=i.child,r=null):(i=F.treeContext,vt=Ss(C.nextSibling),yn=r,Ye=!0,Fr=null,As=!1,i!==null&&O1(r,i),r=Sg(r,d.children),r.flags|=4096);return r}return m?(Qr(),C=d.fallback,m=r.mode,F=i.child,X=F.sibling,d=Wi(F,{mode:"hidden",children:d.children}),d.subtreeFlags=F.subtreeFlags&65011712,X!==null?C=Wi(X,C):(C=to(C,m,o,null),C.flags|=2),C.return=r,d.return=r,d.sibling=C,r.child=d,pu(null,d),d=r.child,C=i.child.memoizedState,C===null?C=Ag(o):(m=C.cachePool,m!==null?(F=Qt._currentValue,m=m.parent!==F?{parent:F,pool:F}:m):m=H1(),C={baseLanes:C.baseLanes|o,cachePool:m}),d.memoizedState=C,d.childLanes=Cg(i,w,o),r.memoizedState=Tg,pu(i.child,d)):(Yr(r),o=i.child,i=o.sibling,o=Wi(o,{mode:"visible",children:d.children}),o.return=r,o.sibling=null,i!==null&&(w=r.deletions,w===null?(r.deletions=[i],r.flags|=16):w.push(i)),r.child=o,r.memoizedState=null,o)}function Sg(i,r){return r=qh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function qh(i,r){return i=is(22,i,null,r),i.lanes=0,i}function Ng(i,r,o){return lo(r,i.child,null,o),i=Sg(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function nb(i,r,o){i.lanes|=r;var d=i.alternate;d!==null&&(d.lanes|=r),Hp(i.return,r,o)}function jg(i,r,o,d,m,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:m,treeForkCount:y}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=o,w.tailMode=m,w.treeForkCount=y)}function sb(i,r,o){var d=r.pendingProps,m=d.revealOrder,y=d.tail;d=d.children;var w=Vt.current,C=(w&2)!==0;if(C?(w=w&1|2,r.flags|=128):w&=1,de(Vt,w),vn(i,r,d,o),d=Ye?nu:0,!C&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&nb(i,o,r);else if(i.tag===19)nb(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&kh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),jg(r,!1,m,o,y,d);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&kh(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}jg(r,!0,o,null,y,d);break;case"together":jg(r,!1,null,null,void 0,d);break;default:r.memoizedState=null}return r.child}function sr(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Zr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(ul(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Wi(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Wi(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Ig(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Th(i)))}function FS(i,r,o){switch(r.tag){case 3:jt(r,r.stateNode.containerInfo),qr(r,Qt,i.memoizedState.cache),no();break;case 27:case 5:We(r);break;case 4:jt(r,r.stateNode.containerInfo);break;case 10:qr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,tg(r),null;break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(Yr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?tb(i,r,o):(Yr(r),i=sr(i,r,o),i!==null?i.sibling:null);Yr(r);break;case 19:var m=(i.flags&128)!==0;if(d=(o&r.childLanes)!==0,d||(ul(i,r,o,!1),d=(o&r.childLanes)!==0),m){if(d)return sb(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),de(Vt,Vt.current),d)break;return null;case 22:return r.lanes=0,Qv(i,r,o,r.pendingProps);case 24:qr(r,Qt,i.memoizedState.cache)}return sr(i,r,o)}function ib(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Wt=!0;else{if(!Ig(i,o)&&(r.flags&128)===0)return Wt=!1,FS(i,r,o);Wt=(i.flags&131072)!==0}else Wt=!1,Ye&&(r.flags&1048576)!==0&&V1(r,nu,r.index);switch(r.lanes=0,r.tag){case 16:e:{var d=r.pendingProps;if(i=ao(r.elementType),r.type=i,typeof i=="function")Pp(i)?(d=uo(i,d),r.tag=1,r=Jv(null,r,i,d,o)):(r.tag=0,r=Eg(null,r,i,d,o));else{if(i!=null){var m=i.$$typeof;if(m===D){r.tag=11,r=Gv(null,r,i,d,o);break e}else if(m===S){r.tag=14,r=Kv(null,r,i,d,o);break e}}throw r=Ke(i)||i,Error(s(306,r,""))}}return r;case 0:return Eg(i,r,r.type,r.pendingProps,o);case 1:return d=r.type,m=uo(d,r.pendingProps),Jv(i,r,d,m,o);case 3:e:{if(jt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));d=r.pendingProps;var y=r.memoizedState;m=y.element,Xp(i,r),uu(r,d,null,o);var w=r.memoizedState;if(d=w.cache,qr(r,Qt,d),d!==y.cache&&qp(r,[Qt],o,!0),cu(),d=w.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=eb(i,r,d,o);break e}else if(d!==m){m=_s(Error(s(424)),r),su(m),r=eb(i,r,d,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(vt=Ss(i.firstChild),yn=r,Ye=!0,Fr=null,As=!0,o=Q1(r,null,d,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(no(),d===m){r=sr(i,r,o);break e}vn(i,r,d,o)}r=r.child}return r;case 26:return Hh(i,r),i===null?(o=pw(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ye||(o=r.type,i=r.pendingProps,d=of(Me.current).createElement(o),d[Gt]=r,d[ln]=i,bn(d,o,i),Kt(d),r.stateNode=d):r.memoizedState=pw(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return We(r),i===null&&Ye&&(d=r.stateNode=hw(r.type,r.pendingProps,Me.current),yn=r,As=!0,m=vt,sa(r.type)?(c0=m,vt=Ss(d.firstChild)):vt=m),vn(i,r,r.pendingProps.children,o),Hh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ye&&((m=d=vt)&&(d=xN(d,r.type,r.pendingProps,As),d!==null?(r.stateNode=d,yn=r,vt=Ss(d.firstChild),As=!1,m=!0):m=!1),m||Hr(r)),We(r),m=r.type,y=r.pendingProps,w=i!==null?i.memoizedProps:null,d=y.children,i0(m,y)?d=null:w!==null&&i0(m,w)&&(r.flags|=32),r.memoizedState!==null&&(m=sg(i,r,DS,null,null,o),Iu._currentValue=m),Hh(i,r),vn(i,r,d,o),r.child;case 6:return i===null&&Ye&&((i=o=vt)&&(o=vN(o,r.pendingProps,As),o!==null?(r.stateNode=o,yn=r,vt=null,i=!0):i=!1),i||Hr(r)),null;case 13:return tb(i,r,o);case 4:return jt(r,r.stateNode.containerInfo),d=r.pendingProps,i===null?r.child=lo(r,null,d,o):vn(i,r,d,o),r.child;case 11:return Gv(i,r,r.type,r.pendingProps,o);case 7:return vn(i,r,r.pendingProps,o),r.child;case 8:return vn(i,r,r.pendingProps.children,o),r.child;case 12:return vn(i,r,r.pendingProps.children,o),r.child;case 10:return d=r.pendingProps,qr(r,r.type,d.value),vn(i,r,d.children,o),r.child;case 9:return m=r.type._context,d=r.pendingProps.children,io(r),m=xn(m),d=d(m),r.flags|=1,vn(i,r,d,o),r.child;case 14:return Kv(i,r,r.type,r.pendingProps,o);case 15:return Yv(i,r,r.type,r.pendingProps,o);case 19:return sb(i,r,o);case 31:return US(i,r,o);case 22:return Qv(i,r,o,r.pendingProps);case 24:return io(r),d=xn(Qt),i===null?(m=Kp(),m===null&&(m=pt,y=$p(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),r.memoizedState={parent:d,cache:m},Qp(r),qr(r,Qt,m)):((i.lanes&o)!==0&&(Xp(i,r),uu(r,null,null,o),cu()),m=i.memoizedState,y=r.memoizedState,m.parent!==d?(m={parent:d,cache:d},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),qr(r,Qt,d)):(d=y.cache,qr(r,Qt,d),d!==m.cache&&qp(r,[Qt],o,!0))),vn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ir(i){i.flags|=4}function Rg(i,r,o,d,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(Rb())i.flags|=8192;else throw oo=Nh,Yp}else i.flags&=-16777217}function rb(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!bw(r))if(Rb())i.flags|=8192;else throw oo=Nh,Yp}function $h(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Wd():536870912,i.lanes|=r,_l|=r)}function gu(i,r){if(!Ye)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function bt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,d=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=o,r}function HS(i,r,o){var d=r.pendingProps;switch(Bp(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(r),null;case 1:return bt(r),null;case 3:return o=r.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),er(Qt),fe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(cl(r)?ir(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Up())),bt(r),null;case 26:var m=r.type,y=r.memoizedState;return i===null?(ir(r),y!==null?(bt(r),rb(r,y)):(bt(r),Rg(r,m,null,d,o))):y?y!==i.memoizedState?(ir(r),bt(r),rb(r,y)):(bt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==d&&ir(r),bt(r),Rg(r,m,i,d,o)),null;case 27:if(nt(r),o=Me.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==d&&ir(r);else{if(!d){if(r.stateNode===null)throw Error(s(166));return bt(r),null}i=me.current,cl(r)?L1(r):(i=hw(m,d,o),r.stateNode=i,ir(r))}return bt(r),null;case 5:if(nt(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==d&&ir(r);else{if(!d){if(r.stateNode===null)throw Error(s(166));return bt(r),null}if(y=me.current,cl(r))L1(r);else{var w=of(Me.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?w.createElement("select",{is:d.is}):w.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?w.createElement(m,{is:d.is}):w.createElement(m)}}y[Gt]=r,y[ln]=d;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=y;e:switch(bn(y,m,d),m){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ir(r)}}return bt(r),Rg(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==d&&ir(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(s(166));if(i=Me.current,cl(r)){if(i=r.stateNode,o=r.memoizedProps,d=null,m=yn,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}i[Gt]=r,i=!!(i.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||tw(i.nodeValue,o)),i||Hr(r,!0)}else i=of(i).createTextNode(d),i[Gt]=r,r.stateNode=i}return bt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(d=cl(r),o!==null){if(i===null){if(!d)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Gt]=r}else no(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;bt(r),i=!1}else o=Up(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(as(r),r):(as(r),null);if((r.flags&128)!==0)throw Error(s(558))}return bt(r),null;case 13:if(d=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=cl(r),d!==null&&d.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Gt]=r}else no(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;bt(r),m=!1}else m=Up(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(as(r),r):(as(r),null)}return as(r),(r.flags&128)!==0?(r.lanes=o,r):(o=d!==null,i=i!==null&&i.memoizedState!==null,o&&(d=r.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),$h(r,r.updateQueue),bt(r),null);case 4:return fe(),i===null&&Jg(r.stateNode.containerInfo),bt(r),null;case 10:return er(r.type),bt(r),null;case 19:if(re(Vt),d=r.memoizedState,d===null)return bt(r),null;if(m=(r.flags&128)!==0,y=d.rendering,y===null)if(m)gu(d,!1);else{if(Rt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=kh(i),y!==null){for(r.flags|=128,gu(d,!1),i=y.updateQueue,r.updateQueue=i,$h(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)D1(o,i),o=o.sibling;return de(Vt,Vt.current&1|2),Ye&&Zi(r,d.treeForkCount),r.child}i=i.sibling}d.tail!==null&&Mn()>Xh&&(r.flags|=128,m=!0,gu(d,!1),r.lanes=4194304)}else{if(!m)if(i=kh(y),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,$h(r,i),gu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Ye)return bt(r),null}else 2*Mn()-d.renderingStartTime>Xh&&o!==536870912&&(r.flags|=128,m=!0,gu(d,!1),r.lanes=4194304);d.isBackwards?(y.sibling=r.child,r.child=y):(i=d.last,i!==null?i.sibling=y:r.child=y,d.last=y)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Mn(),i.sibling=null,o=Vt.current,de(Vt,m?o&1|2:o&1),Ye&&Zi(r,d.treeForkCount),i):(bt(r),null);case 22:case 23:return as(r),eg(),d=r.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(o&536870912)!==0&&(r.flags&128)===0&&(bt(r),r.subtreeFlags&6&&(r.flags|=8192)):bt(r),o=r.updateQueue,o!==null&&$h(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==o&&(r.flags|=2048),i!==null&&re(ro),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),er(Qt),bt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function qS(i,r){switch(Bp(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return er(Qt),fe(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return nt(r),null;case 31:if(r.memoizedState!==null){if(as(r),r.alternate===null)throw Error(s(340));no()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(as(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));no()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return re(Vt),null;case 4:return fe(),null;case 10:return er(r.type),null;case 22:case 23:return as(r),eg(),i!==null&&re(ro),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return er(Qt),null;case 25:return null;default:return null}}function ab(i,r){switch(Bp(r),r.tag){case 3:er(Qt),fe();break;case 26:case 27:case 5:nt(r);break;case 4:fe();break;case 31:r.memoizedState!==null&&as(r);break;case 13:as(r);break;case 19:re(Vt);break;case 10:er(r.type);break;case 22:case 23:as(r),eg(),i!==null&&re(ro);break;case 24:er(Qt)}}function yu(i,r){try{var o=r.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&i)===i){d=void 0;var y=o.create,w=o.inst;d=y(),w.destroy=d}o=o.next}while(o!==m)}}catch(C){ut(r,r.return,C)}}function Xr(i,r,o){try{var d=r.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&i)===i){var w=d.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,m=r;var F=o,X=C;try{X()}catch(se){ut(m,F,se)}}}d=d.next}while(d!==y)}}catch(se){ut(r,r.return,se)}}function ob(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{W1(r,o)}catch(d){ut(i,i.return,d)}}}function lb(i,r,o){o.props=uo(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(d){ut(i,r,d)}}function xu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof o=="function"?i.refCleanup=o(d):o.current=d}}catch(m){ut(i,r,m)}}function ji(i,r){var o=i.ref,d=i.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(m){ut(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ut(i,r,m)}else o.current=null}function cb(i){var r=i.type,o=i.memoizedProps,d=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(m){ut(i,i.return,m)}}function kg(i,r,o){try{var d=i.stateNode;hN(d,i.type,o,r),d[ln]=r}catch(m){ut(i,i.return,m)}}function ub(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&sa(i.type)||i.tag===4}function Dg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ub(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&sa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mg(i,r,o){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ys));else if(d!==4&&(d===27&&sa(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Mg(i,r,o),i=i.sibling;i!==null;)Mg(i,r,o),i=i.sibling}function Gh(i,r,o){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(d!==4&&(d===27&&sa(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Gh(i,r,o),i=i.sibling;i!==null;)Gh(i,r,o),i=i.sibling}function db(i){var r=i.stateNode,o=i.memoizedProps;try{for(var d=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);bn(r,d,o),r[Gt]=i,r[ln]=o}catch(y){ut(i,i.return,y)}}var rr=!1,Zt=!1,Pg=!1,hb=typeof WeakSet=="function"?WeakSet:Set,un=null;function $S(i,r){if(i=i.containerInfo,n0=mf,i=T1(i),Np(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,C=-1,F=-1,X=0,se=0,ae=i,W=null;t:for(;;){for(var ee;ae!==o||m!==0&&ae.nodeType!==3||(C=w+m),ae!==y||d!==0&&ae.nodeType!==3||(F=w+d),ae.nodeType===3&&(w+=ae.nodeValue.length),(ee=ae.firstChild)!==null;)W=ae,ae=ee;for(;;){if(ae===i)break t;if(W===o&&++X===m&&(C=w),W===y&&++se===d&&(F=w),(ee=ae.nextSibling)!==null)break;ae=W,W=ae.parentNode}ae=ee}o=C===-1||F===-1?null:{start:C,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(s0={focusedElem:i,selectionRange:o},mf=!1,un=r;un!==null;)if(r=un,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,un=i;else for(;un!==null;){switch(r=un,y=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=r,m=y.memoizedProps,y=y.memoizedState,d=o.stateNode;try{var ye=uo(o.type,m);i=d.getSnapshotBeforeUpdate(ye,y),d.__reactInternalSnapshotBeforeUpdate=i}catch(Ae){ut(o,o.return,Ae)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)a0(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":a0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,un=i;break}un=r.return}}function fb(i,r,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:or(i,o),d&4&&yu(5,o);break;case 1:if(or(i,o),d&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(w){ut(o,o.return,w)}else{var m=uo(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(w){ut(o,o.return,w)}}d&64&&ob(o),d&512&&xu(o,o.return);break;case 3:if(or(i,o),d&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{W1(i,r)}catch(w){ut(o,o.return,w)}}break;case 27:r===null&&d&4&&db(o);case 26:case 5:or(i,o),r===null&&d&4&&cb(o),d&512&&xu(o,o.return);break;case 12:or(i,o);break;case 31:or(i,o),d&4&&gb(i,o);break;case 13:or(i,o),d&4&&yb(i,o),d&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=eN.bind(null,o),bN(i,o))));break;case 22:if(d=o.memoizedState!==null||rr,!d){r=r!==null&&r.memoizedState!==null||Zt,m=rr;var y=Zt;rr=d,(Zt=r)&&!y?lr(i,o,(o.subtreeFlags&8772)!==0):or(i,o),rr=m,Zt=y}break;case 30:break;default:or(i,o)}}function mb(i){var r=i.alternate;r!==null&&(i.alternate=null,mb(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Go(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Tt=null,$n=!1;function ar(i,r,o){for(o=o.child;o!==null;)pb(i,r,o),o=o.sibling}function pb(i,r,o){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(qs,o)}catch{}switch(o.tag){case 26:Zt||ji(o,r),ar(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Zt||ji(o,r);var d=Tt,m=$n;sa(o.type)&&(Tt=o.stateNode,$n=!1),ar(i,r,o),Su(o.stateNode),Tt=d,$n=m;break;case 5:Zt||ji(o,r);case 6:if(d=Tt,m=$n,Tt=null,ar(i,r,o),Tt=d,$n=m,Tt!==null)if($n)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(o.stateNode)}catch(y){ut(o,r,y)}else try{Tt.removeChild(o.stateNode)}catch(y){ut(o,r,y)}break;case 18:Tt!==null&&($n?(i=Tt,ow(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Il(i)):ow(Tt,o.stateNode));break;case 4:d=Tt,m=$n,Tt=o.stateNode.containerInfo,$n=!0,ar(i,r,o),Tt=d,$n=m;break;case 0:case 11:case 14:case 15:Xr(2,o,r),Zt||Xr(4,o,r),ar(i,r,o);break;case 1:Zt||(ji(o,r),d=o.stateNode,typeof d.componentWillUnmount=="function"&&lb(o,r,d)),ar(i,r,o);break;case 21:ar(i,r,o);break;case 22:Zt=(d=Zt)||o.memoizedState!==null,ar(i,r,o),Zt=d;break;default:ar(i,r,o)}}function gb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Il(i)}catch(o){ut(r,r.return,o)}}}function yb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Il(i)}catch(o){ut(r,r.return,o)}}function GS(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new hb),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new hb),r;default:throw Error(s(435,i.tag))}}function Kh(i,r){var o=GS(i);r.forEach(function(d){if(!o.has(d)){o.add(d);var m=tN.bind(null,i,d);d.then(m,m)}})}function Gn(i,r){var o=r.deletions;if(o!==null)for(var d=0;d<o.length;d++){var m=o[d],y=i,w=r,C=w;e:for(;C!==null;){switch(C.tag){case 27:if(sa(C.type)){Tt=C.stateNode,$n=!1;break e}break;case 5:Tt=C.stateNode,$n=!1;break e;case 3:case 4:Tt=C.stateNode.containerInfo,$n=!0;break e}C=C.return}if(Tt===null)throw Error(s(160));pb(y,w,m),Tt=null,$n=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)xb(r,i),r=r.sibling}var ei=null;function xb(i,r){var o=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Gn(r,i),Kn(i),d&4&&(Xr(3,i,i.return),yu(3,i),Xr(5,i,i.return));break;case 1:Gn(r,i),Kn(i),d&512&&(Zt||o===null||ji(o,o.return)),d&64&&rr&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var m=ei;if(Gn(r,i),Kn(i),d&512&&(Zt||o===null||ji(o,o.return)),d&4){var y=o!==null?o.memoizedState:null;if(d=i.memoizedState,o===null)if(d===null)if(i.stateNode===null){e:{d=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":y=m.getElementsByTagName("title")[0],(!y||y[pi]||y[Gt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(d),m.head.insertBefore(y,m.querySelector("head > title"))),bn(y,d,o),y[Gt]=i,Kt(y),d=y;break e;case"link":var w=xw("link","href",m).get(d+(o.href||""));if(w){for(var C=0;C<w.length;C++)if(y=w[C],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(C,1);break t}}y=m.createElement(d),bn(y,d,o),m.head.appendChild(y);break;case"meta":if(w=xw("meta","content",m).get(d+(o.content||""))){for(C=0;C<w.length;C++)if(y=w[C],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(C,1);break t}}y=m.createElement(d),bn(y,d,o),m.head.appendChild(y);break;default:throw Error(s(468,d))}y[Gt]=i,Kt(y),d=y}i.stateNode=d}else vw(m,i.type,i.stateNode);else i.stateNode=yw(m,d,i.memoizedProps);else y!==d?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,d===null?vw(m,i.type,i.stateNode):yw(m,d,i.memoizedProps)):d===null&&i.stateNode!==null&&kg(i,i.memoizedProps,o.memoizedProps)}break;case 27:Gn(r,i),Kn(i),d&512&&(Zt||o===null||ji(o,o.return)),o!==null&&d&4&&kg(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Gn(r,i),Kn(i),d&512&&(Zt||o===null||ji(o,o.return)),i.flags&32){m=i.stateNode;try{qn(m,"")}catch(ye){ut(i,i.return,ye)}}d&4&&i.stateNode!=null&&(m=i.memoizedProps,kg(i,m,o!==null?o.memoizedProps:m)),d&1024&&(Pg=!0);break;case 6:if(Gn(r,i),Kn(i),d&4){if(i.stateNode===null)throw Error(s(162));d=i.memoizedProps,o=i.stateNode;try{o.nodeValue=d}catch(ye){ut(i,i.return,ye)}}break;case 3:if(uf=null,m=ei,ei=lf(r.containerInfo),Gn(r,i),ei=m,Kn(i),d&4&&o!==null&&o.memoizedState.isDehydrated)try{Il(r.containerInfo)}catch(ye){ut(i,i.return,ye)}Pg&&(Pg=!1,vb(i));break;case 4:d=ei,ei=lf(i.stateNode.containerInfo),Gn(r,i),Kn(i),ei=d;break;case 12:Gn(r,i),Kn(i);break;case 31:Gn(r,i),Kn(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Kh(i,d)));break;case 13:Gn(r,i),Kn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Qh=Mn()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Kh(i,d)));break;case 22:m=i.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,X=rr,se=Zt;if(rr=X||m,Zt=se||F,Gn(r,i),Zt=se,rr=X,Kn(i),d&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||F||rr||Zt||ho(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){F=o=r;try{if(y=F.stateNode,m)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=F.stateNode;var ae=F.memoizedProps.style,W=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;C.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(ye){ut(F,F.return,ye)}}}else if(r.tag===6){if(o===null){F=r;try{F.stateNode.nodeValue=m?"":F.memoizedProps}catch(ye){ut(F,F.return,ye)}}}else if(r.tag===18){if(o===null){F=r;try{var ee=F.stateNode;m?lw(ee,!0):lw(F.stateNode,!1)}catch(ye){ut(F,F.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=i.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,Kh(i,o))));break;case 19:Gn(r,i),Kn(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Kh(i,d)));break;case 30:break;case 21:break;default:Gn(r,i),Kn(i)}}function Kn(i){var r=i.flags;if(r&2){try{for(var o,d=i.return;d!==null;){if(ub(d)){o=d;break}d=d.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,y=Dg(i);Gh(i,y,m);break;case 5:var w=o.stateNode;o.flags&32&&(qn(w,""),o.flags&=-33);var C=Dg(i);Gh(i,C,w);break;case 3:case 4:var F=o.stateNode.containerInfo,X=Dg(i);Mg(i,X,F);break;default:throw Error(s(161))}}catch(se){ut(i,i.return,se)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function vb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;vb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function or(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)fb(i,r.alternate,r),r=r.sibling}function ho(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Xr(4,r,r.return),ho(r);break;case 1:ji(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&lb(r,r.return,o),ho(r);break;case 27:Su(r.stateNode);case 26:case 5:ji(r,r.return),ho(r);break;case 22:r.memoizedState===null&&ho(r);break;case 30:ho(r);break;default:ho(r)}i=i.sibling}}function lr(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,m=i,y=r,w=y.flags;switch(y.tag){case 0:case 11:case 15:lr(m,y,o),yu(4,y);break;case 1:if(lr(m,y,o),d=y,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){ut(d,d.return,X)}if(d=y,m=d.updateQueue,m!==null){var C=d.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)X1(F[m],C)}catch(X){ut(d,d.return,X)}}o&&w&64&&ob(y),xu(y,y.return);break;case 27:db(y);case 26:case 5:lr(m,y,o),o&&d===null&&w&4&&cb(y),xu(y,y.return);break;case 12:lr(m,y,o);break;case 31:lr(m,y,o),o&&w&4&&gb(m,y);break;case 13:lr(m,y,o),o&&w&4&&yb(m,y);break;case 22:y.memoizedState===null&&lr(m,y,o),xu(y,y.return);break;case 30:break;default:lr(m,y,o)}r=r.sibling}}function Vg(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&iu(o))}function Og(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&iu(i))}function ti(i,r,o,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)bb(i,r,o,d),r=r.sibling}function bb(i,r,o,d){var m=r.flags;switch(r.tag){case 0:case 11:case 15:ti(i,r,o,d),m&2048&&yu(9,r);break;case 1:ti(i,r,o,d);break;case 3:ti(i,r,o,d),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&iu(i)));break;case 12:if(m&2048){ti(i,r,o,d),i=r.stateNode;try{var y=r.memoizedProps,w=y.id,C=y.onPostCommit;typeof C=="function"&&C(w,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){ut(r,r.return,F)}}else ti(i,r,o,d);break;case 31:ti(i,r,o,d);break;case 13:ti(i,r,o,d);break;case 23:break;case 22:y=r.stateNode,w=r.alternate,r.memoizedState!==null?y._visibility&2?ti(i,r,o,d):vu(i,r):y._visibility&2?ti(i,r,o,d):(y._visibility|=2,vl(i,r,o,d,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Vg(w,r);break;case 24:ti(i,r,o,d),m&2048&&Og(r.alternate,r);break;default:ti(i,r,o,d)}}function vl(i,r,o,d,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=i,w=r,C=o,F=d,X=w.flags;switch(w.tag){case 0:case 11:case 15:vl(y,w,C,F,m),yu(8,w);break;case 23:break;case 22:var se=w.stateNode;w.memoizedState!==null?se._visibility&2?vl(y,w,C,F,m):vu(y,w):(se._visibility|=2,vl(y,w,C,F,m)),m&&X&2048&&Vg(w.alternate,w);break;case 24:vl(y,w,C,F,m),m&&X&2048&&Og(w.alternate,w);break;default:vl(y,w,C,F,m)}r=r.sibling}}function vu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,d=r,m=d.flags;switch(d.tag){case 22:vu(o,d),m&2048&&Vg(d.alternate,d);break;case 24:vu(o,d),m&2048&&Og(d.alternate,d);break;default:vu(o,d)}r=r.sibling}}var bu=8192;function bl(i,r,o){if(i.subtreeFlags&bu)for(i=i.child;i!==null;)wb(i,r,o),i=i.sibling}function wb(i,r,o){switch(i.tag){case 26:bl(i,r,o),i.flags&bu&&i.memoizedState!==null&&kN(o,ei,i.memoizedState,i.memoizedProps);break;case 5:bl(i,r,o);break;case 3:case 4:var d=ei;ei=lf(i.stateNode.containerInfo),bl(i,r,o),ei=d;break;case 22:i.memoizedState===null&&(d=i.alternate,d!==null&&d.memoizedState!==null?(d=bu,bu=16777216,bl(i,r,o),bu=d):bl(i,r,o));break;default:bl(i,r,o)}}function _b(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function wu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var d=r[o];un=d,Tb(d,i)}_b(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Eb(i),i=i.sibling}function Eb(i){switch(i.tag){case 0:case 11:case 15:wu(i),i.flags&2048&&Xr(9,i,i.return);break;case 3:wu(i);break;case 12:wu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Yh(i)):wu(i);break;default:wu(i)}}function Yh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var d=r[o];un=d,Tb(d,i)}_b(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Xr(8,r,r.return),Yh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Yh(r));break;default:Yh(r)}i=i.sibling}}function Tb(i,r){for(;un!==null;){var o=un;switch(o.tag){case 0:case 11:case 15:Xr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:iu(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,un=d;else e:for(o=i;un!==null;){d=un;var m=d.sibling,y=d.return;if(mb(d),d===o){un=null;break e}if(m!==null){m.return=y,un=m;break e}un=y}}}var KS={getCacheForType:function(i){var r=xn(Qt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return xn(Qt).controller.signal}},YS=typeof WeakMap=="function"?WeakMap:Map,it=0,pt=null,Be=null,Fe=0,ct=0,os=null,Wr=!1,wl=!1,Lg=!1,cr=0,Rt=0,Zr=0,fo=0,Bg=0,ls=0,_l=0,_u=null,Yn=null,zg=!1,Qh=0,Ab=0,Xh=1/0,Wh=null,Jr=null,an=0,ea=null,El=null,ur=0,Ug=0,Fg=null,Cb=null,Eu=0,Hg=null;function cs(){return(it&2)!==0&&Fe!==0?Fe&-Fe:te.T!==null?Qg():Zd()}function Sb(){if(ls===0)if((Fe&536870912)===0||Ye){var i=Ba;Ba<<=1,(Ba&3932160)===0&&(Ba=262144),ls=i}else ls=536870912;return i=rs.current,i!==null&&(i.flags|=32),ls}function Qn(i,r,o){(i===pt&&(ct===2||ct===9)||i.cancelPendingCommit!==null)&&(Tl(i,0),ta(i,Fe,ls,!1)),za(i,o),((it&2)===0||i!==pt)&&(i===pt&&((it&2)===0&&(fo|=o),Rt===4&&ta(i,Fe,ls,!1)),Ii(i))}function Nb(i,r,o){if((it&6)!==0)throw Error(s(327));var d=!o&&(r&127)===0&&(r&i.expiredLanes)===0||$s(i,r),m=d?WS(i,r):$g(i,r,!0),y=d;do{if(m===0){wl&&!d&&ta(i,r,0,!1);break}else{if(o=i.current.alternate,y&&!QS(o)){m=$g(i,r,!1),y=!1;continue}if(m===2){if(y=r,i.errorRecoveryDisabledLanes&y)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var C=i;m=_u;var F=C.current.memoizedState.isDehydrated;if(F&&(Tl(C,w).flags|=256),w=$g(C,w,!1),w!==2){if(Lg&&!F){C.errorRecoveryDisabledLanes|=y,fo|=y,m=4;break e}y=Yn,Yn=m,y!==null&&(Yn===null?Yn=y:Yn.push.apply(Yn,y))}m=w}if(y=!1,m!==2)continue}}if(m===1){Tl(i,0),ta(i,r,0,!0);break}e:{switch(d=i,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ta(d,r,ls,!Wr);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=Qh+300-Mn(),10<m)){if(ta(d,r,ls,!Wr),hi(d,0,!0)!==0)break e;ur=r,d.timeoutHandle=rw(jb.bind(null,d,o,Yn,Wh,zg,r,ls,fo,_l,Wr,y,"Throttled",-0,0),m);break e}jb(d,o,Yn,Wh,zg,r,ls,fo,_l,Wr,y,null,-0,0)}}break}while(!0);Ii(i)}function jb(i,r,o,d,m,y,w,C,F,X,se,ae,W,ee){if(i.timeoutHandle=-1,ae=r.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ys},wb(r,y,ae);var ye=(y&62914560)===y?Qh-Mn():(y&4194048)===y?Ab-Mn():0;if(ye=DN(ae,ye),ye!==null){ur=y,i.cancelPendingCommit=ye(Ob.bind(null,i,r,y,o,d,m,w,C,F,se,ae,null,W,ee)),ta(i,y,w,!X);return}}Ob(i,r,y,o,d,m,w,C,F)}function QS(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var m=o[d],y=m.getSnapshot;m=m.value;try{if(!ss(y(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ta(i,r,o,d){r&=~Bg,r&=~fo,i.suspendedLanes|=r,i.pingedLanes&=~r,d&&(i.warmLanes|=r),d=i.expirationTimes;for(var m=r;0<m;){var y=31-Mt(m),w=1<<y;d[y]=-1,m&=~w}o!==0&&Ua(i,o,r)}function Zh(){return(it&6)===0?(Tu(0),!1):!0}function qg(){if(Be!==null){if(ct===0)var i=Be.return;else i=Be,Ji=so=null,ag(i),ml=null,au=0,i=Be;for(;i!==null;)ab(i.alternate,i),i=i.return;Be=null}}function Tl(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,pN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ur=0,qg(),pt=i,Be=o=Wi(i.current,null),Fe=r,ct=0,os=null,Wr=!1,wl=$s(i,r),Lg=!1,_l=ls=Bg=fo=Zr=Rt=0,Yn=_u=null,zg=!1,(r&8)!==0&&(r|=r&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=r;0<d;){var m=31-Mt(d),y=1<<m;r|=i[m],d&=~y}return cr=r,vh(),o}function Ib(i,r){Ve=null,te.H=mu,r===fl||r===Sh?(r=G1(),ct=3):r===Yp?(r=G1(),ct=4):ct=r===_g?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,os=r,Be===null&&(Rt=1,Uh(i,_s(r,i.current)))}function Rb(){var i=rs.current;return i===null?!0:(Fe&4194048)===Fe?Cs===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?i===Cs:!1}function kb(){var i=te.H;return te.H=mu,i===null?mu:i}function Db(){var i=te.A;return te.A=KS,i}function Jh(){Rt=4,Wr||(Fe&4194048)!==Fe&&rs.current!==null||(wl=!0),(Zr&134217727)===0&&(fo&134217727)===0||pt===null||ta(pt,Fe,ls,!1)}function $g(i,r,o){var d=it;it|=2;var m=kb(),y=Db();(pt!==i||Fe!==r)&&(Wh=null,Tl(i,r)),r=!1;var w=Rt;e:do try{if(ct!==0&&Be!==null){var C=Be,F=os;switch(ct){case 8:qg(),w=6;break e;case 3:case 2:case 9:case 6:rs.current===null&&(r=!0);var X=ct;if(ct=0,os=null,Al(i,C,F,X),o&&wl){w=0;break e}break;default:X=ct,ct=0,os=null,Al(i,C,F,X)}}XS(),w=Rt;break}catch(se){Ib(i,se)}while(!0);return r&&i.shellSuspendCounter++,Ji=so=null,it=d,te.H=m,te.A=y,Be===null&&(pt=null,Fe=0,vh()),w}function XS(){for(;Be!==null;)Mb(Be)}function WS(i,r){var o=it;it|=2;var d=kb(),m=Db();pt!==i||Fe!==r?(Wh=null,Xh=Mn()+500,Tl(i,r)):wl=$s(i,r);e:do try{if(ct!==0&&Be!==null){r=Be;var y=os;t:switch(ct){case 1:ct=0,os=null,Al(i,r,y,1);break;case 2:case 9:if(q1(y)){ct=0,os=null,Pb(r);break}r=function(){ct!==2&&ct!==9||pt!==i||(ct=7),Ii(i)},y.then(r,r);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:q1(y)?(ct=0,os=null,Pb(r)):(ct=0,os=null,Al(i,r,y,7));break;case 5:var w=null;switch(Be.tag){case 26:w=Be.memoizedState;case 5:case 27:var C=Be;if(w?bw(w):C.stateNode.complete){ct=0,os=null;var F=C.sibling;if(F!==null)Be=F;else{var X=C.return;X!==null?(Be=X,ef(X)):Be=null}break t}}ct=0,os=null,Al(i,r,y,5);break;case 6:ct=0,os=null,Al(i,r,y,6);break;case 8:qg(),Rt=6;break e;default:throw Error(s(462))}}ZS();break}catch(se){Ib(i,se)}while(!0);return Ji=so=null,te.H=d,te.A=m,it=o,Be!==null?0:(pt=null,Fe=0,vh(),Rt)}function ZS(){for(;Be!==null&&!wp();)Mb(Be)}function Mb(i){var r=ib(i.alternate,i,cr);i.memoizedProps=i.pendingProps,r===null?ef(i):Be=r}function Pb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Zv(o,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=Zv(o,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:ag(r);default:ab(o,r),r=Be=D1(r,cr),r=ib(o,r,cr)}i.memoizedProps=i.pendingProps,r===null?ef(i):Be=r}function Al(i,r,o,d){Ji=so=null,ag(r),ml=null,au=0;var m=r.return;try{if(zS(i,m,r,o,Fe)){Rt=1,Uh(i,_s(o,i.current)),Be=null;return}}catch(y){if(m!==null)throw Be=m,y;Rt=1,Uh(i,_s(o,i.current)),Be=null;return}r.flags&32768?(Ye||d===1?i=!0:wl||(Fe&536870912)!==0?i=!1:(Wr=i=!0,(d===2||d===9||d===3||d===6)&&(d=rs.current,d!==null&&d.tag===13&&(d.flags|=16384))),Vb(r,i)):ef(r)}function ef(i){var r=i;do{if((r.flags&32768)!==0){Vb(r,Wr);return}i=r.return;var o=HS(r.alternate,r,cr);if(o!==null){Be=o;return}if(r=r.sibling,r!==null){Be=r;return}Be=r=i}while(r!==null);Rt===0&&(Rt=5)}function Vb(i,r){do{var o=qS(i.alternate,i);if(o!==null){o.flags&=32767,Be=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Be=i;return}Be=i=o}while(i!==null);Rt=6,Be=null}function Ob(i,r,o,d,m,y,w,C,F){i.cancelPendingCommit=null;do tf();while(an!==0);if((it&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=Dp,Tp(i,o,y,w,C,F),i===pt&&(Be=pt=null,Fe=0),El=r,ea=i,ur=o,Ug=y,Fg=m,Cb=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,nN(Rr,function(){return Fb(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=te.T,te.T=null,m=ce.p,ce.p=2,w=it,it|=4;try{$S(i,r,o)}finally{it=w,ce.p=m,te.T=d}}an=1,Lb(),Bb(),zb()}}function Lb(){if(an===1){an=0;var i=ea,r=El,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=te.T,te.T=null;var d=ce.p;ce.p=2;var m=it;it|=4;try{xb(r,i);var y=s0,w=T1(i.containerInfo),C=y.focusedElem,F=y.selectionRange;if(w!==C&&C&&C.ownerDocument&&E1(C.ownerDocument.documentElement,C)){if(F!==null&&Np(C)){var X=F.start,se=F.end;if(se===void 0&&(se=X),"selectionStart"in C)C.selectionStart=X,C.selectionEnd=Math.min(se,C.value.length);else{var ae=C.ownerDocument||document,W=ae&&ae.defaultView||window;if(W.getSelection){var ee=W.getSelection(),ye=C.textContent.length,Ae=Math.min(F.start,ye),mt=F.end===void 0?Ae:Math.min(F.end,ye);!ee.extend&&Ae>mt&&(w=mt,mt=Ae,Ae=w);var K=_1(C,Ae),q=_1(C,mt);if(K&&q&&(ee.rangeCount!==1||ee.anchorNode!==K.node||ee.anchorOffset!==K.offset||ee.focusNode!==q.node||ee.focusOffset!==q.offset)){var Q=ae.createRange();Q.setStart(K.node,K.offset),ee.removeAllRanges(),Ae>mt?(ee.addRange(Q),ee.extend(q.node,q.offset)):(Q.setEnd(q.node,q.offset),ee.addRange(Q))}}}}for(ae=[],ee=C;ee=ee.parentNode;)ee.nodeType===1&&ae.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ae.length;C++){var ie=ae[C];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}mf=!!n0,s0=n0=null}finally{it=m,ce.p=d,te.T=o}}i.current=r,an=2}}function Bb(){if(an===2){an=0;var i=ea,r=El,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=te.T,te.T=null;var d=ce.p;ce.p=2;var m=it;it|=4;try{fb(i,r.alternate,r)}finally{it=m,ce.p=d,te.T=o}}an=3}}function zb(){if(an===4||an===3){an=0,$d();var i=ea,r=El,o=ur,d=Cb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?an=5:(an=0,El=ea=null,Ub(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Jr=null),Ki(o),r=r.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(qs,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=te.T,m=ce.p,ce.p=2,te.T=null;try{for(var y=i.onRecoverableError,w=0;w<d.length;w++){var C=d[w];y(C.value,{componentStack:C.stack})}}finally{te.T=r,ce.p=m}}(ur&3)!==0&&tf(),Ii(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===Hg?Eu++:(Eu=0,Hg=i):Eu=0,Tu(0)}}function Ub(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,iu(r)))}function tf(){return Lb(),Bb(),zb(),Fb()}function Fb(){if(an!==5)return!1;var i=ea,r=Ug;Ug=0;var o=Ki(ur),d=te.T,m=ce.p;try{ce.p=32>o?32:o,te.T=null,o=Fg,Fg=null;var y=ea,w=ur;if(an=0,El=ea=null,ur=0,(it&6)!==0)throw Error(s(331));var C=it;if(it|=4,Eb(y.current),bb(y,y.current,w,o),it=C,Tu(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(qs,y)}catch{}return!0}finally{ce.p=m,te.T=d,Ub(i,r)}}function Hb(i,r,o){r=_s(o,r),r=wg(i.stateNode,r,2),i=Kr(i,r,2),i!==null&&(za(i,2),Ii(i))}function ut(i,r,o){if(i.tag===3)Hb(i,i,o);else for(;r!==null;){if(r.tag===3){Hb(r,i,o);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Jr===null||!Jr.has(d))){i=_s(o,i),o=qv(2),d=Kr(r,o,2),d!==null&&($v(o,d,r,i),za(d,2),Ii(d));break}}r=r.return}}function Gg(i,r,o){var d=i.pingCache;if(d===null){d=i.pingCache=new YS;var m=new Set;d.set(r,m)}else m=d.get(r),m===void 0&&(m=new Set,d.set(r,m));m.has(o)||(Lg=!0,m.add(o),i=JS.bind(null,i,r,o),r.then(i,i))}function JS(i,r,o){var d=i.pingCache;d!==null&&d.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,pt===i&&(Fe&o)===o&&(Rt===4||Rt===3&&(Fe&62914560)===Fe&&300>Mn()-Qh?(it&2)===0&&Tl(i,0):Bg|=o,_l===Fe&&(_l=0)),Ii(i)}function qb(i,r){r===0&&(r=Wd()),i=eo(i,r),i!==null&&(za(i,r),Ii(i))}function eN(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),qb(i,o)}function tN(i,r){var o=0;switch(i.tag){case 31:case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(r),qb(i,o)}function nN(i,r){return rn(i,r)}var nf=null,Cl=null,Kg=!1,sf=!1,Yg=!1,na=0;function Ii(i){i!==Cl&&i.next===null&&(Cl===null?nf=Cl=i:Cl=Cl.next=i),sf=!0,Kg||(Kg=!0,iN())}function Tu(i,r){if(!Yg&&sf){Yg=!0;do for(var o=!1,d=nf;d!==null;){if(i!==0){var m=d.pendingLanes;if(m===0)var y=0;else{var w=d.suspendedLanes,C=d.pingedLanes;y=(1<<31-Mt(42|i)+1)-1,y&=m&~(w&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Yb(d,y))}else y=Fe,y=hi(d,d===pt?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||$s(d,y)||(o=!0,Yb(d,y));d=d.next}while(o);Yg=!1}}function sN(){$b()}function $b(){sf=Kg=!1;var i=0;na!==0&&mN()&&(i=na);for(var r=Mn(),o=null,d=nf;d!==null;){var m=d.next,y=Gb(d,r);y===0?(d.next=null,o===null?nf=m:o.next=m,m===null&&(Cl=o)):(o=d,(i!==0||(y&3)!==0)&&(sf=!0)),d=m}an!==0&&an!==5||Tu(i),na!==0&&(na=0)}function Gb(i,r){for(var o=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var w=31-Mt(y),C=1<<w,F=m[w];F===-1?((C&o)===0||(C&d)!==0)&&(m[w]=Ep(C,r)):F<=r&&(i.expiredLanes|=C),y&=~C}if(r=pt,o=Fe,o=hi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,o===0||i===r&&(ct===2||ct===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Ir(d),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||$s(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(d!==null&&Ir(d),Ki(o)){case 2:case 8:o=Mc;break;case 32:o=Rr;break;case 268435456:o=Gd;break;default:o=Rr}return d=Kb.bind(null,i),o=rn(o,d),i.callbackPriority=r,i.callbackNode=o,r}return d!==null&&d!==null&&Ir(d),i.callbackPriority=2,i.callbackNode=null,2}function Kb(i,r){if(an!==0&&an!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(tf()&&i.callbackNode!==o)return null;var d=Fe;return d=hi(i,i===pt?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(Nb(i,d,r),Gb(i,Mn()),i.callbackNode!=null&&i.callbackNode===o?Kb.bind(null,i):null)}function Yb(i,r){if(tf())return null;Nb(i,r,!0)}function iN(){gN(function(){(it&6)!==0?rn(Dc,sN):$b()})}function Qg(){if(na===0){var i=dl;i===0&&(i=ui,ui<<=1,(ui&261888)===0&&(ui=256)),na=i}return na}function Qb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Xo(""+i)}function Xb(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function rN(i,r,o,d,m){if(r==="submit"&&o&&o.stateNode===m){var y=Qb((m[ln]||null).action),w=d.submitter;w&&(r=(r=w[ln]||null)?Qb(r.formAction):w.getAttribute("formAction"),r!==null&&(y=r,w=null));var C=new Ei("action","action",null,d,m);i.push({event:C,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(na!==0){var F=w?Xb(m,w):new FormData(m);pg(o,{pending:!0,data:F,method:m.method,action:y},null,F)}}else typeof y=="function"&&(C.preventDefault(),F=w?Xb(m,w):new FormData(m),pg(o,{pending:!0,data:F,method:m.method,action:y},y,F))},currentTarget:m}]})}}for(var Xg=0;Xg<kp.length;Xg++){var Wg=kp[Xg],aN=Wg.toLowerCase(),oN=Wg[0].toUpperCase()+Wg.slice(1);Js(aN,"on"+oN)}Js(S1,"onAnimationEnd"),Js(N1,"onAnimationIteration"),Js(j1,"onAnimationStart"),Js("dblclick","onDoubleClick"),Js("focusin","onFocus"),Js("focusout","onBlur"),Js(ES,"onTransitionRun"),Js(TS,"onTransitionStart"),Js(AS,"onTransitionCancel"),Js(I1,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function Wb(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var d=i[o],m=d.event;d=d.listeners;e:{var y=void 0;if(r)for(var w=d.length-1;0<=w;w--){var C=d[w],F=C.instance,X=C.currentTarget;if(C=C.listener,F!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=X;try{y(m)}catch(se){xh(se)}m.currentTarget=null,y=F}else for(w=0;w<d.length;w++){if(C=d[w],F=C.instance,X=C.currentTarget,C=C.listener,F!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=X;try{y(m)}catch(se){xh(se)}m.currentTarget=null,y=F}}}}function ze(i,r){var o=r[$o];o===void 0&&(o=r[$o]=new Set);var d=i+"__bubble";o.has(d)||(Zb(r,i,2,!1),o.add(d))}function Zg(i,r,o){var d=0;r&&(d|=4),Zb(o,i,d,r)}var rf="_reactListening"+Math.random().toString(36).slice(2);function Jg(i){if(!i[rf]){i[rf]=!0,Oc.forEach(function(o){o!=="selectionchange"&&(lN.has(o)||Zg(o,!1,i),Zg(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[rf]||(r[rf]=!0,Zg("selectionchange",!1,r))}}function Zb(i,r,o,d){switch(Sw(r)){case 2:var m=VN;break;case 8:m=ON;break;default:m=m0}o=m.bind(null,r,o,i),m=void 0,!Ga||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function e0(i,r,o,d,m){var y=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var C=d.stateNode.containerInfo;if(C===m)break;if(w===4)for(w=d.return;w!==null;){var F=w.tag;if((F===3||F===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;C!==null;){if(w=gi(C),w===null)return;if(F=w.tag,F===5||F===6||F===26||F===27){d=y=w;continue e}C=C.parentNode}}d=d.return}Or(function(){var X=y,se=xs(o),ae=[];e:{var W=R1.get(i);if(W!==void 0){var ee=Ei,ye=i;switch(i){case"keypress":if(Ya(o)===0)break e;case"keydown":case"keyup":ee=ph;break;case"focusin":ye="focus",ee=Xa;break;case"focusout":ye="blur",ee=Xa;break;case"beforeblur":case"afterblur":ee=Xa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=b;break;case S1:case N1:case j1:ee=lh;break;case I1:ee=R;break;case"scroll":case"scrollend":ee=Qc;break;case"wheel":ee=J;break;case"copy":case"cut":case"paste":ee=ch;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Xi;break;case"toggle":case"beforetoggle":ee=Pe}var Ae=(r&4)!==0,mt=!Ae&&(i==="scroll"||i==="scrollend"),K=Ae?W!==null?W+"Capture":null:W;Ae=[];for(var q=X,Q;q!==null;){var ie=q;if(Q=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Q===null||K===null||(ie=Qs(q,K),ie!=null&&Ae.push(Cu(q,ie,Q))),mt)break;q=q.return}0<Ae.length&&(W=new ee(W,ye,null,o,se),ae.push({event:W,listeners:Ae}))}}if((r&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",ee=i==="mouseout"||i==="pointerout",W&&o!==Gc&&(ye=o.relatedTarget||o.fromElement)&&(gi(ye)||ye[mi]))break e;if((ee||W)&&(W=se.window===se?se:(W=se.ownerDocument)?W.defaultView||W.parentWindow:window,ee?(ye=o.relatedTarget||o.toElement,ee=X,ye=ye?gi(ye):null,ye!==null&&(mt=l(ye),Ae=ye.tag,ye!==mt||Ae!==5&&Ae!==27&&Ae!==6)&&(ye=null)):(ee=null,ye=X),ee!==ye)){if(Ae=Xc,ie="onMouseLeave",K="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(Ae=Xi,ie="onPointerLeave",K="onPointerEnter",q="pointer"),mt=ee==null?W:ts(ee),Q=ye==null?W:ts(ye),W=new Ae(ie,q+"leave",ee,o,se),W.target=mt,W.relatedTarget=Q,ie=null,gi(se)===X&&(Ae=new Ae(K,q+"enter",ye,o,se),Ae.target=Q,Ae.relatedTarget=mt,ie=Ae),mt=ie,ee&&ye)t:{for(Ae=cN,K=ee,q=ye,Q=0,ie=K;ie;ie=Ae(ie))Q++;ie=0;for(var we=q;we;we=Ae(we))ie++;for(;0<Q-ie;)K=Ae(K),Q--;for(;0<ie-Q;)q=Ae(q),ie--;for(;Q--;){if(K===q||q!==null&&K===q.alternate){Ae=K;break t}K=Ae(K),q=Ae(q)}Ae=null}else Ae=null;ee!==null&&Jb(ae,W,ee,Ae,!1),ye!==null&&mt!==null&&Jb(ae,mt,ye,Ae,!0)}}e:{if(W=X?ts(X):window,ee=W.nodeName&&W.nodeName.toLowerCase(),ee==="select"||ee==="input"&&W.type==="file")var Ze=g1;else if(m1(W))if(y1)Ze=bS;else{Ze=xS;var ve=yS}else ee=W.nodeName,!ee||ee.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&Qo(X.elementType)&&(Ze=g1):Ze=vS;if(Ze&&(Ze=Ze(i,X))){p1(ae,Ze,o,se);break e}ve&&ve(i,W,X),i==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&Hc(W,"number",W.value)}switch(ve=X?ts(X):window,i){case"focusin":(m1(ve)||ve.contentEditable==="true")&&(sl=ve,jp=X,tu=null);break;case"focusout":tu=jp=sl=null;break;case"mousedown":Ip=!0;break;case"contextmenu":case"mouseup":case"dragend":Ip=!1,A1(ae,o,se);break;case"selectionchange":if(_S)break;case"keydown":case"keyup":A1(ae,o,se)}var Oe;if(st)e:{switch(i){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else nl?Wa(i,o)&&(He="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(He="onCompositionStart");He&&(Ci&&o.locale!=="ko"&&(nl||He!=="onCompositionStart"?He==="onCompositionEnd"&&nl&&(Oe=Yc()):(_i=se,Kc="value"in _i?_i.value:_i.textContent,nl=!0)),ve=af(X,He),0<ve.length&&(He=new Ai(He,i,null,o,se),ae.push({event:He,listeners:ve}),Oe?He.data=Oe:(Oe=tl(o),Oe!==null&&(He.data=Oe)))),(Oe=bs?fS(i,o):mS(i,o))&&(He=af(X,"onBeforeInput"),0<He.length&&(ve=new Ai("onBeforeInput","beforeinput",null,o,se),ae.push({event:ve,listeners:He}),ve.data=Oe)),rN(ae,i,X,o,se)}Wb(ae,r)})}function Cu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function af(i,r){for(var o=r+"Capture",d=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Qs(i,o),m!=null&&d.unshift(Cu(i,m,y)),m=Qs(i,r),m!=null&&d.push(Cu(i,m,y))),i.tag===3)return d;i=i.return}return[]}function cN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Jb(i,r,o,d,m){for(var y=r._reactName,w=[];o!==null&&o!==d;){var C=o,F=C.alternate,X=C.stateNode;if(C=C.tag,F!==null&&F===d)break;C!==5&&C!==26&&C!==27||X===null||(F=X,m?(X=Qs(o,y),X!=null&&w.unshift(Cu(o,X,F))):m||(X=Qs(o,y),X!=null&&w.push(Cu(o,X,F)))),o=o.return}w.length!==0&&i.push({event:r,listeners:w})}var uN=/\r\n?/g,dN=/\u0000|\uFFFD/g;function ew(i){return(typeof i=="string"?i:""+i).replace(uN,`
`).replace(dN,"")}function tw(i,r){return r=ew(r),ew(i)===r}function ft(i,r,o,d,m,y){switch(o){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||qn(i,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&qn(i,""+d);break;case"className":ns(i,"class",d);break;case"tabIndex":ns(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ns(i,o,d);break;case"style":$c(i,d,y);break;case"data":if(r!=="object"){ns(i,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(o);break}d=Xo(""+d),i.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&ft(i,r,"name",m.name,m,null),ft(i,r,"formEncType",m.formEncType,m,null),ft(i,r,"formMethod",m.formMethod,m,null),ft(i,r,"formTarget",m.formTarget,m,null)):(ft(i,r,"encType",m.encType,m,null),ft(i,r,"method",m.method,m,null),ft(i,r,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(o);break}d=Xo(""+d),i.setAttribute(o,d);break;case"onClick":d!=null&&(i.onclick=Ys);break;case"onScroll":d!=null&&ze("scroll",i);break;case"onScrollEnd":d!=null&&ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(o=d.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}o=Xo(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(o,""+d):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":d===!0?i.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(o,d):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(o,d):i.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(o):i.setAttribute(o,d);break;case"popover":ze("beforetoggle",i),ze("toggle",i),Ko(i,"popover",d);break;case"xlinkActuate":Yt(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Yt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Yt(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Yt(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Yt(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Yt(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ko(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=rh.get(o)||o,Ko(i,o,d))}}function t0(i,r,o,d,m,y){switch(o){case"style":$c(i,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(o=d.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof d=="string"?qn(i,d):(typeof d=="number"||typeof d=="bigint")&&qn(i,""+d);break;case"onScroll":d!=null&&ze("scroll",i);break;case"onScrollEnd":d!=null&&ze("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Ys);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),y=i[ln]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(r,y,m),typeof d=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,d,m);break e}o in i?i[o]=d:d===!0?i.setAttribute(o,""):Ko(i,o,d)}}}function bn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",i),ze("load",i);var d=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ft(i,r,y,w,o,null)}}m&&ft(i,r,"srcSet",o.srcSet,o,null),d&&ft(i,r,"src",o.src,o,null);return;case"input":ze("invalid",i);var C=y=w=m=null,F=null,X=null;for(d in o)if(o.hasOwnProperty(d)){var se=o[d];if(se!=null)switch(d){case"name":m=se;break;case"type":w=se;break;case"checked":F=se;break;case"defaultChecked":X=se;break;case"value":y=se;break;case"defaultValue":C=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,r));break;default:ft(i,r,d,se,o,null)}}nh(i,y,C,F,X,w,m,!1);return;case"select":ze("invalid",i),d=w=y=null;for(m in o)if(o.hasOwnProperty(m)&&(C=o[m],C!=null))switch(m){case"value":y=C;break;case"defaultValue":w=C;break;case"multiple":d=C;default:ft(i,r,m,C,o,null)}r=y,o=w,i.multiple=!!d,r!=null?Dr(i,!!d,r,!1):o!=null&&Dr(i,!!d,o,!0);return;case"textarea":ze("invalid",i),y=m=d=null;for(w in o)if(o.hasOwnProperty(w)&&(C=o[w],C!=null))switch(w){case"value":d=C;break;case"defaultValue":m=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:ft(i,r,w,C,o,null)}Mr(i,d,m,y);return;case"option":for(F in o)if(o.hasOwnProperty(F)&&(d=o[F],d!=null))switch(F){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ft(i,r,F,d,o,null)}return;case"dialog":ze("beforetoggle",i),ze("toggle",i),ze("cancel",i),ze("close",i);break;case"iframe":case"object":ze("load",i);break;case"video":case"audio":for(d=0;d<Au.length;d++)ze(Au[d],i);break;case"image":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"embed":case"source":case"link":ze("error",i),ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(d=o[X],d!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ft(i,r,X,d,o,null)}return;default:if(Qo(r)){for(se in o)o.hasOwnProperty(se)&&(d=o[se],d!==void 0&&t0(i,r,se,d,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(d=o[C],d!=null&&ft(i,r,C,d,o,null))}function hN(i,r,o,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,w=null,C=null,F=null,X=null,se=null;for(ee in o){var ae=o[ee];if(o.hasOwnProperty(ee)&&ae!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":F=ae;default:d.hasOwnProperty(ee)||ft(i,r,ee,null,d,ae)}}for(var W in d){var ee=d[W];if(ae=o[W],d.hasOwnProperty(W)&&(ee!=null||ae!=null))switch(W){case"type":y=ee;break;case"name":m=ee;break;case"checked":X=ee;break;case"defaultChecked":se=ee;break;case"value":w=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:ee!==ae&&ft(i,r,W,ee,d,ae)}}Yo(i,w,C,F,X,se,y,m);return;case"select":ee=w=C=W=null;for(y in o)if(F=o[y],o.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":ee=F;default:d.hasOwnProperty(y)||ft(i,r,y,null,d,F)}for(m in d)if(y=d[m],F=o[m],d.hasOwnProperty(m)&&(y!=null||F!=null))switch(m){case"value":W=y;break;case"defaultValue":C=y;break;case"multiple":w=y;default:y!==F&&ft(i,r,m,y,d,F)}r=C,o=w,d=ee,W!=null?Dr(i,!!o,W,!1):!!d!=!!o&&(r!=null?Dr(i,!!o,r,!0):Dr(i,!!o,o?[]:"",!1));return;case"textarea":ee=W=null;for(C in o)if(m=o[C],o.hasOwnProperty(C)&&m!=null&&!d.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ft(i,r,C,null,d,m)}for(w in d)if(m=d[w],y=o[w],d.hasOwnProperty(w)&&(m!=null||y!=null))switch(w){case"value":W=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&ft(i,r,w,m,d,y)}sh(i,W,ee);return;case"option":for(var ye in o)if(W=o[ye],o.hasOwnProperty(ye)&&W!=null&&!d.hasOwnProperty(ye))switch(ye){case"selected":i.selected=!1;break;default:ft(i,r,ye,null,d,W)}for(F in d)if(W=d[F],ee=o[F],d.hasOwnProperty(F)&&W!==ee&&(W!=null||ee!=null))switch(F){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:ft(i,r,F,W,d,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)W=o[Ae],o.hasOwnProperty(Ae)&&W!=null&&!d.hasOwnProperty(Ae)&&ft(i,r,Ae,null,d,W);for(X in d)if(W=d[X],ee=o[X],d.hasOwnProperty(X)&&W!==ee&&(W!=null||ee!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:ft(i,r,X,W,d,ee)}return;default:if(Qo(r)){for(var mt in o)W=o[mt],o.hasOwnProperty(mt)&&W!==void 0&&!d.hasOwnProperty(mt)&&t0(i,r,mt,void 0,d,W);for(se in d)W=d[se],ee=o[se],!d.hasOwnProperty(se)||W===ee||W===void 0&&ee===void 0||t0(i,r,se,W,d,ee);return}}for(var K in o)W=o[K],o.hasOwnProperty(K)&&W!=null&&!d.hasOwnProperty(K)&&ft(i,r,K,null,d,W);for(ae in d)W=d[ae],ee=o[ae],!d.hasOwnProperty(ae)||W===ee||W==null&&ee==null||ft(i,r,ae,W,d,ee)}function nw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),d=0;d<o.length;d++){var m=o[d],y=m.transferSize,w=m.initiatorType,C=m.duration;if(y&&C&&nw(w)){for(w=0,C=m.responseEnd,d+=1;d<o.length;d++){var F=o[d],X=F.startTime;if(X>C)break;var se=F.transferSize,ae=F.initiatorType;se&&nw(ae)&&(F=F.responseEnd,w+=se*(F<C?1:(C-X)/(F-X)))}if(--d,r+=8*(y+w)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var n0=null,s0=null;function of(i){return i.nodeType===9?i:i.ownerDocument}function sw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iw(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function i0(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var r0=null;function mN(){var i=window.event;return i&&i.type==="popstate"?i===r0?!1:(r0=i,!0):(r0=null,!1)}var rw=typeof setTimeout=="function"?setTimeout:void 0,pN=typeof clearTimeout=="function"?clearTimeout:void 0,aw=typeof Promise=="function"?Promise:void 0,gN=typeof queueMicrotask=="function"?queueMicrotask:typeof aw<"u"?function(i){return aw.resolve(null).then(i).catch(yN)}:rw;function yN(i){setTimeout(function(){throw i})}function sa(i){return i==="head"}function ow(i,r){var o=r,d=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(d===0){i.removeChild(m),Il(r);return}d--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")d++;else if(o==="html")Su(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Su(o);for(var y=o.firstChild;y;){var w=y.nextSibling,C=y.nodeName;y[pi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=w}}else o==="body"&&Su(i.ownerDocument.body);o=m}while(o);Il(r)}function lw(i,r){var o=i;i=0;do{var d=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=d}while(o)}function a0(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":a0(o),Go(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function xN(i,r,o,d){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[pi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Ss(i.nextSibling),i===null)break}return null}function vN(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ss(i.nextSibling),i===null))return null;return i}function cw(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Ss(i.nextSibling),i===null))return null;return i}function o0(i){return i.data==="$?"||i.data==="$~"}function l0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function bN(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var d=function(){r(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function Ss(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var c0=null;function uw(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Ss(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function dw(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function hw(i,r,o){switch(r=of(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Su(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Go(i)}var Ns=new Map,fw=new Set;function lf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var dr=ce.d;ce.d={f:wN,r:_N,D:EN,C:TN,L:AN,m:CN,X:NN,S:SN,M:jN};function wN(){var i=dr.f(),r=Zh();return i||r}function _N(i){var r=ys(i);r!==null&&r.tag===5&&r.type==="form"?Iv(r):dr.r(i)}var Sl=typeof document>"u"?null:document;function mw(i,r,o){var d=Sl;if(d&&typeof r=="string"&&r){var m=Hn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),fw.has(m)||(fw.add(m),i={rel:i,crossOrigin:o,href:r},d.querySelector(m)===null&&(r=d.createElement("link"),bn(r,"link",i),Kt(r),d.head.appendChild(r)))}}function EN(i){dr.D(i),mw("dns-prefetch",i,null)}function TN(i,r){dr.C(i,r),mw("preconnect",i,r)}function AN(i,r,o){dr.L(i,r,o);var d=Sl;if(d&&i&&r){var m='link[rel="preload"][as="'+Hn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Hn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Hn(o.imageSizes)+'"]')):m+='[href="'+Hn(i)+'"]';var y=m;switch(r){case"style":y=Nl(i);break;case"script":y=jl(i)}Ns.has(y)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Ns.set(y,i),d.querySelector(m)!==null||r==="style"&&d.querySelector(Nu(y))||r==="script"&&d.querySelector(ju(y))||(r=d.createElement("link"),bn(r,"link",i),Kt(r),d.head.appendChild(r)))}}function CN(i,r){dr.m(i,r);var o=Sl;if(o&&i){var d=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Hn(d)+'"][href="'+Hn(i)+'"]',y=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=jl(i)}if(!Ns.has(y)&&(i=v({rel:"modulepreload",href:i},r),Ns.set(y,i),o.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ju(y)))return}d=o.createElement("link"),bn(d,"link",i),Kt(d),o.head.appendChild(d)}}}function SN(i,r,o){dr.S(i,r,o);var d=Sl;if(d&&i){var m=yi(d).hoistableStyles,y=Nl(i);r=r||"default";var w=m.get(y);if(!w){var C={loading:0,preload:null};if(w=d.querySelector(Nu(y)))C.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Ns.get(y))&&u0(i,o);var F=w=d.createElement("link");Kt(F),bn(F,"link",i),F._p=new Promise(function(X,se){F.onload=X,F.onerror=se}),F.addEventListener("load",function(){C.loading|=1}),F.addEventListener("error",function(){C.loading|=2}),C.loading|=4,cf(w,r,d)}w={type:"stylesheet",instance:w,count:1,state:C},m.set(y,w)}}}function NN(i,r){dr.X(i,r);var o=Sl;if(o&&i){var d=yi(o).hoistableScripts,m=jl(i),y=d.get(m);y||(y=o.querySelector(ju(m)),y||(i=v({src:i,async:!0},r),(r=Ns.get(m))&&d0(i,r),y=o.createElement("script"),Kt(y),bn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function jN(i,r){dr.M(i,r);var o=Sl;if(o&&i){var d=yi(o).hoistableScripts,m=jl(i),y=d.get(m);y||(y=o.querySelector(ju(m)),y||(i=v({src:i,async:!0,type:"module"},r),(r=Ns.get(m))&&d0(i,r),y=o.createElement("script"),Kt(y),bn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function pw(i,r,o,d){var m=(m=Me.current)?lf(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Nl(o.href),o=yi(m).hoistableStyles,d=o.get(r),d||(d={type:"style",instance:null,count:0,state:null},o.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Nl(o.href);var y=yi(m).hoistableStyles,w=y.get(i);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,w),(y=m.querySelector(Nu(i)))&&!y._p&&(w.instance=y,w.state.loading=5),Ns.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ns.set(i,o),y||IN(m,i,o,w.state))),r&&d===null)throw Error(s(528,""));return w}if(r&&d!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=jl(o),o=yi(m).hoistableScripts,d=o.get(r),d||(d={type:"script",instance:null,count:0,state:null},o.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Nl(i){return'href="'+Hn(i)+'"'}function Nu(i){return'link[rel="stylesheet"]['+i+"]"}function gw(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function IN(i,r,o,d){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=i.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),bn(r,"link",o),Kt(r),i.head.appendChild(r))}function jl(i){return'[src="'+Hn(i)+'"]'}function ju(i){return"script[async]"+i}function yw(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var d=i.querySelector('style[data-href~="'+Hn(o.href)+'"]');if(d)return r.instance=d,Kt(d),d;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Kt(d),bn(d,"style",m),cf(d,o.precedence,i),r.instance=d;case"stylesheet":m=Nl(o.href);var y=i.querySelector(Nu(m));if(y)return r.state.loading|=4,r.instance=y,Kt(y),y;d=gw(o),(m=Ns.get(m))&&u0(d,m),y=(i.ownerDocument||i).createElement("link"),Kt(y);var w=y;return w._p=new Promise(function(C,F){w.onload=C,w.onerror=F}),bn(y,"link",d),r.state.loading|=4,cf(y,o.precedence,i),r.instance=y;case"script":return y=jl(o.src),(m=i.querySelector(ju(y)))?(r.instance=m,Kt(m),m):(d=o,(m=Ns.get(y))&&(d=v({},o),d0(d,m)),i=i.ownerDocument||i,m=i.createElement("script"),Kt(m),bn(m,"link",d),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,cf(d,o.precedence,i));return r.instance}function cf(i,r,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,y=m,w=0;w<d.length;w++){var C=d[w];if(C.dataset.precedence===r)y=C;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function u0(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function d0(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var uf=null;function xw(i,r,o){if(uf===null){var d=new Map,m=uf=new Map;m.set(o,d)}else m=uf,d=m.get(o),d||(d=new Map,m.set(o,d));if(d.has(i))return d;for(d.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var y=o[m];if(!(y[pi]||y[Gt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(r)||"";w=i+w;var C=d.get(w);C?C.push(y):d.set(w,[y])}}return d}function vw(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function RN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function bw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function kN(i,r,o,d){if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Nl(d.href),y=r.querySelector(Nu(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=df.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=y,Kt(y);return}y=r.ownerDocument||r,d=gw(d),(m=Ns.get(m))&&u0(d,m),y=y.createElement("link"),Kt(y);var w=y;w._p=new Promise(function(C,F){w.onload=C,w.onerror=F}),bn(y,"link",d),o.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=df.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var h0=0;function DN(i,r){return i.stylesheets&&i.count===0&&ff(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var d=setTimeout(function(){if(i.stylesheets&&ff(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+r);0<i.imgBytes&&h0===0&&(h0=62500*fN());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ff(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>h0?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(d),clearTimeout(m)}}:null}function df(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ff(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var hf=null;function ff(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,hf=new Map,r.forEach(MN,i),hf=null,df.call(i))}function MN(i,r){if(!(r.state.loading&4)){var o=hf.get(i);if(o)var d=o.get(null);else{o=new Map,hf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var w=m[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),d=w)}d&&o.set(null,d)}m=r.instance,w=m.getAttribute("data-precedence"),y=o.get(w)||d,y===d&&o.set(null,m),o.set(w,m),this.count++,d=df.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var Iu={$$typeof:I,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function PN(i,r,o,d,m,y,w,C,F){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function ww(i,r,o,d,m,y,w,C,F,X,se,ae){return i=new PN(i,r,o,w,F,X,se,ae,C),r=1,y===!0&&(r|=24),y=is(3,null,null,r),i.current=y,y.stateNode=i,r=$p(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:d,isDehydrated:o,cache:r},Qp(y),i}function _w(i){return i?(i=al,i):al}function Ew(i,r,o,d,m,y){m=_w(m),d.context===null?d.context=m:d.pendingContext=m,d=Gr(r),d.payload={element:o},y=y===void 0?null:y,y!==null&&(d.callback=y),o=Kr(i,d,r),o!==null&&(Qn(o,i,r),lu(o,i,r))}function Tw(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function f0(i,r){Tw(i,r),(i=i.alternate)&&Tw(i,r)}function Aw(i){if(i.tag===13||i.tag===31){var r=eo(i,67108864);r!==null&&Qn(r,i,67108864),f0(i,67108864)}}function Cw(i){if(i.tag===13||i.tag===31){var r=cs();r=Fa(r);var o=eo(i,r);o!==null&&Qn(o,i,r),f0(i,r)}}var mf=!0;function VN(i,r,o,d){var m=te.T;te.T=null;var y=ce.p;try{ce.p=2,m0(i,r,o,d)}finally{ce.p=y,te.T=m}}function ON(i,r,o,d){var m=te.T;te.T=null;var y=ce.p;try{ce.p=8,m0(i,r,o,d)}finally{ce.p=y,te.T=m}}function m0(i,r,o,d){if(mf){var m=p0(d);if(m===null)e0(i,r,d,pf,o),Nw(i,d);else if(BN(m,i,r,o,d))d.stopPropagation();else if(Nw(i,d),r&4&&-1<LN.indexOf(i)){for(;m!==null;){var y=ys(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=di(y.pendingLanes);if(w!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var F=1<<31-Mt(w);C.entanglements[1]|=F,w&=~F}Ii(y),(it&6)===0&&(Xh=Mn()+500,Tu(0))}}break;case 31:case 13:C=eo(y,2),C!==null&&Qn(C,y,2),Zh(),f0(y,2)}if(y=p0(d),y===null&&e0(i,r,d,pf,o),y===m)break;m=y}m!==null&&d.stopPropagation()}else e0(i,r,d,null,o)}}function p0(i){return i=xs(i),g0(i)}var pf=null;function g0(i){if(pf=null,i=gi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return pf=i,null}function Sw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(La()){case Dc:return 2;case Mc:return 8;case Rr:case _p:return 32;case Gd:return 268435456;default:return 32}default:return 32}}var y0=!1,ia=null,ra=null,aa=null,Ru=new Map,ku=new Map,oa=[],LN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nw(i,r){switch(i){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":Ru.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(r.pointerId)}}function Du(i,r,o,d,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:o,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},r!==null&&(r=ys(r),r!==null&&Aw(r)),i):(i.eventSystemFlags|=d,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function BN(i,r,o,d,m){switch(r){case"focusin":return ia=Du(ia,i,r,o,d,m),!0;case"dragenter":return ra=Du(ra,i,r,o,d,m),!0;case"mouseover":return aa=Du(aa,i,r,o,d,m),!0;case"pointerover":var y=m.pointerId;return Ru.set(y,Du(Ru.get(y)||null,i,r,o,d,m)),!0;case"gotpointercapture":return y=m.pointerId,ku.set(y,Du(ku.get(y)||null,i,r,o,d,m)),!0}return!1}function jw(i){var r=gi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Gs(i.priority,function(){Cw(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,Gs(i.priority,function(){Cw(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function gf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=p0(i.nativeEvent);if(o===null){o=i.nativeEvent;var d=new o.constructor(o.type,o);Gc=d,o.target.dispatchEvent(d),Gc=null}else return r=ys(o),r!==null&&Aw(r),i.blockedOn=o,!1;r.shift()}return!0}function Iw(i,r,o){gf(i)&&o.delete(r)}function zN(){y0=!1,ia!==null&&gf(ia)&&(ia=null),ra!==null&&gf(ra)&&(ra=null),aa!==null&&gf(aa)&&(aa=null),Ru.forEach(Iw),ku.forEach(Iw)}function yf(i,r){i.blockedOn===r&&(i.blockedOn=null,y0||(y0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zN)))}var xf=null;function Rw(i){xf!==i&&(xf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){xf===i&&(xf=null);for(var r=0;r<i.length;r+=3){var o=i[r],d=i[r+1],m=i[r+2];if(typeof d!="function"){if(g0(d||o)===null)continue;break}var y=ys(o);y!==null&&(i.splice(r,3),r-=3,pg(y,{pending:!0,data:m,method:o.method,action:d},d,m))}}))}function Il(i){function r(F){return yf(F,i)}ia!==null&&yf(ia,i),ra!==null&&yf(ra,i),aa!==null&&yf(aa,i),Ru.forEach(r),ku.forEach(r);for(var o=0;o<oa.length;o++){var d=oa[o];d.blockedOn===i&&(d.blockedOn=null)}for(;0<oa.length&&(o=oa[0],o.blockedOn===null);)jw(o),o.blockedOn===null&&oa.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var m=o[d],y=o[d+1],w=m[ln]||null;if(typeof y=="function")w||Rw(o);else if(w){var C=null;if(y&&y.hasAttribute("formAction")){if(m=y,w=y[ln]||null)C=w.formAction;else if(g0(m)!==null)continue}else C=w.action;typeof C=="function"?o[d+1]=C:(o.splice(d,3),d-=3),Rw(o)}}}function kw(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),d||setTimeout(o,20)}function o(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){d=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function x0(i){this._internalRoot=i}vf.prototype.render=x0.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,d=cs();Ew(o,d,i,r,null,null)},vf.prototype.unmount=x0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Ew(i.current,2,null,i,null,null),Zh(),r[mi]=null}};function vf(i){this._internalRoot=i}vf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Zd();i={blockedOn:null,target:i,priority:r};for(var o=0;o<oa.length&&r!==0&&r<oa[o].priority;o++);oa.splice(o,0,i),o===0&&jw(i)}};var Dw=e.version;if(Dw!=="19.2.0")throw Error(s(527,Dw,"19.2.0"));ce.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?x(i):null,i=i===null?null:i.stateNode,i};var UN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bf.isDisabled&&bf.supportsFiber)try{qs=bf.inject(UN),pn=bf}catch{}}return Pu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,d="",m=zv,y=Uv,w=Fv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=ww(i,1,!1,null,null,o,d,null,m,y,w,kw),i[mi]=r.current,Jg(i),new x0(r)},Pu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var d=!1,m="",y=zv,w=Uv,C=Fv,F=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(F=o.formState)),r=ww(i,1,!0,r,o??null,d,m,F,y,w,C,kw),r.context=_w(null),o=r.current,d=cs(),d=Fa(d),m=Gr(d),m.callback=null,Kr(o,m,d),o=d,r.current.lanes=o,za(r,o),Ii(r),i[mi]=r.current,Jg(i),new vf(r)},Pu.version="19.2.0",Pu}var Hw;function ZN(){if(Hw)return w0.exports;Hw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),w0.exports=WN(),w0.exports}var JN=ZN();var qw="popstate";function ej(t={}){function e(s,a){let{pathname:l,search:u,hash:h}=s.location;return ly("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:nd(a)}return nj(e,n,null,t)}function St(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tj(){return Math.random().toString(36).substring(2,10)}function $w(t,e){return{usr:t.state,key:t.key,idx:e}}function ly(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?uc(e):e,state:n,key:e&&e.key||s||tj()}}function nd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function uc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function nj(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,h="POP",g=null,p=x();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function x(){return(u.state||{idx:null}).idx}function v(){h="POP";let k=x(),L=k==null?null:k-p;p=k,g&&g({action:h,location:M.location,delta:L})}function _(k,L){h="PUSH";let B=ly(M.location,k,L);p=x()+1;let I=$w(B,p),D=M.createHref(B);try{u.pushState(I,"",D)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(D)}l&&g&&g({action:h,location:M.location,delta:1})}function A(k,L){h="REPLACE";let B=ly(M.location,k,L);p=x();let I=$w(B,p),D=M.createHref(B);u.replaceState(I,"",D),l&&g&&g({action:h,location:M.location,delta:0})}function V(k){return sj(k)}let M={get action(){return h},get location(){return t(a,u)},listen(k){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(qw,v),g=k,()=>{a.removeEventListener(qw,v),g=null}},createHref(k){return e(a,k)},createURL:V,encodeLocation(k){let L=V(k);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:_,replace:A,go(k){return u.go(k)}};return M}function sj(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),St(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:nd(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function g_(t,e,n="/"){return ij(t,e,n,!1)}function ij(t,e,n,s){let a=typeof e=="string"?uc(e):e,l=br(a.pathname||"/",n);if(l==null)return null;let u=y_(t);rj(u);let h=null;for(let g=0;h==null&&g<u.length;++g){let p=gj(l);h=mj(u[g],p,s)}return h}function y_(t,e=[],n=[],s="",a=!1){let l=(u,h,g=a,p)=>{let x={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&g)return;St(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let v=pr([s,x.relativePath]),_=n.concat(x);u.children&&u.children.length>0&&(St(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),y_(u.children,e,_,v,g)),!(u.path==null&&!u.index)&&e.push({path:v,score:hj(v,u.index),routesMeta:_})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let g of x_(u.path))l(u,h,!0,g)}),e}function x_(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=x_(s.join("/")),h=[];return h.push(...u.map(g=>g===""?l:[l,g].join("/"))),a&&h.push(...u),h.map(g=>t.startsWith("/")&&g===""?"/":g)}function rj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fj(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var aj=/^:[\w-]+$/,oj=3,lj=2,cj=1,uj=10,dj=-2,Gw=t=>t==="*";function hj(t,e){let n=t.split("/"),s=n.length;return n.some(Gw)&&(s+=dj),e&&(s+=lj),n.filter(a=>!Gw(a)).reduce((a,l)=>a+(aj.test(l)?oj:l===""?cj:uj),s)}function fj(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function mj(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let h=0;h<s.length;++h){let g=s[h],p=h===s.length-1,x=l==="/"?e:e.slice(l.length)||"/",v=Xf({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},x),_=g.route;if(!v&&p&&n&&!s[s.length-1].route.index&&(v=Xf({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:pr([l,v.pathname]),pathnameBase:wj(pr([l,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(l=pr([l,v.pathnameBase]))}return u}function Xf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=pj(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((p,{paramName:x,isOptional:v},_)=>{if(x==="*"){let V=h[_]||"";u=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const A=h[_];return v&&!A?p[x]=void 0:p[x]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function pj(t,e=!1,n=!0){Bs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,g)=>(s.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function gj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function br(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var yj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xj=t=>yj.test(t);function vj(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?uc(t):t,l;if(n)if(xj(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Bs(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=Kw(n.substring(1),"/"):l=Kw(n,e)}else l=e;return{pathname:l,search:_j(s),hash:Ej(a)}}function Kw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function A0(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function v_(t){let e=bj(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function b_(t,e,n,s=!1){let a;typeof t=="string"?a=uc(t):(a={...t},St(!a.pathname||!a.pathname.includes("?"),A0("?","pathname","search",a)),St(!a.pathname||!a.pathname.includes("#"),A0("#","pathname","hash",a)),St(!a.search||!a.search.includes("#"),A0("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!s&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),v-=1;a.pathname=_.join("/")}h=v>=0?e[v]:"/"}let g=vj(a,h),p=u&&u!=="/"&&u.endsWith("/"),x=(l||u===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||x)&&(g.pathname+="/"),g}var pr=t=>t.join("/").replace(/\/\/+/g,"/"),wj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_j=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ej=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Tj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var w_=["POST","PUT","PATCH","DELETE"];new Set(w_);var Aj=["GET",...w_];new Set(Aj);var dc=j.createContext(null);dc.displayName="DataRouter";var Om=j.createContext(null);Om.displayName="DataRouterState";j.createContext(!1);var __=j.createContext({isTransitioning:!1});__.displayName="ViewTransition";var Cj=j.createContext(new Map);Cj.displayName="Fetchers";var Sj=j.createContext(null);Sj.displayName="Await";var qi=j.createContext(null);qi.displayName="Navigation";var vd=j.createContext(null);vd.displayName="Location";var $i=j.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var hx=j.createContext(null);hx.displayName="RouteError";function Nj(t,{relative:e}={}){St(bd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(qi),{hash:a,pathname:l,search:u}=wd(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:pr([n,l])),s.createHref({pathname:h,search:u,hash:a})}function bd(){return j.useContext(vd)!=null}function Nr(){return St(bd(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(vd).location}var E_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T_(t){j.useContext(qi).static||j.useLayoutEffect(t)}function Dt(){let{isDataRoute:t}=j.useContext($i);return t?Fj():jj()}function jj(){St(bd(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(dc),{basename:e,navigator:n}=j.useContext(qi),{matches:s}=j.useContext($i),{pathname:a}=Nr(),l=JSON.stringify(v_(s)),u=j.useRef(!1);return T_(()=>{u.current=!0}),j.useCallback((g,p={})=>{if(Bs(u.current,E_),!u.current)return;if(typeof g=="number"){n.go(g);return}let x=b_(g,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:pr([e,x.pathname])),(p.replace?n.replace:n.push)(x,p.state,p)},[e,n,l,a,t])}j.createContext(null);function Ij(){let{matches:t}=j.useContext($i),e=t[t.length-1];return e?e.params:{}}function wd(t,{relative:e}={}){let{matches:n}=j.useContext($i),{pathname:s}=Nr(),a=JSON.stringify(v_(n));return j.useMemo(()=>b_(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function Rj(t,e){return A_(t,e)}function A_(t,e,n,s,a){St(bd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(qi),{matches:u}=j.useContext($i),h=u[u.length-1],g=h?h.params:{},p=h?h.pathname:"/",x=h?h.pathnameBase:"/",v=h&&h.route;{let B=v&&v.path||"";C_(p,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let _=Nr(),A;if(e){let B=typeof e=="string"?uc(e):e;St(x==="/"||B.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${B.pathname}" was given in the \`location\` prop.`),A=B}else A=_;let V=A.pathname||"/",M=V;if(x!=="/"){let B=x.replace(/^\//,"").split("/");M="/"+V.replace(/^\//,"").split("/").slice(B.length).join("/")}let k=g_(t,{pathname:M});Bs(v||k!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Bs(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=Vj(k&&k.map(B=>Object.assign({},B,{params:Object.assign({},g,B.params),pathname:pr([x,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?x:pr([x,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),u,n,s,a);return e&&L?j.createElement(vd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},L):L}function kj(){let t=Uj(),e=Tj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:a},n):null,u)}var Dj=j.createElement(kj,null),Mj=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?j.createElement($i.Provider,{value:this.props.routeContext},j.createElement(hx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Pj({routeContext:t,match:e,children:n}){let s=j.useContext(dc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement($i.Provider,{value:t},n)}function Vj(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let x=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);St(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,x+1))}let h=!1,g=-1;if(n)for(let x=0;x<l.length;x++){let v=l[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=x),v.route.id){let{loaderData:_,errors:A}=n,V=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||V){h=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}let p=n&&s?(x,v)=>{s(x,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:v})}:void 0;return l.reduceRight((x,v,_)=>{let A,V=!1,M=null,k=null;n&&(A=u&&v.route.id?u[v.route.id]:void 0,M=v.route.errorElement||Dj,h&&(g<0&&_===0?(C_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,k=null):g===_&&(V=!0,k=v.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,_+1)),B=()=>{let I;return A?I=M:V?I=k:v.route.Component?I=j.createElement(v.route.Component,null):v.route.element?I=v.route.element:I=x,j.createElement(Pj,{match:v,routeContext:{outlet:x,matches:L,isDataRoute:n!=null},children:I})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?j.createElement(Mj,{location:n.location,revalidation:n.revalidation,component:M,error:A,children:B(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:p}):B()},null)}function fx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Oj(t){let e=j.useContext(dc);return St(e,fx(t)),e}function Lj(t){let e=j.useContext(Om);return St(e,fx(t)),e}function Bj(t){let e=j.useContext($i);return St(e,fx(t)),e}function mx(t){let e=Bj(t),n=e.matches[e.matches.length-1];return St(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function zj(){return mx("useRouteId")}function Uj(){let t=j.useContext(hx),e=Lj("useRouteError"),n=mx("useRouteError");return t!==void 0?t:e.errors?.[n]}function Fj(){let{router:t}=Oj("useNavigate"),e=mx("useNavigate"),n=j.useRef(!1);return T_(()=>{n.current=!0}),j.useCallback(async(a,l={})=>{Bs(n.current,E_),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Yw={};function C_(t,e,n){!e&&!Yw[t]&&(Yw[t]=!0,Bs(!1,n))}j.memo(Hj);function Hj({routes:t,future:e,state:n,unstable_onError:s}){return A_(t,void 0,n,s,e)}function gt(t){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qj({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){St(!bd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=uc(n));let{pathname:g="/",search:p="",hash:x="",state:v=null,key:_="default"}=n,A=j.useMemo(()=>{let V=br(g,u);return V==null?null:{location:{pathname:V,search:p,hash:x,state:v,key:_},navigationType:s}},[u,g,p,x,v,_,s]);return Bs(A!=null,`<Router basename="${u}"> is not able to match the URL "${g}${p}${x}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:j.createElement(qi.Provider,{value:h},j.createElement(vd.Provider,{children:e,value:A}))}function $j({children:t,location:e}){return Rj(cy(t),e)}function cy(t,e=[]){let n=[];return j.Children.forEach(t,(s,a)=>{if(!j.isValidElement(s))return;let l=[...e,a];if(s.type===j.Fragment){n.push.apply(n,cy(s.props.children,l));return}St(s.type===gt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=cy(s.props.children,l)),n.push(u)}),n}var Df="get",Mf="application/x-www-form-urlencoded";function Lm(t){return t!=null&&typeof t.tagName=="string"}function Gj(t){return Lm(t)&&t.tagName.toLowerCase()==="button"}function Kj(t){return Lm(t)&&t.tagName.toLowerCase()==="form"}function Yj(t){return Lm(t)&&t.tagName.toLowerCase()==="input"}function Qj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Xj(t,e){return t.button===0&&(!e||e==="_self")&&!Qj(t)}function uy(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function Wj(t,e){let n=uy(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var wf=null;function Zj(){if(wf===null)try{new FormData(document.createElement("form"),0),wf=!1}catch{wf=!0}return wf}var Jj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function C0(t){return t!=null&&!Jj.has(t)?(Bs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mf}"`),null):t}function e8(t,e){let n,s,a,l,u;if(Kj(t)){let h=t.getAttribute("action");s=h?br(h,e):null,n=t.getAttribute("method")||Df,a=C0(t.getAttribute("enctype"))||Mf,l=new FormData(t)}else if(Gj(t)||Yj(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||h.getAttribute("action");if(s=g?br(g,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Df,a=C0(t.getAttribute("formenctype"))||C0(h.getAttribute("enctype"))||Mf,l=new FormData(h,t),!Zj()){let{name:p,type:x,value:v}=t;if(x==="image"){let _=p?`${p}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else p&&l.append(p,v)}}else{if(Lm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Df,s=null,a=Mf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function px(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function t8(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&br(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function n8(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function s8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function i8(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await n8(l,n);return u.links?u.links():[]}return[]}));return l8(s.flat(1).filter(s8).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Qw(t,e,n,s,a,l){let u=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,h=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,p)=>u(g,p)||h(g,p)):l==="data"?e.filter((g,p)=>{let x=s.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(u(g,p)||h(g,p))return!0;if(g.route.shouldRevalidate){let v=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function r8(t,e,{includeHydrateFallback:n}={}){return a8(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function a8(t){return[...new Set(t)]}function o8(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function l8(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(o8(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function S_(){let t=j.useContext(dc);return px(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function c8(){let t=j.useContext(Om);return px(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var gx=j.createContext(void 0);gx.displayName="FrameworkContext";function N_(){let t=j.useContext(gx);return px(t,"You must render this element inside a <HydratedRouter> element"),t}function u8(t,e){let n=j.useContext(gx),[s,a]=j.useState(!1),[l,u]=j.useState(!1),{onFocus:h,onBlur:g,onMouseEnter:p,onMouseLeave:x,onTouchStart:v}=e,_=j.useRef(null);j.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let M=L=>{L.forEach(B=>{u(B.isIntersecting)})},k=new IntersectionObserver(M,{threshold:.5});return _.current&&k.observe(_.current),()=>{k.disconnect()}}},[t]),j.useEffect(()=>{if(s){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[s]);let A=()=>{a(!0)},V=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:Vu(h,A),onBlur:Vu(g,V),onMouseEnter:Vu(p,A),onMouseLeave:Vu(x,V),onTouchStart:Vu(v,A)}]:[!1,_,{}]}function Vu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function d8({page:t,...e}){let{router:n}=S_(),s=j.useMemo(()=>g_(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?j.createElement(f8,{page:t,matches:s,...e}):null}function h8(t){let{manifest:e,routeModules:n}=N_(),[s,a]=j.useState([]);return j.useEffect(()=>{let l=!1;return i8(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function f8({page:t,matches:e,...n}){let s=Nr(),{manifest:a,routeModules:l}=N_(),{basename:u}=S_(),{loaderData:h,matches:g}=c8(),p=j.useMemo(()=>Qw(t,e,g,a,s,"data"),[t,e,g,a,s]),x=j.useMemo(()=>Qw(t,e,g,a,s,"assets"),[t,e,g,a,s]),v=j.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let V=new Set,M=!1;if(e.forEach(L=>{let B=a.routes[L.route.id];!B||!B.hasLoader||(!p.some(I=>I.route.id===L.route.id)&&L.route.id in h&&l[L.route.id]?.shouldRevalidate||B.hasClientLoader?M=!0:V.add(L.route.id))}),V.size===0)return[];let k=t8(t,u,"data");return M&&V.size>0&&k.searchParams.set("_routes",e.filter(L=>V.has(L.route.id)).map(L=>L.route.id).join(",")),[k.pathname+k.search]},[u,h,s,a,p,e,t,l]),_=j.useMemo(()=>r8(x,a),[x,a]),A=h8(x);return j.createElement(j.Fragment,null,v.map(V=>j.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),_.map(V=>j.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),A.map(({key:V,link:M})=>j.createElement("link",{key:V,nonce:n.nonce,...M})))}function m8(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var j_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j_&&(window.__reactRouterVersion="7.9.6")}catch{}function p8({basename:t,children:e,window:n}){let s=j.useRef();s.current==null&&(s.current=ej({window:n,v5Compat:!0}));let a=s.current,[l,u]=j.useState({action:a.action,location:a.location}),h=j.useCallback(g=>{j.startTransition(()=>u(g))},[u]);return j.useLayoutEffect(()=>a.listen(h),[a,h]),j.createElement(qj,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var I_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,en=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:h,target:g,to:p,preventScrollReset:x,viewTransition:v,..._},A){let{basename:V}=j.useContext(qi),M=typeof p=="string"&&I_.test(p),k,L=!1;if(typeof p=="string"&&M&&(k=p,j_))try{let N=new URL(window.location.href),O=p.startsWith("//")?new URL(N.protocol+p):new URL(p),z=br(O.pathname,V);O.origin===N.origin&&z!=null?p=z+O.search+O.hash:L=!0}catch{Bs(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=Nj(p,{relative:a}),[I,D,P]=u8(s,_),H=v8(p,{replace:u,state:h,target:g,preventScrollReset:x,relative:a,viewTransition:v});function S(N){e&&e(N),N.defaultPrevented||H(N)}let T=j.createElement("a",{..._,...P,href:k||B,onClick:L||l?e:S,ref:m8(A,D),target:g,"data-discover":!M&&n==="render"?"true":void 0});return I&&!M?j.createElement(j.Fragment,null,T,j.createElement(d8,{page:B})):T});en.displayName="Link";var g8=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:h,children:g,...p},x){let v=wd(u,{relative:p.relative}),_=Nr(),A=j.useContext(Om),{navigator:V,basename:M}=j.useContext(qi),k=A!=null&&T8(v)&&h===!0,L=V.encodeLocation?V.encodeLocation(v).pathname:v.pathname,B=_.pathname,I=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(B=B.toLowerCase(),I=I?I.toLowerCase():null,L=L.toLowerCase()),I&&M&&(I=br(I,M)||I);const D=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let P=B===L||!a&&B.startsWith(L)&&B.charAt(D)==="/",H=I!=null&&(I===L||!a&&I.startsWith(L)&&I.charAt(L.length)==="/"),S={isActive:P,isPending:H,isTransitioning:k},T=P?e:void 0,N;typeof s=="function"?N=s(S):N=[s,P?"active":null,H?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(S):l;return j.createElement(en,{...p,"aria-current":T,className:N,ref:x,style:O,to:u,viewTransition:h},typeof g=="function"?g(S):g)});g8.displayName="NavLink";var y8=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=Df,action:h,onSubmit:g,relative:p,preventScrollReset:x,viewTransition:v,..._},A)=>{let V=_8(),M=E8(h,{relative:p}),k=u.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&I_.test(h),B=I=>{if(g&&g(I),I.defaultPrevented)return;I.preventDefault();let D=I.nativeEvent.submitter,P=D?.getAttribute("formmethod")||u;V(D||I.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:a,state:l,relative:p,preventScrollReset:x,viewTransition:v})};return j.createElement("form",{ref:A,method:k,action:M,onSubmit:s?g:B,..._,"data-discover":!L&&t==="render"?"true":void 0})});y8.displayName="Form";function x8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R_(t){let e=j.useContext(dc);return St(e,x8(t)),e}function v8(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=Dt(),g=Nr(),p=wd(t,{relative:l});return j.useCallback(x=>{if(Xj(x,e)){x.preventDefault();let v=n!==void 0?n:nd(g)===nd(p);h(t,{replace:v,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[g,h,p,n,s,e,t,a,l,u])}function hc(t){Bs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(uy(t)),n=j.useRef(!1),s=Nr(),a=j.useMemo(()=>Wj(s.search,n.current?null:e.current),[s.search]),l=Dt(),u=j.useCallback((h,g)=>{const p=uy(typeof h=="function"?h(new URLSearchParams(a)):h);n.current=!0,l("?"+p,g)},[l,a]);return[a,u]}var b8=0,w8=()=>`__${String(++b8)}__`;function _8(){let{router:t}=R_("useSubmit"),{basename:e}=j.useContext(qi),n=zj();return j.useCallback(async(s,a={})=>{let{action:l,method:u,encType:h,formData:g,body:p}=e8(s,e);if(a.navigate===!1){let x=a.fetcherKey||w8();await t.fetch(x,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:g,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:g,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function E8(t,{relative:e}={}){let{basename:n}=j.useContext(qi),s=j.useContext($i);St(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...wd(t||".",{relative:e})},u=Nr();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),g=h.getAll("index");if(g.some(x=>x==="")){h.delete("index"),g.filter(v=>v).forEach(v=>h.append("index",v));let x=h.toString();l.search=x?`?${x}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:pr([n,l.pathname])),nd(l)}function T8(t,{relative:e}={}){let n=j.useContext(__);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=R_("useViewTransitionState"),a=wd(t,{relative:e});if(!n.isTransitioning)return!1;let l=br(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=br(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Xf(a.pathname,u)!=null||Xf(a.pathname,l)!=null}const A8=()=>{};var Xw={};const k_=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},C8=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],g=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},D_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,g=a+2<t.length,p=g?t[a+2]:0,x=l>>2,v=(l&3)<<4|h>>4;let _=(h&15)<<2|p>>6,A=p&63;g||(A=64,u||(_=64)),s.push(n[x],n[v],n[_],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(k_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new S8;const _=l<<2|h>>4;if(s.push(_),p!==64){const A=h<<4&240|p>>2;if(s.push(A),v!==64){const V=p<<6&192|v;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class S8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N8=function(t){const e=k_(t);return D_.encodeByteArray(e,!0)},Wf=function(t){return N8(t).replace(/\./g,"")},M_=function(t){try{return D_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function j8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const I8=()=>j8().__FIREBASE_DEFAULTS__,R8=()=>{if(typeof process>"u"||typeof Xw>"u")return;const t=Xw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},k8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M_(t[1]);return e&&JSON.parse(e)},Bm=()=>{try{return A8()||I8()||R8()||k8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},P_=t=>Bm()?.emulatorHosts?.[t],D8=t=>{const e=P_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},V_=()=>Bm()?.config,O_=t=>Bm()?.[`_${t}`];class M8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function fc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function L_(t){return(await fetch(t,{credentials:"include"})).ok}function P8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wf(JSON.stringify(n)),Wf(JSON.stringify(u)),""].join(".")}const $u={};function V8(){const t={prod:[],emulator:[]};for(const e of Object.keys($u))$u[e]?t.emulator.push(e):t.prod.push(e);return t}function O8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ww=!1;function B_(t,e){if(typeof window>"u"||typeof document>"u"||!fc(window.location.host)||$u[t]===e||$u[t]||Ww)return;$u[t]=e;function n(_){return`__firebase__banner__${_}`}const s="__firebase__banner",l=V8().prod.length>0;function u(){const _=document.getElementById(s);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function g(_,A){_.setAttribute("width","24"),_.setAttribute("id",A),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Ww=!0,u()},_}function x(_,A){_.setAttribute("id",A),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=O8(s),A=n("text"),V=document.getElementById(A)||document.createElement("span"),M=n("learnmore"),k=document.getElementById(M)||document.createElement("a"),L=n("preprendIcon"),B=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const I=_.element;h(I),x(k,M);const D=p();g(B,L),I.append(B,V,k,D),document.body.appendChild(I)}l?(V.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function B8(){const t=Bm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z_(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function U8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F8(){const t=Rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function H8(){return!B8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U_(){try{return typeof indexedDB=="object"}catch{return!1}}function F_(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function q8(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const $8="FirebaseError";class li extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=$8,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vo.prototype.create)}}class Vo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?G8(l,s):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new li(a,h,s)}}function G8(t,e){return t.replace(K8,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const K8=/\{\$([^}]+)}/g;function Y8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Zw(l)&&Zw(u)){if(!wr(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Zw(t){return t!==null&&typeof t=="object"}function _d(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Lu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Bu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Q8(t,e){const n=new X8(t,e);return n.subscribe.bind(n)}class X8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");W8(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=S0),a.error===void 0&&(a.error=S0),a.complete===void 0&&(a.complete=S0);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function S0(){}const Z8=1e3,J8=2,eI=14400*1e3,tI=.5;function Jw(t,e=Z8,n=J8){const s=e*Math.pow(n,t),a=Math.round(tI*s*(Math.random()-.5)*2);return Math.min(eI,s+a)}function Ft(t){return t&&t._delegate?t._delegate:t}class ii{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const go="[DEFAULT]";class nI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new M8;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iI(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sI(t){return t===go?void 0:t}function iI(t){return t.instantiationMode==="EAGER"}class rI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const aI={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},oI=qe.INFO,lI={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},cI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=lI[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zm{constructor(e){this.name=e,this._logLevel=oI,this._logHandler=cI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const uI=(t,e)=>e.some(n=>t instanceof n);let e4,t4;function dI(){return e4||(e4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hI(){return t4||(t4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H_=new WeakMap,dy=new WeakMap,q_=new WeakMap,N0=new WeakMap,yx=new WeakMap;function fI(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(va(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&H_.set(n,t)}).catch(()=>{}),yx.set(e,t),e}function mI(t){if(dy.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});dy.set(t,e)}let hy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||q_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return va(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pI(t){hy=t(hy)}function gI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(j0(this),e,...n);return q_.set(s,e.sort?e.sort():[e]),va(s)}:hI().includes(t)?function(...e){return t.apply(j0(this),e),va(H_.get(this))}:function(...e){return va(t.apply(j0(this),e))}}function yI(t){return typeof t=="function"?gI(t):(t instanceof IDBTransaction&&mI(t),uI(t,dI())?new Proxy(t,hy):t)}function va(t){if(t instanceof IDBRequest)return fI(t);if(N0.has(t))return N0.get(t);const e=yI(t);return e!==t&&(N0.set(t,e),yx.set(e,t)),e}const j0=t=>yx.get(t);function $_(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=va(u);return s&&u.addEventListener("upgradeneeded",g=>{s(va(u.result),g.oldVersion,g.newVersion,va(u.transaction),g)}),n&&u.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),h.then(g=>{l&&g.addEventListener("close",()=>l()),a&&g.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const xI=["get","getKey","getAll","getAllKeys","count"],vI=["put","add","delete","clear"],I0=new Map;function n4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(I0.get(e))return I0.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=vI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||xI.includes(n)))return;const l=async function(u,...h){const g=this.transaction(u,a?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&g.done]))[0]};return I0.set(e,l),l}pI(t=>({...t,get:(e,n,s)=>n4(e,n)||t.get(e,n,s),has:(e,n)=>!!n4(e,n)||t.has(e,n)}));class bI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function wI(t){return t.getComponent()?.type==="VERSION"}const fy="@firebase/app",s4="0.14.6";const _r=new zm("@firebase/app"),_I="@firebase/app-compat",EI="@firebase/analytics-compat",TI="@firebase/analytics",AI="@firebase/app-check-compat",CI="@firebase/app-check",SI="@firebase/auth",NI="@firebase/auth-compat",jI="@firebase/database",II="@firebase/data-connect",RI="@firebase/database-compat",kI="@firebase/functions",DI="@firebase/functions-compat",MI="@firebase/installations",PI="@firebase/installations-compat",VI="@firebase/messaging",OI="@firebase/messaging-compat",LI="@firebase/performance",BI="@firebase/performance-compat",zI="@firebase/remote-config",UI="@firebase/remote-config-compat",FI="@firebase/storage",HI="@firebase/storage-compat",qI="@firebase/firestore",$I="@firebase/ai",GI="@firebase/firestore-compat",KI="firebase",YI="12.6.0";const my="[DEFAULT]",QI={[fy]:"fire-core",[_I]:"fire-core-compat",[TI]:"fire-analytics",[EI]:"fire-analytics-compat",[CI]:"fire-app-check",[AI]:"fire-app-check-compat",[SI]:"fire-auth",[NI]:"fire-auth-compat",[jI]:"fire-rtdb",[II]:"fire-data-connect",[RI]:"fire-rtdb-compat",[kI]:"fire-fn",[DI]:"fire-fn-compat",[MI]:"fire-iid",[PI]:"fire-iid-compat",[VI]:"fire-fcm",[OI]:"fire-fcm-compat",[LI]:"fire-perf",[BI]:"fire-perf-compat",[zI]:"fire-rc",[UI]:"fire-rc-compat",[FI]:"fire-gcs",[HI]:"fire-gcs-compat",[qI]:"fire-fst",[GI]:"fire-fst-compat",[$I]:"fire-vertex","fire-js":"fire-js",[KI]:"fire-js-all"};const Zf=new Map,XI=new Map,py=new Map;function i4(t,e){try{t.container.addComponent(e)}catch(n){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ui(t){const e=t.name;if(py.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;py.set(e,t);for(const n of Zf.values())i4(n,t);for(const n of XI.values())i4(n,t);return!0}function Oo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rs(t){return t==null?!1:t.settings!==void 0}const WI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ba=new Vo("app","Firebase",WI);class ZI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ba.create("app-deleted",{appName:this._name})}}const mc=YI;function G_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:my,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw ba.create("bad-app-name",{appName:String(a)});if(n||(n=V_()),!n)throw ba.create("no-options");const l=Zf.get(a);if(l){if(wr(n,l.options)&&wr(s,l.config))return l;throw ba.create("duplicate-app",{appName:a})}const u=new rI(a);for(const g of py.values())u.addComponent(g);const h=new ZI(n,s,u);return Zf.set(a,h),h}function xx(t=my){const e=Zf.get(t);if(!e&&t===my&&V_())return G_();if(!e)throw ba.create("no-app",{appName:t});return e}function Ms(t,e,n){let s=QI[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(u.join(" "));return}Ui(new ii(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const JI="firebase-heartbeat-database",eR=1,sd="firebase-heartbeat-store";let R0=null;function K_(){return R0||(R0=$_(JI,eR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sd)}catch(n){console.warn(n)}}}}).catch(t=>{throw ba.create("idb-open",{originalErrorMessage:t.message})})),R0}async function tR(t){try{const n=(await K_()).transaction(sd),s=await n.objectStore(sd).get(Y_(t));return await n.done,s}catch(e){if(e instanceof li)_r.warn(e.message);else{const n=ba.create("idb-get",{originalErrorMessage:e?.message});_r.warn(n.message)}}}async function r4(t,e){try{const s=(await K_()).transaction(sd,"readwrite");await s.objectStore(sd).put(e,Y_(t)),await s.done}catch(n){if(n instanceof li)_r.warn(n.message);else{const s=ba.create("idb-set",{originalErrorMessage:n?.message});_r.warn(s.message)}}}function Y_(t){return`${t.name}!${t.options.appId}`}const nR=1024,sR=30;class iR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=a4();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>sR){const a=oR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_r.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a4(),{heartbeatsToSend:n,unsentEntries:s}=rR(this._heartbeatsCache.heartbeats),a=Wf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return _r.warn(e),""}}}function a4(){return new Date().toISOString().substring(0,10)}function rR(t,e=nR){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),o4(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),o4(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class aR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U_()?F_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function o4(t){return Wf(JSON.stringify({version:2,heartbeats:t})).length}function oR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function lR(t){Ui(new ii("platform-logger",e=>new bI(e),"PRIVATE")),Ui(new ii("heartbeat",e=>new iR(e),"PRIVATE")),Ms(fy,s4,t),Ms(fy,s4,"esm2020"),Ms("fire-js","")}lR("");function Q_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cR=Q_,X_=new Vo("auth","Firebase",Q_());const Jf=new zm("@firebase/auth");function uR(t,...e){Jf.logLevel<=qe.WARN&&Jf.warn(`Auth (${mc}): ${t}`,...e)}function Pf(t,...e){Jf.logLevel<=qe.ERROR&&Jf.error(`Auth (${mc}): ${t}`,...e)}function ri(t,...e){throw vx(t,...e)}function Di(t,...e){return vx(t,...e)}function W_(t,e,n){const s={...cR(),[e]:n};return new Vo("auth","Firebase",s).create(e,{appName:t.name})}function gr(t){return W_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vx(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return X_.create(t,...e)}function Se(t,e,...n){if(!t)throw vx(e,...n)}function hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pf(e),new Error(e)}function Er(t,e){t||hr(e)}function gy(){return typeof self<"u"&&self.location?.href||""}function dR(){return l4()==="http:"||l4()==="https:"}function l4(){return typeof self<"u"&&self.location?.protocol||null}function hR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dR()||z_()||"connection"in navigator)?navigator.onLine:!0}function fR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ed{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=L8()||U8()}get(){return hR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bx(t,e){Er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Z_{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const pR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gR=new Ed(3e4,6e4);function ka(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Da(t,e,n,s,a={}){return J_(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const h=_d({key:t.config.apiKey,...u}).slice(1),g=await t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:g,...l};return z8()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&fc(t.emulatorConfig.host)&&(p.credentials="include"),Z_.fetch()(await eE(t,t.config.apiHost,n,h),p)})}async function J_(t,e,n){t._canInitEmulator=!1;const s={...mR,...e};try{const a=new xR(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw _f(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[g,p]=h.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw _f(t,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw _f(t,"email-already-in-use",u);if(g==="USER_DISABLED")throw _f(t,"user-disabled",u);const x=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw W_(t,x,p);ri(t,x)}}catch(a){if(a instanceof li)throw a;ri(t,"network-request-failed",{message:String(a)})}}async function Td(t,e,n,s,a={}){const l=await Da(t,e,n,s,a);return"mfaPendingCredential"in l&&ri(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function eE(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?bx(t.config,a):`${t.config.apiScheme}://${a}`;return pR.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function yR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Di(this.auth,"network-request-failed")),gR.get())})}}function _f(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Di(t,e,s);return a.customData._tokenResponse=n,a}function c4(t){return t!==void 0&&t.enterprise!==void 0}class vR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bR(t,e){return Da(t,"GET","/v2/recaptchaConfig",ka(t,e))}async function wR(t,e){return Da(t,"POST","/v1/accounts:delete",e)}async function em(t,e){return Da(t,"POST","/v1/accounts:lookup",e)}function Gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _R(t,e=!1){const n=Ft(t),s=await n.getIdToken(e),a=wx(s);Se(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:Gu(k0(a.auth_time)),issuedAtTime:Gu(k0(a.iat)),expirationTime:Gu(k0(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function k0(t){return Number(t)*1e3}function wx(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Pf("JWT malformed, contained fewer than 3 sections"),null;try{const a=M_(n);return a?JSON.parse(a):(Pf("Failed to decode base64 JWT payload"),null)}catch(a){return Pf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function u4(t){const e=wx(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function id(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof li&&ER(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function ER({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class TR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class yy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gu(this.lastLoginAt),this.creationTime=Gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function tm(t){const e=t.auth,n=await t.getIdToken(),s=await id(t,em(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?tE(a.providerUserInfo):[],u=CR(t.providerData,l),h=t.isAnonymous,g=!(t.email&&a.passwordHash)&&!u?.length,p=h?g:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new yy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,x)}async function AR(t){const e=Ft(t);await tm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CR(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function tE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function SR(t,e){const n=await J_(t,{},async()=>{const s=_d({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await eE(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:h,body:s};return t.emulatorConfig&&fc(t.emulatorConfig.host)&&(g.credentials="include"),Z_.fetch()(u,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NR(t,e){return Da(t,"POST","/v2/accounts:revokeToken",ka(t,e))}class Fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=u4(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await SR(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Fl;return s&&(Se(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Se(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fl,this.toJSON())}_performRefresh(){return hr("not implemented")}}function ca(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class si{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new TR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new yy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await id(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _R(this,e)}reload(){return AR(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await tm(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rs(this.auth.app))return Promise.reject(gr(this.auth));const e=await this.getIdToken();return await id(this,wR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:A,providerData:V,stsTokenManager:M}=n;Se(v&&M,e,"internal-error");const k=Fl.fromJSON(this.name,M);Se(typeof v=="string",e,"internal-error"),ca(s,e.name),ca(a,e.name),Se(typeof _=="boolean",e,"internal-error"),Se(typeof A=="boolean",e,"internal-error"),ca(l,e.name),ca(u,e.name),ca(h,e.name),ca(g,e.name),ca(p,e.name),ca(x,e.name);const L=new si({uid:v,auth:e,email:a,emailVerified:_,displayName:s,isAnonymous:A,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:k,createdAt:p,lastLoginAt:x});return V&&Array.isArray(V)&&(L.providerData=V.map(B=>({...B}))),g&&(L._redirectEventId=g),L}static async _fromIdTokenResponse(e,n,s=!1){const a=new Fl;a.updateFromServerResponse(n);const l=new si({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await tm(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?tE(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new Fl;h.updateFromIdToken(s);const g=new si({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new yy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(g,p),g}}const d4=new Map;function fr(t){Er(t instanceof Function,"Expected a class definition");let e=d4.get(t);return e?(Er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,d4.set(t,e),e)}class nE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nE.type="NONE";const h4=nE;function Vf(t,e,n){return`firebase:${t}:${e}:${n}`}class Hl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Vf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Vf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await em(this.auth,{idToken:e}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,e):null}return si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Hl(fr(h4),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||fr(h4);const u=Vf(s,e.config.apiKey,e.name);let h=null;for(const p of n)try{const x=await p._get(u);if(x){let v;if(typeof x=="string"){const _=await em(e,{idToken:x}).catch(()=>{});if(!_)break;v=await si._fromGetAccountInfoResponse(e,_,x)}else v=si._fromJSON(e,x);p!==l&&(h=v),l=p;break}}catch{}const g=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Hl(l,e,s):(l=g[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Hl(l,e,s))}}function f4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lE(e))return"Blackberry";if(cE(e))return"Webos";if(iE(e))return"Safari";if((e.includes("chrome/")||rE(e))&&!e.includes("edge/"))return"Chrome";if(oE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function sE(t=Rn()){return/firefox\//i.test(t)}function iE(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rE(t=Rn()){return/crios\//i.test(t)}function aE(t=Rn()){return/iemobile/i.test(t)}function oE(t=Rn()){return/android/i.test(t)}function lE(t=Rn()){return/blackberry/i.test(t)}function cE(t=Rn()){return/webos/i.test(t)}function _x(t=Rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jR(t=Rn()){return _x(t)&&!!window.navigator?.standalone}function IR(){return F8()&&document.documentMode===10}function uE(t=Rn()){return _x(t)||oE(t)||cE(t)||lE(t)||/windows phone/i.test(t)||aE(t)}function dE(t,e=[]){let n;switch(t){case"Browser":n=f4(Rn());break;case"Worker":n=`${f4(Rn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mc}/${s}`}class RR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,h)=>{try{const g=e(l);u(g)}catch(g){h(g)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function kR(t,e={}){return Da(t,"GET","/v2/passwordPolicy",ka(t,e))}const DR=6;class MR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??DR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class PR{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m4(this),this.idTokenSubscription=new m4(this),this.beforeStateQueue=new RR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Hl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await em(this,{idToken:e}),s=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rs(this.app))return Promise.reject(gr(this));const n=e?Ft(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rs(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rs(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kR(this),n=new MR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await NR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Hl.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,a);return()=>{u=!0,g()}}else{const g=e.addObserver(n);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lo(t){return Ft(t)}class m4{constructor(e){this.auth=e,this.observer=null,this.addObserver=Q8(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VR(t){Um=t}function hE(t){return Um.loadJS(t)}function OR(){return Um.recaptchaEnterpriseScript}function LR(){return Um.gapiScript}function BR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class zR{constructor(){this.enterprise=new UR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class UR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const FR="recaptcha-enterprise",fE="NO_RECAPTCHA";class HR{constructor(e){this.type=FR,this.auth=Lo(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{bR(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new vR(g);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(g=>{h(g)})})}function a(l,u,h){const g=window.grecaptcha;c4(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(fE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zR().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(h=>{if(!n&&c4(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=OR();g.length!==0&&(g+=h),hE(g).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function p4(t,e,n,s=!1,a=!1){const l=new HR(t);let u;if(a)u=fE;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const g=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const g=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function xy(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await p4(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await p4(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function qR(t,e){const n=Oo(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(wr(l,e??{}))return a;ri(a,"already-initialized")}return n.initialize({options:e})}function $R(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(fr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function GR(t,e,n){const s=Lo(t);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=mE(e),{host:u,port:h}=KR(e),g=h===null?"":`:${h}`,p={url:`${l}//${u}${g}/`},x=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(wr(p,s.config.emulator)&&wr(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,fc(u)?(L_(`${l}//${u}${g}`),B_("Auth",!0)):YR()}function mE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KR(t){const e=mE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:g4(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:g4(u)}}}function g4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Ex{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,n){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}async function QR(t,e){return Da(t,"POST","/v1/accounts:signUp",e)}async function XR(t,e){return Td(t,"POST","/v1/accounts:signInWithPassword",ka(t,e))}async function WR(t,e){return Td(t,"POST","/v1/accounts:signInWithEmailLink",ka(t,e))}async function ZR(t,e){return Td(t,"POST","/v1/accounts:signInWithEmailLink",ka(t,e))}class rd extends Ex{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new rd(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new rd(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xy(e,n,"signInWithPassword",XR);case"emailLink":return WR(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xy(e,s,"signUpPassword",QR);case"emailLink":return ZR(e,{idToken:n,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ql(t,e){return Td(t,"POST","/v1/accounts:signInWithIdp",ka(t,e))}const JR="http://localhost";class No extends Ex{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new No(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new No(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ql(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ql(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ql(e,n)}buildRequest(){const e={requestUri:JR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_d(n)}return e}}function e9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function t9(t){const e=Lu(Bu(t)).link,n=e?Lu(Bu(e)).deep_link_id:null,s=Lu(Bu(t)).deep_link_id;return(s?Lu(Bu(s)).link:null)||s||n||e||t}class Tx{constructor(e){const n=Lu(Bu(e)),s=n.apiKey??null,a=n.oobCode??null,l=e9(n.mode??null);Se(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=t9(e);try{return new Tx(n)}catch{return null}}}class pc{constructor(){this.providerId=pc.PROVIDER_ID}static credential(e,n){return rd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Tx.parseLink(n);return Se(s,"argument-error"),rd._fromEmailAndCode(e,s.code,s.tenantId)}}pc.PROVIDER_ID="password";pc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class pE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ad extends pE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ha extends Ad{constructor(){super("facebook.com")}static credential(e){return No._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch{return null}}}ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";ha.PROVIDER_ID="facebook.com";class fa extends Ad{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return No._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return fa.credential(n,s)}catch{return null}}}fa.GOOGLE_SIGN_IN_METHOD="google.com";fa.PROVIDER_ID="google.com";class ma extends Ad{constructor(){super("github.com")}static credential(e){return No._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch{return null}}}ma.GITHUB_SIGN_IN_METHOD="github.com";ma.PROVIDER_ID="github.com";class pa extends Ad{constructor(){super("twitter.com")}static credential(e,n){return No._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return pa.credential(n,s)}catch{return null}}}pa.TWITTER_SIGN_IN_METHOD="twitter.com";pa.PROVIDER_ID="twitter.com";async function n9(t,e){return Td(t,"POST","/v1/accounts:signUp",ka(t,e))}class jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await si._fromIdTokenResponse(e,s,a),u=y4(s);return new jo({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=y4(s);return new jo({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function y4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class nm extends li{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,nm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new nm(e,n,s,a)}}function gE(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?nm._fromErrorAndOperation(t,l,e,s):l})}async function s9(t,e,n=!1){const s=await id(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return jo._forOperation(t,"link",s)}async function i9(t,e,n=!1){const{auth:s}=t;if(Rs(s.app))return Promise.reject(gr(s));const a="reauthenticate";try{const l=await id(t,gE(s,a,e,t),n);Se(l.idToken,s,"internal-error");const u=wx(l.idToken);Se(u,s,"internal-error");const{sub:h}=u;return Se(t.uid===h,s,"user-mismatch"),jo._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ri(s,"user-mismatch"),l}}async function yE(t,e,n=!1){if(Rs(t.app))return Promise.reject(gr(t));const s="signIn",a=await gE(t,s,e),l=await jo._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function r9(t,e){return yE(Lo(t),e)}async function xE(t){const e=Lo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function a9(t,e,n){if(Rs(t.app))return Promise.reject(gr(t));const s=Lo(t),u=await xy(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",n9).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&xE(t),g}),h=await jo._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(h.user),h}function o9(t,e,n){return Rs(t.app)?Promise.reject(gr(t)):r9(Ft(t),pc.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&xE(t),s})}function l9(t,e,n,s){return Ft(t).onIdTokenChanged(e,n,s)}function c9(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function u9(t,e,n,s){return Ft(t).onAuthStateChanged(e,n,s)}function vE(t){return Ft(t).signOut()}const sm="__sak";class bE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sm,"1"),this.storage.removeItem(sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const d9=1e3,h9=10;class wE extends bE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,g)=>{this.notifyListeners(u,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);IR()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,h9):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},d9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wE.type="LOCAL";const f9=wE;class _E extends bE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_E.type="SESSION";const EE=_E;function m9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Fm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Fm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),g=await m9(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fm.receivers=[];function Ax(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class p9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,g)=>{const p=Ax("",20);a.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(v){const _=v;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(_.data.response);break;default:clearTimeout(x),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Mi(){return window}function g9(t){Mi().location.href=t}function TE(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function y9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x9(){return navigator?.serviceWorker?.controller||null}function v9(){return TE()?self:null}const AE="firebaseLocalStorageDb",b9=1,im="firebaseLocalStorage",CE="fbase_key";class Cd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hm(t,e){return t.transaction([im],e?"readwrite":"readonly").objectStore(im)}function w9(){const t=indexedDB.deleteDatabase(AE);return new Cd(t).toPromise()}function vy(){const t=indexedDB.open(AE,b9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(im,{keyPath:CE})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(im)?e(s):(s.close(),await w9(),e(await vy()))})})}async function x4(t,e,n){const s=Hm(t,!0).put({[CE]:e,value:n});return new Cd(s).toPromise()}async function _9(t,e){const n=Hm(t,!1).get(e),s=await new Cd(n).toPromise();return s===void 0?null:s.value}function v4(t,e){const n=Hm(t,!0).delete(e);return new Cd(n).toPromise()}const E9=800,T9=3;class SE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>T9)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fm._getInstance(v9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await y9(),!this.activeServiceWorker)return;this.sender=new p9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vy();return await x4(e,sm,"1"),await v4(e,sm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>x4(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>_9(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>v4(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Hm(a,!1).getAll();return new Cd(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SE.type="LOCAL";const A9=SE;new Ed(3e4,6e4);function C9(t,e){return e?fr(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Cx extends Ex{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ql(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ql(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function S9(t){return yE(t.auth,new Cx(t),t.bypassAuthState)}function N9(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),i9(n,new Cx(t),t.bypassAuthState)}async function j9(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),s9(n,new Cx(t),t.bypassAuthState)}class NE{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return S9;case"linkViaPopup":case"linkViaRedirect":return j9;case"reauthViaPopup":case"reauthViaRedirect":return N9;default:ri(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const I9=new Ed(2e3,1e4);class Pl extends NE{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Pl.currentPopupAction&&Pl.currentPopupAction.cancel(),Pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=Ax();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I9.get())};e()}}Pl.currentPopupAction=null;const R9="pendingRedirect",Of=new Map;class k9 extends NE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Of.get(this.auth._key());if(!e){try{const s=await D9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Of.set(this.auth._key(),e)}return this.bypassAuthState||Of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function D9(t,e){const n=V9(e),s=P9(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function M9(t,e){Of.set(t._key(),e)}function P9(t){return fr(t._redirectPersistence)}function V9(t){return Vf(R9,t.config.apiKey,t.name)}async function O9(t,e,n=!1){if(Rs(t.app))return Promise.reject(gr(t));const s=Lo(t),a=C9(s,e),u=await new k9(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const L9=600*1e3;class B9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!jE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Di(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L9&&this.cachedEventUids.clear(),this.cachedEventUids.has(b4(e))}saveEventToCache(e){this.cachedEventUids.add(b4(e)),this.lastProcessedEventTime=Date.now()}}function b4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jE({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function z9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jE(t);default:return!1}}async function U9(t,e={}){return Da(t,"GET","/v1/projects",e)}const F9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H9=/^https?/;async function q9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await U9(t);for(const n of e)try{if($9(n))return}catch{}ri(t,"unauthorized-domain")}function $9(t){const e=gy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!H9.test(n))return!1;if(F9.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const G9=new Ed(3e4,6e4);function w4(){const t=Mi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function K9(t){return new Promise((e,n)=>{function s(){w4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w4(),n(Di(t,"network-request-failed"))},timeout:G9.get()})}if(Mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mi().gapi?.load)s();else{const a=BR("iframefcb");return Mi()[a]=()=>{gapi.load?s():n(Di(t,"network-request-failed"))},hE(`${LR()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Lf=null,e})}let Lf=null;function Y9(t){return Lf=Lf||K9(t),Lf}const Q9=new Ed(5e3,15e3),X9="__/auth/iframe",W9="emulator/auth/iframe",Z9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e7(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bx(e,W9):`https://${t.config.authDomain}/${X9}`,s={apiKey:e.apiKey,appName:t.name,v:mc},a=J9.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${_d(s).slice(1)}`}async function t7(t){const e=await Y9(t),n=Mi().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:e7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z9,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Di(t,"network-request-failed"),h=Mi().setTimeout(()=>{l(u)},Q9.get());function g(){Mi().clearTimeout(h),a(s)}s.ping(g).then(g,()=>{l(u)})}))}const n7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},s7=500,i7=600,r7="_blank",a7="http://localhost";class _4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o7(t,e,n,s=s7,a=i7){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const g={...n7,width:s.toString(),height:a.toString(),top:l,left:u},p=Rn().toLowerCase();n&&(h=rE(p)?r7:n),sE(p)&&(e=e||a7,g.scrollbars="yes");const x=Object.entries(g).reduce((_,[A,V])=>`${_}${A}=${V},`,"");if(jR(p)&&h!=="_self")return l7(e||"",h),new _4(null);const v=window.open(e||"",h,x);Se(v,t,"popup-blocked");try{v.focus()}catch{}return new _4(v)}function l7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const c7="__/auth/handler",u7="emulator/auth/handler",d7=encodeURIComponent("fac");async function E4(t,e,n,s,a,l){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:mc,eventId:a};if(e instanceof pE){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Y8(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,v]of Object.entries({}))u[x]=v}if(e instanceof Ad){const x=e.getScopes().filter(v=>v!=="");x.length>0&&(u.scopes=x.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const x of Object.keys(h))h[x]===void 0&&delete h[x];const g=await t._getAppCheckToken(),p=g?`#${d7}=${encodeURIComponent(g)}`:"";return`${h7(t)}?${_d(h).slice(1)}${p}`}function h7({config:t}){return t.emulator?bx(t,u7):`https://${t.authDomain}/${c7}`}const D0="webStorageSupport";class f7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EE,this._completeRedirectFn=O9,this._overrideRedirectResult=M9}async _openPopup(e,n,s,a){Er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await E4(e,n,s,gy(),a);return o7(e,l,Ax())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await E4(e,n,s,gy(),a);return g9(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Er(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await t7(e),s=new B9(e);return n.register("authEvent",a=>(Se(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(D0,{type:D0},a=>{const l=a?.[0]?.[D0];l!==void 0&&n(!!l),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=q9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uE()||iE()||_x()}}const m7=f7;var T4="@firebase/auth",A4="1.11.1";class p7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function g7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y7(t){Ui(new ii("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=s.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dE(t)},p=new PR(s,a,l,g);return $R(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ui(new ii("auth-internal",e=>{const n=Lo(e.getProvider("auth").getImmediate());return(s=>new p7(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ms(T4,A4,g7(t)),Ms(T4,A4,"esm2020")}const x7=300,v7=O_("authIdTokenMaxAge")||x7;let C4=null;const b7=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>v7)return;const a=n?.token;C4!==a&&(C4=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function w7(t=xx()){const e=Oo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qR(t,{popupRedirectResolver:m7,persistence:[A9,f9,EE]}),s=O_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=b7(l.toString());c9(n,u,()=>u(n.currentUser)),l9(n,h=>u(h))}}const a=P_("auth");return a&&GR(n,`http://${a}`),n}function _7(){return document.getElementsByTagName("head")?.[0]??document}VR({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Di("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",_7().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y7("Browser");function E7(t,e,n,s){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(x){try{p(s.next(x))}catch(v){u(v)}}function g(x){try{p(s.throw(x))}catch(v){u(v)}}function p(x){x.done?l(x.value):a(x.value).then(h,g)}p((s=s.apply(t,[])).next())})}function T7(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,a,l,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(x){return g([p,x])}}function g(p){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,a&&(l=p[0]&2?a.return:p[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,p[1])).done)return l;switch(a=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(x){p=[6,x],a=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Vl=function(){return Vl=Object.assign||function(e){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Vl.apply(this,arguments)},IE=function(t){return{loading:t==null,value:t}},A7=function(){return function(t,e){switch(e.type){case"error":return Vl(Vl({},t),{error:e.error,loading:!1,value:void 0});case"reset":return IE(e.defaultValue);case"value":return Vl(Vl({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},C7=(function(t){var e=t?t():void 0,n=j.useReducer(A7(),IE(e)),s=n[0],a=n[1],l=j.useCallback(function(){var g=t?t():void 0;a({type:"reset",defaultValue:g})},[t]),u=j.useCallback(function(g){a({type:"error",error:g})},[]),h=j.useCallback(function(g){a({type:"value",value:g})},[]);return j.useMemo(function(){return{error:s.error,loading:s.loading,reset:l,setError:u,setValue:h,value:s.value}},[s.error,s.loading,l,u,h,s.value])}),ci=(function(t,e){var n=C7(function(){return t.currentUser}),s=n.error,a=n.loading,l=n.setError,u=n.setValue,h=n.value;return j.useEffect(function(){var g=u9(t,function(p){return E7(void 0,void 0,void 0,function(){var x;return T7(this,function(v){switch(v.label){case 0:return[3,4];case 1:return v.trys.push([1,3,,4]),[4,e.onUserChanged(p)];case 2:return v.sent(),[3,4];case 3:return x=v.sent(),l(x),[3,4];case 4:return u(p),[2]}})})},l);return function(){g()}},[t]),[h,a,s]}),S7="firebase",N7="12.6.0";Ms(S7,N7,"app");const RE="@firebase/installations",Sx="0.6.19";const kE=1e4,DE=`w:${Sx}`,ME="FIS_v2",j7="https://firebaseinstallations.googleapis.com/v1",I7=3600*1e3,R7="installations",k7="Installations";const D7={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Io=new Vo(R7,k7,D7);function PE(t){return t instanceof li&&t.code.includes("request-failed")}function VE({projectId:t}){return`${j7}/projects/${t}/installations`}function OE(t){return{token:t.token,requestStatus:2,expiresIn:P7(t.expiresIn),creationTime:Date.now()}}async function LE(t,e){const s=(await e.json()).error;return Io.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function BE({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function M7(t,{refreshToken:e}){const n=BE(t);return n.append("Authorization",V7(e)),n}async function zE(t){const e=await t();return e.status>=500&&e.status<600?t():e}function P7(t){return Number(t.replace("s","000"))}function V7(t){return`${ME} ${t}`}async function O7({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=VE(t),a=BE(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:n,authVersion:ME,appId:t.appId,sdkVersion:DE},h={method:"POST",headers:a,body:JSON.stringify(u)},g=await zE(()=>fetch(s,h));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:OE(p.authToken)}}else throw await LE("Create Installation",g)}function UE(t){return new Promise(e=>{setTimeout(e,t)})}function L7(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const B7=/^[cdef][\w-]{21}$/,by="";function z7(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=U7(t);return B7.test(n)?n:by}catch{return by}}function U7(t){return L7(t).substr(0,22)}function qm(t){return`${t.appName}!${t.appId}`}const FE=new Map;function HE(t,e){const n=qm(t);qE(n,e),F7(n,e)}function qE(t,e){const n=FE.get(t);if(n)for(const s of n)s(e)}function F7(t,e){const n=H7();n&&n.postMessage({key:t,fid:e}),q7()}let xo=null;function H7(){return!xo&&"BroadcastChannel"in self&&(xo=new BroadcastChannel("[Firebase] FID Change"),xo.onmessage=t=>{qE(t.data.key,t.data.fid)}),xo}function q7(){FE.size===0&&xo&&(xo.close(),xo=null)}const $7="firebase-installations-database",G7=1,Ro="firebase-installations-store";let M0=null;function Nx(){return M0||(M0=$_($7,G7,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ro)}}})),M0}async function rm(t,e){const n=qm(t),a=(await Nx()).transaction(Ro,"readwrite"),l=a.objectStore(Ro),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&HE(t,e.fid),e}async function $E(t){const e=qm(t),s=(await Nx()).transaction(Ro,"readwrite");await s.objectStore(Ro).delete(e),await s.done}async function $m(t,e){const n=qm(t),a=(await Nx()).transaction(Ro,"readwrite"),l=a.objectStore(Ro),u=await l.get(n),h=e(u);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!u||u.fid!==h.fid)&&HE(t,h.fid),h}async function jx(t){let e;const n=await $m(t.appConfig,s=>{const a=K7(s),l=Y7(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===by?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function K7(t){const e=t||{fid:z7(),registrationStatus:0};return GE(e)}function Y7(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Io.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=Q7(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:X7(t)}:{installationEntry:e}}async function Q7(t,e){try{const n=await O7(t,e);return rm(t.appConfig,n)}catch(n){throw PE(n)&&n.customData.serverCode===409?await $E(t.appConfig):await rm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function X7(t){let e=await S4(t.appConfig);for(;e.registrationStatus===1;)await UE(100),e=await S4(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await jx(t);return s||n}return e}function S4(t){return $m(t,e=>{if(!e)throw Io.create("installation-not-found");return GE(e)})}function GE(t){return W7(t)?{fid:t.fid,registrationStatus:0}:t}function W7(t){return t.registrationStatus===1&&t.registrationTime+kE<Date.now()}async function Z7({appConfig:t,heartbeatServiceProvider:e},n){const s=J7(t,n),a=M7(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:DE,appId:t.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},g=await zE(()=>fetch(s,h));if(g.ok){const p=await g.json();return OE(p)}else throw await LE("Generate Auth Token",g)}function J7(t,{fid:e}){return`${VE(t)}/${e}/authTokens:generate`}async function Ix(t,e=!1){let n;const s=await $m(t.appConfig,l=>{if(!KE(l))throw Io.create("not-registered");const u=l.authToken;if(!e&&nk(u))return l;if(u.requestStatus===1)return n=ek(t,e),l;{if(!navigator.onLine)throw Io.create("app-offline");const h=ik(l);return n=tk(t,h),h}});return n?await n:s.authToken}async function ek(t,e){let n=await N4(t.appConfig);for(;n.authToken.requestStatus===1;)await UE(100),n=await N4(t.appConfig);const s=n.authToken;return s.requestStatus===0?Ix(t,e):s}function N4(t){return $m(t,e=>{if(!KE(e))throw Io.create("not-registered");const n=e.authToken;return rk(n)?{...e,authToken:{requestStatus:0}}:e})}async function tk(t,e){try{const n=await Z7(t,e),s={...e,authToken:n};return await rm(t.appConfig,s),n}catch(n){if(PE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $E(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await rm(t.appConfig,s)}throw n}}function KE(t){return t!==void 0&&t.registrationStatus===2}function nk(t){return t.requestStatus===2&&!sk(t)}function sk(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+I7}function ik(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function rk(t){return t.requestStatus===1&&t.requestTime+kE<Date.now()}async function ak(t){const e=t,{installationEntry:n,registrationPromise:s}=await jx(e);return s?s.catch(console.error):Ix(e).catch(console.error),n.fid}async function ok(t,e=!1){const n=t;return await lk(n),(await Ix(n,e)).token}async function lk(t){const{registrationPromise:e}=await jx(t);e&&await e}function ck(t){if(!t||!t.options)throw P0("App Configuration");if(!t.name)throw P0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw P0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function P0(t){return Io.create("missing-app-config-values",{valueName:t})}const YE="installations",uk="installations-internal",dk=t=>{const e=t.getProvider("app").getImmediate(),n=ck(e),s=Oo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},hk=t=>{const e=t.getProvider("app").getImmediate(),n=Oo(e,YE).getImmediate();return{getId:()=>ak(n),getToken:a=>ok(n,a)}};function fk(){Ui(new ii(YE,dk,"PUBLIC")),Ui(new ii(uk,hk,"PRIVATE"))}fk();Ms(RE,Sx);Ms(RE,Sx,"esm2020");const am="analytics",mk="firebase_id",pk="origin",gk=60*1e3,yk="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rx="https://www.googletagmanager.com/gtag/js";const Ln=new zm("@firebase/analytics");const xk={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ds=new Vo("analytics","Analytics",xk);function vk(t){if(!t.startsWith(Rx)){const e=ds.create("invalid-gtag-resource",{gtagURL:t});return Ln.warn(e.message),""}return t}function QE(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function bk(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function wk(t,e){const n=bk("firebase-js-sdk-policy",{createScriptURL:vk}),s=document.createElement("script"),a=`${Rx}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function _k(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Ek(t,e,n,s,a,l){const u=s[a];try{if(u)await e[u];else{const g=(await QE(n)).find(p=>p.measurementId===a);g&&await e[g.appId]}}catch(h){Ln.error(h)}t("config",a,l)}async function Tk(t,e,n,s,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await QE(n);for(const g of u){const p=h.find(v=>v.measurementId===g),x=p&&e[p.appId];if(x)l.push(x);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,a||{})}catch(l){Ln.error(l)}}function Ak(t,e,n,s){async function a(l,...u){try{if(l==="event"){const[h,g]=u;await Tk(t,e,n,h,g)}else if(l==="config"){const[h,g]=u;await Ek(t,e,n,s,h,g)}else if(l==="consent"){const[h,g]=u;t("consent",h,g)}else if(l==="get"){const[h,g,p]=u;t("get",h,g,p)}else if(l==="set"){const[h]=u;t("set",h)}else t(l,...u)}catch(h){Ln.error(h)}}return a}function Ck(t,e,n,s,a){let l=function(...u){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=Ak(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function Sk(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Rx)&&n.src.includes(t))return n;return null}const Nk=30,jk=1e3;class Ik{constructor(e={},n=jk){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const XE=new Ik;function Rk(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function kk(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:Rk(n)},a=yk.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();h.error?.message&&(u=h.error.message)}catch{}throw ds.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function Dk(t,e=XE,n){const{appId:s,apiKey:a,measurementId:l}=t.options;if(!s)throw ds.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw ds.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new Vk;return setTimeout(async()=>{h.abort()},gk),WE({appId:s,apiKey:a,measurementId:l},u,h,e)}async function WE(t,{throttleEndTimeMillis:e,backoffCount:n},s,a=XE){const{appId:l,measurementId:u}=t;try{await Mk(s,e)}catch(h){if(u)return Ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw h}try{const h=await kk(t);return a.deleteThrottleMetadata(l),h}catch(h){const g=h;if(!Pk(g)){if(a.deleteThrottleMetadata(l),u)return Ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:l,measurementId:u};throw h}const p=Number(g?.customData?.httpStatus)===503?Jw(n,a.intervalMillis,Nk):Jw(n,a.intervalMillis),x={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,x),Ln.debug(`Calling attemptFetch again in ${p} millis`),WE(t,x,s,a)}}function Mk(t,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),s(ds.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Pk(t){if(!(t instanceof li)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Vk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ok(t,e,n,s,a){if(a&&a.global){t("event",n,s);return}else{const l=await e,u={...s,send_to:l};t("event",n,u)}}async function Lk(t,e,n,s){if(s&&s.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function Bk(){if(U_())try{await F_()}catch(t){return Ln.warn(ds.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Ln.warn(ds.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function zk(t,e,n,s,a,l,u){const h=Dk(t);h.then(_=>{n[_.measurementId]=_.appId,t.options.measurementId&&_.measurementId!==t.options.measurementId&&Ln.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>Ln.error(_)),e.push(h);const g=Bk().then(_=>{if(_)return s.getId()}),[p,x]=await Promise.all([h,g]);Sk(l)||wk(l,p.measurementId),a("js",new Date);const v=u?.config??{};return v[pk]="firebase",v.update=!0,x!=null&&(v[mk]=x),a("config",p.measurementId,v),p.measurementId}class Uk{constructor(e){this.app=e}_delete(){return delete $l[this.app.options.appId],Promise.resolve()}}let $l={},j4=[];const I4={};let V0="dataLayer",Fk="gtag",R4,kx,k4=!1;function Hk(){const t=[];if(z_()&&t.push("This is a browser extension environment."),q8()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=ds.create("invalid-analytics-context",{errorInfo:e});Ln.warn(n.message)}}function qk(t,e,n){Hk();const s=t.options.appId;if(!s)throw ds.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ds.create("no-api-key");if($l[s]!=null)throw ds.create("already-exists",{id:s});if(!k4){_k(V0);const{wrappedGtag:l,gtagCore:u}=Ck($l,j4,I4,V0,Fk);kx=l,R4=u,k4=!0}return $l[s]=zk(t,j4,I4,e,R4,V0,n),new Uk(t)}function $k(t=xx()){t=Ft(t);const e=Oo(t,am);return e.isInitialized()?e.getImmediate():Gk(t)}function Gk(t,e={}){const n=Oo(t,am);if(n.isInitialized()){const a=n.getImmediate();if(wr(e,n.getOptions()))return a;throw ds.create("already-initialized")}return n.initialize({options:e})}function Kk(t,e,n){t=Ft(t),Lk(kx,$l[t.app.options.appId],e,n).catch(s=>Ln.error(s))}function Yk(t,e,n,s){t=Ft(t),Ok(kx,$l[t.app.options.appId],e,n,s).catch(a=>Ln.error(a))}const D4="@firebase/analytics",M4="0.10.19";function Qk(){Ui(new ii(am,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return qk(s,a,n)},"PUBLIC")),Ui(new ii("analytics-internal",t,"PRIVATE")),Ms(D4,M4),Ms(D4,M4,"esm2020");function t(e){try{const n=e.getProvider(am).getImmediate();return{logEvent:(s,a,l)=>Yk(n,s,a,l),setUserProperties:(s,a)=>Kk(n,s,a)}}catch(n){throw ds.create("interop-component-reg-failed",{reason:n})}}}Qk();var P4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wa,ZE;(function(){var t;function e(S,T){function N(){}N.prototype=T.prototype,S.F=T.prototype,S.prototype=new N,S.prototype.constructor=S,S.D=function(O,z,G){for(var U=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)U[Ke-2]=arguments[Ke];return T.prototype[z].apply(O,U)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(S,T,N){N||(N=0);const O=Array(16);if(typeof T=="string")for(var z=0;z<16;++z)O[z]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(z=0;z<16;++z)O[z]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=S.g[0],N=S.g[1],z=S.g[2];let G=S.g[3],U;U=T+(G^N&(z^G))+O[0]+3614090360&4294967295,T=N+(U<<7&4294967295|U>>>25),U=G+(z^T&(N^z))+O[1]+3905402710&4294967295,G=T+(U<<12&4294967295|U>>>20),U=z+(N^G&(T^N))+O[2]+606105819&4294967295,z=G+(U<<17&4294967295|U>>>15),U=N+(T^z&(G^T))+O[3]+3250441966&4294967295,N=z+(U<<22&4294967295|U>>>10),U=T+(G^N&(z^G))+O[4]+4118548399&4294967295,T=N+(U<<7&4294967295|U>>>25),U=G+(z^T&(N^z))+O[5]+1200080426&4294967295,G=T+(U<<12&4294967295|U>>>20),U=z+(N^G&(T^N))+O[6]+2821735955&4294967295,z=G+(U<<17&4294967295|U>>>15),U=N+(T^z&(G^T))+O[7]+4249261313&4294967295,N=z+(U<<22&4294967295|U>>>10),U=T+(G^N&(z^G))+O[8]+1770035416&4294967295,T=N+(U<<7&4294967295|U>>>25),U=G+(z^T&(N^z))+O[9]+2336552879&4294967295,G=T+(U<<12&4294967295|U>>>20),U=z+(N^G&(T^N))+O[10]+4294925233&4294967295,z=G+(U<<17&4294967295|U>>>15),U=N+(T^z&(G^T))+O[11]+2304563134&4294967295,N=z+(U<<22&4294967295|U>>>10),U=T+(G^N&(z^G))+O[12]+1804603682&4294967295,T=N+(U<<7&4294967295|U>>>25),U=G+(z^T&(N^z))+O[13]+4254626195&4294967295,G=T+(U<<12&4294967295|U>>>20),U=z+(N^G&(T^N))+O[14]+2792965006&4294967295,z=G+(U<<17&4294967295|U>>>15),U=N+(T^z&(G^T))+O[15]+1236535329&4294967295,N=z+(U<<22&4294967295|U>>>10),U=T+(z^G&(N^z))+O[1]+4129170786&4294967295,T=N+(U<<5&4294967295|U>>>27),U=G+(N^z&(T^N))+O[6]+3225465664&4294967295,G=T+(U<<9&4294967295|U>>>23),U=z+(T^N&(G^T))+O[11]+643717713&4294967295,z=G+(U<<14&4294967295|U>>>18),U=N+(G^T&(z^G))+O[0]+3921069994&4294967295,N=z+(U<<20&4294967295|U>>>12),U=T+(z^G&(N^z))+O[5]+3593408605&4294967295,T=N+(U<<5&4294967295|U>>>27),U=G+(N^z&(T^N))+O[10]+38016083&4294967295,G=T+(U<<9&4294967295|U>>>23),U=z+(T^N&(G^T))+O[15]+3634488961&4294967295,z=G+(U<<14&4294967295|U>>>18),U=N+(G^T&(z^G))+O[4]+3889429448&4294967295,N=z+(U<<20&4294967295|U>>>12),U=T+(z^G&(N^z))+O[9]+568446438&4294967295,T=N+(U<<5&4294967295|U>>>27),U=G+(N^z&(T^N))+O[14]+3275163606&4294967295,G=T+(U<<9&4294967295|U>>>23),U=z+(T^N&(G^T))+O[3]+4107603335&4294967295,z=G+(U<<14&4294967295|U>>>18),U=N+(G^T&(z^G))+O[8]+1163531501&4294967295,N=z+(U<<20&4294967295|U>>>12),U=T+(z^G&(N^z))+O[13]+2850285829&4294967295,T=N+(U<<5&4294967295|U>>>27),U=G+(N^z&(T^N))+O[2]+4243563512&4294967295,G=T+(U<<9&4294967295|U>>>23),U=z+(T^N&(G^T))+O[7]+1735328473&4294967295,z=G+(U<<14&4294967295|U>>>18),U=N+(G^T&(z^G))+O[12]+2368359562&4294967295,N=z+(U<<20&4294967295|U>>>12),U=T+(N^z^G)+O[5]+4294588738&4294967295,T=N+(U<<4&4294967295|U>>>28),U=G+(T^N^z)+O[8]+2272392833&4294967295,G=T+(U<<11&4294967295|U>>>21),U=z+(G^T^N)+O[11]+1839030562&4294967295,z=G+(U<<16&4294967295|U>>>16),U=N+(z^G^T)+O[14]+4259657740&4294967295,N=z+(U<<23&4294967295|U>>>9),U=T+(N^z^G)+O[1]+2763975236&4294967295,T=N+(U<<4&4294967295|U>>>28),U=G+(T^N^z)+O[4]+1272893353&4294967295,G=T+(U<<11&4294967295|U>>>21),U=z+(G^T^N)+O[7]+4139469664&4294967295,z=G+(U<<16&4294967295|U>>>16),U=N+(z^G^T)+O[10]+3200236656&4294967295,N=z+(U<<23&4294967295|U>>>9),U=T+(N^z^G)+O[13]+681279174&4294967295,T=N+(U<<4&4294967295|U>>>28),U=G+(T^N^z)+O[0]+3936430074&4294967295,G=T+(U<<11&4294967295|U>>>21),U=z+(G^T^N)+O[3]+3572445317&4294967295,z=G+(U<<16&4294967295|U>>>16),U=N+(z^G^T)+O[6]+76029189&4294967295,N=z+(U<<23&4294967295|U>>>9),U=T+(N^z^G)+O[9]+3654602809&4294967295,T=N+(U<<4&4294967295|U>>>28),U=G+(T^N^z)+O[12]+3873151461&4294967295,G=T+(U<<11&4294967295|U>>>21),U=z+(G^T^N)+O[15]+530742520&4294967295,z=G+(U<<16&4294967295|U>>>16),U=N+(z^G^T)+O[2]+3299628645&4294967295,N=z+(U<<23&4294967295|U>>>9),U=T+(z^(N|~G))+O[0]+4096336452&4294967295,T=N+(U<<6&4294967295|U>>>26),U=G+(N^(T|~z))+O[7]+1126891415&4294967295,G=T+(U<<10&4294967295|U>>>22),U=z+(T^(G|~N))+O[14]+2878612391&4294967295,z=G+(U<<15&4294967295|U>>>17),U=N+(G^(z|~T))+O[5]+4237533241&4294967295,N=z+(U<<21&4294967295|U>>>11),U=T+(z^(N|~G))+O[12]+1700485571&4294967295,T=N+(U<<6&4294967295|U>>>26),U=G+(N^(T|~z))+O[3]+2399980690&4294967295,G=T+(U<<10&4294967295|U>>>22),U=z+(T^(G|~N))+O[10]+4293915773&4294967295,z=G+(U<<15&4294967295|U>>>17),U=N+(G^(z|~T))+O[1]+2240044497&4294967295,N=z+(U<<21&4294967295|U>>>11),U=T+(z^(N|~G))+O[8]+1873313359&4294967295,T=N+(U<<6&4294967295|U>>>26),U=G+(N^(T|~z))+O[15]+4264355552&4294967295,G=T+(U<<10&4294967295|U>>>22),U=z+(T^(G|~N))+O[6]+2734768916&4294967295,z=G+(U<<15&4294967295|U>>>17),U=N+(G^(z|~T))+O[13]+1309151649&4294967295,N=z+(U<<21&4294967295|U>>>11),U=T+(z^(N|~G))+O[4]+4149444226&4294967295,T=N+(U<<6&4294967295|U>>>26),U=G+(N^(T|~z))+O[11]+3174756917&4294967295,G=T+(U<<10&4294967295|U>>>22),U=z+(T^(G|~N))+O[2]+718787259&4294967295,z=G+(U<<15&4294967295|U>>>17),U=N+(G^(z|~T))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(z+(U<<21&4294967295|U>>>11))&4294967295,S.g[2]=S.g[2]+z&4294967295,S.g[3]=S.g[3]+G&4294967295}s.prototype.v=function(S,T){T===void 0&&(T=S.length);const N=T-this.blockSize,O=this.C;let z=this.h,G=0;for(;G<T;){if(z==0)for(;G<=N;)a(this,S,G),G+=this.blockSize;if(typeof S=="string"){for(;G<T;)if(O[z++]=S.charCodeAt(G++),z==this.blockSize){a(this,O),z=0;break}}else for(;G<T;)if(O[z++]=S[G++],z==this.blockSize){a(this,O),z=0;break}}this.h=z,this.o+=T},s.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;T=this.o*8;for(var N=S.length-8;N<S.length;++N)S[N]=T&255,T/=256;for(this.v(S),S=Array(16),T=0,N=0;N<4;++N)for(let O=0;O<32;O+=8)S[T++]=this.g[N]>>>O&255;return S};function l(S,T){var N=h;return Object.prototype.hasOwnProperty.call(N,S)?N[S]:N[S]=T(S)}function u(S,T){this.h=T;const N=[];let O=!0;for(let z=S.length-1;z>=0;z--){const G=S[z]|0;O&&G==T||(N[z]=G,O=!1)}this.g=N}var h={};function g(S){return-128<=S&&S<128?l(S,function(T){return new u([T|0],T<0?-1:0)}):new u([S|0],S<0?-1:0)}function p(S){if(isNaN(S)||!isFinite(S))return v;if(S<0)return k(p(-S));const T=[];let N=1;for(let O=0;S>=N;O++)T[O]=S/N|0,N*=4294967296;return new u(T,0)}function x(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return k(x(S.substring(1),T));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(T,8));let O=v;for(let G=0;G<S.length;G+=8){var z=Math.min(8,S.length-G);const U=parseInt(S.substring(G,G+z),T);z<8?(z=p(Math.pow(T,z)),O=O.j(z).add(p(U))):(O=O.j(N),O=O.add(p(U)))}return O}var v=g(0),_=g(1),A=g(16777216);t=u.prototype,t.m=function(){if(M(this))return-k(this).m();let S=0,T=1;for(let N=0;N<this.g.length;N++){const O=this.i(N);S+=(O>=0?O:4294967296+O)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(V(this))return"0";if(M(this))return"-"+k(this).toString(S);const T=p(Math.pow(S,6));var N=this;let O="";for(;;){const z=D(N,T).g;N=L(N,z.j(T));let G=((N.g.length>0?N.g[0]:N.h)>>>0).toString(S);if(N=z,V(N))return G+O;for(;G.length<6;)G="0"+G;O=G+O}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function V(S){if(S.h!=0)return!1;for(let T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function M(S){return S.h==-1}t.l=function(S){return S=L(this,S),M(S)?-1:V(S)?0:1};function k(S){const T=S.g.length,N=[];for(let O=0;O<T;O++)N[O]=~S.g[O];return new u(N,~S.h).add(_)}t.abs=function(){return M(this)?k(this):this},t.add=function(S){const T=Math.max(this.g.length,S.g.length),N=[];let O=0;for(let z=0;z<=T;z++){let G=O+(this.i(z)&65535)+(S.i(z)&65535),U=(G>>>16)+(this.i(z)>>>16)+(S.i(z)>>>16);O=U>>>16,G&=65535,U&=65535,N[z]=U<<16|G}return new u(N,N[N.length-1]&-2147483648?-1:0)};function L(S,T){return S.add(k(T))}t.j=function(S){if(V(this)||V(S))return v;if(M(this))return M(S)?k(this).j(k(S)):k(k(this).j(S));if(M(S))return k(this.j(k(S)));if(this.l(A)<0&&S.l(A)<0)return p(this.m()*S.m());const T=this.g.length+S.g.length,N=[];for(var O=0;O<2*T;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(let z=0;z<S.g.length;z++){const G=this.i(O)>>>16,U=this.i(O)&65535,Ke=S.i(z)>>>16,Xe=S.i(z)&65535;N[2*O+2*z]+=U*Xe,B(N,2*O+2*z),N[2*O+2*z+1]+=G*Xe,B(N,2*O+2*z+1),N[2*O+2*z+1]+=U*Ke,B(N,2*O+2*z+1),N[2*O+2*z+2]+=G*Ke,B(N,2*O+2*z+2)}for(S=0;S<T;S++)N[S]=N[2*S+1]<<16|N[2*S];for(S=T;S<2*T;S++)N[S]=0;return new u(N,0)};function B(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function I(S,T){this.g=S,this.h=T}function D(S,T){if(V(T))throw Error("division by zero");if(V(S))return new I(v,v);if(M(S))return T=D(k(S),T),new I(k(T.g),k(T.h));if(M(T))return T=D(S,k(T)),new I(k(T.g),T.h);if(S.g.length>30){if(M(S)||M(T))throw Error("slowDivide_ only works with positive integers.");for(var N=_,O=T;O.l(S)<=0;)N=P(N),O=P(O);var z=H(N,1),G=H(O,1);for(O=H(O,2),N=H(N,2);!V(O);){var U=G.add(O);U.l(S)<=0&&(z=z.add(N),G=U),O=H(O,1),N=H(N,1)}return T=L(S,z.j(T)),new I(z,T)}for(z=v;S.l(T)>=0;){for(N=Math.max(1,Math.floor(S.m()/T.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),G=p(N),U=G.j(T);M(U)||U.l(S)>0;)N-=O,G=p(N),U=G.j(T);V(G)&&(G=_),z=z.add(G),S=L(S,U)}return new I(z,S)}t.B=function(S){return D(this,S).h},t.and=function(S){const T=Math.max(this.g.length,S.g.length),N=[];for(let O=0;O<T;O++)N[O]=this.i(O)&S.i(O);return new u(N,this.h&S.h)},t.or=function(S){const T=Math.max(this.g.length,S.g.length),N=[];for(let O=0;O<T;O++)N[O]=this.i(O)|S.i(O);return new u(N,this.h|S.h)},t.xor=function(S){const T=Math.max(this.g.length,S.g.length),N=[];for(let O=0;O<T;O++)N[O]=this.i(O)^S.i(O);return new u(N,this.h^S.h)};function P(S){const T=S.g.length+1,N=[];for(let O=0;O<T;O++)N[O]=S.i(O)<<1|S.i(O-1)>>>31;return new u(N,S.h)}function H(S,T){const N=T>>5;T%=32;const O=S.g.length-N,z=[];for(let G=0;G<O;G++)z[G]=T>0?S.i(G+N)>>>T|S.i(G+N+1)<<32-T:S.i(G+N);return new u(z,S.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ZE=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=x,wa=u}).apply(typeof P4<"u"?P4:typeof self<"u"?self:typeof window<"u"?window:{});var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var JE,zu,e5,Bf,wy,t5,n5,s5;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ef=="object"&&Ef];for(var b=0;b<f.length;++b){var E=f[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(f,b){if(b)e:{var E=s;f=f.split(".");for(var R=0;R<f.length-1;R++){var Y=f[R];if(!(Y in E))break e;E=E[Y]}f=f[f.length-1],R=E[f],b=b(R),b!=R&&b!=null&&e(E,f,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(b){var E=[],R;for(R in b)Object.prototype.hasOwnProperty.call(b,R)&&E.push([R,b[R]]);return E}});var l=l||{},u=this||self;function h(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function g(f,b,E){return f.call.apply(f.bind,arguments)}function p(f,b,E){return p=g,p.apply(null,arguments)}function x(f,b){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function v(f,b){function E(){}E.prototype=b.prototype,f.Z=b.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(R,Y,J){for(var ue=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ue[Pe-2]=arguments[Pe];return b.prototype[Y].apply(R,ue)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const b=f.length;if(b>0){const E=Array(b);for(let R=0;R<b;R++)E[R]=f[R];return E}return[]}function V(f,b){for(let R=1;R<arguments.length;R++){const Y=arguments[R];var E=typeof Y;if(E=E!="object"?E:Y?Array.isArray(Y)?"array":E:"null",E=="array"||E=="object"&&typeof Y.length=="number"){E=f.length||0;const J=Y.length||0;f.length=E+J;for(let ue=0;ue<J;ue++)f[E+ue]=Y[ue]}else f.push(Y)}}class M{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function k(f){u.setTimeout(()=>{throw f},0)}function L(){var f=S;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class B{constructor(){this.h=this.g=null}add(b,E){const R=I.get();R.set(b,E),this.h?this.h.next=R:this.g=R,this.h=R}}var I=new M(()=>new D,f=>f.reset());class D{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let P,H=!1,S=new B,T=()=>{const f=Promise.resolve(void 0);P=()=>{f.then(N)}};function N(){for(var f;f=L();){try{f.h.call(f.g)}catch(E){k(E)}var b=I;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}H=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};u.addEventListener("test",E,b),u.removeEventListener("test",E,b)}catch{}return f})();function U(f){return/^[\s\xa0]*$/.test(f)}function Ke(f,b){z.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}v(Ke,z),Ke.prototype.init=function(f,b){const E=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(E=="mouseover"?b=f.fromElement:E=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Ke.Z.h.call(this)},Ke.prototype.h=function(){Ke.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Xe="closure_listenable_"+(Math.random()*1e6|0),te=0;function ce(f,b,E,R,Y){this.listener=f,this.proxy=null,this.src=b,this.type=E,this.capture=!!R,this.ha=Y,this.key=++te,this.da=this.fa=!1}function pe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function De(f,b,E){for(const R in f)b.call(E,f[R],R,f)}function Le(f,b){for(const E in f)b.call(void 0,f[E],E,f)}function $(f){const b={};for(const E in f)b[E]=f[E];return b}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(f,b){let E,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(E in R)f[E]=R[E];for(let J=0;J<re.length;J++)E=re[J],Object.prototype.hasOwnProperty.call(R,E)&&(f[E]=R[E])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,b,E,R,Y){const J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);const ue=Me(f,b,R,Y);return ue>-1?(b=f[ue],E||(b.fa=!1)):(b=new ce(b,this.src,J,!!R,Y),b.fa=E,f.push(b)),b};function Ce(f,b){const E=b.type;if(E in f.g){var R=f.g[E],Y=Array.prototype.indexOf.call(R,b,void 0),J;(J=Y>=0)&&Array.prototype.splice.call(R,Y,1),J&&(pe(b),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Me(f,b,E,R){for(let Y=0;Y<f.length;++Y){const J=f[Y];if(!J.da&&J.listener==b&&J.capture==!!E&&J.ha==R)return Y}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),jt={};function fe(f,b,E,R,Y){if(Array.isArray(b)){for(let J=0;J<b.length;J++)fe(f,b[J],E,R,Y);return null}return E=kc(E),f&&f[Xe]?f.J(b,E,h(R)?!!R.capture:!1,Y):We(f,b,E,!1,R,Y)}function We(f,b,E,R,Y,J){if(!b)throw Error("Invalid event type");const ue=h(Y)?!!Y.capture:!!Y;let Pe=Oa(f);if(Pe||(f[Ue]=Pe=new me(f)),E=Pe.add(b,E,R,ue,J),E.proxy)return E;if(R=nt(),E.proxy=R,R.src=f,R.listener=E,f.addEventListener)G||(Y=ue),Y===void 0&&(Y=!1),f.addEventListener(b.toString(),R,Y);else if(f.attachEvent)f.attachEvent(Fn(b.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function nt(){function f(E){return b.call(f.src,f.listener,E)}const b=Ic;return f}function Dn(f,b,E,R,Y){if(Array.isArray(b))for(var J=0;J<b.length;J++)Dn(f,b[J],E,R,Y);else R=h(R)?!!R.capture:!!R,E=kc(E),f&&f[Xe]?(f=f.i,J=String(b).toString(),J in f.g&&(b=f.g[J],E=Me(b,E,R,Y),E>-1&&(pe(b[E]),Array.prototype.splice.call(b,E,1),b.length==0&&(delete f.g[J],f.h--)))):f&&(f=Oa(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Me(b,E,R,Y)),(E=f>-1?b[f]:null)&&mn(E))}function mn(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Xe])Ce(b.i,f);else{var E=f.type,R=f.proxy;b.removeEventListener?b.removeEventListener(E,R,f.capture):b.detachEvent?b.detachEvent(Fn(E),R):b.addListener&&b.removeListener&&b.removeListener(R),(E=Oa(b))?(Ce(E,f),E.h==0&&(E.src=null,b[Ue]=null)):pe(f)}}}function Fn(f){return f in jt?jt[f]:jt[f]="on"+f}function Ic(f,b){if(f.da)f=!0;else{b=new Ke(b,this);const E=f.listener,R=f.ha||f.src;f.fa&&mn(f),f=E.call(R,b)}return f}function Oa(f){return f=f[Ue],f instanceof me?f:null}var Rc="__closure_events_fn_"+(Math.random()*1e9>>>0);function kc(f){return typeof f=="function"?f:(f[Rc]||(f[Rc]=function(b){return f.handleEvent(b)}),f[Rc])}function qt(){O.call(this),this.i=new me(this),this.M=this,this.G=null}v(qt,O),qt.prototype[Xe]=!0,qt.prototype.removeEventListener=function(f,b,E,R){Dn(this,f,b,E,R)};function rn(f,b){var E,R=f.G;if(R)for(E=[];R;R=R.G)E.push(R);if(f=f.M,R=b.type||b,typeof b=="string")b=new z(b,f);else if(b instanceof z)b.target=b.target||f;else{var Y=b;b=new z(R,f),de(b,Y)}Y=!0;let J,ue;if(E)for(ue=E.length-1;ue>=0;ue--)J=b.g=E[ue],Y=Ir(J,R,!0,b)&&Y;if(J=b.g=f,Y=Ir(J,R,!0,b)&&Y,Y=Ir(J,R,!1,b)&&Y,E)for(ue=0;ue<E.length;ue++)J=b.g=E[ue],Y=Ir(J,R,!1,b)&&Y}qt.prototype.N=function(){if(qt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const E=f.g[b];for(let R=0;R<E.length;R++)pe(E[R]);delete f.g[b],f.h--}}this.G=null},qt.prototype.J=function(f,b,E,R){return this.i.add(String(f),b,!1,E,R)},qt.prototype.K=function(f,b,E,R){return this.i.add(String(f),b,!0,E,R)};function Ir(f,b,E,R){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let Y=!0;for(let J=0;J<b.length;++J){const ue=b[J];if(ue&&!ue.da&&ue.capture==E){const Pe=ue.listener,Pt=ue.ha||ue.src;ue.fa&&Ce(f.i,ue),Y=Pe.call(Pt,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function wp(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(f,b||0)}function $d(f){f.g=wp(()=>{f.g=null,f.i&&(f.i=!1,$d(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Mn extends O{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:$d(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function La(f){O.call(this),this.h=f,this.g={}}v(La,O);var Dc=[];function Mc(f){De(f.g,function(b,E){this.g.hasOwnProperty(E)&&mn(b)},f),f.g={}}La.prototype.N=function(){La.Z.N.call(this),Mc(this)},La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rr=u.JSON.stringify,_p=u.JSON.parse,Gd=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Kd(){}function Yd(){}var qs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pn(){z.call(this,"d")}v(pn,z);function gs(){z.call(this,"c")}v(gs,z);var Mt={},Qd=null;function qo(){return Qd=Qd||new qt}Mt.Ia="serverreachability";function Xd(f){z.call(this,Mt.Ia,f)}v(Xd,z);function ui(f){const b=qo();rn(b,new Xd(b))}Mt.STAT_EVENT="statevent";function Ba(f,b){z.call(this,Mt.STAT_EVENT,f),this.stat=b}v(Ba,z);function $t(f){const b=qo();rn(b,new Ba(b,f))}Mt.Ja="timingevent";function di(f,b){z.call(this,Mt.Ja,f),this.size=b}v(di,z);function hi(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},b)}function $s(){this.g=!0}$s.prototype.ua=function(){this.g=!1};function Ep(f,b,E,R,Y,J){f.info(function(){if(f.g)if(J){var ue="",Pe=J.split("&");for(let st=0;st<Pe.length;st++){var Pt=Pe[st].split("=");if(Pt.length>1){const Et=Pt[0];Pt=Pt[1];const bs=Et.split("_");ue=bs.length>=2&&bs[1]=="type"?ue+(Et+"="+Pt+"&"):ue+(Et+"=redacted&")}}}else ue=null;else ue=J;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+b+`
`+E+`
`+ue})}function Wd(f,b,E,R,Y,J,ue){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+b+`
`+E+`
`+J+" "+ue})}function fi(f,b,E,R){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Tp(f,E)+(R?" "+R:"")})}function za(f,b){f.info(function(){return"TIMEOUT: "+b})}$s.prototype.info=function(){};function Tp(f,b){if(!f.g)return b;if(!b)return null;try{const J=JSON.parse(b);if(J){for(f=0;f<J.length;f++)if(Array.isArray(J[f])){var E=J[f];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var Y=R[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ue=1;ue<R.length;ue++)R[ue]=""}}}}return Rr(J)}catch{return b}}var Ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vc;function Fa(){}v(Fa,Kd),Fa.prototype.g=function(){return new XMLHttpRequest},Vc=new Fa;function Ki(f){return encodeURIComponent(String(f))}function Zd(f){var b=1;f=f.split(":");const E=[];for(;b>0&&f.length;)E.push(f.shift()),b--;return f.length&&E.push(f.join(":")),E}function Gs(f,b,E,R){this.j=f,this.i=b,this.l=E,this.S=R||1,this.V=new La(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ks}function Ks(){this.i=null,this.g="",this.h=!1}var Gt={},ln={};function mi(f,b,E){f.M=1,f.A=Ha(Yt(b)),f.u=E,f.R=!0,$o(f,null)}function $o(f,b){f.F=Date.now(),pi(f),f.B=Yt(f.A);var E=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),Qo(E.i,"t",R),f.C=0,E=f.j.L,f.h=new Ks,f.g=fh(f.j,E?b:null,!f.u),f.P>0&&(f.O=new Mn(p(f.Y,f,f.g),f.P)),b=f.V,E=f.g,R=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Dc[0]=Y.toString()),Y=Dc);for(let J=0;J<Y.length;J++){const ue=fe(E,Y[J],R||b.handleEvent,!1,b.h||b);if(!ue)break;b.g[ue.key]=ue}b=f.J?$(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),ui(),Ep(f.i,f.v,f.B,f.l,f.S,f.u)}Gs.prototype.ba=function(f){f=f.target;const b=this.O;b&&Xs(f)==3?b.j():this.Y(f)},Gs.prototype.Y=function(f){try{if(f==this.g)e:{const Pe=Xs(this.g),Pt=this.g.ya(),st=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||gn(this.g)))){this.K||Pe!=4||Pt==7||(Pt==8||st<=0?ui(3):ui(2)),gi(this);var b=this.g.ca();this.X=b;var E=Ap(this);if(this.o=b==200,Wd(this.i,this.v,this.B,this.l,this.S,Pe,b),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Y=this.g;if((R=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(R)){var J=R;break t}}J=null}if(f=J)fi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,f);else{this.o=!1,this.m=3,$t(12),ts(this),ys(this);break e}}if(this.R){f=!0;let Et;for(;!this.K&&this.C<E.length;)if(Et=eh(this,E),Et==ln){Pe==4&&(this.m=4,$t(14),f=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Gt){this.m=4,$t(15),fi(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else fi(this.i,this.l,Et,null),yi(this,Et);if(Jd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||E.length!=0||this.h.h||(this.m=1,$t(16),f=!1),this.o=this.o&&f,!f)fi(this.i,this.l,E,"[Invalid Chunked Response]"),ts(this),ys(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Wc(ue),ue.P=!0,$t(11))}}else fi(this.i,this.l,E,null),yi(this,E);Pe==4&&ts(this),this.o&&!this.K&&(Pe==4?ch(this.j,this):(this.o=!1,pi(this)))}else Qi(this.g),b==400&&E.indexOf("Unknown SID")>0?(this.m=3,$t(12)):(this.m=0,$t(13)),ts(this),ys(this)}}}catch{}finally{}};function Ap(f){if(!Jd(f))return f.g.la();const b=gn(f.g);if(b==="")return"";let E="";const R=b.length,Y=Xs(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ts(f),ys(f),"";f.h.i=new u.TextDecoder}for(let J=0;J<R;J++)f.h.h=!0,E+=f.h.i.decode(b[J],{stream:!(Y&&J==R-1)});return b.length=0,f.h.g+=E,f.C=0,f.h.g}function Jd(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function eh(f,b){var E=f.C,R=b.indexOf(`
`,E);return R==-1?ln:(E=Number(b.substring(E,R)),isNaN(E)?Gt:(R+=1,R+E>b.length?ln:(b=b.slice(R,R+E),f.C=R+E,b)))}Gs.prototype.cancel=function(){this.K=!0,ts(this)};function pi(f){f.T=Date.now()+f.H,Go(f,f.H)}function Go(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=hi(p(f.aa,f),b)}function gi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}Gs.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(za(this.i,this.B),this.M!=2&&(ui(),$t(17)),ts(this),this.m=2,ys(this)):Go(this,this.T-f)};function ys(f){f.j.I==0||f.K||ch(f.j,f)}function ts(f){gi(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Mc(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function yi(f,b){try{var E=f.j;if(E.I!=0&&(E.g==f||vi(E.h,f))){if(!f.L&&vi(E.h,f)&&E.I==3){try{var R=E.Ba.g.parse(b)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)el(E),Br(E);else break e;Xa(E),$t(18)}}else E.xa=Y[1],0<E.xa-E.K&&Y[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=hi(p(E.Va,E),6e3));xi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ai(E,11)}else if((f.L||E.g==f)&&el(E),!U(b))for(Y=E.Ba.g.parse(b),b=0;b<Y.length;b++){let st=Y[b];const Et=st[0];if(!(Et<=E.K))if(E.K=Et,st=st[1],E.I==2)if(st[0]=="c"){E.M=st[1],E.ba=st[2];const bs=st[3];bs!=null&&(E.ka=bs,E.j.info("VER="+E.ka));const Ci=st[4];Ci!=null&&(E.za=Ci,E.j.info("SVER="+E.za));const Ws=st[5];Ws!=null&&typeof Ws=="number"&&Ws>0&&(R=1.5*Ws,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Zs=f.g;if(Zs){const Wa=Zs.g?Zs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wa){var J=R.h;J.g||Wa.indexOf("spdy")==-1&&Wa.indexOf("quic")==-1&&Wa.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Bc(J,J.h),J.h=null))}if(R.G){const tl=Zs.g?Zs.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(R.wa=tl,lt(R.J,R.G,tl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var ue=f;if(R.na=hh(R,R.L?R.ba:null,R.W),ue.L){zc(R.h,ue);var Pe=ue,Pt=R.O;Pt&&(Pe.H=Pt),Pe.D&&(gi(Pe),pi(Pe)),R.g=ue}else oh(R);E.i.length>0&&Ti(E)}else st[0]!="stop"&&st[0]!="close"||Ai(E,7);else E.I==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Ai(E,7):Qc(E):st[0]!="noop"&&E.l&&E.l.qa(st),E.A=0)}}ui(4)}catch{}}var Kt=class{constructor(f,b){this.g=f,this.map=b}};function Oc(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function xi(f){return f.h?1:f.g?f.g.size:0}function vi(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Bc(f,b){f.g?f.g.add(b):f.h=b}function zc(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Oc.prototype.cancel=function(){if(this.i=Uc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Uc(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const E of f.g.values())b=b.concat(E.G);return b}return A(f.i)}var th=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ko(f,b){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const R=f[E].indexOf("=");let Y,J=null;R>=0?(Y=f[E].substring(0,R),J=f[E].substring(R+1)):Y=f[E],b(Y,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ns(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof ns?(this.l=f.l,cn(this,f.j),this.o=f.o,this.g=f.g,kr(this,f.u),this.h=f.h,Fc(this,rh(f.i)),this.m=f.m):f&&(b=String(f).match(th))?(this.l=!1,cn(this,b[1]||"",!0),this.o=bi(b[2]||""),this.g=bi(b[3]||"",!0),kr(this,b[4]),this.h=bi(b[5]||"",!0),Fc(this,b[6]||"",!0),this.m=bi(b[7]||"")):(this.l=!1,this.i=new Mr(null,this.l))}ns.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(qa(b,Yo,!0),":");var E=this.g;return(E||b=="file")&&(f.push("//"),(b=this.o)&&f.push(qa(b,Yo,!0),"@"),f.push(Ki(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(qa(E,E.charAt(0)=="/"?Hc:nh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",qa(E,sh)),f.join("")},ns.prototype.resolve=function(f){const b=Yt(this);let E=!!f.j;E?cn(b,f.j):E=!!f.o,E?b.o=f.o:E=!!f.g,E?b.g=f.g:E=f.u!=null;var R=f.h;if(E)kr(b,f.u);else if(E=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Y=b.h.lastIndexOf("/");Y!=-1&&(R=b.h.slice(0,Y+1)+R)}if(Y=R,Y==".."||Y==".")R="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){R=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const J=[];for(let ue=0;ue<Y.length;){const Pe=Y[ue++];Pe=="."?R&&ue==Y.length&&J.push(""):Pe==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),R&&ue==Y.length&&J.push("")):(J.push(Pe),R=!0)}R=J.join("/")}else R=Y}return E?b.h=R:E=f.i.toString()!=="",E?Fc(b,rh(f.i)):E=!!f.m,E&&(b.m=f.m),b};function Yt(f){return new ns(f)}function cn(f,b,E){f.j=E?bi(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function kr(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function Fc(f,b,E){b instanceof Mr?(f.i=b,Xo(f.i,f.l)):(E||(b=qa(b,Dr)),f.i=new Mr(b,f.l))}function lt(f,b,E){f.i.set(b,E)}function Ha(f){return lt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function bi(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function qa(f,b,E){return typeof f=="string"?(f=encodeURI(f).replace(b,Hn),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Hn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Yo=/[#\/\?@]/g,nh=/[#\?:]/g,Hc=/[#\?]/g,Dr=/[#\?@]/g,sh=/#/g;function Mr(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function qn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ko(f.i,function(b,E){f.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}t=Mr.prototype,t.add=function(f,b){qn(this),this.i=null,f=Pr(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(b),this.h+=1,this};function ih(f,b){qn(f),b=Pr(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function qc(f,b){return qn(f),b=Pr(f,b),f.g.has(b)}t.forEach=function(f,b){qn(this),this.g.forEach(function(E,R){E.forEach(function(Y){f.call(b,Y,R,this)},this)},this)};function $c(f,b){qn(f);let E=[];if(typeof b=="string")qc(f,b)&&(E=E.concat(f.g.get(Pr(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)E=E.concat(f[b]);return E}t.set=function(f,b){return qn(this),this.i=null,f=Pr(this,f),qc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=$c(this,f),f.length>0?String(f[0]):b):b};function Qo(f,b,E){ih(f,b),E.length>0&&(f.i=null,f.g.set(Pr(f,b),A(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let R=0;R<b.length;R++){var E=b[R];const Y=Ki(E);E=$c(this,E);for(let J=0;J<E.length;J++){let ue=Y;E[J]!==""&&(ue+="="+Ki(E[J])),f.push(ue)}}return this.i=f.join("&")};function rh(f){const b=new Mr;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function Pr(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Xo(f,b){b&&!f.j&&(qn(f),f.i=null,f.g.forEach(function(E,R){const Y=R.toLowerCase();R!=Y&&(ih(this,R),Qo(this,Y,E))},f)),f.j=b}function Ys(f,b){const E=new $s;if(u.Image){const R=new Image;R.onload=x(xs,E,"TestLoadImage: loaded",!0,b,R),R.onerror=x(xs,E,"TestLoadImage: error",!1,b,R),R.onabort=x(xs,E,"TestLoadImage: abort",!1,b,R),R.ontimeout=x(xs,E,"TestLoadImage: timeout",!1,b,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else b(!1)}function Gc(f,b){const E=new $s,R=new AbortController,Y=setTimeout(()=>{R.abort(),xs(E,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:R.signal}).then(J=>{clearTimeout(Y),J.ok?xs(E,"TestPingServer: ok",!0,b):xs(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),xs(E,"TestPingServer: error",!1,b)})}function xs(f,b,E,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(E)}catch{}}function Vr(){this.g=new Gd}function wi(f){this.i=f.Sb||null,this.h=f.ab||!1}v(wi,Kd),wi.prototype.g=function(){return new $a(this.i,this.h)};function $a(f,b){qt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v($a,qt),t=$a.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Qs(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Qs(this)),this.g&&(this.readyState=3,Qs(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Or(this):Qs(this),this.readyState==3&&Wo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Or(this))},t.Na=function(f){this.g&&(this.response=f,Or(this))},t.ga=function(){this.g&&Or(this)};function Or(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Qs(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=b.next();return f.join(`\r
`)};function Qs(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty($a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function vs(f){let b="";return De(f,function(E,R){b+=R,b+=":",b+=E,b+=`\r
`}),b}function Ga(f,b,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=vs(E),typeof f=="string"?E!=null&&Ki(E):lt(f,b,E))}function dt(f){qt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(dt,qt);var _i=/^https?$/i,Kc=["POST","PUT"];t=dt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vc.g(),this.g.onreadystatechange=_(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(J){Ka(this,J);return}if(f=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)E.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())E.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),Y=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Kc,b,void 0)>=0)||R||Y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ue]of E)this.g.setRequestHeader(J,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(J){Ka(this,J)}};function Ka(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,Yc(f),Yi(f)}function Yc(f){f.A||(f.A=!0,rn(f,"complete"),rn(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,rn(this,"complete"),rn(this,"abort"),Yi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ya(this):this.Xa())},t.Xa=function(){Ya(this)};function Ya(f){if(f.h&&typeof l<"u"){if(f.v&&Xs(f)==4)setTimeout(f.Ca.bind(f),0);else if(rn(f,"readystatechange"),Xs(f)==4){f.h=!1;try{const J=f.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var R;if(R=J===0){let ue=String(f.D).match(th)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),R=!_i.test(ue?ue.toLowerCase():"")}E=R}if(E)rn(f,"complete"),rn(f,"success");else{f.o=6;try{var Y=Xs(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",Yc(f)}}finally{Yi(f)}}}}function Yi(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,b||rn(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xs(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Xs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),_p(b)}};function gn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(f){const b={};f=(f.g&&Xs(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(U(f[R]))continue;var E=Zd(f[R]);const Y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=b[Y]||[];b[Y]=J,J.push(E)}Le(b,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(f,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||b}function Lr(f){this.za=0,this.i=[],this.j=new $s,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,f),this.Za=Ei("retryDelaySeedMs",1e4,f),this.Ta=Ei("forwardChannelMaxRetries",2,f),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Oc(f&&f.concurrentRequestLimit),this.Ba=new Vr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Lr.prototype,t.ka=8,t.I=1,t.connect=function(f,b,E,R){$t(0),this.W=f,this.H=b||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=hh(this,null,this.W),Ti(this)};function Qc(f){if(Zo(f),f.I==3){var b=f.V++,E=Yt(f.J);if(lt(E,"SID",f.M),lt(E,"RID",b),lt(E,"TYPE","terminate"),Qa(f,E),b=new Gs(f,f.j,b),b.M=2,b.A=Ha(Yt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=b.A,E=!0),E||(b.g=fh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),pi(b)}dh(f)}function Br(f){f.g&&(Wc(f),f.g.cancel(),f.g=null)}function Zo(f){Br(f),f.v&&(u.clearTimeout(f.v),f.v=null),el(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Ti(f){if(!Lc(f.h)&&!f.m){f.m=!0;var b=f.Ea;P||T(),H||(P(),H=!0),S.add(b,f),f.D=0}}function Jo(f,b){return xi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=hi(p(f.Ea,f,b),uh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new Gs(this,this.j,f);let J=this.o;if(this.U&&(J?(J=$(J),de(J,this.U)):J=this.U),this.u!==null||this.R||(Y.J=J,J=null),this.S)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(b+=R,b>4096){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=ah(this,Y,b),E=Yt(this.J),lt(E,"RID",f),lt(E,"CVER",22),this.G&&lt(E,"X-HTTP-Session-Id",this.G),Qa(this,E),J&&(this.R?b="headers="+Ki(vs(J))+"&"+b:this.u&&Ga(E,this.u,J)),Bc(this.h,Y),this.Ra&&lt(E,"TYPE","init"),this.S?(lt(E,"$req",b),lt(E,"SID","null"),Y.U=!0,mi(Y,E,null)):mi(Y,E,b),this.I=2}}else this.I==3&&(f?Xc(this,f):this.i.length==0||Lc(this.h)||Xc(this))};function Xc(f,b){var E;b?E=b.l:E=f.V++;const R=Yt(f.J);lt(R,"SID",f.M),lt(R,"RID",E),lt(R,"AID",f.K),Qa(f,R),f.u&&f.o&&Ga(R,f.u,f.o),E=new Gs(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),b&&(f.i=b.G.concat(f.i)),b=ah(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Bc(f.h,E),mi(E,R,b)}function Qa(f,b){f.H&&De(f.H,function(E,R){lt(b,R,E)}),f.l&&De({},function(E,R){lt(b,R,E)})}function ah(f,b,E){E=Math.min(f.i.length,E);const R=f.l?p(f.l.Ka,f.l,f):null;e:{var Y=f.i;let Pe=-1;for(;;){const Pt=["count="+E];Pe==-1?E>0?(Pe=Y[0].g,Pt.push("ofs="+Pe)):Pe=0:Pt.push("ofs="+Pe);let st=!0;for(let Et=0;Et<E;Et++){var J=Y[Et].g;const bs=Y[Et].map;if(J-=Pe,J<0)Pe=Math.max(0,Y[Et].g-100),st=!1;else try{J="req"+J+"_"||"";try{var ue=bs instanceof Map?bs:Object.entries(bs);for(const[Ci,Ws]of ue){let Zs=Ws;h(Ws)&&(Zs=Rr(Ws)),Pt.push(J+Ci+"="+encodeURIComponent(Zs))}}catch(Ci){throw Pt.push(J+"type="+encodeURIComponent("_badmap")),Ci}}catch{R&&R(bs)}}if(st){ue=Pt.join("&");break e}}ue=void 0}return f=f.i.splice(0,E),b.G=f,ue}function oh(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;P||T(),H||(P(),H=!0),S.add(b,f),f.A=0}}function Xa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=hi(p(f.Da,f),uh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,lh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=hi(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,$t(10),Br(this),lh(this))};function Wc(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function lh(f){f.g=new Gs(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Yt(f.na);lt(b,"RID","rpc"),lt(b,"SID",f.M),lt(b,"AID",f.K),lt(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&lt(b,"TO",f.ia),lt(b,"TYPE","xmlhttp"),Qa(f,b),f.u&&f.o&&Ga(b,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=Ha(Yt(b)),E.u=null,E.R=!0,$o(E,f)}t.Va=function(){this.C!=null&&(this.C=null,Br(this),Xa(this),$t(19))};function el(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function ch(f,b){var E=null;if(f.g==b){el(f),Wc(f),f.g=null;var R=2}else if(vi(f.h,b))E=b.G,zc(f.h,b),R=1;else return;if(f.I!=0){if(b.o)if(R==1){E=b.u?b.u.length:0,b=Date.now()-b.F;var Y=f.D;R=qo(),rn(R,new di(R,E)),Ti(f)}else oh(f);else if(Y=b.m,Y==3||Y==0&&b.X>0||!(R==1&&Jo(f,b)||R==2&&Xa(f)))switch(E&&E.length>0&&(b=f.h,b.i=b.i.concat(E)),Y){case 1:Ai(f,5);break;case 4:Ai(f,10);break;case 3:Ai(f,6);break;default:Ai(f,2)}}}function uh(f,b){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*b}function Ai(f,b){if(f.j.info("Error code "+b),b==2){var E=p(f.bb,f),R=f.Ua;const Y=!R;R=new ns(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||cn(R,"https"),Ha(R),Y?Ys(R.toString(),E):Gc(R.toString(),E)}else $t(2);f.I=0,f.l&&f.l.pa(b),dh(f),Zo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function dh(f){if(f.I=0,f.ja=[],f.l){const b=Uc(f.h);(b.length!=0||f.i.length!=0)&&(V(f.ja,b),V(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function hh(f,b,E){var R=E instanceof ns?Yt(E):new ns(E);if(R.g!="")b&&(R.g=b+"."+R.g),kr(R,R.u);else{var Y=u.location;R=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;const J=new ns(null);R&&cn(J,R),b&&(J.g=b),Y&&kr(J,Y),E&&(J.h=E),R=J}return E=f.G,b=f.wa,E&&b&&lt(R,E,b),lt(R,"VER",f.ka),Qa(f,R),R}function fh(f,b,E){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new dt(new wi({ab:E})):new dt(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mh(){}t=mh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function zr(){}zr.prototype.g=function(f,b){return new Pn(f,b)};function Pn(f,b){qt.call(this),this.g=new Lr(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!U(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!U(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Xi(this)}v(Pn,qt),Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Qc(this.g)},Pn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Rr(f),f=E);b.i.push(new Kt(b.Ya++,f)),b.I==3&&Ti(b)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Qc(this.g),delete this.g,Pn.Z.N.call(this)};function ph(f){pn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const E in b){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}v(ph,pn);function gh(){gs.call(this),this.status=1}v(gh,gs);function Xi(f){this.g=f}v(Xi,mh),Xi.prototype.ra=function(){rn(this.g,"a")},Xi.prototype.qa=function(f){rn(this.g,new ph(f))},Xi.prototype.pa=function(f){rn(this.g,new gh)},Xi.prototype.oa=function(){rn(this.g,"b")},zr.prototype.createWebChannel=zr.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,s5=function(){return new zr},n5=function(){return qo()},t5=Mt,wy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ua.NO_ERROR=0,Ua.TIMEOUT=8,Ua.HTTP_ERROR=6,Bf=Ua,Pc.COMPLETE="complete",e5=Pc,Yd.EventType=qs,qs.OPEN="a",qs.CLOSE="b",qs.ERROR="c",qs.MESSAGE="d",qt.prototype.listen=qt.prototype.J,zu=Yd,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,JE=dt}).apply(typeof Ef<"u"?Ef:typeof self<"u"?self:typeof window<"u"?window:{});const V4="@firebase/firestore",O4="4.9.2";class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");let gc="12.3.0";const ko=new zm("@firebase/firestore");function Rl(){return ko.logLevel}function ge(t,...e){if(ko.logLevel<=qe.DEBUG){const n=e.map(Dx);ko.debug(`Firestore (${gc}): ${t}`,...n)}}function Tr(t,...e){if(ko.logLevel<=qe.ERROR){const n=e.map(Dx);ko.error(`Firestore (${gc}): ${t}`,...n)}}function Wl(t,...e){if(ko.logLevel<=qe.WARN){const n=e.map(Dx);ko.warn(`Firestore (${gc}): ${t}`,...n)}}function Dx(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ne(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,i5(t,s,n)}function i5(t,e,n){let s=`FIRESTORE (${gc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Tr(s),new Error(s)}function at(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||i5(e,a,s)}function ke(t,e){return t}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class r5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Nn.UNAUTHENTICATED)))}shutdown(){}}class Wk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Zk{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let l=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new yr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await a(this.currentUser)}))},h=g=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>h(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?h(g):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new yr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(at(typeof s.accessToken=="string",31837,{l:s}),new r5(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class Jk{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Jk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class L4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const s=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new L4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new L4(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function nD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Mx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=nD(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function $e(t,e){return t<e?-1:t>e?1:0}function _y(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return O0(a)===O0(l)?$e(a,l):O0(a)?1:-1}return $e(t.length,e.length)}const sD=55296,iD=57343;function O0(t){const e=t.charCodeAt(0);return e>=sD&&e<=iD}function Zl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const B4="__name__";class Ri{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ne(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Ri.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return $e(e.length,n.length)}static compareSegments(e,n){const s=Ri.isNumericId(e),a=Ri.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):_y(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wa.fromString(e.substring(4,e.length-2))}}class yt extends Ri{construct(e,n,s){return new yt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new yt(n)}static emptyPath(){return new yt([])}}const rD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends Ri{construct(e,n,s){return new En(e,n,s)}static isValidIdentifier(e){return rD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B4}static keyField(){return new En([B4])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new he(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new he(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(s+=h,a++):(l(),a++)}if(l(),u)throw new he(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(n)}static emptyPath(){return new En([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(yt.fromString(e))}static fromName(e){return new _e(yt.fromString(e).popFirst(5))}static empty(){return new _e(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new yt(e.slice()))}}function a5(t,e,n){if(!n)throw new he(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aD(t,e,n,s){if(e===!0&&s===!0)throw new he(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function z4(t){if(!_e.isDocumentKey(t))throw new he(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function U4(t){if(_e.isDocumentKey(t))throw new he(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function o5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gm(t);throw new he(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function sn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Sd(t,e){if(!o5(t))throw new he(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new he(oe.INVALID_ARGUMENT,n);return!0}const F4=-62135596800,H4=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*H4);return new wt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<F4)throw new he(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H4}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sd(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-F4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:sn("string",wt._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new wt(0,0))}static max(){return new Ie(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ad=-1;function oD(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(s===1e9?new wt(n+1,0):new wt(n,s));return new Ea(a,_e.empty(),e)}function lD(t){return new Ea(t.readTime,t.key,ad)}class Ea{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ea(Ie.min(),_e.empty(),ad)}static max(){return new Ea(Ie.max(),_e.empty(),ad)}}function cD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}const uD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yc(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==uD)throw t;ge("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,s)=>{n(e)}))}static reject(e){return new le(((n,s)=>{s(e)}))}static waitFor(e){return new le(((n,s)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(g=>s(g)))})),u=!0,l===a&&n()}))}static or(e){let n=le.resolve(!1);for(const s of e)n=n.next((a=>a?le.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new le(((s,a)=>{const l=e.length,u=new Array(l);let h=0;for(let g=0;g<l;g++){const p=g;n(e[p]).next((x=>{u[p]=x,++h,h===l&&s(u)}),(x=>a(x)))}}))}static doWhile(e,n){return new le(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function hD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xc(t){return t.name==="IndexedDbTransactionError"}class Km{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Km.ce=-1;const Px=-1;function Ym(t){return t==null}function om(t){return t===0&&1/t==-1/0}function fD(t){return typeof t=="number"&&Number.isInteger(t)&&!om(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const l5="";function mD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=q4(e)),e=pD(t.get(n),e);return q4(e)}function pD(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case l5:n+="";break;default:n+=l}}return n}function q4(t){return t+l5+""}function $4(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ma(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function c5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Nt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tf(this.root,e,this.comparator,!0)}}class Tf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??_n.RED,this.left=a??_n.EMPTY,this.right=l??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new _n(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return _n.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class on{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new G4(this.data.getIterator())}getIteratorFrom(e){return new G4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class G4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class us{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new us([])}unionWith(e){let n=new on(En.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new us(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class u5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new u5("Invalid base64 string: "+l):l}})(e);return new Tn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const gD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ta(t){if(at(!!t,39018),typeof t=="string"){let e=0;const n=gD.exec(t);if(at(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Aa(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}const d5="server_timestamp",h5="__type__",f5="__previous_value__",m5="__local_write_time__";function Vx(t){return(t?.mapValue?.fields||{})[h5]?.stringValue===d5}function Qm(t){const e=t.mapValue.fields[f5];return Vx(e)?Qm(e):e}function od(t){const e=Ta(t.mapValue.fields[m5].timestampValue);return new wt(e.seconds,e.nanos)}class yD{constructor(e,n,s,a,l,u,h,g,p,x){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=x}}const lm="(default)";class ld{constructor(e,n){this.projectId=e,this.database=n||lm}static empty(){return new ld("","")}get isDefaultDatabase(){return this.database===lm}isEqual(e){return e instanceof ld&&e.projectId===this.projectId&&e.database===this.database}}const p5="__type__",xD="__max__",Af={mapValue:{}},g5="__vector__",cm="value";function Ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vx(t)?4:bD(t)?9007199254740991:vD(t)?10:11:Ne(28295,{value:t})}function Fi(t,e){if(t===e)return!0;const n=Ca(t);if(n!==Ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return od(t).isEqual(od(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ta(a.timestampValue),h=Ta(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Aa(a.bytesValue).isEqual(Aa(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return zt(a.geoPointValue.latitude)===zt(l.geoPointValue.latitude)&&zt(a.geoPointValue.longitude)===zt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return zt(a.integerValue)===zt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=zt(a.doubleValue),h=zt(l.doubleValue);return u===h?om(u)===om(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Zl(t.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if($4(u)!==$4(h))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(h[g]===void 0||!Fi(u[g],h[g])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function cd(t,e){return(t.values||[]).find((n=>Fi(n,e)))!==void 0}function Jl(t,e){if(t===e)return 0;const n=Ca(t),s=Ca(e);if(n!==s)return $e(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=zt(l.integerValue||l.doubleValue),g=zt(u.integerValue||u.doubleValue);return h<g?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1})(t,e);case 3:return K4(t.timestampValue,e.timestampValue);case 4:return K4(od(t),od(e));case 5:return _y(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=Aa(l),g=Aa(u);return h.compareTo(g)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),g=u.split("/");for(let p=0;p<h.length&&p<g.length;p++){const x=$e(h[p],g[p]);if(x!==0)return x}return $e(h.length,g.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=$e(zt(l.latitude),zt(u.latitude));return h!==0?h:$e(zt(l.longitude),zt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Y4(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},g=u.fields||{},p=h[cm]?.arrayValue,x=g[cm]?.arrayValue,v=$e(p?.values?.length||0,x?.values?.length||0);return v!==0?v:Y4(p,x)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Af.mapValue&&u===Af.mapValue)return 0;if(l===Af.mapValue)return 1;if(u===Af.mapValue)return-1;const h=l.fields||{},g=Object.keys(h),p=u.fields||{},x=Object.keys(p);g.sort(),x.sort();for(let v=0;v<g.length&&v<x.length;++v){const _=_y(g[v],x[v]);if(_!==0)return _;const A=Jl(h[g[v]],p[x[v]]);if(A!==0)return A}return $e(g.length,x.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function K4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=Ta(t),s=Ta(e),a=$e(n.seconds,s.seconds);return a!==0?a:$e(n.nanos,s.nanos)}function Y4(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Jl(n[a],s[a]);if(l)return l}return $e(n.length,s.length)}function ec(t){return Ey(t)}function Ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Ta(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Aa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Ey(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Ey(n.fields[u])}`;return a+"}"})(t.mapValue):Ne(61005,{value:t})}function zf(t){switch(Ca(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qm(t);return e?16+zf(e):16;case 5:return 2*t.stringValue.length;case 6:return Aa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+zf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Ma(s.fields,((l,u)=>{a+=l.length+zf(u)})),a})(t.mapValue);default:throw Ne(13486,{value:t})}}function Q4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ty(t){return!!t&&"integerValue"in t}function Ox(t){return!!t&&"arrayValue"in t}function X4(t){return!!t&&"nullValue"in t}function W4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uf(t){return!!t&&"mapValue"in t}function vD(t){return(t?.mapValue?.fields||{})[p5]?.stringValue===g5}function Ku(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ma(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ku(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ku(t.arrayValue.values[n]);return e}return{...t}}function bD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xD}class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Uf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ku(n)}setAll(e){let n=En.emptyPath(),s={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=h.popLast()}u?s[h.lastSegment()]=Ku(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Uf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ma(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Wn(Ku(this.value))}}function y5(t){const e=[];return Ma(t.fields,((n,s)=>{const a=new En([n]);if(Uf(s)){const l=y5(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new us(e)}class jn{constructor(e,n,s,a,l,u,h){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new jn(e,0,Ie.min(),Ie.min(),Ie.min(),Wn.empty(),0)}static newFoundDocument(e,n,s,a){return new jn(e,1,n,Ie.min(),s,a,0)}static newNoDocument(e,n){return new jn(e,2,n,Ie.min(),Ie.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new jn(e,3,n,Ie.min(),Ie.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class um{constructor(e,n){this.position=e,this.inclusive=n}}function Z4(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(u.referenceValue),n.key):s=Jl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function J4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fi(t.position[n],e.position[n]))return!1;return!0}class dm{constructor(e,n="asc"){this.field=e,this.dir=n}}function wD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class x5{}class nn extends x5{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new ED(e,n,s):n==="array-contains"?new CD(e,s):n==="in"?new SD(e,s):n==="not-in"?new ND(e,s):n==="array-contains-any"?new jD(e,s):new nn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new TD(e,s):new AD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jl(n,this.value)):n!==null&&Ca(this.value)===Ca(n)&&this.matchesComparison(Jl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends x5{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new oi(e,n)}matches(e){return v5(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function v5(t){return t.op==="and"}function b5(t){return _D(t)&&v5(t)}function _D(t){for(const e of t.filters)if(e instanceof oi)return!1;return!0}function Ay(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+ec(t.value);if(b5(t))return t.filters.map((e=>Ay(e))).join(",");{const e=t.filters.map((n=>Ay(n))).join(",");return`${t.op}(${e})`}}function w5(t,e){return t instanceof nn?(function(s,a){return a instanceof nn&&s.op===a.op&&s.field.isEqual(a.field)&&Fi(s.value,a.value)})(t,e):t instanceof oi?(function(s,a){return a instanceof oi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,h)=>l&&w5(u,a.filters[h])),!0):!1})(t,e):void Ne(19439)}function _5(t){return t instanceof nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ec(n.value)}`})(t):t instanceof oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(_5).join(" ,")+"}"})(t):"Filter"}class ED extends nn{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class TD extends nn{constructor(e,n){super(e,"in",n),this.keys=E5("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class AD extends nn{constructor(e,n){super(e,"not-in",n),this.keys=E5("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function E5(t,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class CD extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ox(n)&&cd(n.arrayValue,this.value)}}class SD extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cd(this.value.arrayValue,n)}}class ND extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cd(this.value.arrayValue,n)}}class jD extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ox(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>cd(this.value.arrayValue,s)))}}class ID{constructor(e,n=null,s=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function e3(t,e=null,n=[],s=[],a=null,l=null,u=null){return new ID(t,e,n,s,a,l,u)}function Lx(t){const e=ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Ay(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Ym(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ec(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ec(s))).join(",")),e.Te=n}return e.Te}function Bx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!w5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!J4(t.startAt,e.startAt)&&J4(t.endAt,e.endAt)}function Cy(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Nd{constructor(e,n=null,s=[],a=[],l=null,u="F",h=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function RD(t,e,n,s,a,l,u,h){return new Nd(t,e,n,s,a,l,u,h)}function zx(t){return new Nd(t)}function t3(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function T5(t){return t.collectionGroup!==null}function Yu(t){const e=ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new on(En.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new dm(l,s))})),n.has(En.keyField().canonicalString())||e.Ie.push(new dm(En.keyField(),s))}return e.Ie}function Pi(t){const e=ke(t);return e.Ee||(e.Ee=kD(e,Yu(t))),e.Ee}function kD(t,e){if(t.limitType==="F")return e3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new dm(a.field,l)}));const n=t.endAt?new um(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new um(t.startAt.position,t.startAt.inclusive):null;return e3(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Sy(t,e){const n=t.filters.concat([e]);return new Nd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ny(t,e,n){return new Nd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xm(t,e){return Bx(Pi(t),Pi(e))&&t.limitType===e.limitType}function A5(t){return`${Lx(Pi(t))}|lt:${t.limitType}`}function kl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>_5(a))).join(", ")}]`),Ym(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>ec(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>ec(a))).join(",")),`Target(${s})`})(Pi(t))}; limitType=${t.limitType})`}function Wm(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Yu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,h,g){const p=Z4(u,h,g);return u.inclusive?p<=0:p<0})(s.startAt,Yu(s),a)||s.endAt&&!(function(u,h,g){const p=Z4(u,h,g);return u.inclusive?p>=0:p>0})(s.endAt,Yu(s),a))})(t,e)}function DD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function C5(t){return(e,n)=>{let s=!1;for(const a of Yu(t)){const l=MD(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function MD(t,e,n){const s=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(l,u,h){const g=u.data.field(l),p=h.data.field(l);return g!==null&&p!==null?Jl(g,p):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ne(19790,{direction:t.dir})}}class Bo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return c5(this.inner)}size(){return this.innerSize}}const PD=new Nt(_e.comparator);function Ar(){return PD}const S5=new Nt(_e.comparator);function Uu(...t){let e=S5;for(const n of t)e=e.insert(n.key,n);return e}function N5(t){let e=S5;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function vo(){return Qu()}function j5(){return Qu()}function Qu(){return new Bo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const VD=new Nt(_e.comparator),OD=new on(_e.comparator);function Ge(...t){let e=OD;for(const n of t)e=e.add(n);return e}const LD=new on($e);function BD(){return LD}function Ux(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:om(e)?"-0":e}}function I5(t){return{integerValue:""+t}}function R5(t,e){return fD(e)?I5(e):Ux(t,e)}class Zm{constructor(){this._=void 0}}function zD(t,e,n){return t instanceof hm?(function(a,l){const u={fields:{[h5]:{stringValue:d5},[m5]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Vx(l)&&(l=Qm(l)),l&&(u.fields[f5]=l),{mapValue:u}})(n,e):t instanceof tc?D5(t,e):t instanceof ud?M5(t,e):(function(a,l){const u=k5(a,l),h=n3(u)+n3(a.Ae);return Ty(u)&&Ty(a.Ae)?I5(h):Ux(a.serializer,h)})(t,e)}function UD(t,e,n){return t instanceof tc?D5(t,e):t instanceof ud?M5(t,e):n}function k5(t,e){return t instanceof dd?(function(s){return Ty(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class hm extends Zm{}class tc extends Zm{constructor(e){super(),this.elements=e}}function D5(t,e){const n=P5(e);for(const s of t.elements)n.some((a=>Fi(a,s)))||n.push(s);return{arrayValue:{values:n}}}class ud extends Zm{constructor(e){super(),this.elements=e}}function M5(t,e){let n=P5(e);for(const s of t.elements)n=n.filter((a=>!Fi(a,s)));return{arrayValue:{values:n}}}class dd extends Zm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function n3(t){return zt(t.integerValue||t.doubleValue)}function P5(t){return Ox(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class V5{constructor(e,n){this.field=e,this.transform=n}}function FD(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof tc&&a instanceof tc||s instanceof ud&&a instanceof ud?Zl(s.elements,a.elements,Fi):s instanceof dd&&a instanceof dd?Fi(s.Ae,a.Ae):s instanceof hm&&a instanceof hm})(t.transform,e.transform)}class HD{constructor(e,n){this.version=e,this.transformResults=n}}class Ps{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ps}static exists(e){return new Ps(void 0,e)}static updateTime(e){return new Ps(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ff(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jm{}function O5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fx(t.key,Ps.none()):new jd(t.key,t.data,Ps.none());{const n=t.data,s=Wn.empty();let a=new on(En.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Pa(t.key,s,new us(a.toArray()),Ps.none())}}function qD(t,e,n){t instanceof jd?(function(a,l,u){const h=a.value.clone(),g=i3(a.fieldTransforms,l,u.transformResults);h.setAll(g),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Pa?(function(a,l,u){if(!Ff(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=i3(a.fieldTransforms,l,u.transformResults),g=l.data;g.setAll(L5(a)),g.setAll(h),l.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Xu(t,e,n,s){return t instanceof jd?(function(l,u,h,g){if(!Ff(l.precondition,u))return h;const p=l.value.clone(),x=r3(l.fieldTransforms,g,u);return p.setAll(x),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Pa?(function(l,u,h,g){if(!Ff(l.precondition,u))return h;const p=r3(l.fieldTransforms,g,u),x=u.data;return x.setAll(L5(l)),x.setAll(p),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,s):(function(l,u,h){return Ff(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function $D(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=k5(s.transform,a||null);l!=null&&(n===null&&(n=Wn.empty()),n.set(s.field,l))}return n||null}function s3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Zl(s,a,((l,u)=>FD(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jd extends Jm{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Pa extends Jm{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function L5(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function i3(t,e,n){const s=new Map;at(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);s.set(l.field,UD(u,h,n[a]))}return s}function r3(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,zD(l,u,e))}return s}class Fx extends Jm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GD extends Jm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KD{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&qD(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=j5();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const g=O5(u,h);g!==null&&s.set(a.key,g),u.isValidDocument()||u.convertToNoDocument(Ie.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Zl(this.mutations,e.mutations,((n,s)=>s3(n,s)))&&Zl(this.baseMutations,e.baseMutations,((n,s)=>s3(n,s)))}}class Hx{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){at(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return VD})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new Hx(e,n,s,a)}}class YD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QD{constructor(e,n){this.count=e,this.unchangedNames=n}}var Jt,Qe;function XD(t){switch(t){case oe.OK:return Ne(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function B5(t){if(t===void 0)return Tr("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Jt.OK:return oe.OK;case Jt.CANCELLED:return oe.CANCELLED;case Jt.UNKNOWN:return oe.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return oe.INTERNAL;case Jt.UNAVAILABLE:return oe.UNAVAILABLE;case Jt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Jt.NOT_FOUND:return oe.NOT_FOUND;case Jt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Jt.ABORTED:return oe.ABORTED;case Jt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Jt.DATA_LOSS:return oe.DATA_LOSS;default:return Ne(39323,{code:t})}}(Qe=Jt||(Jt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function WD(){return new TextEncoder}const ZD=new wa([4294967295,4294967295],0);function a3(t){const e=WD().encode(t),n=new ZE;return n.update(e),new Uint8Array(n.digest())}function o3(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new wa([n,s],0),new wa([a,l],0)]}class qx{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fu(`Invalid padding: ${n}`);if(s<0)throw new Fu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=wa.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(wa.fromNumber(s)));return a.compare(ZD)===1&&(a=new wa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=a3(e),[s,a]=o3(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new qx(l,a,n);return s.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=a3(e),[s,a]=o3(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ep{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Id.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ep(Ie.min(),a,new Nt($e),Ar(),Ge())}}class Id{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Id(s,n,Ge(),Ge(),Ge())}}class Hf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class z5{constructor(e,n){this.targetId=e,this.Ce=n}}class U5{constructor(e,n,s=Tn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class l3{constructor(){this.ve=0,this.Fe=c3(),this.Me=Tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),s=Ge();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ne(38017,{changeType:l})}})),new Id(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=c3()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ar(),this.Je=Cf(),this.He=Cf(),this.Ye=new Nt($e)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Cy(l))if(s===0){const u=new _e(l.path);this.et(n,u,jn.newNoDocument(u,Ie.min()))}else at(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const h=this.ut(e),g=h?this.ct(h,e,u):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=Aa(s).toUint8Array()}catch(g){if(g instanceof u5)return Wl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{h=new qx(u,a,l)}catch(g){return Wl(g instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Cy(h.target)){const g=new _e(h.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,jn.newNoDocument(g,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=Ge();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new ep(e,n,this.Ye,this.je,s);return this.je=Ar(),this.Je=Cf(),this.He=Cf(),this.Ye=new Nt($e),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new l3,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new on($e),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new on($e),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new l3),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Cf(){return new Nt(_e.comparator)}function c3(){return new Nt(_e.comparator)}const eM={asc:"ASCENDING",desc:"DESCENDING"},tM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nM={and:"AND",or:"OR"};class sM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jy(t,e){return t.useProto3Json||Ym(e)?e:{value:e}}function fm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iM(t,e){return fm(t,e.toTimestamp())}function Vi(t){return at(!!t,49232),Ie.fromTimestamp((function(n){const s=Ta(n);return new wt(s.seconds,s.nanos)})(t))}function $x(t,e){return Iy(t,e).canonicalString()}function Iy(t,e){const n=(function(a){return new yt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function H5(t){const e=yt.fromString(t);return at(Y5(e),10190,{key:e.toString()}),e}function Ry(t,e){return $x(t.databaseId,e.path)}function L0(t,e){const n=H5(e);if(n.get(1)!==t.databaseId.projectId)throw new he(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e($5(n))}function q5(t,e){return $x(t.databaseId,e)}function rM(t){const e=H5(t);return e.length===4?yt.emptyPath():$5(e)}function ky(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $5(t){return at(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function u3(t,e,n){return{name:Ry(t,e),fields:n.value.mapValue.fields}}function aM(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ne(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,x){return p.useProto3Json?(at(x===void 0||typeof x=="string",58123),Tn.fromBase64String(x||"")):(at(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Tn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const x=p.code===void 0?oe.UNKNOWN:B5(p.code);return new he(x,p.message||"")})(u);n=new U5(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=L0(t,s.document.name),l=Vi(s.document.updateTime),u=s.document.createTime?Vi(s.document.createTime):Ie.min(),h=new Wn({mapValue:{fields:s.document.fields}}),g=jn.newFoundDocument(a,l,u,h),p=s.targetIds||[],x=s.removedTargetIds||[];n=new Hf(p,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=L0(t,s.document),l=s.readTime?Vi(s.readTime):Ie.min(),u=jn.newNoDocument(a,l),h=s.removedTargetIds||[];n=new Hf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=L0(t,s.document),l=s.removedTargetIds||[];n=new Hf([],l,a,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new QD(a,l),h=s.targetId;n=new z5(h,u)}}return n}function oM(t,e){let n;if(e instanceof jd)n={update:u3(t,e.key,e.value)};else if(e instanceof Fx)n={delete:Ry(t,e.key)};else if(e instanceof Pa)n={update:u3(t,e.key,e.data),updateMask:gM(e.fieldMask)};else{if(!(e instanceof GD))return Ne(16599,{Vt:e.type});n={verify:Ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const h=u.transform;if(h instanceof hm)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof tc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ud)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof dd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ne(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:iM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne(27497)})(t,e.precondition)),n}function lM(t,e){return t&&t.length>0?(at(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?Vi(a.updateTime):Vi(l);return u.isEqual(Ie.min())&&(u=Vi(l)),new HD(u,a.transformResults||[])})(n,e)))):[]}function cM(t,e){return{documents:[q5(t,e.path)]}}function uM(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=q5(t,a);const l=(function(p){if(p.length!==0)return K5(oi.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((x=>(function(_){return{field:Dl(_.field),direction:fM(_.dir)}})(x)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=jy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function dM(t){let e=rM(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){at(s===1,65062);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let l=[];n.where&&(l=(function(v){const _=G5(v);return _ instanceof oi&&b5(_)?_.getFilters():[_]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((_=>(function(V){return new dm(Ml(V.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(_)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let _;return _=typeof v=="object"?v.value:v,Ym(_)?null:_})(n.limit));let g=null;n.startAt&&(g=(function(v){const _=!!v.before,A=v.values||[];return new um(A,_)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const _=!v.before,A=v.values||[];return new um(A,_)})(n.endAt)),RD(e,a,u,l,h,"F",g,p)}function hM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function G5(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ml(n.unaryFilter.field);return nn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ml(n.unaryFilter.field);return nn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ml(n.unaryFilter.field);return nn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ml(n.unaryFilter.field);return nn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return nn.create(Ml(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return oi.create(n.compositeFilter.filters.map((s=>G5(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function fM(t){return eM[t]}function mM(t){return tM[t]}function pM(t){return nM[t]}function Dl(t){return{fieldPath:t.canonicalString()}}function Ml(t){return En.fromServerFormat(t.fieldPath)}function K5(t){return t instanceof nn?(function(n){if(n.op==="=="){if(W4(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NAN"}};if(X4(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W4(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NOT_NAN"}};if(X4(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dl(n.field),op:mM(n.op),value:n.value}}})(t):t instanceof oi?(function(n){const s=n.getFilters().map((a=>K5(a)));return s.length===1?s[0]:{compositeFilter:{op:pM(n.op),filters:s}}})(t):Ne(54877,{filter:t})}function gM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Y5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class ga{constructor(e,n,s,a,l=Ie.min(),u=Ie.min(),h=Tn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=g}withSequenceNumber(e){return new ga(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yM{constructor(e){this.yt=e}}function xM(t){const e=dM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ny(e,e.limit,"L"):e}class vM{constructor(){this.Cn=new bM}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Ea.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Ea.min())}updateCollectionGroup(e,n,s){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class bM{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new on(yt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new on(yt.comparator)).toArray()}}const d3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q5=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(Q5,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);class nc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nc(0)}static cr(){return new nc(-1)}}const h3="LruGarbageCollector",wM=1048576;function f3([t,e],[n,s]){const a=$e(t,n);return a===0?$e(e,s):a}class _M{constructor(e){this.Ir=e,this.buffer=new on(f3),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();f3(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class EM{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(h3,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xc(n)?ge(h3,"Ignoring IndexedDB error during garbage collection: ",n):await yc(n)}await this.Vr(3e5)}))}}class TM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Km.ce);const s=new _M(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(d3)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d3):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,h,g,p;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(s=v,h=Date.now(),this.removeTargets(e,s,n)))).next((v=>(l=v,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(p=Date.now(),Rl()<=qe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(g-h)+`ms
	Removed ${v} documents in `+(p-g)+`ms
Total Duration: ${p-x}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function AM(t,e){return new TM(t,e)}class CM{constructor(){this.changes=new Bo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?le.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class SM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class NM{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Xu(s.mutation,a,us.empty(),wt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ge()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ge()){const a=vo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=Uu();return l.forEach(((h,g)=>{u=u.insert(h,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=vo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ge())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,s,a){let l=Ar();const u=Qu(),h=(function(){return Qu()})();return n.forEach(((g,p)=>{const x=s.get(p.key);a.has(p.key)&&(x===void 0||x.mutation instanceof Pa)?l=l.insert(p.key,p):x!==void 0?(u.set(p.key,x.mutation.getFieldMask()),Xu(x.mutation,p,x.mutation.getFieldMask(),wt.now())):u.set(p.key,us.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((p,x)=>u.set(p,x))),n.forEach(((p,x)=>h.set(p,new SM(x,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=Qu();let a=new Nt(((u,h)=>u-h)),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let x=s.get(g)||us.empty();x=h.applyToLocalView(p,x),s.set(g,x);const v=(a.get(h.batchId)||Ge()).add(g);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),p=g.key,x=g.value,v=j5();x.forEach((_=>{if(!l.has(_)){const A=O5(n.get(_),s.get(_));A!==null&&v.set(_,A),l=l.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return le.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):T5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):le.resolve(vo());let h=ad,g=l;return u.next((p=>le.forEach(p,((x,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(x)?le.resolve():this.remoteDocumentCache.getEntry(e,x).next((_=>{g=g.insert(x,_)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,g,p,Ge()))).next((x=>({batchId:h,changes:N5(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let a=Uu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Uu();return this.indexManager.getCollectionParents(e,l).next((h=>le.forEach(h,(g=>{const p=(function(v,_){return new Nd(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((x=>{x.forEach(((v,_)=>{u=u.insert(v,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((g,p)=>{const x=p.getKey();u.get(x)===null&&(u=u.insert(x,jn.newInvalidDocument(x)))}));let h=Uu();return u.forEach(((g,p)=>{const x=l.get(g);x!==void 0&&Xu(x.mutation,p,us.empty(),wt.now()),Wm(n,p)&&(h=h.insert(g,p))})),h}))}}class jM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Vi(a.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:xM(a.bundledQuery),readTime:Vi(a.readTime)}})(n)),le.resolve()}}class IM{constructor(){this.overlays=new Nt(_e.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const s=vo();return le.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),le.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),le.resolve()}getOverlaysForCollection(e,n,s){const a=vo(),l=n.length+1,u=new _e(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const g=h.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&g.largestBatchId>s&&a.set(g.getKey(),g)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Nt(((p,x)=>p-x));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let x=l.get(p.largestBatchId);x===null&&(x=vo(),l=l.insert(p.largestBatchId,x)),x.set(p.getKey(),p)}}const h=vo(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,x)=>h.set(p,x))),!(h.size()>=a)););return le.resolve(h)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new YD(n,s));let l=this.qr.get(n);l===void 0&&(l=Ge(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class RM{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class Gx{constructor(){this.Qr=new on(dn.$r),this.Ur=new on(dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new dn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new dn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new _e(new yt([])),s=new dn(n,e),a=new dn(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new yt([])),s=new dn(n,e),a=new dn(n,e+1);let l=Ge();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new dn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class dn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||$e(e.Yr,n.Yr)}static Kr(e,n){return $e(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}class kM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new on(dn.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new KD(l,n,s,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new dn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Px:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new dn(n,0),a=new dn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new on($e);return n.forEach((a=>{const l=new dn(a,0),u=new dn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{s=s.add(h.Yr)}))})),le.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const u=new dn(new _e(l),0);let h=new on($e);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(h=h.add(g.Yr)),!0)}),u),le.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){at(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return le.forEach(n.mutations,(a=>{const l=new dn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new dn(n,0),a=this.Zr.firstAfterOrEqual(s);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class DM{constructor(e){this.ri=e,this.docs=(function(){return new Nt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return le.resolve(s?s.document.mutableCopy():jn.newInvalidDocument(n))}getEntries(e,n){let s=Ar();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():jn.newInvalidDocument(a))})),le.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Ar();const u=n.path,h=new _e(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:p,value:{document:x}}=g.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||cD(lD(x),s)<=0||(a.has(x.key)||Wm(n,x))&&(l=l.insert(x.key,x.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ne(9500)}ii(e,n){return le.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new MM(this)}getSize(e){return le.resolve(this.size)}}class MM extends CM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class PM{constructor(e){this.persistence=e,this.si=new Bo((n=>Lx(n)),Bx),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Gx,this.targetCount=0,this.ai=nc.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new nc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),le.waitFor(l).next((()=>a))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return le.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),le.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),le.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return le.resolve(s)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}class X5{constructor(e,n){this.ui={},this.overlays={},this.ci=new Km(0),this.li=!1,this.li=!0,this.hi=new RM,this.referenceDelegate=e(this),this.Pi=new PM(this),this.indexManager=new vM,this.remoteDocumentCache=(function(a){return new DM(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new yM(n),this.Ii=new jM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new kM(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ge("MemoryPersistence","Starting transaction:",e);const a=new VM(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return le.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class VM extends dD{constructor(e){super(),this.currentSequenceNumber=e}}class Kx{constructor(e){this.persistence=e,this.Ri=new Gx,this.Vi=null}static mi(e){return new Kx(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),le.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(s=>{const a=_e.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ie.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class mm{constructor(e,n){this.persistence=e,this.pi=new Bo((s=>mD(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=AM(this,n)}static mi(e,n){return new mm(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?le.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(s++,l.removeEntry(u,Ie.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zf(e.data.value)),n}br(e,n,s){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return le.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Yx{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Ge(),a=Ge();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Yx(e,n.fromCache,s,a)}}class OM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class LM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return H8()?8:hD(Rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new OM;return this.Ss(e,n,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Rl()<=qe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(Rl()<=qe.DEBUG&&ge("QueryEngine","Query:",kl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Rl()<=qe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(n))):le.resolve())}ys(e,n){if(t3(n))return le.resolve(null);let s=Pi(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Ny(n,null,"F"),s=Pi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Ge(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.Ds(n,h);return this.Cs(n,p,u,g.readTime)?this.ys(e,Ny(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,s,a){return t3(n)||a.isEqual(Ie.min())?le.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?le.resolve(null):(Rl()<=qe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),kl(n)),this.vs(e,u,n,oD(a,ad)).next((h=>h)))}))}Ds(e,n){let s=new on(C5(e));return n.forEach(((a,l)=>{Wm(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Rl()<=qe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",kl(n)),this.ps.getDocumentsMatchingQuery(e,n,Ea.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Qx="LocalStore",BM=3e8;class zM{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Nt($e),this.xs=new Bo((l=>Lx(l)),Bx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function UM(t,e,n,s){return new zM(t,e,n,s)}async function W5(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],h=[];let g=Ge();for(const p of a){u.push(p.batchId);for(const x of p.mutations)g=g.add(x.key)}for(const p of l){h.push(p.batchId);for(const x of p.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function FM(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,g,p,x){const v=p.batch,_=v.keys();let A=le.resolve();return _.forEach((V=>{A=A.next((()=>x.getEntry(g,V))).next((M=>{const k=p.docVersions.get(V);at(k!==null,48541),M.version.compareTo(k)<0&&(v.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),x.addEntry(M)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(g,v)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let g=Ge();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(g=g.add(h.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function Z5(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function HM(t,e){const n=ke(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((x,v)=>{const _=a.get(v);if(!_)return;h.push(n.Pi.removeMatchingKeys(l,x.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,x.addedDocuments,v))));let A=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(Tn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):x.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(x.resumeToken,s)),a=a.insert(v,A),(function(M,k,L){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=BM?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(_,A,x)&&h.push(n.Pi.updateTargetData(l,A))}));let g=Ar(),p=Ge();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,x))})),h.push(qM(l,u,e.documentUpdates).next((x=>{g=x.ks,p=x.qs}))),!s.isEqual(Ie.min())){const x=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(x)}return le.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,g,p))).next((()=>g))})).then((l=>(n.Ms=a,l)))}function qM(t,e,n){let s=Ge(),a=Ge();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=Ar();return n.forEach(((h,g)=>{const p=l.get(h);g.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),g.isNoDocument()&&g.version.isEqual(Ie.min())?(e.removeEntry(h,g.readTime),u=u.insert(h,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),u=u.insert(h,g)):ge(Qx,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",g.version)})),{ks:u,qs:a}}))}function $M(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Px),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function GM(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,le.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new ga(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Dy(t,e,n){const s=ke(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!xc(u))throw u;ge(Qx,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function m3(t,e,n){const s=ke(t);let a=Ie.min(),l=Ge();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,p,x){const v=ke(g),_=v.xs.get(x);return _!==void 0?le.resolve(v.Ms.get(_)):v.Pi.getTargetData(p,x)})(s,u,Pi(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,h.targetId).next((g=>{l=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:Ie.min(),n?l:Ge()))).next((h=>(KM(s,DD(e),h),{documents:h,Qs:l})))))}function KM(t,e,n){let s=t.Os.get(e)||Ie.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class p3{constructor(){this.activeTargetIds=BD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YM{constructor(){this.Mo=new p3,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new p3,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class QM{Oo(e){}shutdown(){}}const g3="ConnectivityMonitor";class y3{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(g3,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(g3,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sf=null;function My(){return Sf===null?Sf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sf++,"0x"+Sf.toString(16)}const B0="RestConnection",XM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===lm?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=My(),h=this.zo(e,n.toUriEncodedString());ge(B0,`Sending RPC '${e}' ${u}:`,h,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,a,l);const{host:p}=new URL(h),x=fc(p);return this.Jo(e,h,g,s,x).then((v=>(ge(B0,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Wl(B0,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",s),v}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=XM[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class ZM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Sn="WebChannelConnection";class JM extends WM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=My();return new Promise(((h,g)=>{const p=new JE;p.setWithCredentials(!0),p.listenOnce(e5.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Bf.NO_ERROR:const v=p.getResponseJson();ge(Sn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Bf.TIMEOUT:ge(Sn,`RPC '${e}' ${u} timed out`),g(new he(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Bf.HTTP_ERROR:const _=p.getStatus();if(ge(Sn,`RPC '${e}' ${u} failed with status:`,_,"response text:",p.getResponseText()),_>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const V=A?.error;if(V&&V.status&&V.message){const M=(function(L){const B=L.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(B)>=0?B:oe.UNKNOWN})(V.status);g(new he(M,V.message))}else g(new he(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new he(oe.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ge(Sn,`RPC '${e}' ${u} completed.`)}}));const x=JSON.stringify(a);ge(Sn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",x,s,15)}))}T_(e,n,s){const a=My(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=s5(),h=n5(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const x=l.join("");ge(Sn,`Creating RPC '${e}' stream ${a}: ${x}`,g);const v=u.createWebChannel(x,g);this.I_(v);let _=!1,A=!1;const V=new ZM({Yo:k=>{A?ge(Sn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(_||(ge(Sn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),_=!0),ge(Sn,`RPC '${e}' stream ${a} sending:`,k),v.send(k))},Zo:()=>v.close()}),M=(k,L,B)=>{k.listen(L,(I=>{try{B(I)}catch(D){setTimeout((()=>{throw D}),0)}}))};return M(v,zu.EventType.OPEN,(()=>{A||(ge(Sn,`RPC '${e}' stream ${a} transport opened.`),V.o_())})),M(v,zu.EventType.CLOSE,(()=>{A||(A=!0,ge(Sn,`RPC '${e}' stream ${a} transport closed`),V.a_(),this.E_(v))})),M(v,zu.EventType.ERROR,(k=>{A||(A=!0,Wl(Sn,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),V.a_(new he(oe.UNAVAILABLE,"The operation could not be completed")))})),M(v,zu.EventType.MESSAGE,(k=>{if(!A){const L=k.data[0];at(!!L,16349);const B=L,I=B?.error||B[0]?.error;if(I){ge(Sn,`RPC '${e}' stream ${a} received error:`,I);const D=I.status;let P=(function(T){const N=Jt[T];if(N!==void 0)return B5(N)})(D),H=I.message;P===void 0&&(P=oe.INTERNAL,H="Unknown error status: "+D+" with message "+I.message),A=!0,V.a_(new he(P,H)),v.close()}else ge(Sn,`RPC '${e}' stream ${a} received:`,L),V.u_(L)}})),M(h,t5.STAT_EVENT,(k=>{k.stat===wy.PROXY?ge(Sn,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===wy.NOPROXY&&ge(Sn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function z0(){return typeof document<"u"?document:null}function tp(t){return new sM(t,!0)}class J5{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const x3="PersistentStream";class eT{constructor(e,n,s,a,l,u,h,g){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new J5(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new he(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(x3,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(x3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eP extends eT{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=aM(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ie.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Vi(u.readTime):Ie.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ky(this.serializer),n.addTarget=(function(l,u){let h;const g=u.target;if(h=Cy(g)?{documents:cM(l,g)}:{query:uM(l,g).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=F5(l,u.resumeToken);const p=jy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=fm(l,u.snapshotVersion.toTimestamp());const p=jy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const s=hM(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ky(this.serializer),n.removeTarget=e,this.q_(n)}}class tP extends eT{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=lM(e.writeResults,e.commitTime),s=Vi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ky(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>oM(this.serializer,s)))};this.q_(n)}}class nP{}class sP extends nP{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Iy(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(oe.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Iy(n,s),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(oe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Do="RemoteStore";class rP{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{zo(this)&&(ge(Do,"Restarting streams for network reachability change."),await(async function(g){const p=ke(g);p.Ea.add(4),await Rd(p),p.Ra.set("Unknown"),p.Ea.delete(4),await np(p)})(this))}))})),this.Ra=new iP(s,a)}}async function np(t){if(zo(t))for(const e of t.da)await e(!0)}async function Rd(t){for(const e of t.da)await e(!1)}function tT(t,e){const n=ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Jx(n)?Zx(n):vc(n).O_()&&Wx(n,e))}function Xx(t,e){const n=ke(t),s=vc(n);n.Ia.delete(e),s.O_()&&nT(n,e),n.Ia.size===0&&(s.O_()?s.L_():zo(n)&&n.Ra.set("Unknown"))}function Wx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vc(t).Y_(e)}function nT(t,e){t.Va.Ue(e),vc(t).Z_(e)}function Zx(t){t.Va=new JD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),vc(t).start(),t.Ra.ua()}function Jx(t){return zo(t)&&!vc(t).x_()&&t.Ia.size>0}function zo(t){return ke(t).Ea.size===0}function sT(t){t.Va=void 0}async function aP(t){t.Ra.set("Online")}async function oP(t){t.Ia.forEach(((e,n)=>{Wx(t,e)}))}async function lP(t,e){sT(t),Jx(t)?(t.Ra.ha(e),Zx(t)):t.Ra.set("Unknown")}async function cP(t,e,n){if(t.Ra.set("Online"),e instanceof U5&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(s){ge(Do,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await pm(t,s)}else if(e instanceof Hf?t.Va.Ze(e):e instanceof z5?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ie.min()))try{const s=await Z5(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const x=l.Ia.get(p);x&&l.Ia.set(p,x.withResumeToken(g.resumeToken,u))}})),h.targetMismatches.forEach(((g,p)=>{const x=l.Ia.get(g);if(!x)return;l.Ia.set(g,x.withResumeToken(Tn.EMPTY_BYTE_STRING,x.snapshotVersion)),nT(l,g);const v=new ga(x.target,g,p,x.sequenceNumber);Wx(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){ge(Do,"Failed to raise snapshot:",s),await pm(t,s)}}async function pm(t,e,n){if(!xc(e))throw e;t.Ea.add(1),await Rd(t),t.Ra.set("Offline"),n||(n=()=>Z5(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ge(Do,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await np(t)}))}function iT(t,e){return e().catch((n=>pm(t,n,e)))}async function sp(t){const e=ke(t),n=Sa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Px;for(;uP(e);)try{const a=await $M(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,dP(e,a)}catch(a){await pm(e,a)}rT(e)&&aT(e)}function uP(t){return zo(t)&&t.Ta.length<10}function dP(t,e){t.Ta.push(e);const n=Sa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function rT(t){return zo(t)&&!Sa(t).x_()&&t.Ta.length>0}function aT(t){Sa(t).start()}async function hP(t){Sa(t).ra()}async function fP(t){const e=Sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function mP(t,e,n){const s=t.Ta.shift(),a=Hx.from(s,e,n);await iT(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await sp(t)}async function pP(t,e){e&&Sa(t).X_&&await(async function(s,a){if((function(u){return XD(u)&&u!==oe.ABORTED})(a.code)){const l=s.Ta.shift();Sa(s).B_(),await iT(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await sp(s)}})(t,e),rT(t)&&aT(t)}async function v3(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ge(Do,"RemoteStore received new credentials");const s=zo(n);n.Ea.add(3),await Rd(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await np(n)}async function gP(t,e){const n=ke(t);e?(n.Ea.delete(2),await np(n)):e||(n.Ea.add(2),await Rd(n),n.Ra.set("Unknown"))}function vc(t){return t.ma||(t.ma=(function(n,s,a){const l=ke(n);return l.sa(),new eP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:aP.bind(null,t),t_:oP.bind(null,t),r_:lP.bind(null,t),H_:cP.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Jx(t)?Zx(t):t.Ra.set("Unknown")):(await t.ma.stop(),sT(t))}))),t.ma}function Sa(t){return t.fa||(t.fa=(function(n,s,a){const l=ke(n);return l.sa(),new tP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:hP.bind(null,t),r_:pP.bind(null,t),ta:fP.bind(null,t),na:mP.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await sp(t)):(await t.fa.stop(),t.Ta.length>0&&(ge(Do,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class e2{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,h=new e2(e,n,u,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t2(t,e){if(Tr("AsyncQueue",`${e}: ${t}`),xc(t))return new he(oe.UNAVAILABLE,`${e}: ${t}`);throw t}class Gl{static emptySet(e){return new Gl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Uu(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Gl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class b3{constructor(){this.ga=new Nt(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class sc{constructor(e,n,s,a,l,u,h,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new sc(e,n,Gl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class yP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class xP{constructor(){this.queries=w3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=ke(n),l=a.queries;a.queries=w3(),l.forEach(((u,h)=>{for(const g of h.Sa)g.onError(s)}))})(this,new he(oe.ABORTED,"Firestore shutting down"))}}function w3(){return new Bo((t=>A5(t)),Xm)}async function oT(t,e){const n=ke(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new yP,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=t2(u,`Initialization of query '${kl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&n2(n)}async function lT(t,e){const n=ke(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function vP(t,e){const n=ke(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(s=!0);u.wa=a}}s&&n2(n)}function bP(t,e,n){const s=ke(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function n2(t){t.Ca.forEach((e=>{e.next()}))}var Py,_3;(_3=Py||(Py={})).Ma="default",_3.Cache="cache";class cT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new sc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Py.Cache}}class uT{constructor(e){this.key=e}}class dT{constructor(e){this.key=e}}class wP{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=C5(e),this.tu=new Gl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new b3,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((x,v)=>{const _=a.get(x),A=Wm(this.query,v)?v:null,V=!!_&&this.mutatedKeys.has(_.key),M=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let k=!1;_&&A?_.data.isEqual(A.data)?V!==M&&(s.track({type:3,doc:A}),k=!0):this.su(_,A)||(s.track({type:2,doc:A}),k=!0,(g&&this.eu(A,g)>0||p&&this.eu(A,p)<0)&&(h=!0)):!_&&A?(s.track({type:0,doc:A}),k=!0):_&&!A&&(s.track({type:1,doc:_}),k=!0,(g||p)&&(h=!0)),k&&(A?(u=u.add(A),l=M?l.add(x):l.delete(x)):(u=u.delete(x),l=l.delete(x)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),l=l.delete(x.key),s.track({type:1,doc:x})}return{tu:u,iu:s,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((x,v)=>(function(A,V){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:k})}};return M(A)-M(V)})(x.type,v.type)||this.eu(x.doc,v.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],g=this.Xa.size===0&&this.current&&!a?1:0,p=g!==this.Za;return this.Za=g,u.length!==0||p?{snapshot:new sc(this.query,e.tu,l,u,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new b3,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new dT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new uT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const s2="SyncEngine";class _P{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class EP{constructor(e){this.key=e,this.hu=!1}}class TP{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Bo((h=>A5(h)),Xm),this.Iu=new Map,this.Eu=new Set,this.du=new Nt(_e.comparator),this.Au=new Map,this.Ru=new Gx,this.Vu={},this.mu=new Map,this.fu=nc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AP(t,e,n=!0){const s=yT(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await hT(s,e,n,!0),a}async function CP(t,e){const n=yT(t);await hT(n,e,!0,!1)}async function hT(t,e,n,s){const a=await GM(t.localStore,Pi(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await SP(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&tT(t.remoteStore,a),h}async function SP(t,e,n,s,a){t.pu=(v,_,A)=>(async function(M,k,L,B){let I=k.view.ru(L);I.Cs&&(I=await m3(M.localStore,k.query,!1).then((({documents:S})=>k.view.ru(S,I))));const D=B&&B.targetChanges.get(k.targetId),P=B&&B.targetMismatches.get(k.targetId)!=null,H=k.view.applyChanges(I,M.isPrimaryClient,D,P);return T3(M,k.targetId,H.au),H.snapshot})(t,v,_,A);const l=await m3(t.localStore,e,!0),u=new wP(e,l.Qs),h=u.ru(l.documents),g=Id.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,g);T3(t,n,p.au);const x=new _P(e,n,u);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function NP(t,e,n){const s=ke(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Xm(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Dy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Xx(s.remoteStore,a.targetId),Vy(s,a.targetId)})).catch(yc)):(Vy(s,a.targetId),await Dy(s.localStore,a.targetId,!0))}async function jP(t,e){const n=ke(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Xx(n.remoteStore,s.targetId))}async function IP(t,e,n){const s=OP(t);try{const a=await(function(u,h){const g=ke(u),p=wt.now(),x=h.reduce(((A,V)=>A.add(V.key)),Ge());let v,_;return g.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let V=Ar(),M=Ge();return g.Ns.getEntries(A,x).next((k=>{V=k,V.forEach(((L,B)=>{B.isValidDocument()||(M=M.add(L))}))})).next((()=>g.localDocuments.getOverlayedDocuments(A,V))).next((k=>{v=k;const L=[];for(const B of h){const I=$D(B,v.get(B.key).overlayedDocument);I!=null&&L.push(new Pa(B.key,I,y5(I.value.mapValue),Ps.exists(!0)))}return g.mutationQueue.addMutationBatch(A,p,L,h)})).next((k=>{_=k;const L=k.applyToLocalDocumentSet(v,M);return g.documentOverlayCache.saveOverlays(A,k.batchId,L)}))})).then((()=>({batchId:_.batchId,changes:N5(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,h,g){let p=u.Vu[u.currentUser.toKey()];p||(p=new Nt($e)),p=p.insert(h,g),u.Vu[u.currentUser.toKey()]=p})(s,a.batchId,n),await kd(s,a.changes),await sp(s.remoteStore)}catch(a){const l=t2(a,"Failed to persist write");n.reject(l)}}async function fT(t,e){const n=ke(t);try{const s=await HM(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(at(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?at(u.hu,14607):a.removedDocuments.size>0&&(at(u.hu,42227),u.hu=!1))})),await kd(n,s,e)}catch(s){await yc(s)}}function E3(t,e,n){const s=ke(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const g=ke(u);g.onlineState=h;let p=!1;g.queries.forEach(((x,v)=>{for(const _ of v.Sa)_.va(h)&&(p=!0)})),p&&n2(g)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function RP(t,e,n){const s=ke(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new Nt(_e.comparator);u=u.insert(l,jn.newNoDocument(l,Ie.min()));const h=Ge().add(l),g=new ep(Ie.min(),new Map,new Nt($e),u,h);await fT(s,g),s.du=s.du.remove(l),s.Au.delete(e),i2(s)}else await Dy(s.localStore,e,!1).then((()=>Vy(s,e,n))).catch(yc)}async function kP(t,e){const n=ke(t),s=e.batch.batchId;try{const a=await FM(n.localStore,e);pT(n,s,null),mT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await kd(n,a)}catch(a){await yc(a)}}async function DP(t,e,n){const s=ke(t);try{const a=await(function(u,h){const g=ke(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let x;return g.mutationQueue.lookupMutationBatch(p,h).next((v=>(at(v!==null,37113),x=v.keys(),g.mutationQueue.removeMutationBatch(p,v)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,x,h))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,x))).next((()=>g.localDocuments.getDocuments(p,x)))}))})(s.localStore,e);pT(s,e,n),mT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await kd(s,a)}catch(a){await yc(a)}}function mT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function pT(t,e,n){const s=ke(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Vy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||gT(t,s)}))}function gT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Xx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),i2(t))}function T3(t,e,n){for(const s of n)s instanceof uT?(t.Ru.addReference(s.key,e),MP(t,s)):s instanceof dT?(ge(s2,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||gT(t,s.key)):Ne(19791,{wu:s})}function MP(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ge(s2,"New document in limbo: "+n),t.Eu.add(s),i2(t))}function i2(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(yt.fromString(e)),s=t.fu.next();t.Au.set(s,new EP(n)),t.du=t.du.insert(n,s),tT(t.remoteStore,new ga(Pi(zx(n.path)),s,"TargetPurposeLimboResolution",Km.ce))}}async function kd(t,e,n){const s=ke(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,g)=>{u.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const x=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(p){a.push(p);const x=Yx.As(g.targetId,p);l.push(x)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(g,p){const x=ke(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>le.forEach(p,(_=>le.forEach(_.Es,(A=>x.persistence.referenceDelegate.addReference(v,_.targetId,A))).next((()=>le.forEach(_.ds,(A=>x.persistence.referenceDelegate.removeReference(v,_.targetId,A)))))))))}catch(v){if(!xc(v))throw v;ge(Qx,"Failed to update sequence numbers: "+v)}for(const v of p){const _=v.targetId;if(!v.fromCache){const A=x.Ms.get(_),V=A.snapshotVersion,M=A.withLastLimboFreeSnapshotVersion(V);x.Ms=x.Ms.insert(_,M)}}})(s.localStore,l))}async function PP(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ge(s2,"User change. New user:",e.toKey());const s=await W5(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((g=>{g.reject(new he(oe.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await kd(n,s.Ls)}}function VP(t,e){const n=ke(t),s=n.Au.get(e);if(s&&s.hu)return Ge().add(s.key);{let a=Ge();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function yT(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RP.bind(null,e),e.Pu.H_=vP.bind(null,e.eventManager),e.Pu.yu=bP.bind(null,e.eventManager),e}function OP(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DP.bind(null,e),e}class gm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return UM(this.persistence,new LM,e.initialUser,this.serializer)}Cu(e){return new X5(Kx.mi,this.serializer)}Du(e){return new YM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gm.provider={build:()=>new gm};class LP extends gm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){at(this.persistence.referenceDelegate instanceof mm,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new EM(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new X5((s=>mm.mi(s,n)),this.serializer)}}class Oy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>E3(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=PP.bind(null,this.syncEngine),await gP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xP})()}createDatastore(e){const n=tp(e.databaseInfo.databaseId),s=(function(l){return new JM(l)})(e.databaseInfo);return(function(l,u,h,g){return new sP(l,u,h,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,h){return new rP(s,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>E3(this.syncEngine,n,0)),(function(){return y3.v()?new y3:new QM})())}createSyncEngine(e,n){return(function(a,l,u,h,g,p,x){const v=new TP(a,l,u,h,g,p);return x&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=ke(n);ge(Do,"RemoteStore shutting down."),s.Ea.add(5),await Rd(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Oy.provider={build:()=>new Oy};class xT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Na="FirestoreClient";class BP{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Nn.UNAUTHENTICATED,this.clientId=Mx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{ge(Na,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(ge(Na,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=t2(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function U0(t,e){t.asyncQueue.verifyOperationInProgress(),ge(Na,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await W5(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function A3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zP(t);ge(Na,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>v3(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>v3(e.remoteStore,a))),t._onlineComponents=e}async function zP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge(Na,"Using user provided OfflineComponentProvider");try{await U0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Wl("Error using user provided cache. Falling back to memory cache: "+n),await U0(t,new gm)}}else ge(Na,"Using default OfflineComponentProvider"),await U0(t,new LP(void 0));return t._offlineComponents}async function vT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge(Na,"Using user provided OnlineComponentProvider"),await A3(t,t._uninitializedComponentsProvider._online)):(ge(Na,"Using default OnlineComponentProvider"),await A3(t,new Oy))),t._onlineComponents}function UP(t){return vT(t).then((e=>e.syncEngine))}async function bT(t){const e=await vT(t),n=e.eventManager;return n.onListen=AP.bind(null,e.syncEngine),n.onUnlisten=NP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jP.bind(null,e.syncEngine),n}function FP(t,e,n={}){const s=new yr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,g,p){const x=new xT({next:_=>{x.Nu(),u.enqueueAndForget((()=>lT(l,v)));const A=_.docs.has(h);!A&&_.fromCache?p.reject(new he(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&_.fromCache&&g&&g.source==="server"?p.reject(new he(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),v=new cT(zx(h.path),x,{includeMetadataChanges:!0,qa:!0});return oT(l,v)})(await bT(t),t.asyncQueue,e,n,s))),s.promise}function HP(t,e,n={}){const s=new yr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,g,p){const x=new xT({next:_=>{x.Nu(),u.enqueueAndForget((()=>lT(l,v))),_.fromCache&&g.source==="server"?p.reject(new he(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),v=new cT(h,x,{includeMetadataChanges:!0,qa:!0});return oT(l,v)})(await bT(t),t.asyncQueue,e,n,s))),s.promise}function wT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const C3=new Map;const _T="firestore.googleapis.com",S3=!0;class N3{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_T,this.ssl=S3}else this.host=e.host,this.ssl=e.ssl??S3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wM)throw new he(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ip{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Xk;switch(s.type){case"firstParty":return new eD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=C3.get(n);s&&(ge("ComponentProvider","Removing Datastore"),C3.delete(n),s.terminate())})(this),Promise.resolve()}}function qP(t,e,n,s={}){t=ai(t,ip);const a=fc(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(L_(`https://${h}`),B_("Firestore",!0)),l.host!==_T&&l.host!==h&&Wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:h,ssl:a,emulatorOptions:s};if(!wr(g,u)&&(t._setSettings(g),s.mockUserToken)){let p,x;if(typeof s.mockUserToken=="string")p=s.mockUserToken,x=Nn.MOCK_USER;else{p=P8(s.mockUserToken,t._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new he(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Nn(v)}t._authCredentials=new Wk(new r5(p,x))}}class bc{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bc(this.firestore,e,this._query)}}class Ut{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Sd(n,Ut._jsonSchema))return new Ut(e,s||null,new _e(yt.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:sn("string",Ut._jsonSchemaVersion),referencePath:sn("string")};class _a extends bc{constructor(e,n,s){super(e,n,zx(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new _e(e))}withConverter(e){return new _a(this.firestore,e,this._path)}}function ot(t,e,...n){if(t=Ft(t),a5("collection","path",e),t instanceof ip){const s=yt.fromString(e,...n);return U4(s),new _a(t,null,s)}{if(!(t instanceof Ut||t instanceof _a))throw new he(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(yt.fromString(e,...n));return U4(s),new _a(t.firestore,null,s)}}function et(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=Mx.newId()),a5("doc","path",e),t instanceof ip){const s=yt.fromString(e,...n);return z4(s),new Ut(t,null,new _e(s))}{if(!(t instanceof Ut||t instanceof _a))throw new he(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(yt.fromString(e,...n));return z4(s),new Ut(t.firestore,t instanceof _a?t.converter:null,new _e(s))}}const j3="AsyncQueue";class I3{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new J5(this,"async_queue_retry"),this._c=()=>{const s=z0();s&&ge(j3,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=z0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=z0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xc(e))throw e;ge(j3,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",R3(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=e2.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ne(47125,{Pc:R3(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function R3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Uo extends ip{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new I3,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I3(e),this._firestoreClient=void 0,await e}}}function $P(t,e){const n=typeof t=="object"?t:xx(),s=typeof t=="string"?t:lm,a=Oo(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=D8("firestore");l&&qP(a,...l)}return a}function r2(t){if(t._terminated)throw new he(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GP(t),t._firestoreClient}function GP(t){const e=t._freezeSettings(),n=(function(a,l,u,h){return new yD(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,wT(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new BP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ks(Tn.fromBase64String(e))}catch(n){throw new he(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ks(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ks._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sd(e,ks._jsonSchema))return ks.fromBase64String(e.bytes)}}ks._jsonSchemaVersion="firestore/bytes/1.0",ks._jsonSchema={type:sn("string",ks._jsonSchemaVersion),bytes:sn("string")};class rp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dd{constructor(e){this._methodName=e}}class Oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(Sd(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:sn("string",Oi._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};class Li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sd(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Li(e.vectorValues);throw new he(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:sn("string",Li._jsonSchemaVersion),vectorValues:sn("object")};const KP=/^__.*__$/;class YP{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new jd(e,this.data,n,this.fieldTransforms)}}class ET{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Pa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:t})}}class ap{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ap({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ym(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TT(this.Ac)&&KP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class QP{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||tp(e)}Cc(e,n,s,a=!1){return new ap({Ac:e,methodName:n,Dc:s,path:En.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function op(t){const e=t._freezeSettings(),n=tp(t._databaseId);return new QP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AT(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);l2("Data must be an object, but it was:",u,s);const h=CT(s,u);let g,p;if(l.merge)g=new us(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const x=[];for(const v of l.mergeFields){const _=Ly(e,v,n);if(!u.contains(_))throw new he(oe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);NT(x,_)||x.push(_)}g=new us(x),p=u.fieldTransforms.filter((v=>g.covers(v.field)))}else g=null,p=u.fieldTransforms;return new YP(new Wn(h),g,p)}class lp extends Dd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lp}}function XP(t,e,n){return new ap({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class a2 extends Dd{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=XP(this,e,!0),s=this.vc.map((l=>wc(l,n))),a=new tc(s);return new V5(e.path,a)}isEqual(e){return e instanceof a2&&wr(this.vc,e.vc)}}class o2 extends Dd{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new dd(e.serializer,R5(e.serializer,this.Fc));return new V5(e.path,n)}isEqual(e){return e instanceof o2&&this.Fc===e.Fc}}function WP(t,e,n,s){const a=t.Cc(1,e,n);l2("Data must be an object, but it was:",a,s);const l=[],u=Wn.empty();Ma(s,((g,p)=>{const x=c2(e,g,n);p=Ft(p);const v=a.yc(x);if(p instanceof lp)l.push(x);else{const _=wc(p,v);_!=null&&(l.push(x),u.set(x,_))}}));const h=new us(l);return new ET(u,h,a.fieldTransforms)}function ZP(t,e,n,s,a,l){const u=t.Cc(1,e,n),h=[Ly(e,s,n)],g=[a];if(l.length%2!=0)throw new he(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)h.push(Ly(e,l[_])),g.push(l[_+1]);const p=[],x=Wn.empty();for(let _=h.length-1;_>=0;--_)if(!NT(p,h[_])){const A=h[_];let V=g[_];V=Ft(V);const M=u.yc(A);if(V instanceof lp)p.push(A);else{const k=wc(V,M);k!=null&&(p.push(A),x.set(A,k))}}const v=new us(p);return new ET(x,v,u.fieldTransforms)}function JP(t,e,n,s=!1){return wc(n,t.Cc(s?4:3,e))}function wc(t,e){if(ST(t=Ft(t)))return l2("Unsupported field value:",e,t),CT(t,e);if(t instanceof Dd)return(function(s,a){if(!TT(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const h of s){let g=wc(h,a.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=Ft(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return R5(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=wt.fromDate(s);return{timestampValue:fm(a.serializer,l)}}if(s instanceof wt){const l=new wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:fm(a.serializer,l)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ks)return{bytesValue:F5(a.serializer,s._byteString)};if(s instanceof Ut){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$x(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Li)return(function(u,h){return{mapValue:{fields:{[p5]:{stringValue:g5},[cm]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Ux(h.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Gm(s)}`)})(t,e)}function CT(t,e){const n={};return c5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(t,((s,a)=>{const l=wc(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function ST(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof Oi||t instanceof ks||t instanceof Ut||t instanceof Dd||t instanceof Li)}function l2(t,e,n){if(!ST(n)||!o5(n)){const s=Gm(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Ly(t,e,n){if((e=Ft(e))instanceof rp)return e._internalPath;if(typeof e=="string")return c2(t,e);throw ym("Field path arguments must be of type string or ",t,!1,void 0,n)}const eV=new RegExp("[~\\*/\\[\\]]");function c2(t,e,n){if(e.search(eV)>=0)throw ym(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rp(...e.split("."))._internalPath}catch{throw ym(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ym(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(l||u)&&(g+=" (found",l&&(g+=` in field ${s}`),u&&(g+=` in document ${a}`),g+=")"),new he(oe.INVALID_ARGUMENT,h+t+g)}function NT(t,e){return t.some((n=>n.isEqual(e)))}class jT{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(u2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tV extends jT{data(){return super.data()}}function u2(t,e){return typeof e=="string"?c2(t,e):e instanceof rp?e._internalPath:e._delegate._internalPath}function nV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d2{}class sV extends d2{}function h2(t,e,...n){let s=[];e instanceof d2&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((g=>g instanceof m2)).length,h=l.filter((g=>g instanceof cp)).length;if(u>1||u>0&&h>0)throw new he(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class cp extends sV{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new cp(e,n,s)}_apply(e){const n=this._parse(e);return IT(e._query,n),new bc(e.firestore,e.converter,Sy(e._query,n))}_parse(e){const n=op(e.firestore);return(function(l,u,h,g,p,x,v){let _;if(p.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new he(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){D3(v,x);const V=[];for(const M of v)V.push(k3(g,l,M));_={arrayValue:{values:V}}}else _=k3(g,l,v)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||D3(v,x),_=JP(h,u,v,x==="in"||x==="not-in");return nn.create(p,x,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function f2(t,e,n){const s=e,a=u2("where",t);return cp._create(a,s,n)}class m2 extends d2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new m2(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const g of h)IT(u,g),u=Sy(u,g)})(e._query,n),new bc(e.firestore,e.converter,Sy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function k3(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new he(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!T5(e)&&n.indexOf("/")!==-1)throw new he(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(yt.fromString(n));if(!_e.isDocumentKey(s))throw new he(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Q4(t,new _e(s))}if(n instanceof Ut)return Q4(t,n._key);throw new he(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gm(n)}.`)}function D3(t,e){if(!Array.isArray(t)||t.length===0)throw new he(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IT(t,e){const n=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iV{convertValue(e,n="none"){switch(Ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ma(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[cm].arrayValue?.values?.map((s=>zt(s.doubleValue)));return new Li(n)}convertGeoPoint(e){return new Oi(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(od(e));default:return null}}convertTimestamp(e){const n=Ta(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=yt.fromString(e);at(Y5(s),9688,{name:e});const a=new ld(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return a.isEqual(n)||Tr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function RT(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eo extends jT{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(u2("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Eo._jsonSchema={type:sn("string",Eo._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class qf extends Eo{data(e={}){return super.data(e)}}class Kl{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Hu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new qf(this._firestore,this._userDataWriter,s.key,s,new Hu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const g=new qf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Hu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const g=new qf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Hu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,x=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),x=u.indexOf(h.doc.key)),{type:rV(h.type),doc:g,oldIndex:p,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}function hn(t){t=ai(t,Ut);const e=ai(t.firestore,Uo);return FP(r2(e),t._key).then((n=>oV(e,t,n)))}Kl._jsonSchemaVersion="firestore/querySnapshot/1.0",Kl._jsonSchema={type:sn("string",Kl._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};class kT extends iV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ks(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function _t(t){t=ai(t,bc);const e=ai(t.firestore,Uo),n=r2(e),s=new kT(e);return nV(t._query),HP(n,t._query).then((a=>new Kl(e,s,t,a)))}function da(t,e,n){t=ai(t,Ut);const s=ai(t.firestore,Uo),a=RT(t.converter,e,n);return up(s,[AT(op(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ps.none())])}function _c(t,e,n,...s){t=ai(t,Ut);const a=ai(t.firestore,Uo),l=op(a);let u;return u=typeof(e=Ft(e))=="string"||e instanceof rp?ZP(l,"updateDoc",t._key,e,n,s):WP(l,"updateDoc",t._key,e),up(a,[u.toMutation(t._key,Ps.exists(!0))])}function aV(t){return up(ai(t.firestore,Uo),[new Fx(t._key,Ps.none())])}function Md(t,e){const n=ai(t.firestore,Uo),s=et(t),a=RT(t.converter,e);return up(n,[AT(op(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Ps.exists(!1))]).then((()=>s))}function up(t,e){return(function(s,a){const l=new yr;return s.asyncQueue.enqueueAndForget((async()=>IP(await UP(s),a,l))),l.promise})(r2(t),e)}function oV(t,e,n){const s=n.docs.get(e._key),a=new kT(t);return new Eo(t,a,e._key,s,new Hu(n.hasPendingWrites,n.fromCache),e.converter)}function lV(...t){return new a2("arrayUnion",t)}function cV(t){return new o2("increment",t)}(function(e,n=!0){(function(a){gc=a})(mc),Ui(new ii("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),h=new Uo(new Zk(s.getProvider("auth-internal")),new tD(u,s.getProvider("app-check-internal")),(function(p,x){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ld(p.options.projectId,x)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Ms(V4,O4,e),Ms(V4,O4,"esm2020")})();const uV={apiKey:"AIzaSyA5NSXjrfmZvSdKdLPEQWFaWrmF5MR3Q9E",authDomain:"wordquestproject.firebaseapp.com",projectId:"wordquestproject",storageBucket:"wordquestproject.firebasestorage.app",messagingSenderId:"264044817910",appId:"1:264044817910:web:6ebeff42cf96c0df0fabd7",measurementId:"G-EWFLN5KXB1"},p2=G_(uV);let dV;try{dV=$k(p2)}catch(t){console.warn("Analytics not available:",t)}const An=w7(p2),be=$P(p2),hV="/Project-WordQuest/assets/libro-cTtYO1qe.png",DT="/Project-WordQuest/assets/profile-CfCI4O-H.jpeg";var MT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},M3=_o.createContext&&_o.createContext(MT),fV=["attr","size","title"];function mV(t,e){if(t==null)return{};var n=pV(t,e),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)s=l[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function pV(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},xm.apply(this,arguments)}function P3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function vm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P3(Object(n),!0).forEach(function(s){gV(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P3(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function gV(t,e,n){return e=yV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yV(t){var e=xV(t,"string");return typeof e=="symbol"?e:e+""}function xV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PT(t){return t&&t.map((e,n)=>_o.createElement(e.tag,vm({key:n},e.attr),PT(e.child)))}function xe(t){return e=>_o.createElement(vV,xm({attr:vm({},t.attr)},e),PT(t.child))}function vV(t){var e=n=>{var{attr:s,size:a,title:l}=t,u=mV(t,fV),h=a||n.size||"1em",g;return n.className&&(g=n.className),t.className&&(g=(g?g+" ":"")+t.className),_o.createElement("svg",xm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,u,{className:g,style:vm(vm({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&_o.createElement("title",null,l),t.children)};return M3!==void 0?_o.createElement(M3.Consumer,null,n=>e(n)):e(MT)}function bV(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 160c16-63.16 76.43-95.41 208-96a15.94 15.94 0 0 1 16 16v288a16 16 0 0 1-16 16c-128 0-177.45 25.81-208 64-30.37-38-80-64-208-64-9.88 0-16-8.05-16-17.93V80a15.94 15.94 0 0 1 16-16c131.57.59 192 32.84 208 96zm0 0v288"},child:[]}]})(t)}function wV(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M202.24 74C166.11 56.75 115.61 48.3 48 48a31.36 31.36 0 0 0-17.92 5.33A32 32 0 0 0 16 79.9V366c0 19.34 13.76 33.93 32 33.93 71.07 0 142.36 6.64 185.06 47a4.11 4.11 0 0 0 6.94-3V106.82a15.89 15.89 0 0 0-5.46-12A143 143 0 0 0 202.24 74zm279.68-20.7A31.33 31.33 0 0 0 464 48c-67.61.3-118.11 8.71-154.24 26a143.31 143.31 0 0 0-32.31 20.78 15.93 15.93 0 0 0-5.45 12v337.13a3.93 3.93 0 0 0 6.68 2.81c25.67-25.5 70.72-46.82 185.36-46.81a32 32 0 0 0 32-32v-288a32 32 0 0 0-14.12-26.61z"},child:[]}]})(t)}function _V(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M345.14 480H274a18 18 0 0 1-18-18v-27.71a31.32 31.32 0 0 0-9.71-22.77c-7.78-7.59-19.08-11.8-30.89-11.51-21.36.5-39.4 19.3-39.4 41.06V462a18 18 0 0 1-18 18H87.62A55.62 55.62 0 0 1 32 424.38V354a18 18 0 0 1 18-18h27.71c9.16 0 18.07-3.92 25.09-11a42.06 42.06 0 0 0 12.2-29.92C114.7 273.89 97.26 256 76.91 256H50a18 18 0 0 1-18-18v-70.38A55.62 55.62 0 0 1 87.62 112h55.24a8 8 0 0 0 8-8v-6.48A65.53 65.53 0 0 1 217.54 32c35.49.62 64.36 30.38 64.36 66.33V104a8 8 0 0 0 8 8h55.24A54.86 54.86 0 0 1 400 166.86v55.24a8 8 0 0 0 8 8h5.66c36.58 0 66.34 29 66.34 64.64 0 36.61-29.39 66.4-65.52 66.4H408a8 8 0 0 0-8 8v56A54.86 54.86 0 0 1 345.14 480z"},child:[]}]})(t)}function EV(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79z"},child:[]},{tag:"path",attr:{d:"m490.91 244.15-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97z"},child:[]}]})(t)}function TV(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 480H48a32 32 0 0 1-32-32V112a32 32 0 0 1 32-32h16a32 32 0 0 1 32 32v336a32 32 0 0 1-32 32zm176-304a32 32 0 0 0-32-32h-64a32 32 0 0 0-32 32v28a4 4 0 0 0 4 4h120a4 4 0 0 0 4-4zM112 448a32 32 0 0 0 32 32h64a32 32 0 0 0 32-32v-30a2 2 0 0 0-2-2H114a2 2 0 0 0-2 2z"},child:[]},{tag:"rect",attr:{width:"128",height:"144",x:"112",y:"240",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M320 480h-32a32 32 0 0 1-32-32V64a32 32 0 0 1 32-32h32a32 32 0 0 1 32 32v384a32 32 0 0 1-32 32zm175.89-34.55-32.23-340c-1.48-15.65-16.94-27-34.53-25.31l-31.85 3c-17.59 1.67-30.65 15.71-29.17 31.36l32.23 340c1.48 15.65 16.94 27 34.53 25.31l31.85-3c17.59-1.67 30.65-15.71 29.17-31.36z"},child:[]}]})(t)}function AV(t){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 19h-6a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1h6a2 2 0 0 1 2 2a2 2 0 0 1 2 -2h6a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-6a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2z"},child:[]},{tag:"path",attr:{d:"M12 5v16"},child:[]},{tag:"path",attr:{d:"M7 7h1"},child:[]},{tag:"path",attr:{d:"M7 11h1"},child:[]},{tag:"path",attr:{d:"M16 7h1"},child:[]},{tag:"path",attr:{d:"M16 11h1"},child:[]},{tag:"path",attr:{d:"M16 15h1"},child:[]}]})(t)}function CV(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function SV(t){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function NV(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function ja(t){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function jV(t){return xe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(t)}function IV(t){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(t)}function Vs(t){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(t)}function RV(t){return xe({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(t)}function kV(t){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function DV(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function MV(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function PV(t){return xe({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(t)}function xr(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function VV(t){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function To(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function OV(t){return xe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(t)}function Os(t){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function g2(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function F0(t){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function By(t){return xe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function bm(t){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function LV(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 0C460.22 3.56 96.44 38.2 71.01 287.61c-3.09 26.66-4.84 53.44-5.99 80.24l178.87-178.69c6.25-6.25 16.4-6.25 22.65 0s6.25 16.38 0 22.63L7.04 471.03c-9.38 9.37-9.38 24.57 0 33.94 9.38 9.37 24.59 9.37 33.98 0l57.13-57.07c42.09-.14 84.15-2.53 125.96-7.36 53.48-5.44 97.02-26.47 132.58-56.54H255.74l146.79-48.88c11.25-14.89 21.37-30.71 30.45-47.12h-81.14l106.54-53.21C500.29 132.86 510.19 26.26 512 0z"},child:[]}]})(t)}function $f(t){return xe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function VT(t){return xe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"},child:[]}]})(t)}function y2(t){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"},child:[]}]})(t)}function BV(t){return xe({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function zV(t){return xe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function UV(t){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function FV(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(t)}function ic(t){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(t)}function V3(t){return xe({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(t)}function hd(t){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function HV(t){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(t)}function qV(t){return xe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function $V(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(t)}function wm(t){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function Bn(t){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function zy(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function jr(t){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function OT(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function O3(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function GV(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function dp(t){return xe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(t)}function rc(t){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function zs(t){return xe({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function hs(t){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function mr(t){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(t)}function KV(t){return xe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function Mo(t){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function YV(t){return xe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function es(){const[t,e]=j.useState(!1),[n,s]=j.useState(!1),[a]=ci(An),[l,u]=j.useState(null),h=Dt();j.useEffect(()=>{(async()=>{if(a)try{const x=await hn(et(be,"users",a.uid));x.exists()&&u(x.data())}catch(x){console.error("Error fetching user data:",x)}})()},[a]);const g=async()=>{try{await vE(An),h("/")}catch(p){console.error("Error signing out:",p)}};return c.jsxs("header",{className:"w-full bg-white backdrop-blur-md shadow-sm border-b border-gray-100 sticky top-0 z-50",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 cursor-pointer group",children:[c.jsx("img",{src:hV,alt:"WordQuest Logo",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-2xl shadow-lg group-hover:shadow-xl group-hover:scale-105 transition-all duration-300"}),c.jsxs("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900 tracking-tight",children:["Word",c.jsx("span",{className:"bg-linear-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Quest"})]})]}),c.jsxs("nav",{className:"hidden md:flex items-center gap-1",children:[c.jsxs(en,{to:"/",className:"flex items-center gap-1 px-4 py-2 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer relative group",children:[c.jsx(EV,{className:"text-xl"}),c.jsx("span",{children:"Inicio"}),c.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-linear-to-r from-blue-600 to-purple-600 scale-x-0 group-hover:scale-x-100 transition-transform duration-200"})]}),c.jsxs(en,{to:"/games",className:"flex items-center gap-1 px-4 py-2 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer relative group",children:[c.jsx(_V,{className:"text-xl"}),c.jsx("span",{children:"Retos"}),c.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-linear-to-r from-blue-600 to-purple-600 scale-x-0 group-hover:scale-x-100 transition-transform duration-200"})]}),c.jsxs("a",{className:"flex items-center gap-1 px-4 py-2 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer relative group",children:[c.jsx(AV,{className:"text-xl"}),c.jsx("span",{children:"Vocabulario"}),c.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-linear-to-r from-blue-600 to-purple-600 scale-x-0 group-hover:scale-x-100 transition-transform duration-200"})]})]}),c.jsx("div",{className:"hidden md:flex items-center gap-3",children:a?c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>s(!n),className:"flex items-center gap-3 px-4 py-2 rounded-xl bg-white/10 hover:bg-white/20 transition-all duration-200",children:[c.jsx("img",{src:DT,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover"}),c.jsx("span",{className:"text-gray-700 font-medium",children:l?.name||"Usuario"}),c.jsx(VV,{className:`text-gray-500 transition-transform ${n?"rotate-180":""}`})]}),n&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",children:[c.jsxs(en,{to:"/user-profile",className:"flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>s(!1),children:[c.jsx(Mo,{className:"text-gray-400"}),"Mi Perfil"]}),l?.isAdmin&&c.jsxs(en,{to:"/admin",className:"flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>s(!1),children:[c.jsx(To,{className:"text-gray-400"}),"Administracin"]}),c.jsx("button",{onClick:g,className:"w-full flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 transition-colors",children:c.jsx("span",{children:"Cerrar Sesin"})})]})]}):c.jsxs(c.Fragment,{children:[c.jsx(en,{to:"/register",className:"px-5 py-2.5 rounded-xl border border-gray-200 text-gray-700 font-medium hover:bg-gray-50 hover:border-gray-300 hover:shadow-sm transition-all duration-200 active:scale-95 inline-block text-center",children:"Registrarse"}),c.jsxs(en,{to:"/login",className:"px-5 py-2.5 rounded-xl bg-linear-to-r from-blue-600 to-purple-600 text-white font-medium shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-200 active:scale-95 relative overflow-hidden group inline-block text-center",children:[c.jsx("span",{className:"relative z-10",children:"Iniciar sesin"}),c.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-blue-700 to-purple-700 opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]})]})}),c.jsx("div",{className:"md:hidden cursor-pointer p-2 rounded-xl hover:bg-gray-100 transition-colors duration-200 active:scale-95",onClick:()=>e(!t),children:c.jsx("svg",{className:"h-6 w-6 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})})]}),t&&c.jsx("div",{className:"md:hidden bg-white/95 backdrop-blur-md border-t border-gray-100 shadow-lg",children:c.jsxs("nav",{className:"px-4 py-4 space-y-2",children:[c.jsx(en,{to:"/",className:"block px-4 py-3 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer",children:"Inicio"}),c.jsx(en,{to:"/games",className:"block px-4 py-3 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer",children:"Retos"}),c.jsx("a",{className:"block px-4 py-3 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer",children:"Vocabulario"}),c.jsx("a",{className:"block px-4 py-3 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer",children:"Perfil"}),c.jsx("div",{className:"pt-4 space-y-2 border-t border-gray-100",children:a?c.jsxs(c.Fragment,{children:[c.jsxs(en,{to:"/user-profile",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-200",children:[c.jsx(Mo,{className:"text-gray-400"}),"Mi Perfil"]}),l?.isAdmin&&c.jsxs(en,{to:"/admin",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-200",children:[c.jsx(To,{className:"text-gray-400"}),"Administracin"]}),c.jsx("button",{onClick:g,className:"w-full px-4 py-3 rounded-xl text-red-600 hover:bg-red-50 transition-all duration-200 text-left",children:"Cerrar Sesin"})]}):c.jsxs(c.Fragment,{children:[c.jsx(en,{to:"/register",className:"block w-full px-4 py-3 rounded-xl border border-gray-200 text-gray-700 font-medium hover:bg-gray-50 transition-all duration-200 text-center",children:"Registrarse"}),c.jsx(en,{to:"/login",className:"block w-full px-4 py-3 rounded-xl bg-linear-to-r from-blue-600 to-purple-600 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-200 text-center",children:"Iniciar sesin"})]})})]})})]})}const x2=j.createContext({});function v2(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const b2=typeof window<"u",LT=b2?j.useLayoutEffect:j.useEffect,hp=j.createContext(null);function w2(t,e){t.indexOf(e)===-1&&t.push(e)}function _2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Cr=(t,e,n)=>n>e?e:n<t?t:n;let E2=()=>{};const Sr={},BT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function zT(t){return typeof t=="object"&&t!==null}const UT=t=>/^0[^.\s]+$/u.test(t);function T2(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ls=t=>t,QV=(t,e)=>n=>e(t(n)),Pd=(...t)=>t.reduce(QV),fd=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class A2{constructor(){this.subscriptions=[]}add(e){return w2(this.subscriptions,e),()=>_2(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bi=t=>t*1e3,Ds=t=>t/1e3;function FT(t,e){return e?t*(1e3/e):0}const HT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,XV=1e-7,WV=12;function ZV(t,e,n,s,a){let l,u,h=0;do u=e+(n-e)/2,l=HT(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>XV&&++h<WV);return u}function Vd(t,e,n,s){if(t===e&&n===s)return Ls;const a=l=>ZV(l,0,1,t,n);return l=>l===0||l===1?l:HT(a(l),e,s)}const qT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$T=t=>e=>1-t(1-e),GT=Vd(.33,1.53,.69,.99),C2=$T(GT),KT=qT(C2),YT=t=>(t*=2)<1?.5*C2(t):.5*(2-Math.pow(2,-10*(t-1))),S2=t=>1-Math.sin(Math.acos(t)),QT=$T(S2),XT=qT(S2),JV=Vd(.42,0,1,1),eO=Vd(0,0,.58,1),WT=Vd(.42,0,.58,1),tO=t=>Array.isArray(t)&&typeof t[0]!="number",ZT=t=>Array.isArray(t)&&typeof t[0]=="number",nO={linear:Ls,easeIn:JV,easeInOut:WT,easeOut:eO,circIn:S2,circInOut:XT,circOut:QT,backIn:C2,backInOut:KT,backOut:GT,anticipate:YT},sO=t=>typeof t=="string",L3=t=>{if(ZT(t)){E2(t.length===4);const[e,n,s,a]=t;return Vd(e,n,s,a)}else if(sO(t))return nO[t];return t},Nf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function iO(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function g(x){u.has(x)&&(p.schedule(x),t()),x(h)}const p={schedule:(x,v=!1,_=!1)=>{const V=_&&a?n:s;return v&&u.add(x),V.has(x)||V.add(x),x},cancel:x=>{s.delete(x),u.delete(x)},process:x=>{if(h=x,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(g),n.clear(),a=!1,l&&(l=!1,p.process(x))}};return p}const rO=40;function JT(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Nf.reduce((I,D)=>(I[D]=iO(l),I),{}),{setup:h,read:g,resolveKeyframes:p,preUpdate:x,update:v,preRender:_,render:A,postRender:V}=u,M=()=>{const I=Sr.useManualTiming?a.timestamp:performance.now();n=!1,Sr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(I-a.timestamp,rO),1)),a.timestamp=I,a.isProcessing=!0,h.process(a),g.process(a),p.process(a),x.process(a),v.process(a),_.process(a),A.process(a),V.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(M))},k=()=>{n=!0,s=!0,a.isProcessing||t(M)};return{schedule:Nf.reduce((I,D)=>{const P=u[D];return I[D]=(H,S=!1,T=!1)=>(n||k(),P.schedule(H,S,T)),I},{}),cancel:I=>{for(let D=0;D<Nf.length;D++)u[Nf[D]].cancel(I)},state:a,steps:u}}const{schedule:At,cancel:Ia,state:wn,steps:H0}=JT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ls,!0);let Gf;function aO(){Gf=void 0}const Zn={now:()=>(Gf===void 0&&Zn.set(wn.isProcessing||Sr.useManualTiming?wn.timestamp:performance.now()),Gf),set:t=>{Gf=t,queueMicrotask(aO)}},eA=t=>e=>typeof e=="string"&&e.startsWith(t),N2=eA("--"),oO=eA("var(--"),j2=t=>oO(t)?lO.test(t.split("/*")[0].trim()):!1,lO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ec={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},md={...Ec,transform:t=>Cr(0,1,t)},jf={...Ec,default:1},Wu=t=>Math.round(t*1e5)/1e5,I2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cO(t){return t==null}const uO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,R2=(t,e)=>n=>!!(typeof n=="string"&&uO.test(n)&&n.startsWith(t)||e&&!cO(n)&&Object.prototype.hasOwnProperty.call(n,e)),tA=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,h]=s.match(I2);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},dO=t=>Cr(0,255,t),q0={...Ec,transform:t=>Math.round(dO(t))},bo={test:R2("rgb","red"),parse:tA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+q0.transform(t)+", "+q0.transform(e)+", "+q0.transform(n)+", "+Wu(md.transform(s))+")"};function hO(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Uy={test:R2("#"),parse:hO,transform:bo.transform},Od=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ua=Od("deg"),zi=Od("%"),je=Od("px"),fO=Od("vh"),mO=Od("vw"),B3={...zi,parse:t=>zi.parse(t)/100,transform:t=>zi.transform(t*100)},Ol={test:R2("hsl","hue"),parse:tA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+zi.transform(Wu(e))+", "+zi.transform(Wu(n))+", "+Wu(md.transform(s))+")"},tn={test:t=>bo.test(t)||Uy.test(t)||Ol.test(t),parse:t=>bo.test(t)?bo.parse(t):Ol.test(t)?Ol.parse(t):Uy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bo.transform(t):Ol.transform(t),getAnimatableNone:t=>{const e=tn.parse(t);return e.alpha=0,tn.transform(e)}},pO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gO(t){return isNaN(t)&&typeof t=="string"&&(t.match(I2)?.length||0)+(t.match(pO)?.length||0)>0}const nA="number",sA="color",yO="var",xO="var(",z3="${}",vO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pd(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(vO,g=>(tn.test(g)?(s.color.push(l),a.push(sA),n.push(tn.parse(g))):g.startsWith(xO)?(s.var.push(l),a.push(yO),n.push(g)):(s.number.push(l),a.push(nA),n.push(parseFloat(g))),++l,z3)).split(z3);return{values:n,split:h,indexes:s,types:a}}function iA(t){return pd(t).values}function rA(t){const{split:e,types:n}=pd(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===nA?l+=Wu(a[u]):h===sA?l+=tn.transform(a[u]):l+=a[u]}return l}}const bO=t=>typeof t=="number"?0:tn.test(t)?tn.getAnimatableNone(t):t;function wO(t){const e=iA(t);return rA(t)(e.map(bO))}const Ra={test:gO,parse:iA,createTransformer:rA,getAnimatableNone:wO};function $0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _O({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,g=2*n-h;a=$0(g,h,t+1/3),l=$0(g,h,t),u=$0(g,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function _m(t,e){return n=>n>0?e:t}const Ct=(t,e,n)=>t+(e-t)*n,G0=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},EO=[Uy,bo,Ol],TO=t=>EO.find(e=>e.test(t));function U3(t){const e=TO(t);if(!e)return!1;let n=e.parse(t);return e===Ol&&(n=_O(n)),n}const F3=(t,e)=>{const n=U3(t),s=U3(e);if(!n||!s)return _m(t,e);const a={...n};return l=>(a.red=G0(n.red,s.red,l),a.green=G0(n.green,s.green,l),a.blue=G0(n.blue,s.blue,l),a.alpha=Ct(n.alpha,s.alpha,l),bo.transform(a))},Fy=new Set(["none","hidden"]);function AO(t,e){return Fy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function CO(t,e){return n=>Ct(t,e,n)}function k2(t){return typeof t=="number"?CO:typeof t=="string"?j2(t)?_m:tn.test(t)?F3:jO:Array.isArray(t)?aA:typeof t=="object"?tn.test(t)?F3:SO:_m}function aA(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>k2(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function SO(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=k2(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function NO(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],h=t.values[u]??0;n[a]=h,s[l]++}return n}const jO=(t,e)=>{const n=Ra.createTransformer(e),s=pd(t),a=pd(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Fy.has(t)&&!a.values.length||Fy.has(e)&&!s.values.length?AO(t,e):Pd(aA(NO(s,a),a.values),n):_m(t,e)};function oA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ct(t,e,n):k2(t)(t,e)}const IO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>At.update(e,n),stop:()=>Ia(e),now:()=>wn.isProcessing?wn.timestamp:Zn.now()}},lA=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Em=2e4;function D2(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Em;)e+=n,s=t.next(e);return e>=Em?1/0:e}function RO(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(D2(s),Em);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Ds(a)}}const kO=5;function cA(t,e,n){const s=Math.max(e-kO,0);return FT(n-t(s),e-s)}const kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},K0=.001;function DO({duration:t=kt.duration,bounce:e=kt.bounce,velocity:n=kt.velocity,mass:s=kt.mass}){let a,l,u=1-e;u=Cr(kt.minDamping,kt.maxDamping,u),t=Cr(kt.minDuration,kt.maxDuration,Ds(t)),u<1?(a=p=>{const x=p*u,v=x*t,_=x-n,A=Hy(p,u),V=Math.exp(-v);return K0-_/A*V},l=p=>{const v=p*u*t,_=v*n+n,A=Math.pow(u,2)*Math.pow(p,2)*t,V=Math.exp(-v),M=Hy(Math.pow(p,2),u);return(-a(p)+K0>0?-1:1)*((_-A)*V)/M}):(a=p=>{const x=Math.exp(-p*t),v=(p-n)*t+1;return-K0+x*v},l=p=>{const x=Math.exp(-p*t),v=(n-p)*(t*t);return x*v});const h=5/t,g=PO(a,l,h);if(t=Bi(t),isNaN(g))return{stiffness:kt.stiffness,damping:kt.damping,duration:t};{const p=Math.pow(g,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const MO=12;function PO(t,e,n){let s=n;for(let a=1;a<MO;a++)s=s-t(s)/e(s);return s}function Hy(t,e){return t*Math.sqrt(1-e*e)}const VO=["duration","bounce"],OO=["stiffness","damping","mass"];function H3(t,e){return e.some(n=>t[n]!==void 0)}function LO(t){let e={velocity:kt.velocity,stiffness:kt.stiffness,damping:kt.damping,mass:kt.mass,isResolvedFromDuration:!1,...t};if(!H3(t,OO)&&H3(t,VO))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Cr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:kt.mass,stiffness:a,damping:l}}else{const n=DO(t);e={...e,...n,mass:kt.mass},e.isResolvedFromDuration=!0}return e}function Tm(t=kt.visualDuration,e=kt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:g,damping:p,mass:x,duration:v,velocity:_,isResolvedFromDuration:A}=LO({...n,velocity:-Ds(n.velocity||0)}),V=_||0,M=p/(2*Math.sqrt(g*x)),k=u-l,L=Ds(Math.sqrt(g/x)),B=Math.abs(k)<5;s||(s=B?kt.restSpeed.granular:kt.restSpeed.default),a||(a=B?kt.restDelta.granular:kt.restDelta.default);let I;if(M<1){const P=Hy(L,M);I=H=>{const S=Math.exp(-M*L*H);return u-S*((V+M*L*k)/P*Math.sin(P*H)+k*Math.cos(P*H))}}else if(M===1)I=P=>u-Math.exp(-L*P)*(k+(V+L*k)*P);else{const P=L*Math.sqrt(M*M-1);I=H=>{const S=Math.exp(-M*L*H),T=Math.min(P*H,300);return u-S*((V+M*L*k)*Math.sinh(T)+P*k*Math.cosh(T))/P}}const D={calculatedDuration:A&&v||null,next:P=>{const H=I(P);if(A)h.done=P>=v;else{let S=P===0?V:0;M<1&&(S=P===0?Bi(V):cA(I,P,H));const T=Math.abs(S)<=s,N=Math.abs(u-H)<=a;h.done=T&&N}return h.value=h.done?u:H,h},toString:()=>{const P=Math.min(D2(D),Em),H=lA(S=>D.next(P*S).value,P,30);return P+"ms "+H},toTransition:()=>{}};return D}Tm.applyToOptions=t=>{const e=RO(t,100,Tm);return t.ease=e.ease,t.duration=Bi(e.duration),t.type="keyframes",t};function qy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:g,restDelta:p=.5,restSpeed:x}){const v=t[0],_={done:!1,value:v},A=T=>h!==void 0&&T<h||g!==void 0&&T>g,V=T=>h===void 0?g:g===void 0||Math.abs(h-T)<Math.abs(g-T)?h:g;let M=n*e;const k=v+M,L=u===void 0?k:u(k);L!==k&&(M=L-v);const B=T=>-M*Math.exp(-T/s),I=T=>L+B(T),D=T=>{const N=B(T),O=I(T);_.done=Math.abs(N)<=p,_.value=_.done?L:O};let P,H;const S=T=>{A(_.value)&&(P=T,H=Tm({keyframes:[_.value,V(_.value)],velocity:cA(I,T,_.value),damping:a,stiffness:l,restDelta:p,restSpeed:x}))};return S(0),{calculatedDuration:null,next:T=>{let N=!1;return!H&&P===void 0&&(N=!0,D(T),S(T)),P!==void 0&&T>=P?H.next(T-P):(!N&&D(T),_)}}}function BO(t,e,n){const s=[],a=n||Sr.mix||oA,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const g=Array.isArray(e)?e[u]||Ls:e;h=Pd(g,h)}s.push(h)}return s}function zO(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(E2(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=BO(e,s,a),g=h.length,p=x=>{if(u&&x<t[0])return e[0];let v=0;if(g>1)for(;v<t.length-2&&!(x<t[v+1]);v++);const _=fd(t[v],t[v+1],x);return h[v](_)};return n?x=>p(Cr(t[0],t[l-1],x)):p}function UO(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=fd(0,e,s);t.push(Ct(n,1,a))}}function FO(t){const e=[0];return UO(e,t.length-1),e}function HO(t,e){return t.map(n=>n*e)}function qO(t,e){return t.map(()=>e||WT).splice(0,t.length-1)}function Zu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=tO(s)?s.map(L3):L3(s),l={done:!1,value:e[0]},u=HO(n&&n.length===e.length?n:FO(e),t),h=zO(u,e,{ease:Array.isArray(a)?a:qO(e,a)});return{calculatedDuration:t,next:g=>(l.value=h(g),l.done=g>=t,l)}}const $O=t=>t!==null;function M2(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter($O),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const GO={decay:qy,inertia:qy,tween:Zu,keyframes:Zu,spring:Tm};function uA(t){typeof t.type=="string"&&(t.type=GO[t.type])}class P2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const KO=t=>t/100;class V2 extends P2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Zn.now()&&this.tick(Zn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;uA(e);const{type:n=Zu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const g=n||Zu;g!==Zu&&typeof h[0]!="number"&&(this.mixKeyframes=Pd(KO,oA(h[0],h[1])),h=[0,100]);const p=g({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=D2(p));const{calculatedDuration:x}=p;this.calculatedDuration=x,this.resolvedDuration=x+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:g}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:x,repeat:v,repeatType:_,repeatDelay:A,type:V,onUpdate:M,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-p*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?L<0:L>a;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let I=this.currentTime,D=s;if(v){const T=Math.min(this.currentTime,a)/h;let N=Math.floor(T),O=T%1;!O&&T>=1&&(O=1),O===1&&N--,N=Math.min(N,v+1),!!(N%2)&&(_==="reverse"?(O=1-O,A&&(O-=A/h)):_==="mirror"&&(D=u)),I=Cr(0,1,O)*h}const P=B?{done:!1,value:x[0]}:D.next(I);l&&(P.value=l(P.value));let{done:H}=P;!B&&g!==null&&(H=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return S&&V!==qy&&(P.value=M2(x,this.options,k,this.speed)),M&&M(P.value),S&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return Ds(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ds(e)}get time(){return Ds(this.currentTime)}set time(e){e=Bi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Zn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ds(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=IO,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function YO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const wo=t=>t*180/Math.PI,$y=t=>{const e=wo(Math.atan2(t[1],t[0]));return Gy(e)},QO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:$y,rotateZ:$y,skewX:t=>wo(Math.atan(t[1])),skewY:t=>wo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Gy=t=>(t=t%360,t<0&&(t+=360),t),q3=$y,$3=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),G3=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),XO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$3,scaleY:G3,scale:t=>($3(t)+G3(t))/2,rotateX:t=>Gy(wo(Math.atan2(t[6],t[5]))),rotateY:t=>Gy(wo(Math.atan2(-t[2],t[0]))),rotateZ:q3,rotate:q3,skewX:t=>wo(Math.atan(t[4])),skewY:t=>wo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ky(t){return t.includes("scale")?1:0}function Yy(t,e){if(!t||t==="none")return Ky(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=XO,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=QO,a=h}if(!a)return Ky(e);const l=s[e],u=a[1].split(",").map(ZO);return typeof l=="function"?l(u):u[l]}const WO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Yy(n,e)};function ZO(t){return parseFloat(t.trim())}const Tc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ac=new Set(Tc),K3=t=>t===Ec||t===je,JO=new Set(["x","y","z"]),eL=Tc.filter(t=>!JO.has(t));function tL(t){const e=[];return eL.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ao={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Yy(e,"x"),y:(t,{transform:e})=>Yy(e,"y")};Ao.translateX=Ao.x;Ao.translateY=Ao.y;const Co=new Set;let Qy=!1,Xy=!1,Wy=!1;function dA(){if(Xy){const t=Array.from(Co).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=tL(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Xy=!1,Qy=!1,Co.forEach(t=>t.complete(Wy)),Co.clear()}function hA(){Co.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Xy=!0)})}function nL(){Wy=!0,hA(),dA(),Wy=!1}class O2{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Co.add(this),Qy||(Qy=!0,At.read(hA),At.resolveKeyframes(dA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}YO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Co.delete(this)}cancel(){this.state==="scheduled"&&(Co.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sL=t=>t.startsWith("--");function iL(t,e,n){sL(e)?t.style.setProperty(e,n):t.style[e]=n}const rL=T2(()=>window.ScrollTimeline!==void 0),aL={};function oL(t,e){const n=T2(t);return()=>aL[e]??n()}const fA=oL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Y3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qu([0,.65,.55,1]),circOut:qu([.55,0,1,.45]),backIn:qu([.31,.01,.66,-.59]),backOut:qu([.33,1.53,.69,.99])};function mA(t,e){if(t)return typeof t=="function"?fA()?lA(t,e):"ease-out":ZT(t)?qu(t):Array.isArray(t)?t.map(n=>mA(n,e)||Y3.easeOut):Y3[t]}function lL(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:g}={},p=void 0){const x={[e]:n};g&&(x.offset=g);const v=mA(h,a);Array.isArray(v)&&(x.easing=v);const _={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(x,_)}function pA(t){return typeof t=="function"&&"applyToOptions"in t}function cL({type:t,...e}){return pA(t)&&fA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class uL extends P2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:g}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,E2(typeof e.type!="string");const p=cL(e);this.animation=lL(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const x=M2(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(x):iL(n,s,x),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ds(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ds(e)}get time(){return Ds(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Bi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&rL()?(this.animation.timeline=e,Ls):n(this)}}const gA={anticipate:YT,backInOut:KT,circInOut:XT};function dL(t){return t in gA}function hL(t){typeof t.ease=="string"&&dL(t.ease)&&(t.ease=gA[t.ease])}const Q3=10;class fL extends uL{constructor(e){hL(e),uA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new V2({...u,autoplay:!1}),g=Bi(this.finishedTime??this.time);n.setWithVelocity(h.sample(g-Q3).value,h.sample(g).value,Q3),h.stop()}}const X3=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ra.test(t)||t==="0")&&!t.startsWith("url("));function mL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function pL(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=X3(a,e),h=X3(l,e);return!u||!h?!1:mL(t)||(n==="spring"||pA(n))&&s}function Zy(t){t.duration=0,t.type="keyframes"}const gL=new Set(["opacity","clipPath","filter","transform"]),yL=T2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xL(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:p}=e.owner.getProps();return yL()&&n&&gL.has(n)&&(n!=="transform"||!p)&&!g&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const vL=40;class bL extends P2{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:g,motionValue:p,element:x,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Zn.now();const _={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:g,motionValue:p,element:x,...v},A=x?.KeyframeResolver||O2;this.keyframeResolver=new A(h,(V,M,k)=>this.onKeyframesResolved(V,M,_,!k),g,p,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:g,isHandoff:p,onUpdate:x}=s;this.resolvedAt=Zn.now(),pL(e,l,u,h)||((Sr.instantAnimations||!g)&&x?.(M2(e,s,n)),e[0]=e[e.length-1],Zy(s),s.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>vL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},A=!p&&xL(_)?new fL({..._,element:_.motionValue.owner.current}):new V2(_);A.finished.then(()=>this.notifyFinished()).catch(Ls),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),nL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const wL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _L(t){const e=wL.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function yA(t,e,n=1){const[s,a]=_L(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return BT(u)?parseFloat(u):u}return j2(a)?yA(a,e,n+1):a}function L2(t,e){return t?.[e]??t?.default??t}const xA=new Set(["width","height","top","left","right","bottom",...Tc]),EL={test:t=>t==="auto",parse:t=>t},vA=t=>e=>e.test(t),bA=[Ec,je,zi,ua,mO,fO,EL],W3=t=>bA.find(vA(t));function TL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||UT(t):!0}const AL=new Set(["brightness","contrast","saturate","opacity"]);function CL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(I2)||[];if(!s)return t;const a=n.replace(s,"");let l=AL.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const SL=/\b([a-z-]*)\(.*?\)/gu,Jy={...Ra,getAnimatableNone:t=>{const e=t.match(SL);return e?e.map(CL).join(" "):t}},Z3={...Ec,transform:Math.round},NL={rotate:ua,rotateX:ua,rotateY:ua,rotateZ:ua,scale:jf,scaleX:jf,scaleY:jf,scaleZ:jf,skew:ua,skewX:ua,skewY:ua,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:md,originX:B3,originY:B3,originZ:je},B2={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...NL,zIndex:Z3,fillOpacity:md,strokeOpacity:md,numOctaves:Z3},jL={...B2,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:Jy,WebkitFilter:Jy},wA=t=>jL[t];function _A(t,e){let n=wA(t);return n!==Jy&&(n=Ra),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const IL=new Set(["auto","none","0"]);function RL(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!IL.has(l)&&pd(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=_A(n,a)}class kL extends O2{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let p=e[g];if(typeof p=="string"&&(p=p.trim(),j2(p))){const x=yA(p,n.current);x!==void 0&&(e[g]=x),g===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!xA.has(s)||e.length!==2)return;const[a,l]=e,u=W3(a),h=W3(l);if(u!==h)if(K3(u)&&K3(h))for(let g=0;g<e.length;g++){const p=e[g];typeof p=="string"&&(e[g]=parseFloat(p))}else Ao[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||TL(e[a]))&&s.push(a);s.length&&RL(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ao[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Ao[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,g])=>{e.getValue(h).set(g)}),this.resolveNoneKeyframes()}}function DL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const EA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function TA(t){return zT(t)&&"offsetHeight"in t}const J3=30,ML=t=>!isNaN(parseFloat(t));class PL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Zn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Zn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ML(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new A2);const s=this.events[e].add(n);return e==="change"?()=>{s(),At.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>J3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,J3);return FT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ac(t,e){return new PL(t,e)}const{schedule:z2}=JT(queueMicrotask,!1),ni={x:!1,y:!1};function AA(){return ni.x||ni.y}function VL(t){return t==="x"||t==="y"?ni[t]?null:(ni[t]=!0,()=>{ni[t]=!1}):ni.x||ni.y?null:(ni.x=ni.y=!0,()=>{ni.x=ni.y=!1})}function CA(t,e){const n=DL(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function e6(t){return!(t.pointerType==="touch"||AA())}function OL(t,e,n={}){const[s,a,l]=CA(t,n),u=h=>{if(!e6(h))return;const{target:g}=h,p=e(g,h);if(typeof p!="function"||!g)return;const x=v=>{e6(v)&&(p(v),g.removeEventListener("pointerleave",x))};g.addEventListener("pointerleave",x,a)};return s.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const SA=(t,e)=>e?t===e?!0:SA(t,e.parentElement):!1,U2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,LL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BL(t){return LL.has(t.tagName)||t.tabIndex!==-1}const Kf=new WeakSet;function t6(t){return e=>{e.key==="Enter"&&t(e)}}function Y0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zL=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=t6(()=>{if(Kf.has(n))return;Y0(n,"down");const a=t6(()=>{Y0(n,"up")}),l=()=>Y0(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function n6(t){return U2(t)&&!AA()}function UL(t,e,n={}){const[s,a,l]=CA(t,n),u=h=>{const g=h.currentTarget;if(!n6(h))return;Kf.add(g);const p=e(g,h),x=(A,V)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),Kf.has(g)&&Kf.delete(g),n6(A)&&typeof p=="function"&&p(A,{success:V})},v=A=>{x(A,g===window||g===document||n.useGlobalTarget||SA(g,A.target))},_=A=>{x(A,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",_,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),TA(h)&&(h.addEventListener("focus",p=>zL(p,a)),!BL(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function NA(t){return zT(t)&&"ownerSVGElement"in t}function FL(t){return NA(t)&&t.tagName==="svg"}const In=t=>!!(t&&t.getVelocity),HL=[...bA,tn,Ra],qL=t=>HL.find(vA(t)),F2=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function s6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $L(...t){return e=>{let n=!1;const s=t.map(a=>{const l=s6(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():s6(t[a],null)}}}}function GL(...t){return j.useCallback($L(...t),t)}class KL extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=TA(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function YL({children:t,isPresent:e,anchorX:n,root:s}){const a=j.useId(),l=j.useRef(null),u=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=j.useContext(F2),g=GL(l,t?.ref);return j.useInsertionEffect(()=>{const{width:p,height:x,top:v,left:_,right:A}=u.current;if(e||!l.current||!p||!x)return;const V=n==="left"?`left: ${_}`:`right: ${A}`;l.current.dataset.motionPopId=a;const M=document.createElement("style");h&&(M.nonce=h);const k=s??document.head;return k.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${x}px !important;
            ${V}px !important;
            top: ${v}px !important;
          }
        `),()=>{k.contains(M)&&k.removeChild(M)}},[e]),c.jsx(KL,{isPresent:e,childRef:l,sizeRef:u,children:j.cloneElement(t,{ref:g})})}const QL=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,root:g})=>{const p=v2(XL),x=j.useId();let v=!0,_=j.useMemo(()=>(v=!1,{id:x,initial:e,isPresent:n,custom:a,onExitComplete:A=>{p.set(A,!0);for(const V of p.values())if(!V)return;s&&s()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[n,p,s]);return l&&v&&(_={..._}),j.useMemo(()=>{p.forEach((A,V)=>p.set(V,!1))},[n]),j.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),u==="popLayout"&&(t=c.jsx(YL,{isPresent:n,anchorX:h,root:g,children:t})),c.jsx(hp.Provider,{value:_,children:t})};function XL(){return new Map}function jA(t=!0){const e=j.useContext(hp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=j.useId();j.useEffect(()=>{if(t)return a(l)},[t]);const u=j.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const If=t=>t.key||"";function i6(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const r6=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:g})=>{const[p,x]=jA(u),v=j.useMemo(()=>i6(t),[t]),_=u&&!p?[]:v.map(If),A=j.useRef(!0),V=j.useRef(v),M=v2(()=>new Map),[k,L]=j.useState(v),[B,I]=j.useState(v);LT(()=>{A.current=!1,V.current=v;for(let H=0;H<B.length;H++){const S=If(B[H]);_.includes(S)?M.delete(S):M.get(S)!==!0&&M.set(S,!1)}},[B,_.length,_.join("-")]);const D=[];if(v!==k){let H=[...v];for(let S=0;S<B.length;S++){const T=B[S],N=If(T);_.includes(N)||(H.splice(S,0,T),D.push(T))}return l==="wait"&&D.length&&(H=D),I(i6(H)),L(v),null}const{forceRender:P}=j.useContext(x2);return c.jsx(c.Fragment,{children:B.map(H=>{const S=If(H),T=u&&!p?!1:v===B||_.includes(S),N=()=>{if(M.has(S))M.set(S,!0);else return;let O=!0;M.forEach(z=>{z||(O=!1)}),O&&(P?.(),I(V.current),u&&x?.(),s&&s())};return c.jsx(QL,{isPresent:T,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:g,onExitComplete:T?void 0:N,anchorX:h,children:H},S)})})},IA=j.createContext({strict:!1}),a6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oc={};for(const t in a6)oc[t]={isEnabled:e=>a6[t].some(n=>!!e[n])};function WL(t){for(const e in t)oc[e]={...oc[e],...t[e]}}const ZL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Am(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ZL.has(t)}let RA=t=>!Am(t);function JL(t){typeof t=="function"&&(RA=e=>e.startsWith("on")?!Am(e):t(e))}try{JL(require("@emotion/is-prop-valid").default)}catch{}function eB(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(RA(a)||n===!0&&Am(a)||!e&&!Am(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const fp=j.createContext({});function mp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gd(t){return typeof t=="string"||Array.isArray(t)}const H2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],q2=["initial",...H2];function pp(t){return mp(t.animate)||q2.some(e=>gd(t[e]))}function kA(t){return!!(pp(t)||t.variants)}function tB(t,e){if(pp(t)){const{initial:n,animate:s}=t;return{initial:n===!1||gd(n)?n:void 0,animate:gd(s)?s:void 0}}return t.inherit!==!1?e:{}}function nB(t){const{initial:e,animate:n}=tB(t,j.useContext(fp));return j.useMemo(()=>({initial:e,animate:n}),[o6(e),o6(n)])}function o6(t){return Array.isArray(t)?t.join(" "):t}const yd={};function sB(t){for(const e in t)yd[e]=t[e],N2(e)&&(yd[e].isCSSVariable=!0)}function DA(t,{layout:e,layoutId:n}){return Ac.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yd[t]||t==="opacity")}const iB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rB=Tc.length;function aB(t,e,n){let s="",a=!0;for(let l=0;l<rB;l++){const u=Tc[l],h=t[u];if(h===void 0)continue;let g=!0;if(typeof h=="number"?g=h===(u.startsWith("scale")?1:0):g=parseFloat(h)===0,!g||n){const p=EA(h,B2[u]);if(!g){a=!1;const x=iB[u]||u;s+=`${x}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function $2(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const g in e){const p=e[g];if(Ac.has(g)){u=!0;continue}else if(N2(g)){a[g]=p;continue}else{const x=EA(p,B2[g]);g.startsWith("origin")?(h=!0,l[g]=x):s[g]=x}}if(e.transform||(u||n?s.transform=aB(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:g="50%",originY:p="50%",originZ:x=0}=l;s.transformOrigin=`${g} ${p} ${x}`}}const G2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function MA(t,e,n){for(const s in e)!In(e[s])&&!DA(s,n)&&(t[s]=e[s])}function oB({transformTemplate:t},e){return j.useMemo(()=>{const n=G2();return $2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function lB(t,e){const n=t.style||{},s={};return MA(s,n,t),Object.assign(s,oB(t,e)),s}function cB(t,e){const n={},s=lB(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const uB={offset:"stroke-dashoffset",array:"stroke-dasharray"},dB={offset:"strokeDashoffset",array:"strokeDasharray"};function hB(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?uB:dB;t[l.offset]=je.transform(-s);const u=je.transform(e),h=je.transform(n);t[l.array]=`${u} ${h}`}function PA(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},g,p,x){if($2(t,h,p),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:_}=t;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=x?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&hB(v,a,l,u,!1)}const VA=()=>({...G2(),attrs:{}}),OA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fB(t,e,n,s){const a=j.useMemo(()=>{const l=VA();return PA(l,e,OA(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};MA(l,t.style,t),a.style={...l,...a.style}}return a}const mB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function K2(t){return typeof t!="string"||t.includes("-")?!1:!!(mB.indexOf(t)>-1||/[A-Z]/u.test(t))}function pB(t,e,n,{latestValues:s},a,l=!1){const h=(K2(t)?fB:cB)(e,s,a,t),g=eB(e,typeof t=="string",l),p=t!==j.Fragment?{...g,...h,ref:n}:{},{children:x}=e,v=j.useMemo(()=>In(x)?x.get():x,[x]);return j.createElement(t,{...p,children:v})}function l6(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Y2(t,e,n,s){if(typeof e=="function"){const[a,l]=l6(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=l6(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Yf(t){return In(t)?t.get():t}function gB({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:yB(n,s,a,t),renderState:e()}}function yB(t,e,n,s){const a={},l=s(t,{});for(const _ in l)a[_]=Yf(l[_]);let{initial:u,animate:h}=t;const g=pp(t),p=kA(t);e&&p&&!g&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let x=n?n.initial===!1:!1;x=x||u===!1;const v=x?h:u;if(v&&typeof v!="boolean"&&!mp(v)){const _=Array.isArray(v)?v:[v];for(let A=0;A<_.length;A++){const V=Y2(t,_[A]);if(V){const{transitionEnd:M,transition:k,...L}=V;for(const B in L){let I=L[B];if(Array.isArray(I)){const D=x?I.length-1:0;I=I[D]}I!==null&&(a[B]=I)}for(const B in M)a[B]=M[B]}}}return a}const LA=t=>(e,n)=>{const s=j.useContext(fp),a=j.useContext(hp),l=()=>gB(t,e,s,a);return n?l():v2(l)};function Q2(t,e,n){const{style:s}=t,a={};for(const l in s)(In(s[l])||e.style&&In(e.style[l])||DA(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const xB=LA({scrapeMotionValuesFromProps:Q2,createRenderState:G2});function BA(t,e,n){const s=Q2(t,e,n);for(const a in t)if(In(t[a])||In(e[a])){const l=Tc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const vB=LA({scrapeMotionValuesFromProps:BA,createRenderState:VA}),bB=Symbol.for("motionComponentSymbol");function Ll(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wB(t,e,n){return j.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ll(n)&&(n.current=s))},[e])}const X2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_B="framerAppearId",zA="data-"+X2(_B),UA=j.createContext({});function EB(t,e,n,s,a){const{visualElement:l}=j.useContext(fp),u=j.useContext(IA),h=j.useContext(hp),g=j.useContext(F2).reducedMotion,p=j.useRef(null);s=s||u.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:g}));const x=p.current,v=j.useContext(UA);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&TB(p.current,n,a,v);const _=j.useRef(!1);j.useInsertionEffect(()=>{x&&_.current&&x.update(n,h)});const A=n[zA],V=j.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return LT(()=>{x&&(_.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),V.current&&x.animationState&&x.animationState.animateChanges())}),j.useEffect(()=>{x&&(!V.current&&x.animationState&&x.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),V.current=!1),x.enteringChildren=void 0)}),x}function TB(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:g,layoutRoot:p,layoutCrossfade:x}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:FA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&Ll(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:x,layoutScroll:g,layoutRoot:p})}function FA(t){if(t)return t.options.allowProjection!==!1?t.projection:FA(t.parent)}function Q0(t,{forwardMotionProps:e=!1}={},n,s){n&&WL(n);const a=K2(t)?vB:xB;function l(h,g){let p;const x={...j.useContext(F2),...h,layoutId:AB(h)},{isStatic:v}=x,_=nB(h),A=a(h,v);if(!v&&b2){CB();const V=SB(x);p=V.MeasureLayout,_.visualElement=EB(t,A,x,s,V.ProjectionNode)}return c.jsxs(fp.Provider,{value:_,children:[p&&_.visualElement?c.jsx(p,{visualElement:_.visualElement,...x}):null,pB(t,h,wB(A,_.visualElement,g),A,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=j.forwardRef(l);return u[bB]=t,u}function AB({layoutId:t}){const e=j.useContext(x2).id;return e&&t!==void 0?e+"-"+t:t}function CB(t,e){j.useContext(IA).strict}function SB(t){const{drag:e,layout:n}=oc;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function NB(t,e){if(typeof Proxy>"u")return Q0;const n=new Map,s=(l,u)=>Q0(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Q0(u,void 0,t,e)),n.get(u))})}function HA({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function jB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function IB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function X0(t){return t===void 0||t===1}function ex({scale:t,scaleX:e,scaleY:n}){return!X0(t)||!X0(e)||!X0(n)}function yo(t){return ex(t)||qA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function qA(t){return c6(t.x)||c6(t.y)}function c6(t){return t&&t!=="0%"}function Cm(t,e,n){const s=t-n,a=e*s;return n+a}function u6(t,e,n,s,a){return a!==void 0&&(t=Cm(t,a,s)),Cm(t,n,s)+e}function tx(t,e=0,n=1,s,a){t.min=u6(t.min,e,n,s,a),t.max=u6(t.max,e,n,s,a)}function $A(t,{x:e,y:n}){tx(t.x,e.translate,e.scale,e.originPoint),tx(t.y,n.translate,n.scale,n.originPoint)}const d6=.999999999999,h6=1.0000000000001;function RB(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:g}=l.options;g&&g.props.style&&g.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&zl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,$A(t,u)),s&&yo(l.latestValues)&&zl(t,l.latestValues))}e.x<h6&&e.x>d6&&(e.x=1),e.y<h6&&e.y>d6&&(e.y=1)}function Bl(t,e){t.min=t.min+e,t.max=t.max+e}function f6(t,e,n,s,a=.5){const l=Ct(t.min,t.max,a);tx(t,e,n,l,s)}function zl(t,e){f6(t.x,e.x,e.scaleX,e.scale,e.originX),f6(t.y,e.y,e.scaleY,e.scale,e.originY)}function GA(t,e){return HA(IB(t.getBoundingClientRect(),e))}function kB(t,e,n){const s=GA(t,n),{scroll:a}=e;return a&&(Bl(s.x,a.offset.x),Bl(s.y,a.offset.y)),s}const m6=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ul=()=>({x:m6(),y:m6()}),p6=()=>({min:0,max:0}),Lt=()=>({x:p6(),y:p6()}),nx={current:null},KA={current:!1};function DB(){if(KA.current=!0,!!b2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>nx.current=t.matches;t.addEventListener("change",e),e()}else nx.current=!1}const MB=new WeakMap;function PB(t,e,n){for(const s in e){const a=e[s],l=n[s];if(In(a))t.addValue(s,a);else if(In(l))t.addValue(s,ac(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,ac(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const g6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VB{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=O2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Zn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,At.render(this.render,!1,!0))};const{latestValues:g,renderState:p}=u;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=pp(n),this.isVariantNode=kA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in v){const A=v[_];g[_]!==void 0&&In(A)&&A.set(g[_])}}mount(e){this.current=e,MB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),KA.current||DB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nx.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ia(this.notifyUpdate),Ia(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ac.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&At.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in oc){const n=oc[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<g6.length;s++){const a=g6[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=PB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ac(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(BT(s)||UT(s))?s=parseFloat(s):!qL(s)&&Ra.test(n)&&(s=_A(e,n)),this.setBaseTarget(e,In(s)?s.get():s)),In(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Y2(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!In(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new A2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){z2.render(this.render)}}class YA extends VB{constructor(){super(...arguments),this.KeyframeResolver=kL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;In(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function QA(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function OB(t){return window.getComputedStyle(t)}class LB extends YA{constructor(){super(...arguments),this.type="html",this.renderInstance=QA}readValueFromInstance(e,n){if(Ac.has(n))return this.projection?.isProjecting?Ky(n):WO(e,n);{const s=OB(e),a=(N2(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return GA(e,n)}build(e,n,s){$2(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Q2(e,n,s)}}const XA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BB(t,e,n,s){QA(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(XA.has(a)?a:X2(a),e.attrs[a])}class zB extends YA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ac.has(n)){const s=wA(n);return s&&s.default||0}return n=XA.has(n)?n:X2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return BA(e,n,s)}build(e,n,s){PA(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){BB(e,n,s,a)}mount(e){this.isSVGTag=OA(e.tagName),super.mount(e)}}const UB=(t,e)=>K2(t)?new zB(e):new LB(e,{allowProjection:t!==j.Fragment});function Yl(t,e,n){const s=t.getProps();return Y2(s,e,n!==void 0?n:s.custom,t)}const sx=t=>Array.isArray(t);function FB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ac(n))}function HB(t){return sx(t)?t[t.length-1]||0:t}function qB(t,e){const n=Yl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const h=HB(l[u]);FB(t,u,h)}}function $B(t){return!!(In(t)&&t.add)}function ix(t,e){const n=t.getValue("willChange");if($B(n))return n.add(e);if(!n&&Sr.WillChange){const s=new Sr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function WA(t){return t.props[zA]}const GB=t=>t!==null;function KB(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(GB),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const YB={type:"spring",stiffness:500,damping:25,restSpeed:10},QB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XB={type:"keyframes",duration:.8},WB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZB=(t,{keyframes:e})=>e.length>2?XB:Ac.has(t)?t.startsWith("scale")?QB(e[1]):YB:WB;function JB({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:g,elapsed:p,...x}){return!!Object.keys(x).length}const W2=(t,e,n,s={},a,l)=>u=>{const h=L2(s,t)||{},g=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Bi(g);const x={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};JB(h)||Object.assign(x,ZB(t,x)),x.duration&&(x.duration=Bi(x.duration)),x.repeatDelay&&(x.repeatDelay=Bi(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let v=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(Zy(x),x.delay===0&&(v=!0)),(Sr.instantAnimations||Sr.skipAnimations)&&(v=!0,Zy(x),x.delay=0),x.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const _=KB(x.keyframes,h);if(_!==void 0){At.update(()=>{x.onUpdate(_),x.onComplete()});return}}return h.isSync?new V2(x):new bL(x)};function ez({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function ZA(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;s&&(l=s);const g=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const x in h){const v=t.getValue(x,t.latestValues[x]??null),_=h[x];if(_===void 0||p&&ez(p,x))continue;const A={delay:n,...L2(l||{},x)},V=v.get();if(V!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===V&&!A.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const L=WA(t);if(L){const B=window.MotionHandoffAnimation(L,x,At);B!==null&&(A.startTime=B,M=!0)}}ix(t,x),v.start(W2(x,v,_,t.shouldReduceMotion&&xA.has(x)?{type:!1}:A,t,M));const k=v.animation;k&&g.push(k)}return u&&Promise.all(g).then(()=>{At.update(()=>{u&&qB(t,u)})}),g}function JA(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,x)=>p.sortNodePosition(x)).indexOf(e),u=t.size,h=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:h-l*s}function rx(t,e,n={}){const s=Yl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(ZA(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:p=0,staggerChildren:x,staggerDirection:v}=a;return tz(t,e,g,p,x,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[g,p]=h==="beforeChildren"?[l,u]:[u,l];return g().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function tz(t,e,n=0,s=0,a=0,l=1,u){const h=[];for(const g of t.variantChildren)g.notify("AnimationStart",e),h.push(rx(g,e,{...u,delay:n+(typeof s=="function"?0:s)+JA(t.variantChildren,g,s,a,l)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(h)}function nz(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>rx(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=rx(t,e,n);else{const a=typeof e=="function"?Yl(t,e,n.custom):e;s=Promise.all(ZA(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function eC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const sz=q2.length;function tC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?tC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<sz;n++){const s=q2[n],a=t.props[s];(gd(a)||a===!1)&&(e[s]=a)}return e}const iz=[...H2].reverse(),rz=H2.length;function az(t){return e=>Promise.all(e.map(({animation:n,options:s})=>nz(t,n,s)))}function oz(t){let e=az(t),n=y6(),s=!0;const a=g=>(p,x)=>{const v=Yl(t,x,g==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:A,...V}=v;p={...p,...V,...A}}return p};function l(g){e=g(t)}function u(g){const{props:p}=t,x=tC(t.parent)||{},v=[],_=new Set;let A={},V=1/0;for(let k=0;k<rz;k++){const L=iz[k],B=n[L],I=p[L]!==void 0?p[L]:x[L],D=gd(I),P=L===g?B.isActive:null;P===!1&&(V=k);let H=I===x[L]&&I!==p[L]&&D;if(H&&s&&t.manuallyAnimateOnMount&&(H=!1),B.protectedKeys={...A},!B.isActive&&P===null||!I&&!B.prevProp||mp(I)||typeof I=="boolean")continue;const S=lz(B.prevProp,I);let T=S||L===g&&B.isActive&&!H&&D||k>V&&D,N=!1;const O=Array.isArray(I)?I:[I];let z=O.reduce(a(L),{});P===!1&&(z={});const{prevResolvedValues:G={}}=B,U={...G,...z},Ke=ce=>{T=!0,_.has(ce)&&(N=!0,_.delete(ce)),B.needsAnimating[ce]=!0;const pe=t.getValue(ce);pe&&(pe.liveStyle=!1)};for(const ce in U){const pe=z[ce],De=G[ce];if(A.hasOwnProperty(ce))continue;let Le=!1;sx(pe)&&sx(De)?Le=!eC(pe,De):Le=pe!==De,Le?pe!=null?Ke(ce):_.add(ce):pe!==void 0&&_.has(ce)?Ke(ce):B.protectedKeys[ce]=!0}B.prevProp=I,B.prevResolvedValues=z,B.isActive&&(A={...A,...z}),s&&t.blockInitialAnimation&&(T=!1);const Xe=H&&S;T&&(!Xe||N)&&v.push(...O.map(ce=>{const pe={type:L};if(typeof ce=="string"&&s&&!Xe&&t.manuallyAnimateOnMount&&t.parent){const{parent:De}=t,Le=Yl(De,ce);if(De.enteringChildren&&Le){const{delayChildren:$}=Le.transition||{};pe.delay=JA(De.enteringChildren,t,$)}}return{animation:ce,options:pe}}))}if(_.size){const k={};if(typeof p.initial!="boolean"){const L=Yl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);L&&L.transition&&(k.transition=L.transition)}_.forEach(L=>{const B=t.getBaseTarget(L),I=t.getValue(L);I&&(I.liveStyle=!0),k[L]=B??null}),v.push({animation:k})}let M=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),s=!1,M?e(v):Promise.resolve()}function h(g,p){if(n[g].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(g,p)),n[g].isActive=p;const x=u(g);for(const v in n)n[v].protectedKeys={};return x}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=y6()}}}function lz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!eC(e,t):!1}function mo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function y6(){return{animate:mo(!0),whileInView:mo(),whileHover:mo(),whileTap:mo(),whileDrag:mo(),whileFocus:mo(),exit:mo()}}class Va{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cz extends Va{constructor(e){super(e),e.animationState||(e.animationState=oz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let uz=0;class dz extends Va{constructor(){super(...arguments),this.id=uz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const hz={animation:{Feature:cz},exit:{Feature:dz}};function xd(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Ld(t){return{point:{x:t.pageX,y:t.pageY}}}const fz=t=>e=>U2(e)&&t(e,Ld(e));function Ju(t,e,n,s){return xd(t,e,fz(n),s)}const nC=1e-4,mz=1-nC,pz=1+nC,sC=.01,gz=0-sC,yz=0+sC;function On(t){return t.max-t.min}function xz(t,e,n){return Math.abs(t-e)<=n}function x6(t,e,n,s=.5){t.origin=s,t.originPoint=Ct(e.min,e.max,t.origin),t.scale=On(n)/On(e),t.translate=Ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=mz&&t.scale<=pz||isNaN(t.scale))&&(t.scale=1),(t.translate>=gz&&t.translate<=yz||isNaN(t.translate))&&(t.translate=0)}function ed(t,e,n,s){x6(t.x,e.x,n.x,s?s.originX:void 0),x6(t.y,e.y,n.y,s?s.originY:void 0)}function v6(t,e,n){t.min=n.min+e.min,t.max=t.min+On(e)}function vz(t,e,n){v6(t.x,e.x,n.x),v6(t.y,e.y,n.y)}function b6(t,e,n){t.min=e.min-n.min,t.max=t.min+On(e)}function td(t,e,n){b6(t.x,e.x,n.x),b6(t.y,e.y,n.y)}function Is(t){return[t("x"),t("y")]}const iC=({current:t})=>t?t.ownerDocument.defaultView:null,w6=(t,e)=>Math.abs(t-e);function bz(t,e){const n=w6(t.x,e.x),s=w6(t.y,e.y);return Math.sqrt(n**2+s**2)}class rC{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Z0(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,V=bz(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!V)return;const{point:M}=_,{timestamp:k}=wn;this.history.push({...M,timestamp:k});const{onStart:L,onMove:B}=this.handlers;A||(L&&L(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,_)},this.handlePointerMove=(_,A)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=W0(A,this.transformPagePoint),At.update(this.updatePoint,!0)},this.handlePointerUp=(_,A)=>{this.end();const{onEnd:V,onSessionEnd:M,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Z0(_.type==="pointercancel"?this.lastMoveEventInfo:W0(A,this.transformPagePoint),this.history);this.startEvent&&V&&V(_,L),M&&M(_,L)},!U2(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const h=Ld(e),g=W0(h,this.transformPagePoint),{point:p}=g,{timestamp:x}=wn;this.history=[{...p,timestamp:x}];const{onSessionStart:v}=n;v&&v(e,Z0(g,this.history)),this.removeListeners=Pd(Ju(this.contextWindow,"pointermove",this.handlePointerMove),Ju(this.contextWindow,"pointerup",this.handlePointerUp),Ju(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ia(this.updatePoint)}}function W0(t,e){return e?{point:e(t.point)}:t}function _6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Z0({point:t},e){return{point:t,delta:_6(t,aC(e)),offset:_6(t,wz(e)),velocity:_z(e,.1)}}function wz(t){return t[0]}function aC(t){return t[t.length-1]}function _z(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=aC(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Bi(e)));)n--;if(!s)return{x:0,y:0};const l=Ds(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Ez(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ct(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ct(n,t,s.max):Math.min(t,n)),t}function E6(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Tz(t,{top:e,left:n,bottom:s,right:a}){return{x:E6(t.x,n,a),y:E6(t.y,e,s)}}function T6(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Az(t,e){return{x:T6(t.x,e.x),y:T6(t.y,e.y)}}function Cz(t,e){let n=.5;const s=On(t),a=On(e);return a>s?n=fd(e.min,e.max-s,t.min):s>a&&(n=fd(t.min,t.max-a,e.min)),Cr(0,1,n)}function Sz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ax=.35;function Nz(t=ax){return t===!1?t=0:t===!0&&(t=ax),{x:A6(t,"left","right"),y:A6(t,"top","bottom")}}function A6(t,e,n){return{min:C6(t,e),max:C6(t,n)}}function C6(t,e){return typeof t=="number"?t:t[e]||0}const jz=new WeakMap;class Iz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ld(v).point)},u=(v,_)=>{const{drag:A,dragPropagation:V,onDragStart:M}=this.getProps();if(A&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=VL(A),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Is(L=>{let B=this.getAxisMotionValue(L).get()||0;if(zi.test(B)){const{projection:I}=this.visualElement;if(I&&I.layout){const D=I.layout.layoutBox[L];D&&(B=On(D)*(parseFloat(B)/100))}}this.originPoint[L]=B}),M&&At.postRender(()=>M(v,_)),ix(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},h=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:A,dragDirectionLock:V,onDirectionLock:M,onDrag:k}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:L}=_;if(V&&this.currentDirection===null){this.currentDirection=Rz(L),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",_.point,L),this.updateAxis("y",_.point,L),this.visualElement.render(),k&&k(v,_)},g=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Is(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:x}=this.getProps();this.panSession=new rC(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:g,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:s,contextWindow:iC(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&At.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Rf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=Ez(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Ll(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Tz(s.layoutBox,e):this.constraints=!1,this.elastic=Nz(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Is(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Sz(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ll(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=kB(s,a.root,this.visualElement.getTransformPagePoint());let u=Az(a.layout.layoutBox,l);if(n){const h=n(jB(u));this.hasMutatedConstraints=!!h,h&&(u=HA(h))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),g=this.constraints||{},p=Is(x=>{if(!Rf(x,n,this.currentDirection))return;let v=g&&g[x]||{};u&&(v={min:0,max:0});const _=a?200:1e6,A=a?40:1e7,V={type:"inertia",velocity:s?e[x]:0,bounceStiffness:_,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(x,V)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return ix(this.visualElement,e),s.start(W2(e,s,0,n,this.visualElement,!1))}stopAnimation(){Is(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Is(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Is(n=>{const{drag:s}=this.getProps();if(!Rf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-Ct(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ll(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Is(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const g=h.get();a[u]=Cz({min:g,max:g},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Is(u=>{if(!Rf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:g,max:p}=this.constraints[u];h.set(Ct(g,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;jz.set(this.visualElement,this);const e=this.visualElement.current,n=Ju(e,"pointerdown",g=>{const{drag:p,dragListener:x=!0}=this.getProps();p&&x&&this.start(g)}),s=()=>{const{dragConstraints:g}=this.getProps();Ll(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),At.read(s);const u=xd(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:p})=>{this.isDragging&&p&&(Is(x=>{const v=this.getAxisMotionValue(x);v&&(this.originPoint[x]+=g[x].translate,v.set(v.get()+g[x].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=ax,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Rf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Rz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kz extends Va{constructor(e){super(e),this.removeGroupControls=Ls,this.removeListeners=Ls,this.controls=new Iz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ls}unmount(){this.removeGroupControls(),this.removeListeners()}}const S6=t=>(e,n)=>{t&&At.postRender(()=>t(e,n))};class Dz extends Va{constructor(){super(...arguments),this.removePointerDownListener=Ls}onPointerDown(e){this.session=new rC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:S6(e),onStart:S6(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&At.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Ju(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function N6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ou={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=N6(t,e.target.x),s=N6(t,e.target.y);return`${n}% ${s}%`}},Mz={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Ra.parse(t);if(a.length>5)return s;const l=Ra.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,g=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=g;const p=Ct(h,g,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};let J0=!1;class Pz extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;sB(Vz),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),J0&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Qf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,J0=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||At.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),z2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;J0=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function oC(t){const[e,n]=jA(),s=j.useContext(x2);return c.jsx(Pz,{...t,layoutGroup:s,switchLayoutGroup:j.useContext(UA),isPresent:e,safeToRemove:n})}const Vz={borderRadius:{...Ou,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ou,borderTopRightRadius:Ou,borderBottomLeftRadius:Ou,borderBottomRightRadius:Ou,boxShadow:Mz};function Oz(t,e,n){const s=In(t)?t:ac(t);return s.start(W2("",s,e,n)),s.animation}const Lz=(t,e)=>t.depth-e.depth;class Bz{constructor(){this.children=[],this.isDirty=!1}add(e){w2(this.children,e),this.isDirty=!0}remove(e){_2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Lz),this.isDirty=!1,this.children.forEach(e)}}function zz(t,e){const n=Zn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Ia(s),t(l-e))};return At.setup(s,!0),()=>Ia(s)}const lC=["TopLeft","TopRight","BottomLeft","BottomRight"],Uz=lC.length,j6=t=>typeof t=="string"?parseFloat(t):t,I6=t=>typeof t=="number"||je.test(t);function Fz(t,e,n,s,a,l){a?(t.opacity=Ct(0,n.opacity??1,Hz(s)),t.opacityExit=Ct(e.opacity??1,0,qz(s))):l&&(t.opacity=Ct(e.opacity??1,n.opacity??1,s));for(let u=0;u<Uz;u++){const h=`border${lC[u]}Radius`;let g=R6(e,h),p=R6(n,h);if(g===void 0&&p===void 0)continue;g||(g=0),p||(p=0),g===0||p===0||I6(g)===I6(p)?(t[h]=Math.max(Ct(j6(g),j6(p),s),0),(zi.test(p)||zi.test(g))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=Ct(e.rotate||0,n.rotate||0,s))}function R6(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Hz=cC(0,.5,QT),qz=cC(.5,.95,Ls);function cC(t,e,n){return s=>s<t?0:s>e?1:n(fd(t,e,s))}function k6(t,e){t.min=e.min,t.max=e.max}function js(t,e){k6(t.x,e.x),k6(t.y,e.y)}function D6(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function M6(t,e,n,s,a){return t-=e,t=Cm(t,1/n,s),a!==void 0&&(t=Cm(t,1/a,s)),t}function $z(t,e=0,n=1,s=.5,a,l=t,u=t){if(zi.test(e)&&(e=parseFloat(e),e=Ct(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Ct(l.min,l.max,s);t===l&&(h-=e),t.min=M6(t.min,e,n,h,a),t.max=M6(t.max,e,n,h,a)}function P6(t,e,[n,s,a],l,u){$z(t,e[n],e[s],e[a],e.scale,l,u)}const Gz=["x","scaleX","originX"],Kz=["y","scaleY","originY"];function V6(t,e,n,s){P6(t.x,e,Gz,n?n.x:void 0,s?s.x:void 0),P6(t.y,e,Kz,n?n.y:void 0,s?s.y:void 0)}function O6(t){return t.translate===0&&t.scale===1}function uC(t){return O6(t.x)&&O6(t.y)}function L6(t,e){return t.min===e.min&&t.max===e.max}function Yz(t,e){return L6(t.x,e.x)&&L6(t.y,e.y)}function B6(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function dC(t,e){return B6(t.x,e.x)&&B6(t.y,e.y)}function z6(t){return On(t.x)/On(t.y)}function U6(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Qz{constructor(){this.members=[]}add(e){w2(this.members,e),e.scheduleRender()}remove(e){if(_2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Xz(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:x,rotateX:v,rotateY:_,skewX:A,skewY:V}=n;p&&(s=`perspective(${p}px) ${s}`),x&&(s+=`rotate(${x}deg) `),v&&(s+=`rotateX(${v}deg) `),_&&(s+=`rotateY(${_}deg) `),A&&(s+=`skewX(${A}deg) `),V&&(s+=`skewY(${V}deg) `)}const h=t.x.scale*e.x,g=t.y.scale*e.y;return(h!==1||g!==1)&&(s+=`scale(${h}, ${g})`),s||"none"}const ey=["","X","Y","Z"],Wz=1e3;let Zz=0;function ty(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function hC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=WA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",At,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&hC(s)}function fC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=Zz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tU),this.nodes.forEach(rU),this.nodes.forEach(aU),this.nodes.forEach(nU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new Bz)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new A2),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const g=this.eventHandlers.get(u);g&&g.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=NA(u)&&!FL(u),this.instance=u;const{layoutId:h,layout:g,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||h)&&(this.isLayoutDirty=!0),t){let x,v=0;const _=()=>this.root.updateBlockedByResize=!1;At.read(()=>{v=window.innerWidth}),t(u,()=>{const A=window.innerWidth;A!==v&&(v=A,this.root.updateBlockedByResize=!0,x&&x(),x=zz(_,250),Qf.hasAnimatedSinceResize&&(Qf.hasAnimatedSinceResize=!1,this.nodes.forEach(q6)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||g)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||p.getDefaultTransition()||dU,{onLayoutAnimationStart:M,onLayoutAnimationComplete:k}=p.getProps(),L=!this.targetLayout||!dC(this.targetLayout,A),B=!v&&_;if(this.options.layoutRoot||this.resumeFrom||B||v&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const I={...L2(V,"layout"),onPlay:M,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I),this.setAnimationOrigin(x,B)}else v||q6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ia(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oU),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const v=this.path[x];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:g}=this.options;if(h===void 0&&!g)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(H6);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(iU),this.nodes.forEach(Jz),this.nodes.forEach(eU)):this.nodes.forEach(H6),this.clearAllSnapshots();const h=Zn.now();wn.delta=Cr(0,1e3/60,h-wn.timestamp),wn.timestamp=h,wn.isProcessing=!0,H0.update.process(wn),H0.preRender.process(wn),H0.render.process(wn),wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,z2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sU),this.sharedNodes.forEach(lU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,At.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){At.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!On(this.snapshot.measuredBox.x)&&!On(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const g=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:g,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!uC(this.projectionDelta),g=this.getTransformTemplate(),p=g?g(this.latestValues,""):void 0,x=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||yo(this.latestValues)||x)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let g=this.removeElementScroll(h);return u&&(g=this.removeTransform(g)),hU(g),{animationId:this.root.animationId,measuredBox:h,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Lt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(fU))){const{scroll:p}=this.root;p&&(Bl(h.x,p.offset.x),Bl(h.y,p.offset.y))}return h}removeElementScroll(u){const h=Lt();if(js(h,u),this.scroll?.wasRoot)return h;for(let g=0;g<this.path.length;g++){const p=this.path[g],{scroll:x,options:v}=p;p!==this.root&&x&&v.layoutScroll&&(x.wasRoot&&js(h,u),Bl(h.x,x.offset.x),Bl(h.y,x.offset.y))}return h}applyTransform(u,h=!1){const g=Lt();js(g,u);for(let p=0;p<this.path.length;p++){const x=this.path[p];!h&&x.options.layoutScroll&&x.scroll&&x!==x.root&&zl(g,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),yo(x.latestValues)&&zl(g,x.latestValues)}return yo(this.latestValues)&&zl(g,this.latestValues),g}removeTransform(u){const h=Lt();js(h,u);for(let g=0;g<this.path.length;g++){const p=this.path[g];if(!p.instance||!yo(p.latestValues))continue;ex(p.latestValues)&&p.updateSnapshot();const x=Lt(),v=p.measurePageBox();js(x,v),V6(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,x)}return yo(this.latestValues)&&V6(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==h;if(!(u||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:v}=this.options;if(!(!this.layout||!(x||v))){if(this.resolvedRelativeTargetAt=wn.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),td(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Lt(),this.targetWithTransforms=Lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):js(this.target,this.layout.layoutBox),$A(this.target,this.targetDelta)):js(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),td(this.relativeTargetOrigin,this.target,_.target),js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ex(this.parent.latestValues)||qA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===wn.timestamp&&(g=!1),g)return;const{layout:p,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||x))return;js(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;RB(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Lt());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(D6(this.prevProjectionDelta.x,this.projectionDelta.x),D6(this.prevProjectionDelta.y,this.projectionDelta.y)),ed(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!U6(this.projectionDelta.x,this.prevProjectionDelta.x)||!U6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ul(),this.projectionDelta=Ul(),this.projectionDeltaWithTransform=Ul()}setAnimationOrigin(u,h=!1){const g=this.snapshot,p=g?g.latestValues:{},x={...this.latestValues},v=Ul();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=Lt(),A=g?g.source:void 0,V=this.layout?this.layout.source:void 0,M=A!==V,k=this.getStack(),L=!k||k.members.length<=1,B=!!(M&&!L&&this.options.crossfade===!0&&!this.path.some(uU));this.animationProgress=0;let I;this.mixTargetDelta=D=>{const P=D/1e3;$6(v.x,u.x,P),$6(v.y,u.y,P),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(td(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cU(this.relativeTarget,this.relativeTargetOrigin,_,P),I&&Yz(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Lt()),js(I,this.relativeTarget)),M&&(this.animationValues=x,Fz(x,p,this.latestValues,P,B,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ia(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=At.update(()=>{Qf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ac(0)),this.currentAnimation=Oz(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Wz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:g,layout:p,latestValues:x}=u;if(!(!h||!g||!p)){if(this!==u&&this.layout&&p&&mC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){g=this.target||Lt();const v=On(this.layout.layoutBox.x);g.x.min=u.target.x.min,g.x.max=g.x.min+v;const _=On(this.layout.layoutBox.y);g.y.min=u.target.y.min,g.y.max=g.y.min+_}js(h,g),zl(h,x),ed(this.projectionDeltaWithTransform,this.layoutCorrected,h,x)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Qz),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:g}={}){const p=this.getStack();p&&p.promote(this,g),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:g}=u;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(h=!0),!h)return;const p={};g.z&&ty("z",u,p,this.animationValues);for(let x=0;x<ey.length;x++)ty(`rotate${ey[x]}`,u,p,this.animationValues),ty(`skew${ey[x]}`,u,p,this.animationValues);u.render();for(const x in p)u.setStaticValue(x,p[x]),this.animationValues&&(this.animationValues[x]=p[x]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Yf(h?.pointerEvents)||"",u.transform=g?g(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Yf(h?.pointerEvents)||""),this.hasProjected&&!yo(this.latestValues)&&(u.transform=g?g({},""):"none",this.hasProjected=!1);return}u.visibility="";const x=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=Xz(this.projectionDeltaWithTransform,this.treeScale,x);g&&(v=g(x,v)),u.transform=v;const{x:_,y:A}=this.projectionDelta;u.transformOrigin=`${_.origin*100}% ${A.origin*100}% 0`,p.animationValues?u.opacity=p===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:u.opacity=p===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const V in yd){if(x[V]===void 0)continue;const{correct:M,applyTo:k,isCSSVariable:L}=yd[V],B=v==="none"?x[V]:M(x[V],p);if(k){const I=k.length;for(let D=0;D<I;D++)u[k[D]]=B}else L?this.options.visualElement.renderState.vars[V]=B:u[V]=B}this.options.layoutId&&(u.pointerEvents=p===this?Yf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(F6),this.root.sharedNodes.clear()}}}function Jz(t){t.updateLayout()}function eU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Is(x=>{const v=l?e.measuredBox[x]:e.layoutBox[x],_=On(v);v.min=n[x].min,v.max=v.min+_}):mC(a,e.layoutBox,n)&&Is(x=>{const v=l?e.measuredBox[x]:e.layoutBox[x],_=On(n[x]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+_)});const u=Ul();ed(u,n,e.layoutBox);const h=Ul();l?ed(h,t.applyTransform(s,!0),e.measuredBox):ed(h,n,e.layoutBox);const g=!uC(u);let p=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:v,layout:_}=x;if(v&&_){const A=Lt();td(A,e.layoutBox,v.layoutBox);const V=Lt();td(V,n,_.layoutBox),dC(A,V)||(p=!0),x.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=A,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:g,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function tU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sU(t){t.clearSnapshot()}function F6(t){t.clearMeasurements()}function H6(t){t.isLayoutDirty=!1}function iU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function q6(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function rU(t){t.resolveTargetDelta()}function aU(t){t.calcProjection()}function oU(t){t.resetSkewAndRotation()}function lU(t){t.removeLeadSnapshot()}function $6(t,e,n){t.translate=Ct(e.translate,0,n),t.scale=Ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function G6(t,e,n,s){t.min=Ct(e.min,n.min,s),t.max=Ct(e.max,n.max,s)}function cU(t,e,n,s){G6(t.x,e.x,n.x,s),G6(t.y,e.y,n.y,s)}function uU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dU={duration:.45,ease:[.4,0,.1,1]},K6=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Y6=K6("applewebkit/")&&!K6("chrome/")?Math.round:Ls;function Q6(t){t.min=Y6(t.min),t.max=Y6(t.max)}function hU(t){Q6(t.x),Q6(t.y)}function mC(t,e,n){return t==="position"||t==="preserve-aspect"&&!xz(z6(e),z6(n),.2)}function fU(t){return t!==t.root&&t.scroll?.wasRoot}const mU=fC({attachResizeListener:(t,e)=>xd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ny={current:void 0},pC=fC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ny.current){const t=new mU({});t.mount(window),t.setOptions({layoutScroll:!0}),ny.current=t}return ny.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),pU={pan:{Feature:Dz},drag:{Feature:kz,ProjectionNode:pC,MeasureLayout:oC}};function X6(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&At.postRender(()=>l(e,Ld(e)))}class gU extends Va{mount(){const{current:e}=this.node;e&&(this.unmount=OL(e,(n,s)=>(X6(this.node,s,"Start"),a=>X6(this.node,a,"End"))))}unmount(){}}class yU extends Va{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pd(xd(this.node.current,"focus",()=>this.onFocus()),xd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function W6(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&At.postRender(()=>l(e,Ld(e)))}class xU extends Va{mount(){const{current:e}=this.node;e&&(this.unmount=UL(e,(n,s)=>(W6(this.node,s,"Start"),(a,{success:l})=>W6(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ox=new WeakMap,sy=new WeakMap,vU=t=>{const e=ox.get(t.target);e&&e(t)},bU=t=>{t.forEach(vU)};function wU({root:t,...e}){const n=t||document;sy.has(n)||sy.set(n,{});const s=sy.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(bU,{root:t,...e})),s[a]}function _U(t,e,n){const s=wU(e);return ox.set(t,n),s.observe(t),()=>{ox.delete(t),s.unobserve(t)}}const EU={some:0,all:1};class TU extends Va{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:EU[a]},h=g=>{const{isIntersecting:p}=g;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:x,onViewportLeave:v}=this.node.getProps(),_=p?x:v;_&&_(g)};return _U(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(AU(e,n))&&this.startObserver()}unmount(){}}function AU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const CU={inView:{Feature:TU},tap:{Feature:xU},focus:{Feature:yU},hover:{Feature:gU}},SU={layout:{ProjectionNode:pC,MeasureLayout:oC}},NU={...hz,...CU,...pU,...SU},Z=NB(NU,UB);const jU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Z6=t=>{const e=IU(t);return e.charAt(0).toUpperCase()+e.slice(1)},gC=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),RU=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var kU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DU=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...h},g)=>j.createElement("svg",{ref:g,...kU,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:gC("lucide",a),...!l&&!RU(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,x])=>j.createElement(p,x)),...Array.isArray(l)?l:[l]]));const Hs=(t,e)=>{const n=j.forwardRef(({className:s,...a},l)=>j.createElement(DU,{ref:l,iconNode:e,className:gC(`lucide-${jU(Z6(t))}`,`lucide-${t}`,s),...a}));return n.displayName=Z6(t),n};const MU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],PU=Hs("arrow-right",MU);const VU=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],yC=Hs("book-open",VU);const OU=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],LU=Hs("book",OU);const BU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sm=Hs("clock",BU);const zU=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Z2=Hs("sparkles",zU);const UU=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],xC=Hs("star",UU);const FU=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],HU=Hs("sword",FU);const qU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$U=Hs("target",qU);const GU=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],KU=Hs("timer",GU);const YU=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],QU=Hs("trophy",YU);const XU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],WU=Hs("users",XU);const ZU=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],JU=Hs("zap",ZU);function eF(t){return xe({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,32V192a8,8,0,0,1-8,8H72a16,16,0,0,0-16,16H192a8,8,0,0,1,0,16H48a8,8,0,0,1-8-8V56A32,32,0,0,1,72,24H208A8,8,0,0,1,216,32Z"},child:[]}]})(t)}function J6(t){return xe({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M232,128A104,104,0,1,1,128,24,104.13,104.13,0,0,1,232,128Z"},child:[]}]})(t)}function tF(t){return xe({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,96a12,12,0,1,1,12,12A12,12,0,0,1,208,96ZM196,72a12,12,0,1,0-12-12A12,12,0,0,0,196,72Zm28.66,56a8,8,0,0,0-8.63,7.31A88.12,88.12,0,1,1,120.66,40,8,8,0,0,0,119.34,24,104.12,104.12,0,1,0,232,136.66,8,8,0,0,0,224.66,128ZM128,56a72,72,0,1,1-72,72A72.08,72.08,0,0,1,128,56Zm-8,72a8,8,0,0,0,8,8h48a8,8,0,0,0,0-16H136V80a8,8,0,0,0-16,0Zm40-80a12,12,0,1,0-12-12A12,12,0,0,0,160,48Z"},child:[]}]})(t)}function nF(t){return xe({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M176,207.24a119,119,0,0,0,16-7.73V240a8,8,0,0,1-16,0Zm11.76-88.43-56-29.87a8,8,0,0,0-7.52,14.12L171,128l17-9.06Zm64-29.87-120-64a8,8,0,0,0-7.52,0l-120,64a8,8,0,0,0,0,14.12L32,117.87v48.42a15.91,15.91,0,0,0,4.06,10.65C49.16,191.53,78.51,216,128,216a130,130,0,0,0,48-8.76V130.67L171,128l-43,22.93L43.83,106l0,0L25,96,128,41.07,231,96l-18.78,10-.06,0L188,118.94a8,8,0,0,1,4,6.93v73.64a115.63,115.63,0,0,0,27.94-22.57A15.91,15.91,0,0,0,224,166.29V117.87l27.76-14.81a8,8,0,0,0,0-14.12Z"},child:[]}]})(t)}function sF(t){return xe({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-32.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"},child:[]}]})(t)}function iF(t){return xe({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM51.31,160l90.35-90.35,16.68,16.69L68,176.68ZM48,179.31,76.69,208H48Zm48,25.38L79.31,188l90.35-90.35h0l16.68,16.69Z"},child:[]}]})(t)}function e_(t){return xe({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M234.29,114.85l-45,38.83L203,211.75a16.4,16.4,0,0,1-24.5,17.82L128,198.49,77.47,229.57A16.4,16.4,0,0,1,53,211.75l13.76-58.07-45-38.83A16.46,16.46,0,0,1,31.08,86l59-4.76,22.76-55.08a16.36,16.36,0,0,1,30.27,0l22.75,55.08,59,4.76a16.46,16.46,0,0,1,9.37,28.86Z"},child:[]}]})(t)}function rF(){const t=[{icon:wV,key:"book1",top:10,left:5},{icon:bV,key:"book2",top:70,left:15},{icon:TV,key:"library",top:25,left:85},{icon:J6,key:"circle",top:80,left:75},{icon:eF,key:"bookFill",top:45,left:10},{icon:iF,key:"pencil",top:15,left:90},{icon:nF,key:"graduation",top:35,left:95},{icon:sF,key:"lightbulb",top:85,left:5},{icon:e_,key:"star1",top:20,left:25},{icon:e_,key:"star2",top:60,left:90},{icon:J6,key:"circle2",top:5,left:70},{text:"A",key:"letterA",top:30,left:3},{text:"B",key:"letterB",top:75,left:95},{text:"Q",key:"letterQ",top:50,left:2},{text:"W",key:"letterW",top:12,left:78},{text:"E",key:"letterE",top:65,left:50},{text:"R",key:"letterR",top:40,left:70},{text:"T",key:"letterT",top:85,left:40},{text:"Y",key:"letterY",top:18,left:45}];return c.jsxs("section",{className:"relative w-full overflow-hidden rounded-2xl sm:rounded-3xl bg-[#0F172A] py-12 sm:py-16 md:py-20 px-4 sm:px-6 md:px-8 shadow-2xl border border-white/10",children:[c.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-[#1E3A8A]/40 via-[#38BDF8]/30 to-transparent blur-3xl opacity-40 pointer-events-none"}),t.map((e,n)=>c.jsx(Z.div,{className:"absolute text-4xl sm:text-5xl opacity-10 select-none pointer-events-none text-blue-300 font-bold",initial:{opacity:0,y:50},animate:{opacity:[.05,.15,.05],y:[-20,20,-20],x:[0,10,-10,0],rotate:[0,5,-5,0]},transition:{duration:8+n*1.5,repeat:1/0,ease:"easeInOut"},style:{top:`${e.top}%`,left:`${e.left}%`},children:e.icon?c.jsx(e.icon,{}):e.text},e.key)),c.jsxs("div",{className:"relative max-w-5xl mx-auto text-center",children:[c.jsxs(Z.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold leading-tight text-white drop-shadow-xl",children:["Embrcate en la Aventura del Conocimiento con"," ",c.jsx("span",{className:"bg-linear-to-r from-[#38BDF8] to-[#1E3A8A] bg-clip-text text-transparent",children:"WordQuest"})]}),c.jsx(Z.p,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.8},className:"mt-4 sm:mt-6 text-base sm:text-lg md:text-xl text-gray-300 max-w-3xl mx-auto px-2",children:"Fortalece tu vocabulario, comprensin lectora y habilidades de escritura mientras avanzas por mundos temticos llenos de retos y recompensas."}),c.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1},className:"mt-8 sm:mt-10",children:c.jsxs(en,{to:"/games",className:"group inline-flex items-center gap-2 bg-[#FACC15] text-[#0F172A] font-bold text-base sm:text-lg px-6 sm:px-8 py-3 sm:py-4 rounded-xl sm:rounded-2xl shadow-lg shadow-yellow-300/20 hover:shadow-yellow-300/40 transition-all duration-300",children:[c.jsx(Z2,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:rotate-12 transition-transform"}),"Comenzar tu aventura"]})})]})]})}function aF(t){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496.938 14.063c-95.14 3.496-172.297 24.08-231.282 55.812l-29.47 49.28-4.967-28.093c-10.535 7.402-20.314 15.222-29.314 23.407l-14.687 45.06-5.032-25.155c-40.65 45.507-60.41 99.864-58.938 155.906 47.273-93.667 132.404-172.727 211.97-221.155l9.717 15.97c-75.312 45.838-156.387 121.202-202.187 208.25h12.156c19.78-12.02 39.16-26.858 58.406-43.44l-30.28 1.595 54.218-23.094c46.875-43.637 93.465-94.974 143.313-138.28l-24.47-5.19 56.5-21.03c26.853-20.485 54.8-37.844 84.344-49.843zM59.53 312.03v30.408H194V312.03H59.53zm20.376 49.095L47.25 389.813 24.97 474.78l14.53 15.876h177.22l14.56-15.875L209 389.814l-30.906-28.688H79.906z"},child:[]}]})(t)}function oF(){const t=[{title:"Misiones de Vocabulario",description:"Explora nuevas palabras a travs de historias interactivas y desafos atractivos que hacen que el aprendizaje perdure.",icon:c.jsx(IV,{className:"text-4xl"}),gradient:"from-blue-500 to-blue-600",accentBg:"bg-blue-50 dark:bg-blue-950"},{title:"Aventuras de Lectura",description:"Desbloquea superpoderes de comprensin con pasajes adaptativos diseados para tu nivel.",icon:c.jsx(aF,{className:"text-4xl"}),gradient:"from-cyan-500 to-blue-500",accentBg:"bg-cyan-50 dark:bg-cyan-950"},{title:"Misiones de Escritura",description:"Construye confianza con indicaciones guiadas, retroalimentacin instantnea y expresin creativa.",icon:c.jsx(LV,{className:"text-4xl"}),gradient:"from-purple-500 to-pink-500",accentBg:"bg-purple-50 dark:bg-purple-950"},{title:"Sistema de Logros",description:"Gana insignias, desbloquea nuevo contenido y rastrea tu progreso en la tabla de clasificacin.",icon:c.jsx(mr,{className:"text-4xl"}),gradient:"from-amber-500 to-orange-500",accentBg:"bg-amber-50 dark:bg-amber-950"},{title:"Desafos Diarios",description:"Mantn tus habilidades afiladas con desafos frescos entregados cada da.",icon:c.jsx(jV,{className:"text-4xl"}),gradient:"from-yellow-500 to-amber-500",accentBg:"bg-yellow-50 dark:bg-yellow-950"},{title:"Modo Contrareloj",description:"Ejercicios de vocabulario y comprensin con lmite de tiempo.",icon:c.jsx(tF,{className:"text-4xl"}),gradient:"from-rose-500 to-red-500",accentBg:"bg-rose-50 dark:bg-rose-950"}];return c.jsxs("section",{className:"w-full py-20 px-4 sm:px-6 md:px-12 lg:px-20 bg-linear-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:[c.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[c.jsx("h2",{className:"text-4xl sm:text-5xl font-black text-slate-900 dark:text-white mb-4 text-balance",children:"Por qu WordQuest?"}),c.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 leading-relaxed",children:"Convierte el aprendizaje en una aventura con experiencia gamificada para motivar a los estudiantes y fomentar la creatividad."})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:t.map((e,n)=>c.jsxs("div",{className:"group relative h-full rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 overflow-hidden transition-all duration-500 hover:shadow-2xl hover:-translate-y-1",children:[c.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-linear-to-br ${e.gradient} rounded-full -translate-y-16 translate-x-16 opacity-10 group-hover:scale-125 transition-transform duration-500`}),c.jsx("div",{className:`relative m-6 w-20 h-20 rounded-2xl ${e.accentBg} flex items-center justify-center bg-linear-to-br ${e.gradient} text-white group-hover:scale-110 group-hover:rotate-3 transition-all duration-300`,children:e.icon}),c.jsxs("div",{className:"relative px-6 pb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3 group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-linear-to-r group-hover:from-blue-600 group-hover:to-purple-600 transition-all duration-300",children:e.title}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-base leading-relaxed",children:e.description})]}),c.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 bg-linear-to-r ${e.gradient} transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left`})]},n))})]})}function lF(){const t=[{number:"01",icon:KV,title:"Crea tu Hroe",description:"Regstrate y personaliza tu avatar de aprendizaje.",color:"from-purple-500 to-pink-500"},{number:"02",icon:HV,title:"Elige tu Camino",description:"Selecciona misiones segn tu nivel e intereses.",color:"from-blue-500 to-cyan-500"},{number:"03",icon:$V,title:"Completa Retos",description:"Domina vocabulario, lectura y escritura con actividades dinmicas.",color:"from-yellow-500 to-orange-500"},{number:"04",icon:zy,title:"Sube de Nivel",description:"Gana XP, desbloquea recompensas y escala en el ranking.",color:"from-green-500 to-emerald-500"}];return c.jsxs("section",{className:"relative w-full py-20 bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 opacity-20",children:c.jsx("div",{className:"w-full h-full",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='1.5'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsxs("div",{className:"relative max-w-7xl mx-auto px-4",children:[c.jsxs(Z.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold bg-linear-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent mb-4",children:"Cmo Funciona?"}),c.jsx("p",{className:"text-gray-300 text-lg max-w-2xl mx-auto",children:"Tu aventura de aprendizaje comienza en 4 simples pasos."})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"hidden lg:block absolute top-1/2 left-0 right-0 h-0.5 bg-linear-to-r from-purple-500 via-blue-500 via-yellow-500 to-green-500 transform -translate-y-1/2 z-0"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative z-10",children:t.map((e,n)=>{const s=e.icon;return c.jsx(Z.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:n*.2},whileHover:{y:-10,scale:1.02},className:"relative group",children:c.jsxs("div",{className:"relative h-full backdrop-blur-xl bg-white/10 border border-white/20 rounded-3xl p-8 shadow-2xl hover:shadow-purple-500/25 transition-all duration-500",children:[c.jsx("div",{className:`absolute inset-0 bg-linear-to-br ${e.color} opacity-0 group-hover:opacity-20 rounded-3xl transition-opacity duration-500`}),c.jsx(Z.div,{className:`absolute -top-6 left-1/2 transform -translate-x-1/2 w-12 h-12 bg-linear-to-br ${e.color} text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg`,whileHover:{rotate:360,scale:1.1},transition:{duration:.5},children:e.number}),c.jsx(Z.div,{className:"flex justify-center mt-6 mb-6",whileHover:{rotate:[0,-10,10,-10,0],scale:1.2},transition:{duration:.5},children:c.jsx(s,{className:"text-5xl text-white"})}),c.jsx("h3",{className:"font-bold text-xl text-white mb-3 text-center",children:e.title}),c.jsx("p",{className:"text-gray-300 text-center leading-relaxed",children:e.description}),c.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 bg-linear-to-r ${e.color} rounded-b-3xl transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500`})]})},n)})})]})]})]})}function cF(){const t=new Date().getFullYear();return c.jsxs("footer",{className:"w-full bg-slate-900 text-slate-300 pt-14 pb-6 px-6",children:[c.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-3 gap-10",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-cyan-400",children:"WordQuest"}),c.jsx("p",{className:"mt-3 text-sm text-slate-400",children:"Aprende jugando. Domina el vocabulario, la lectura y la escritura de forma divertida."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-cyan-400",children:"Enlaces"}),c.jsxs("ul",{className:"mt-3 space-y-2 text-sm",children:[c.jsx("li",{children:c.jsx("a",{href:"/",className:"hover:text-cyan-400 transition",children:"Inicio"})}),c.jsx("li",{children:c.jsx("a",{href:"/learn",className:"hover:text-cyan-400 transition",children:"Aprender"})}),c.jsx("li",{children:c.jsx("a",{href:"/challenges",className:"hover:text-cyan-400 transition",children:"Retos"})}),c.jsx("li",{children:c.jsx("a",{href:"/about",className:"hover:text-cyan-400 transition",children:"Sobre Nosotros"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-cyan-400",children:"Contacto"}),c.jsx("p",{className:"mt-3 text-sm",children:"Email: soporte@wordquest.com"}),c.jsx("p",{className:"text-sm",children:"Colombia"}),c.jsxs("div",{className:"flex gap-4 mt-4 text-xl",children:[c.jsx(CV,{className:"cursor-pointer hover:text-cyan-400 transition"}),c.jsx(SV,{className:"cursor-pointer hover:text-cyan-400 transition"}),c.jsx(NV,{className:"cursor-pointer hover:text-cyan-400 transition"})]})]})]}),c.jsxs("div",{className:"text-center text-slate-500 text-sm mt-10 border-t border-slate-700 pt-4",children:[" ",t," WordQuest  Todos los derechos reservados."]})]})}function uF(){return c.jsxs(c.Fragment,{children:[c.jsx(es,{}),c.jsx("div",{className:"px-4 sm:px-6 md:px-8 py-8",children:c.jsx(rF,{})}),c.jsx(oF,{}),c.jsx(lF,{}),c.jsx("div",{className:"h-px bg-linear-to-r from-transparent via-blue-400/50 to-transparent"}),c.jsx(cF,{})]})}function Gi(){const[t]=ci(An),e=Nr(),n=Dt(),[s,a]=j.useState(!1);j.useEffect(()=>{(async()=>{if(t)try{const x=await hn(et(be,"users",t.uid));x.exists()&&a(x.data().isAdmin||!1)}catch(x){console.error("Error checking admin status:",x)}})()},[t]);const l=async()=>{try{await vE(An),n("/")}catch(p){console.error("Error signing out:",p)}};if(!t||["/keywords-mode","/complete-phrase-mode","/order-sequence-mode"].some(p=>e.pathname.includes(p)))return null;const g=[{path:"/",icon:UV,label:"Inicio"},{path:"/dashboard",icon:PV,label:"Dashboard"},{path:"/user-profile",icon:Mo,label:"Perfil"},...s?[{path:"/admin",icon:To,label:"Admin"}]:[]];return c.jsx(Z.nav,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"fixed top-4 right-4 z-50",children:c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-2 flex items-center space-x-2",children:[g.map(p=>{const x=p.icon,v=e.pathname===p.path;return c.jsx(en,{to:p.path,className:`p-3 rounded-xl transition-all ${v?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,children:c.jsx(x,{className:"text-lg"})},p.path)}),c.jsx("button",{onClick:l,className:"p-3 rounded-xl text-white/70 hover:text-white hover:bg-red-500/20 transition-all",title:"Cerrar sesin",children:c.jsx(GV,{className:"text-lg"})})]})})}function dF(){const[t,e]=ci(An);return e?c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Cargando..."})}):c.jsxs(c.Fragment,{children:[t&&c.jsx(Gi,{}),c.jsx(uF,{})]})}const hF=async t=>{try{if(!An)throw new Error("Firebase Auth no est configurado correctamente");const n=(await a9(An,t.email,t.password)).user;return await da(et(be,"users",n.uid),{name:t.name,email:t.email,birthdate:t.birthdate,country:t.country,city:t.city,createdAt:new Date,uid:n.uid}),{success:!0,user:n}}catch(e){console.error("Registration error:",e);let n=e.message;return e.code==="auth/configuration-not-found"?n="Firebase Authentication no est habilitado. Contacta al administrador.":e.code==="auth/email-already-in-use"?n="Este email ya est registrado.":e.code==="auth/weak-password"?n="La contrasea es muy dbil.":e.code==="permission-denied"&&(n="Error de permisos. Contacta al administrador."),{success:!1,error:n}}},fF=async(t,e)=>{try{if(!An)throw new Error("Firebase Auth no est configurado correctamente");const s=(await o9(An,t,e)).user,a=await hn(et(be,"users",s.uid)),l=a.exists()?a.data():null;return{success:!0,user:s,userData:l}}catch(n){console.error("Login error:",n);let s=n.message;return n.code==="auth/invalid-credential"?s="Email o contrasea incorrectos. Verifica tus datos.":n.code==="auth/user-not-found"?s="No existe una cuenta con este email.":n.code==="auth/wrong-password"?s="Contrasea incorrecta.":n.code==="auth/invalid-email"?s="Email invlido.":n.code==="auth/user-disabled"&&(s="Esta cuenta ha sido deshabilitada."),{success:!1,error:s}}};function vC(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function mF(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t_(t,e){return t.get(vC(t,e))}function pF(t,e,n){mF(t,e),e.set(t,n)}function gF(t,e,n){return t.set(vC(t,e),n),n}const yF=100,Te={},xF=()=>{Te.previousActiveElement instanceof HTMLElement?(Te.previousActiveElement.focus(),Te.previousActiveElement=null):document.body&&document.body.focus()},vF=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,s=window.scrollY;Te.restoreFocusTimeout=setTimeout(()=>{xF(),e()},yF),window.scrollTo(n,s)}),bC="swal2-",bF=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],ne=bF.reduce((t,e)=>(t[e]=bC+e,t),{}),wF=["success","warning","info","question","error"],Nm=wF.reduce((t,e)=>(t[e]=bC+e,t),{}),wC="SweetAlert2:",J2=t=>t.charAt(0).toUpperCase()+t.slice(1),zn=t=>{console.warn(`${wC} ${typeof t=="object"?t.join(" "):t}`)},Fo=t=>{console.error(`${wC} ${t}`)},n_=[],_F=t=>{n_.includes(t)||(n_.push(t),zn(t))},_C=(t,e=null)=>{_F(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},gp=t=>typeof t=="function"?t():t,e1=t=>t&&typeof t.toPromise=="function",Bd=t=>e1(t)?t.toPromise():Promise.resolve(t),t1=t=>t&&Promise.resolve(t)===t,Un=()=>document.body.querySelector(`.${ne.container}`),zd=t=>{const e=Un();return e?e.querySelector(t):null},ms=t=>zd(`.${t}`),tt=()=>ms(ne.popup),Cc=()=>ms(ne.icon),EF=()=>ms(ne["icon-content"]),EC=()=>ms(ne.title),n1=()=>ms(ne["html-container"]),TC=()=>ms(ne.image),s1=()=>ms(ne["progress-steps"]),yp=()=>ms(ne["validation-message"]),Hi=()=>zd(`.${ne.actions} .${ne.confirm}`),Sc=()=>zd(`.${ne.actions} .${ne.cancel}`),Ho=()=>zd(`.${ne.actions} .${ne.deny}`),TF=()=>ms(ne["input-label"]),Nc=()=>zd(`.${ne.loader}`),Ud=()=>ms(ne.actions),AC=()=>ms(ne.footer),xp=()=>ms(ne["timer-progress-bar"]),i1=()=>ms(ne.close),AF=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,r1=()=>{const t=tt();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((l,u)=>{const h=parseInt(l.getAttribute("tabindex")||"0"),g=parseInt(u.getAttribute("tabindex")||"0");return h>g?1:h<g?-1:0}),s=t.querySelectorAll(AF),a=Array.from(s).filter(l=>l.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(a))].filter(l=>Jn(l))},a1=()=>vr(document.body,ne.shown)&&!vr(document.body,ne["toast-shown"])&&!vr(document.body,ne["no-backdrop"]),vp=()=>{const t=tt();return t?vr(t,ne.toast):!1},CF=()=>{const t=tt();return t?t.hasAttribute("data-loading"):!1},ps=(t,e)=>{if(t.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),a=s.querySelector("head");a&&Array.from(a.childNodes).forEach(u=>{t.appendChild(u)});const l=s.querySelector("body");l&&Array.from(l.childNodes).forEach(u=>{u instanceof HTMLVideoElement||u instanceof HTMLAudioElement?t.appendChild(u.cloneNode(!0)):t.appendChild(u)})}},vr=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let s=0;s<n.length;s++)if(!t.classList.contains(n[s]))return!1;return!0},SF=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(ne).includes(n)&&!Object.values(Nm).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},fs=(t,e,n)=>{if(SF(t,e),!e.customClass)return;const s=e.customClass[n];if(s){if(typeof s!="string"&&!s.forEach){zn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof s}"`);return}rt(t,s)}},bp=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${ne.popup} > .${ne[e]}`);case"checkbox":return t.querySelector(`.${ne.popup} > .${ne.checkbox} input`);case"radio":return t.querySelector(`.${ne.popup} > .${ne.radio} input:checked`)||t.querySelector(`.${ne.popup} > .${ne.radio} input:first-child`);case"range":return t.querySelector(`.${ne.popup} > .${ne.range} input`);default:return t.querySelector(`.${ne.popup} > .${ne.input}`)}},CC=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},SC=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(t)?t.forEach(a=>{n?a.classList.add(s):a.classList.remove(s)}):n?t.classList.add(s):t.classList.remove(s)}))},rt=(t,e)=>{SC(t,e,!0)},Us=(t,e)=>{SC(t,e,!1)},ya=(t,e)=>{const n=Array.from(t.children);for(let s=0;s<n.length;s++){const a=n[s];if(a instanceof HTMLElement&&vr(a,e))return a}},So=(t,e,n)=>{n===`${parseInt(`${n}`)}`&&(n=parseInt(n)),n||parseInt(`${n}`)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},fn=(t,e="flex")=>{t&&(t.style.display=e)},kn=t=>{t&&(t.style.display="none")},o1=(t,e="block")=>{t&&new MutationObserver(()=>{Fd(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},s_=(t,e,n,s)=>{const a=t.querySelector(e);a&&a.style.setProperty(n,s)},Fd=(t,e,n="flex")=>{e?fn(t,n):kn(t)},Jn=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),NF=()=>!Jn(Hi())&&!Jn(Ho())&&!Jn(Sc()),lx=t=>t.scrollHeight>t.clientHeight,jF=(t,e)=>{let n=t;for(;n&&n!==e;){if(lx(n))return!0;n=n.parentElement}return!1},NC=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||s>0},l1=(t,e=!1)=>{const n=xp();n&&Jn(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},IF=()=>{const t=xp();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),s=e/n*100;t.style.width=`${s}%`},RF=()=>typeof window>"u"||typeof document>"u",kF=`
 <div aria-labelledby="${ne.title}" aria-describedby="${ne["html-container"]}" class="${ne.popup}" tabindex="-1">
   <button type="button" class="${ne.close}"></button>
   <ul class="${ne["progress-steps"]}"></ul>
   <div class="${ne.icon}"></div>
   <img class="${ne.image}" />
   <h2 class="${ne.title}" id="${ne.title}"></h2>
   <div class="${ne["html-container"]}" id="${ne["html-container"]}"></div>
   <input class="${ne.input}" id="${ne.input}" />
   <input type="file" class="${ne.file}" />
   <div class="${ne.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${ne.select}" id="${ne.select}"></select>
   <div class="${ne.radio}"></div>
   <label class="${ne.checkbox}">
     <input type="checkbox" id="${ne.checkbox}" />
     <span class="${ne.label}"></span>
   </label>
   <textarea class="${ne.textarea}" id="${ne.textarea}"></textarea>
   <div class="${ne["validation-message"]}" id="${ne["validation-message"]}"></div>
   <div class="${ne.actions}">
     <div class="${ne.loader}"></div>
     <button type="button" class="${ne.confirm}"></button>
     <button type="button" class="${ne.deny}"></button>
     <button type="button" class="${ne.cancel}"></button>
   </div>
   <div class="${ne.footer}"></div>
   <div class="${ne["timer-progress-bar-container"]}">
     <div class="${ne["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),DF=()=>{const t=Un();return t?(t.remove(),Us([document.documentElement,document.body],[ne["no-backdrop"],ne["toast-shown"],ne["has-column"]]),!0):!1},po=()=>{Te.currentInstance.resetValidationMessage()},MF=()=>{const t=tt(),e=ya(t,ne.input),n=ya(t,ne.file),s=t.querySelector(`.${ne.range} input`),a=t.querySelector(`.${ne.range} output`),l=ya(t,ne.select),u=t.querySelector(`.${ne.checkbox} input`),h=ya(t,ne.textarea);e.oninput=po,n.onchange=po,l.onchange=po,u.onchange=po,h.oninput=po,s.oninput=()=>{po(),a.value=s.value},s.onchange=()=>{po(),a.value=s.value}},PF=t=>typeof t=="string"?document.querySelector(t):t,VF=t=>{const e=tt();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},OF=t=>{window.getComputedStyle(t).direction==="rtl"&&rt(Un(),ne.rtl)},LF=t=>{const e=DF();if(RF()){Fo("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=ne.container,e&&rt(n,ne["no-transition"]),ps(n,kF),n.dataset.swal2Theme=t.theme;const s=PF(t.target);s.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),VF(t),OF(s),MF()},c1=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?BF(t,e):t&&ps(e,t)},BF=(t,e)=>{t.jquery?zF(e,t):ps(e,t.toString())},zF=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},UF=(t,e)=>{const n=Ud(),s=Nc();!n||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?kn(n):fn(n),fs(n,e,"actions"),FF(n,s,e),ps(s,e.loaderHtml||""),fs(s,e,"loader"))};function FF(t,e,n){const s=Hi(),a=Ho(),l=Sc();!s||!a||!l||(ry(s,"confirm",n),ry(a,"deny",n),ry(l,"cancel",n),HF(s,a,l,n),n.reverseButtons&&(n.toast?(t.insertBefore(l,s),t.insertBefore(a,s)):(t.insertBefore(l,e),t.insertBefore(a,e),t.insertBefore(s,e))))}function HF(t,e,n,s){if(!s.buttonsStyling){Us([t,e,n],ne.styled);return}rt([t,e,n],ne.styled),s.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),iy(t),iy(e),iy(n)}function iy(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function ry(t,e,n){const s=J2(e);Fd(t,n[`show${s}Button`],"inline-block"),ps(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=ne[e],fs(t,n,`${e}Button`)}const qF=(t,e)=>{const n=i1();n&&(ps(n,e.closeButtonHtml||""),fs(n,e,"closeButton"),Fd(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},$F=(t,e)=>{const n=Un();n&&(GF(n,e.backdrop),KF(n,e.position),YF(n,e.grow),fs(n,e,"container"))};function GF(t,e){typeof e=="string"?t.style.background=e:e||rt([document.documentElement,document.body],ne["no-backdrop"])}function KF(t,e){e&&(e in ne?rt(t,ne[e]):(zn('The "position" parameter is not valid, defaulting to "center"'),rt(t,ne.center)))}function YF(t,e){e&&rt(t,ne[`grow-${e}`])}var xt={innerParams:new WeakMap,domCache:new WeakMap};const QF=["input","file","range","select","radio","checkbox","textarea"],XF=(t,e)=>{const n=tt();if(!n)return;const s=xt.innerParams.get(t),a=!s||e.input!==s.input;QF.forEach(l=>{const u=ya(n,ne[l]);u&&(JF(l,e.inputAttributes),u.className=ne[l],a&&kn(u))}),e.input&&(a&&WF(e),eH(e))},WF=t=>{if(!t.input)return;if(!Bt[t.input]){Fo(`Unexpected type of input! Expected ${Object.keys(Bt).join(" | ")}, got "${t.input}"`);return}const e=jC(t.input);if(!e)return;const n=Bt[t.input](e,t);fn(e),t.inputAutoFocus&&setTimeout(()=>{CC(n)})},ZF=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},JF=(t,e)=>{const n=tt();if(!n)return;const s=bp(n,t);if(s){ZF(s);for(const a in e)s.setAttribute(a,e[a])}},eH=t=>{if(!t.input)return;const e=jC(t.input);e&&fs(e,t,"input")},u1=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Hd=(t,e,n)=>{if(n.inputLabel){const s=document.createElement("label"),a=ne["input-label"];s.setAttribute("for",t.id),s.className=a,typeof n.customClass=="object"&&rt(s,n.customClass.inputLabel),s.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",s)}},jC=t=>{const e=tt();if(e)return ya(e,ne[t]||ne.input)},jm=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:t1(e)||zn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Bt={};Bt.text=Bt.email=Bt.password=Bt.number=Bt.tel=Bt.url=Bt.search=Bt.date=Bt["datetime-local"]=Bt.time=Bt.week=Bt.month=(t,e)=>(jm(t,e.inputValue),Hd(t,t,e),u1(t,e),t.type=e.input,t);Bt.file=(t,e)=>(Hd(t,t,e),u1(t,e),t);Bt.range=(t,e)=>{const n=t.querySelector("input"),s=t.querySelector("output");return jm(n,e.inputValue),n.type=e.input,jm(s,e.inputValue),Hd(n,t,e),t};Bt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");ps(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Hd(t,t,e),t};Bt.radio=t=>(t.textContent="",t);Bt.checkbox=(t,e)=>{const n=bp(tt(),"checkbox");n.value="1",n.checked=!!e.inputValue;const s=t.querySelector("span");return ps(s,e.inputPlaceholder||e.inputLabel),n};Bt.textarea=(t,e)=>{jm(t,e.inputValue),u1(t,e),Hd(t,t,e);const n=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(tt()).width),a=()=>{if(!document.body.contains(t))return;const l=t.offsetWidth+n(t);l>s?tt().style.width=`${l}px`:So(tt(),"width",e.width)};new MutationObserver(a).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const tH=(t,e)=>{const n=n1();n&&(o1(n),fs(n,e,"htmlContainer"),e.html?(c1(e.html,n),fn(n,"block")):e.text?(n.textContent=e.text,fn(n,"block")):kn(n),XF(t,e))},nH=(t,e)=>{const n=AC();n&&(o1(n),Fd(n,!!e.footer,"block"),e.footer&&c1(e.footer,n),fs(n,e,"footer"))},sH=(t,e)=>{const n=xt.innerParams.get(t),s=Cc();if(!s)return;if(n&&e.icon===n.icon){r_(s,e),i_(s,e);return}if(!e.icon&&!e.iconHtml){kn(s);return}if(e.icon&&Object.keys(Nm).indexOf(e.icon)===-1){Fo(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),kn(s);return}fn(s),r_(s,e),i_(s,e),rt(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",IC)},i_=(t,e)=>{for(const[n,s]of Object.entries(Nm))e.icon!==n&&Us(t,s);rt(t,e.icon&&Nm[e.icon]),aH(t,e),IC(),fs(t,e,"icon")},IC=()=>{const t=tt();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<n.length;s++)n[s].style.backgroundColor=e},iH=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,rH=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,r_=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,s="";e.iconHtml?s=a_(e.iconHtml):e.icon==="success"?(s=iH(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?s=rH:e.icon&&(s=a_({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==s.trim()&&ps(t,s)},aH=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])s_(t,n,"background-color",e.iconColor);s_(t,".swal2-success-ring","border-color",e.iconColor)}},a_=t=>`<div class="${ne["icon-content"]}">${t}</div>`,oH=(t,e)=>{const n=TC();if(n){if(!e.imageUrl){kn(n);return}fn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),So(n,"width",e.imageWidth),So(n,"height",e.imageHeight),n.className=ne.image,fs(n,e,"image")}};let d1=!1,RC=0,kC=0,DC=0,MC=0;const lH=t=>{t.addEventListener("mousedown",Im),document.body.addEventListener("mousemove",Rm),t.addEventListener("mouseup",km),t.addEventListener("touchstart",Im),document.body.addEventListener("touchmove",Rm),t.addEventListener("touchend",km)},cH=t=>{t.removeEventListener("mousedown",Im),document.body.removeEventListener("mousemove",Rm),t.removeEventListener("mouseup",km),t.removeEventListener("touchstart",Im),document.body.removeEventListener("touchmove",Rm),t.removeEventListener("touchend",km)},Im=t=>{const e=tt();if(t.target===e||Cc().contains(t.target)){d1=!0;const n=PC(t);RC=n.clientX,kC=n.clientY,DC=parseInt(e.style.insetInlineStart)||0,MC=parseInt(e.style.insetBlockStart)||0,rt(e,"swal2-dragging")}},Rm=t=>{const e=tt();if(d1){let{clientX:n,clientY:s}=PC(t);e.style.insetInlineStart=`${DC+(n-RC)}px`,e.style.insetBlockStart=`${MC+(s-kC)}px`}},km=()=>{const t=tt();d1=!1,Us(t,"swal2-dragging")},PC=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},uH=(t,e)=>{const n=Un(),s=tt();if(!(!n||!s)){if(e.toast){So(n,"width",e.width),s.style.width="100%";const a=Nc();a&&s.insertBefore(a,Cc())}else So(s,"width",e.width);So(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),kn(yp()),dH(s,e),e.draggable&&!e.toast?(rt(s,ne.draggable),lH(s)):(Us(s,ne.draggable),cH(s))}},dH=(t,e)=>{const n=e.showClass||{};t.className=`${ne.popup} ${Jn(t)?n.popup:""}`,e.toast?(rt([document.documentElement,document.body],ne["toast-shown"]),rt(t,ne.toast)):rt(t,ne.modal),fs(t,e,"popup"),typeof e.customClass=="string"&&rt(t,e.customClass),e.icon&&rt(t,ne[`icon-${e.icon}`])},hH=(t,e)=>{const n=s1();if(!n)return;const{progressSteps:s,currentProgressStep:a}=e;if(!s||s.length===0||a===void 0){kn(n);return}fn(n),n.textContent="",a>=s.length&&zn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((l,u)=>{const h=fH(l);if(n.appendChild(h),u===a&&rt(h,ne["active-progress-step"]),u!==s.length-1){const g=mH(e);n.appendChild(g)}})},fH=t=>{const e=document.createElement("li");return rt(e,ne["progress-step"]),ps(e,t),e},mH=t=>{const e=document.createElement("li");return rt(e,ne["progress-step-line"]),t.progressStepsDistance&&So(e,"width",t.progressStepsDistance),e},pH=(t,e)=>{const n=EC();n&&(o1(n),Fd(n,!!(e.title||e.titleText),"block"),e.title&&c1(e.title,n),e.titleText&&(n.innerText=e.titleText),fs(n,e,"title"))},VC=(t,e)=>{uH(t,e),$F(t,e),hH(t,e),sH(t,e),oH(t,e),pH(t,e),qF(t,e),tH(t,e),UF(t,e),nH(t,e);const n=tt();typeof e.didRender=="function"&&n&&e.didRender(n),Te.eventEmitter.emit("didRender",n)},gH=()=>Jn(tt()),OC=()=>{var t;return(t=Hi())===null||t===void 0?void 0:t.click()},yH=()=>{var t;return(t=Ho())===null||t===void 0?void 0:t.click()},xH=()=>{var t;return(t=Sc())===null||t===void 0?void 0:t.click()},jc=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),LC=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},vH=(t,e,n)=>{LC(t),e.toast||(t.keydownHandler=s=>wH(e,s,n),t.keydownTarget=e.keydownListenerCapture?window:tt(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},cx=(t,e)=>{var n;const s=r1();if(s.length){t=t+e,t===-2&&(t=s.length-1),t===s.length?t=0:t===-1&&(t=s.length-1),s[t].focus();return}(n=tt())===null||n===void 0||n.focus()},BC=["ArrowRight","ArrowDown"],bH=["ArrowLeft","ArrowUp"],wH=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?_H(e,t):e.key==="Tab"?EH(e):[...BC,...bH].includes(e.key)?TH(e.key):e.key==="Escape"&&AH(e,t,n)))},_H=(t,e)=>{if(!gp(e.allowEnterKey))return;const n=bp(tt(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;OC(),t.preventDefault()}},EH=t=>{const e=t.target,n=r1();let s=-1;for(let a=0;a<n.length;a++)if(e===n[a]){s=a;break}t.shiftKey?cx(s,-1):cx(s,1),t.stopPropagation(),t.preventDefault()},TH=t=>{const e=Ud(),n=Hi(),s=Ho(),a=Sc();if(!e||!n||!s||!a)return;const l=[n,s,a];if(document.activeElement instanceof HTMLElement&&!l.includes(document.activeElement))return;const u=BC.includes(t)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let g=0;g<e.children.length;g++){if(h=h[u],!h)return;if(h instanceof HTMLButtonElement&&Jn(h))break}h instanceof HTMLButtonElement&&h.focus()}},AH=(t,e,n)=>{t.preventDefault(),gp(e.allowEscapeKey)&&n(jc.esc)};var lc={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const CH=()=>{const t=Un();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},zC=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},UC=typeof window<"u"&&!!window.GestureEvent,SH=()=>{if(UC&&!vr(document.body,ne.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,rt(document.body,ne.iosfix),NH()}},NH=()=>{const t=Un();if(!t)return;let e;t.ontouchstart=n=>{e=jH(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},jH=t=>{const e=t.target,n=Un(),s=n1();return!n||!s||IH(t)||RH(t)?!1:e===n||!lx(n)&&e instanceof HTMLElement&&!jF(e,s)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(lx(s)&&s.contains(e))},IH=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",RH=t=>t.touches&&t.touches.length>1,kH=()=>{if(vr(document.body,ne.iosfix)){const t=parseInt(document.body.style.top,10);Us(document.body,ne.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},DH=()=>{const t=document.createElement("div");t.className=ne["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Ql=null;const MH=t=>{Ql===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Ql=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ql+DH()}px`)},PH=()=>{Ql!==null&&(document.body.style.paddingRight=`${Ql}px`,Ql=null)};function FC(t,e,n,s){vp()?o_(t,s):(vF(n).then(()=>o_(t,s)),LC(Te)),UC?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),a1()&&(PH(),kH(),zC()),VH()}function VH(){Us([document.documentElement,document.body],[ne.shown,ne["height-auto"],ne["no-backdrop"],ne["toast-shown"]])}function xa(t){t=LH(t);const e=lc.swalPromiseResolve.get(this),n=OH(this);this.isAwaitingPromise?t.isDismissed||(qd(this),e(t)):n&&e(t)}const OH=t=>{const e=tt();if(!e)return!1;const n=xt.innerParams.get(t);if(!n||vr(e,n.hideClass.popup))return!1;Us(e,n.showClass.popup),rt(e,n.hideClass.popup);const s=Un();return Us(s,n.showClass.backdrop),rt(s,n.hideClass.backdrop),BH(t,e,n),!0};function HC(t){const e=lc.swalPromiseReject.get(this);qd(this),e&&e(t)}const qd=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,xt.innerParams.get(t)||t._destroy())},LH=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),BH=(t,e,n)=>{var s;const a=Un(),l=NC(e);typeof n.willClose=="function"&&n.willClose(e),(s=Te.eventEmitter)===null||s===void 0||s.emit("willClose",e),l?zH(t,e,a,n.returnFocus,n.didClose):FC(t,a,n.returnFocus,n.didClose)},zH=(t,e,n,s,a)=>{Te.swalCloseEventFinishedCallback=FC.bind(null,t,n,s,a);const l=function(u){if(u.target===e){var h;(h=Te.swalCloseEventFinishedCallback)===null||h===void 0||h.call(Te),delete Te.swalCloseEventFinishedCallback,e.removeEventListener("animationend",l),e.removeEventListener("transitionend",l)}};e.addEventListener("animationend",l),e.addEventListener("transitionend",l)},o_=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=Te.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},cc=t=>{let e=tt();if(e||new Ee,e=tt(),!e)return;const n=Nc();vp()?kn(Cc()):UH(e,t),fn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},UH=(t,e)=>{const n=Ud(),s=Nc();!n||!s||(!e&&Jn(Hi())&&(e=Hi()),fn(n),e&&(kn(e),s.setAttribute("data-button-to-replace",e.className),n.insertBefore(s,e)),rt([t,n],ne.loading))},FH=(t,e)=>{e.input==="select"||e.input==="radio"?KH(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(e1(e.inputValue)||t1(e.inputValue))&&(cc(Hi()),YH(t,e))},HH=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return qH(n);case"radio":return $H(n);case"file":return GH(n);default:return e.inputAutoTrim?n.value.trim():n.value}},qH=t=>t.checked?1:0,$H=t=>t.checked?t.value:null,GH=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,KH=(t,e)=>{const n=tt();if(!n)return;const s=a=>{e.input==="select"?QH(n,Dm(a),e):e.input==="radio"&&XH(n,Dm(a),e)};e1(e.inputOptions)||t1(e.inputOptions)?(cc(Hi()),Bd(e.inputOptions).then(a=>{t.hideLoading(),s(a)})):typeof e.inputOptions=="object"?s(e.inputOptions):Fo(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},YH=(t,e)=>{const n=t.getInput();n&&(kn(n),Bd(e.inputValue).then(s=>{n.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,fn(n),n.focus(),t.hideLoading()}).catch(s=>{Fo(`Error in inputValue promise: ${s}`),n.value="",fn(n),n.focus(),t.hideLoading()}))};function QH(t,e,n){const s=ya(t,ne.select);if(!s)return;const a=(l,u,h)=>{const g=document.createElement("option");g.value=h,ps(g,u),g.selected=qC(h,n.inputValue),l.appendChild(g)};e.forEach(l=>{const u=l[0],h=l[1];if(Array.isArray(h)){const g=document.createElement("optgroup");g.label=u,g.disabled=!1,s.appendChild(g),h.forEach(p=>a(g,p[1],p[0]))}else a(s,h,u)}),s.focus()}function XH(t,e,n){const s=ya(t,ne.radio);if(!s)return;e.forEach(l=>{const u=l[0],h=l[1],g=document.createElement("input"),p=document.createElement("label");g.type="radio",g.name=ne.radio,g.value=u,qC(u,n.inputValue)&&(g.checked=!0);const x=document.createElement("span");ps(x,h),x.className=ne.label,p.appendChild(g),p.appendChild(x),s.appendChild(p)});const a=s.querySelectorAll("input");a.length&&a[0].focus()}const Dm=t=>{const e=[];return t instanceof Map?t.forEach((n,s)=>{let a=n;typeof a=="object"&&(a=Dm(a)),e.push([s,a])}):Object.keys(t).forEach(n=>{let s=t[n];typeof s=="object"&&(s=Dm(s)),e.push([n,s])}),e},qC=(t,e)=>!!e&&e.toString()===t.toString(),WH=t=>{const e=xt.innerParams.get(t);t.disableButtons(),e.input?$C(t,"confirm"):f1(t,!0)},ZH=t=>{const e=xt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?$C(t,"deny"):h1(t,!1)},JH=(t,e)=>{t.disableButtons(),e(jc.cancel)},$C=(t,e)=>{const n=xt.innerParams.get(t);if(!n.input){Fo(`The "input" parameter is needed to be set when using returnInputValueOn${J2(e)}`);return}const s=t.getInput(),a=HH(t,n);n.inputValidator?eq(t,a,e):s&&!s.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||s.validationMessage)):e==="deny"?h1(t,a):f1(t,a)},eq=(t,e,n)=>{const s=xt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Bd(s.inputValidator(e,s.validationMessage))).then(l=>{t.enableButtons(),t.enableInput(),l?t.showValidationMessage(l):n==="deny"?h1(t,e):f1(t,e)})},h1=(t,e)=>{const n=xt.innerParams.get(t||void 0);n.showLoaderOnDeny&&cc(Ho()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Bd(n.preDeny(e,n.validationMessage))).then(a=>{a===!1?(t.hideLoading(),qd(t)):t.close({isDenied:!0,value:typeof a>"u"?e:a})}).catch(a=>GC(t||void 0,a))):t.close({isDenied:!0,value:e})},l_=(t,e)=>{t.close({isConfirmed:!0,value:e})},GC=(t,e)=>{t.rejectPromise(e)},f1=(t,e)=>{const n=xt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&cc(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Bd(n.preConfirm(e,n.validationMessage))).then(a=>{Jn(yp())||a===!1?(t.hideLoading(),qd(t)):l_(t,typeof a>"u"?e:a)}).catch(a=>GC(t||void 0,a))):l_(t,e)};function Mm(){const t=xt.innerParams.get(this);if(!t)return;const e=xt.domCache.get(this);kn(e.loader),vp()?t.icon&&fn(Cc()):tq(e),Us([e.popup,e.actions],ne.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const tq=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?fn(e[0],"inline-block"):NF()&&kn(t.actions)};function KC(){const t=xt.innerParams.get(this),e=xt.domCache.get(this);return e?bp(e.popup,t.input):null}function YC(t,e,n){const s=xt.domCache.get(t);e.forEach(a=>{s[a].disabled=n})}function QC(t,e){const n=tt();if(!(!n||!t))if(t.type==="radio"){const s=n.querySelectorAll(`[name="${ne.radio}"]`);for(let a=0;a<s.length;a++)s[a].disabled=e}else t.disabled=e}function XC(){YC(this,["confirmButton","denyButton","cancelButton"],!1)}function WC(){YC(this,["confirmButton","denyButton","cancelButton"],!0)}function ZC(){QC(this.getInput(),!1)}function JC(){QC(this.getInput(),!0)}function eS(t){const e=xt.domCache.get(this),n=xt.innerParams.get(this);ps(e.validationMessage,t),e.validationMessage.className=ne["validation-message"],n.customClass&&n.customClass.validationMessage&&rt(e.validationMessage,n.customClass.validationMessage),fn(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",ne["validation-message"]),CC(s),rt(s,ne.inputerror))}function tS(){const t=xt.domCache.get(this);t.validationMessage&&kn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Us(e,ne.inputerror))}const Xl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},nq=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],sq={allowEnterKey:void 0},iq=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],nS=t=>Object.prototype.hasOwnProperty.call(Xl,t),sS=t=>nq.indexOf(t)!==-1,iS=t=>sq[t],rq=t=>{nS(t)||zn(`Unknown parameter "${t}"`)},aq=t=>{iq.includes(t)&&zn(`The parameter "${t}" is incompatible with toasts`)},oq=t=>{const e=iS(t);e&&_C(t,e)},rS=t=>{t.backdrop===!1&&t.allowOutsideClick&&zn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&zn(`Invalid theme "${t.theme}"`);for(const e in t)rq(e),t.toast&&aq(e),oq(e)};function aS(t){const e=Un(),n=tt(),s=xt.innerParams.get(this);if(!n||vr(n,s.hideClass.popup)){zn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=lq(t),l=Object.assign({},s,a);rS(l),e.dataset.swal2Theme=l.theme,VC(this,l),xt.innerParams.set(this,l),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const lq=t=>{const e={};return Object.keys(t).forEach(n=>{sS(n)?e[n]=t[n]:zn(`Invalid parameter to update: ${n}`)}),e};function oS(){const t=xt.domCache.get(this),e=xt.innerParams.get(this);if(!e){lS(this);return}t.popup&&Te.swalCloseEventFinishedCallback&&(Te.swalCloseEventFinishedCallback(),delete Te.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Te.eventEmitter.emit("didDestroy"),cq(this)}const cq=t=>{lS(t),delete t.params,delete Te.keydownHandler,delete Te.keydownTarget,delete Te.currentInstance},lS=t=>{t.isAwaitingPromise?(ay(xt,t),t.isAwaitingPromise=!0):(ay(lc,t),ay(xt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},ay=(t,e)=>{for(const n in t)t[n].delete(e)};var uq=Object.freeze({__proto__:null,_destroy:oS,close:xa,closeModal:xa,closePopup:xa,closeToast:xa,disableButtons:WC,disableInput:JC,disableLoading:Mm,enableButtons:XC,enableInput:ZC,getInput:KC,handleAwaitingPromise:qd,hideLoading:Mm,rejectPromise:HC,resetValidationMessage:tS,showValidationMessage:eS,update:aS});const dq=(t,e,n)=>{t.toast?hq(t,e,n):(mq(e),pq(e),gq(t,e,n))},hq=(t,e,n)=>{e.popup.onclick=()=>{t&&(fq(t)||t.timer||t.input)||n(jc.close)}},fq=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Pm=!1;const mq=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Pm=!0)}}},pq=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Pm=!0)}}},gq=(t,e,n)=>{e.container.onclick=s=>{if(Pm){Pm=!1;return}s.target===e.container&&gp(t.allowOutsideClick)&&n(jc.backdrop)}},yq=t=>typeof t=="object"&&t.jquery,c_=t=>t instanceof Element||yq(t),xq=t=>{const e={};return typeof t[0]=="object"&&!c_(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,s)=>{const a=t[s];typeof a=="string"||c_(a)?e[n]=a:a!==void 0&&Fo(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof a}`)}),e};function vq(...t){return new this(...t)}function bq(t){class e extends this{_main(s,a){return super._main(s,Object.assign({},t,a))}}return e}const wq=()=>Te.timeout&&Te.timeout.getTimerLeft(),cS=()=>{if(Te.timeout)return IF(),Te.timeout.stop()},uS=()=>{if(Te.timeout){const t=Te.timeout.start();return l1(t),t}},_q=()=>{const t=Te.timeout;return t&&(t.running?cS():uS())},Eq=t=>{if(Te.timeout){const e=Te.timeout.increase(t);return l1(e,!0),e}},Tq=()=>!!(Te.timeout&&Te.timeout.isRunning());let u_=!1;const ux={};function Aq(t="data-swal-template"){ux[t]=this,u_||(document.body.addEventListener("click",Cq),u_=!0)}const Cq=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in ux){const s=e.getAttribute(n);if(s){ux[n].fire({template:s});return}}};class Sq{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const s=this._getHandlersByEventName(e);s.includes(n)||s.push(n)}once(e,n){const s=(...a)=>{this.removeListener(e,s),n.apply(this,a)};this.on(e,s)}emit(e,...n){this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,n)}catch(a){console.error(a)}})}removeListener(e,n){const s=this._getHandlersByEventName(e),a=s.indexOf(n);a>-1&&s.splice(a,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Te.eventEmitter=new Sq;const Nq=(t,e)=>{Te.eventEmitter.on(t,e)},jq=(t,e)=>{Te.eventEmitter.once(t,e)},Iq=(t,e)=>{if(!t){Te.eventEmitter.reset();return}e?Te.eventEmitter.removeListener(t,e):Te.eventEmitter.removeAllListeners(t)};var Rq=Object.freeze({__proto__:null,argsToParams:xq,bindClickHandler:Aq,clickCancel:xH,clickConfirm:OC,clickDeny:yH,enableLoading:cc,fire:vq,getActions:Ud,getCancelButton:Sc,getCloseButton:i1,getConfirmButton:Hi,getContainer:Un,getDenyButton:Ho,getFocusableElements:r1,getFooter:AC,getHtmlContainer:n1,getIcon:Cc,getIconContent:EF,getImage:TC,getInputLabel:TF,getLoader:Nc,getPopup:tt,getProgressSteps:s1,getTimerLeft:wq,getTimerProgressBar:xp,getTitle:EC,getValidationMessage:yp,increaseTimer:Eq,isDeprecatedParameter:iS,isLoading:CF,isTimerRunning:Tq,isUpdatableParameter:sS,isValidParameter:nS,isVisible:gH,mixin:bq,off:Iq,on:Nq,once:jq,resumeTimer:uS,showLoading:cc,stopTimer:cS,toggleTimer:_q});class kq{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const dS=["swal-title","swal-html","swal-footer"],Dq=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return Uq(n),Object.assign(Mq(n),Pq(n),Vq(n),Oq(n),Lq(n),Bq(n),zq(n,dS))},Mq=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(s=>{Po(s,["name","value"]);const a=s.getAttribute("name"),l=s.getAttribute("value");!a||!l||(typeof Xl[a]=="boolean"?e[a]=l!=="false":typeof Xl[a]=="object"?e[a]=JSON.parse(l):e[a]=l)}),e},Pq=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(s=>{const a=s.getAttribute("name"),l=s.getAttribute("value");!a||!l||(e[a]=new Function(`return ${l}`)())}),e},Vq=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(s=>{Po(s,["type","color","aria-label"]);const a=s.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(e[`${a}ButtonText`]=s.innerHTML,e[`show${J2(a)}Button`]=!0,s.hasAttribute("color")&&(e[`${a}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(e[`${a}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),e},Oq=t=>{const e={},n=t.querySelector("swal-image");return n&&(Po(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},Lq=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Po(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},Bq=t=>{const e={},n=t.querySelector("swal-input");n&&(Po(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const s=Array.from(t.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(a=>{Po(a,["value"]);const l=a.getAttribute("value");if(!l)return;const u=a.innerHTML;e.inputOptions[l]=u})),e},zq=(t,e)=>{const n={};for(const s in e){const a=e[s],l=t.querySelector(a);l&&(Po(l,[]),n[a.replace(/^swal-/,"")]=l.innerHTML.trim())}return n},Uq=t=>{const e=dS.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const s=n.tagName.toLowerCase();e.includes(s)||zn(`Unrecognized element <${s}>`)})},Po=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&zn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},hS=10,Fq=t=>{const e=Un(),n=tt();typeof t.willOpen=="function"&&t.willOpen(n),Te.eventEmitter.emit("willOpen",n);const a=window.getComputedStyle(document.body).overflowY;$q(e,n,t),setTimeout(()=>{Hq(e,n)},hS),a1()&&(qq(e,t.scrollbarPadding,a),CH()),!vp()&&!Te.previousActiveElement&&(Te.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),Te.eventEmitter.emit("didOpen",n)},Vm=t=>{const e=tt();if(t.target!==e)return;const n=Un();e.removeEventListener("animationend",Vm),e.removeEventListener("transitionend",Vm),n.style.overflowY="auto",Us(n,ne["no-transition"])},Hq=(t,e)=>{NC(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Vm),e.addEventListener("transitionend",Vm)):t.style.overflowY="auto"},qq=(t,e,n)=>{SH(),e&&n!=="hidden"&&MH(n),setTimeout(()=>{t.scrollTop=0})},$q=(t,e,n)=>{rt(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),fn(e,"grid"),setTimeout(()=>{rt(e,n.showClass.popup),e.style.removeProperty("opacity")},hS)):fn(e,"grid"),rt([document.documentElement,document.body],ne.shown),n.heightAuto&&n.backdrop&&!n.toast&&rt([document.documentElement,document.body],ne["height-auto"])};var d_={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function Gq(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=d_.email),t.input==="url"&&(t.inputValidator=d_.url))}function Kq(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(zn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function Yq(t){Gq(t),t.showLoaderOnConfirm&&!t.preConfirm&&zn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Kq(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),LF(t)}let ki;var kf=new WeakMap;class Ht{constructor(...e){if(pF(this,kf,void 0),typeof window>"u")return;ki=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,gF(kf,this,this._main(ki.params))}_main(e,n={}){if(rS(Object.assign({},n,e)),Te.currentInstance){const l=lc.swalPromiseResolve.get(Te.currentInstance),{isAwaitingPromise:u}=Te.currentInstance;Te.currentInstance._destroy(),u||l({isDismissed:!0}),a1()&&zC()}Te.currentInstance=ki;const s=Xq(e,n);Yq(s),Object.freeze(s),Te.timeout&&(Te.timeout.stop(),delete Te.timeout),clearTimeout(Te.restoreFocusTimeout);const a=Wq(ki);return VC(ki,s),xt.innerParams.set(ki,s),Qq(ki,a,s)}then(e){return t_(kf,this).then(e)}finally(e){return t_(kf,this).finally(e)}}const Qq=(t,e,n)=>new Promise((s,a)=>{const l=u=>{t.close({isDismissed:!0,dismiss:u,isConfirmed:!1,isDenied:!1})};lc.swalPromiseResolve.set(t,s),lc.swalPromiseReject.set(t,a),e.confirmButton.onclick=()=>{WH(t)},e.denyButton.onclick=()=>{ZH(t)},e.cancelButton.onclick=()=>{JH(t,l)},e.closeButton.onclick=()=>{l(jc.close)},dq(n,e,l),vH(Te,n,l),FH(t,n),Fq(n),Zq(Te,n,l),Jq(e,n),setTimeout(()=>{e.container.scrollTop=0})}),Xq=(t,e)=>{const n=Dq(t),s=Object.assign({},Xl,e,n,t);return s.showClass=Object.assign({},Xl.showClass,s.showClass),s.hideClass=Object.assign({},Xl.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},Wq=t=>{const e={popup:tt(),container:Un(),actions:Ud(),confirmButton:Hi(),denyButton:Ho(),cancelButton:Sc(),loader:Nc(),closeButton:i1(),validationMessage:yp(),progressSteps:s1()};return xt.domCache.set(t,e),e},Zq=(t,e,n)=>{const s=xp();kn(s),e.timer&&(t.timeout=new kq(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(fn(s),fs(s,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&l1(e.timer)})))},Jq=(t,e)=>{if(!e.toast){if(!gp(e.allowEnterKey)){_C("allowEnterKey"),n$();return}e$(t)||t$(t,e)||cx(-1,1)}},e$=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Jn(n))return n.focus(),!0;return!1},t$=(t,e)=>e.focusDeny&&Jn(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Jn(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Jn(t.confirmButton)?(t.confirmButton.focus(),!0):!1,n$=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Ht.prototype.disableButtons=WC;Ht.prototype.enableButtons=XC;Ht.prototype.getInput=KC;Ht.prototype.disableInput=JC;Ht.prototype.enableInput=ZC;Ht.prototype.hideLoading=Mm;Ht.prototype.disableLoading=Mm;Ht.prototype.showValidationMessage=eS;Ht.prototype.resetValidationMessage=tS;Ht.prototype.close=xa;Ht.prototype.closePopup=xa;Ht.prototype.closeModal=xa;Ht.prototype.closeToast=xa;Ht.prototype.rejectPromise=HC;Ht.prototype.update=aS;Ht.prototype._destroy=oS;Object.assign(Ht,Rq);Object.keys(uq).forEach(t=>{Ht[t]=function(...e){return ki&&ki[t]?ki[t](...e):null}});Ht.DismissReason=jc;Ht.version="11.26.3";const Ee=Ht;Ee.default=Ee;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const h_=/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,oy=13,f_=120;function s$(){const t=Dt(),[e,n]=j.useState(0),[s,a]=j.useState(!1),[l,u]=j.useState(!1),[h,g]=j.useState(!1),[p,x]=j.useState({}),[v,_]=j.useState({name:"",email:"",password:"",confirmPassword:"",birthdate:"",country:"",city:""}),A=(I,D)=>{_(P=>({...P,[I]:D})),p[I]&&x(P=>({...P,[I]:""}))},V=I=>{try{if(I===0)return v.name?.trim().length>=2&&/^[a-zA-Z\s]+$/.test(v.name||"")&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.email||"")&&(v.password?.length||0)>=8&&h_.test(v.password||"")&&v.password===v.confirmPassword;if(I===1){if(!v.birthdate)return!1;const D=new Date(v.birthdate),P=new Date;let H=P.getFullYear()-D.getFullYear();return(P.getMonth()<D.getMonth()||P.getMonth()===D.getMonth()&&P.getDate()<D.getDate())&&H--,H>=oy&&H<=f_&&(v.country?.trim().length||0)>0&&/^[a-zA-Z\s]+$/.test(v.country||"")&&(v.city?.trim().length||0)>0&&/^[a-zA-Z\s]+$/.test(v.city||"")}return!1}catch(D){return console.error("Validation error:",D),!1}},M=I=>{const D={};if(I===0&&(v.name.trim()?v.name.trim().length<2?D.name="El nombre debe tener al menos 2 caracteres":/^[a-zA-Z\s]+$/.test(v.name)||(D.name="El nombre solo puede contener letras"):D.name="El nombre es requerido",v.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.email)||(D.email="Ingresa un email vlido"):D.email="El email es requerido",v.password?v.password.length<8?D.password="La contrasea debe tener al menos 8 caracteres":h_.test(v.password)||(D.password="Debe contener mayscula, minscula y nmero"):D.password="La contrasea es requerida",v.confirmPassword?v.password!==v.confirmPassword&&(D.confirmPassword="Las contraseas no coinciden"):D.confirmPassword="Confirma tu contrasea"),I===1){if(!v.birthdate)D.birthdate="La fecha de nacimiento es requerida";else{const P=new Date(v.birthdate),S=new Date().getFullYear()-P.getFullYear();S<oy?D.birthdate=`Debes tener al menos ${oy} aos`:S>f_&&(D.birthdate="Ingresa una fecha vlida")}v.country.trim()?/^[a-zA-Z\s]+$/.test(v.country)||(D.country="El pas solo puede contener letras"):D.country="El pas es requerido",v.city.trim()?/^[a-zA-Z\s]+$/.test(v.city)||(D.city="La ciudad solo puede contener letras"):D.city="La ciudad es requerida"}return x(D),Object.keys(D).length===0},k=()=>{M(e)&&n(I=>Math.min(2,I+1))},L=()=>n(I=>Math.max(0,I-1)),B=async()=>{if(!M(0)||!M(1)){Ee.fire({icon:"warning",title:"Formulario incompleto",text:"Por favor corrige los errores antes de continuar",confirmButtonColor:"#8B5CF6"});return}g(!0);try{const I=await hF(v);I.success?Ee.fire({icon:"success",title:"Cuenta creada exitosamente!",text:"Bienvenido a WordQuest",confirmButtonColor:"#8B5CF6"}).then(()=>{t("/login")}):Ee.fire({icon:"error",title:"Error al crear cuenta",text:I.error,confirmButtonColor:"#8B5CF6"})}catch{Ee.fire({icon:"error",title:"Error de conexin",text:"No se pudo conectar con el servidor",confirmButtonColor:"#8B5CF6"})}g(!1)};return c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 opacity-20",children:c.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative w-full max-w-lg mx-auto px-4 sm:px-0",children:c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-4 sm:p-8 shadow-2xl",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(Z.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-12 h-12 sm:w-16 sm:h-16 bg-linear-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:c.jsx(zy,{className:"text-lg sm:text-2xl text-white"})}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"nete a WordQuest"}),c.jsx("p",{className:"text-white/70",children:"Comienza tu aventura de aprendizaje"})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex justify-between text-sm text-white/60 mb-2",children:[c.jsxs("span",{children:["Paso ",e+1," de 3"]}),c.jsxs("span",{children:[Math.round((e+1)/3*100),"%"]})]}),c.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:c.jsx(Z.div,{className:"bg-linear-to-r from-purple-500 to-pink-500 h-2 rounded-full",initial:{width:"33%"},animate:{width:`${(e+1)/3*100}%`},transition:{duration:.3}})})]}),c.jsx("div",{className:"flex justify-center space-x-2 sm:space-x-4 mb-8",children:["Cuenta","Personal","Confirmar"].map((I,D)=>{const P=D===0?V(0):D===1?V(0)&&V(1):!1,H=D===0||D===1&&V(0)||D===2&&V(0)&&V(1);return c.jsxs(Z.button,{onClick:()=>H&&n(D),whileHover:H?{scale:1.05}:{},whileTap:H?{scale:.95}:{},disabled:!H,className:`flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 rounded-xl text-xs sm:text-sm font-medium transition-all ${e===D?"bg-linear-to-r from-purple-500 to-pink-500 text-white shadow-lg":P?"bg-green-500/20 text-green-300 border border-green-500/30 cursor-pointer":H?"bg-white/10 text-white/70 border border-white/20 cursor-pointer hover:bg-white/20":"bg-white/5 text-white/30 border border-white/5 cursor-not-allowed opacity-50"}`,children:[c.jsx("span",{className:`w-4 h-4 sm:w-5 sm:h-5 rounded-full flex items-center justify-center text-xs ${e===D?"bg-white/20":P?"bg-green-500 text-white":"bg-white/10"}`,children:P?c.jsx(xr,{className:"text-xs"}):D+1}),c.jsx("span",{className:"hidden sm:inline",children:I})]},D)})}),c.jsxs(Z.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{duration:.25},children:[e===0&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Nombre completo"}),c.jsxs("div",{className:"relative",children:[c.jsx(Mo,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),c.jsx("input",{type:"text",value:v.name,onChange:I=>A("name",I.target.value),placeholder:"Tu nombre completo",className:`w-full pl-12 pr-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${p.name?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`})]}),p.name&&c.jsx("p",{className:"text-red-400 text-xs mt-1",children:p.name})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Correo electrnico"}),c.jsxs("div",{className:"relative",children:[c.jsx(g2,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),c.jsx("input",{type:"email",value:v.email,onChange:I=>A("email",I.target.value),placeholder:"tu@email.com",className:`w-full pl-12 pr-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${p.email?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`})]}),p.email&&c.jsx("p",{className:"text-red-400 text-xs mt-1",children:p.email})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Contrasea"}),c.jsxs("div",{className:"relative",children:[c.jsx(hd,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),c.jsx("input",{type:s?"text":"password",value:v.password,onChange:I=>A("password",I.target.value),placeholder:"Mnimo 8 caracteres",className:`w-full pl-12 pr-12 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${p.password?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`}),c.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60 transition-colors",children:s?c.jsx(By,{}):c.jsx(bm,{})})]}),p.password&&c.jsx("p",{className:"text-red-400 text-xs mt-1",children:p.password})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Confirmar contrasea"}),c.jsxs("div",{className:"relative",children:[c.jsx(hd,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),c.jsx("input",{type:l?"text":"password",value:v.confirmPassword,onChange:I=>A("confirmPassword",I.target.value),placeholder:"Repite tu contrasea",className:`w-full pl-12 pr-12 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${p.confirmPassword?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`}),c.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60 transition-colors",children:l?c.jsx(By,{}):c.jsx(bm,{})})]}),p.confirmPassword&&c.jsx("p",{className:"text-red-400 text-xs mt-1",children:p.confirmPassword})]})]}),e===1&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-white/80 text-sm font-medium","aria-label":"Fecha de nacimiento",children:"Fecha de nacimiento"}),c.jsx("input",{type:"date",value:v.birthdate,onChange:I=>A("birthdate",I.target.value),className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white focus:outline-none focus:ring-2 focus:border-transparent transition-all ${p.birthdate?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`}),p.birthdate&&c.jsx("p",{className:"text-red-400 text-xs mt-1",children:p.birthdate})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-white/80 text-sm font-medium","aria-label":"Pas",children:"Pas"}),c.jsx("input",{type:"text",value:v.country,onChange:I=>A("country",I.target.value),placeholder:"Colombia",className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${p.country?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`}),p.country&&c.jsx("p",{className:"text-red-400 text-xs mt-1",children:p.country})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Ciudad"}),c.jsx("input",{type:"text",value:v.city,onChange:I=>A("city",I.target.value),placeholder:"Bogot",className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${p.city?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`}),p.city&&c.jsx("p",{className:"text-red-400 text-xs mt-1",children:p.city})]})]})]}),e===2&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-linear-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(rc,{className:"text-lg sm:text-2xl text-white"})}),c.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white mb-2",children:"Casi listo!"}),c.jsx("p",{className:"text-white/60 text-sm",children:"Revisa tu informacin antes de continuar"})]}),c.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 sm:p-6 space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[c.jsx("span",{className:"text-white/60",children:"Nombre"}),c.jsx("span",{className:"text-white font-medium",children:v.name||"No especificado"})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[c.jsx("span",{className:"text-white/60",children:"Email"}),c.jsx("span",{className:"text-white font-medium",children:v.email||"No especificado"})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[c.jsx("span",{className:"text-white/60",children:"Fecha de nacimiento"}),c.jsx("span",{className:"text-white font-medium",children:v.birthdate||"No especificado"})]}),c.jsxs("div",{className:"flex justify-between items-center py-2",children:[c.jsx("span",{className:"text-white/60",children:"Ubicacin"}),c.jsx("span",{className:"text-white font-medium",children:v.city&&v.country?`${v.city}, ${v.country}`:"No especificado"})]})]}),c.jsxs(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:B,disabled:h,className:"w-full bg-linear-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 flex items-center justify-center disabled:opacity-50",children:[c.jsx(zy,{className:"mr-2"})," ",h?"Creando cuenta...":"Crear mi cuenta"]})]})]},e),e<2&&c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mt-8 space-y-4 sm:space-y-0",children:[e>0?c.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:L,className:"w-full sm:w-auto px-6 py-3 bg-white/10 hover:bg-white/20 text-white rounded-xl font-medium transition-all duration-200 border border-white/10","aria-label":"Atrs",children:" Atrs"}):c.jsx("div",{}),c.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:k,className:"w-full sm:w-auto px-6 py-3 bg-linear-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-xl font-medium transition-all duration-200 shadow-lg","aria-label":"Siguiente",children:"Siguiente "})]}),c.jsx("div",{className:"text-center mt-8",children:c.jsxs("p",{className:"text-white/60 text-sm",children:["Ya tienes cuenta?"," ",c.jsx(en,{to:"/login",className:"text-purple-400 hover:text-purple-300 font-medium transition-colors","aria-label":"Inicia sesin",children:"Inicia sesin"})]})})]})})]})}function i$(){const[t,e]=j.useState(!1),[n,s]=j.useState(!1),[a,l]=j.useState({email:"",password:""}),u=(p,x)=>{l(v=>({...v,[p]:x}))},h=Dt(),g=async p=>{if(p.preventDefault(),!a.email||!a.password){Ee.fire({title:"Error",text:"Por favor, completa todos los campos",icon:"error",confirmButtonColor:"#8B5CF6"});return}s(!0);const x=await fF(a.email,a.password);if(x.success){const v=x.userData?.isAdmin||!1;Ee.fire({title:"Bienvenido!",text:"Has iniciado sesin correctamente",icon:"success",confirmButtonColor:"#8B5CF6"}).then(()=>{h(v?"/admin":"/user-profile")})}else Ee.fire({title:"Error de inicio de sesin",text:x.error,icon:"error",confirmButtonColor:"#8B5CF6"});s(!1)};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 opacity-20",children:c.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative w-full max-w-md mx-auto px-4 sm:px-0",children:c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 sm:p-8 shadow-2xl",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(Z.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:c.jsx(O3,{className:"text-lg sm:text-2xl text-white"})}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Bienvenido de vuelta"}),c.jsx("p",{className:"text-white/70",children:"Inicia sesin para continuar tu aventura"})]}),c.jsxs("form",{onSubmit:g,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Correo electrnico"}),c.jsxs("div",{className:"relative",children:[c.jsx(g2,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),c.jsx("input",{type:"email",value:a.email,onChange:p=>u("email",p.target.value),placeholder:"tu@email.com",className:"w-full pl-12 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Contrasea"}),c.jsxs("div",{className:"relative",children:[c.jsx(hd,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),c.jsx("input",{type:t?"text":"password",value:a.password,onChange:p=>u("password",p.target.value),placeholder:"Tu contrasea",className:"w-full pl-12 pr-12 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0}),c.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60 transition-colors",children:t?c.jsx(By,{}):c.jsx(bm,{})})]})]}),c.jsx("div",{className:"text-right",children:c.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300 text-sm font-medium transition-colors",children:"Olvidaste tu contrasea?"})}),c.jsxs(Z.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},disabled:n,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 flex items-center justify-center disabled:opacity-50",children:[c.jsx(O3,{className:"mr-2"})," ",n?"Iniciando sesin...":"Iniciar sesin"]})]}),c.jsx("div",{className:"text-center mt-8",children:c.jsxs("p",{className:"text-white/60 text-sm",children:["No tienes cuenta?"," ",c.jsx(en,{to:"/register",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Regstrate aqu"})]})})]})})]})}const Fs={async updateCurrentProgress(t,e,n,s){try{const a=et(be,"users",t,"progress",e);await da(a,{currentChapter:n,currentMission:s,lastAccess:new Date},{merge:!0})}catch(a){console.error("Error updating current progress:",a)}},async saveMissionProgress(t,e,n,s,a,l){try{const u=et(be,"users",t,"progress",e,"chapters",n,"missions",s),h=await hn(u),g=h.exists()?(h.data().attempts||0)+1:1,p=h.exists()?Math.max(h.data().score||0,a):a,x=Math.round(a*10),v={completed:!0,score:p,currentScore:a,attempts:g,mode:l,points:x,completedAt:new Date,unlocksNext:p>=70};await da(u,v,{merge:!0});const _=et(be,"users",t,"progress",e,"chapters",n);await da(_,{missionsCompleted:lV(s),lastAccess:new Date},{merge:!0});const A=et(be,"users",t,"progress",e);await da(A,{lastAccess:new Date},{merge:!0}),await this.addPoints(t,x),await this.checkAchievements(t,{score:a,mode:l,attempts:g})}catch(u){console.error("Error saving mission progress:",u)}},async getUserProgress(t,e){try{const n=et(be,"users",t,"progress",e),s=await hn(n);return s.exists()?s.data():null}catch(n){return console.error("Error getting user progress:",n),null}},async isMissionCompleted(t,e,n,s){try{const a=et(be,"users",t,"progress",e,"chapters",n,"missions",s),l=await hn(a);return l.exists()&&l.data().completed}catch(a){return console.error("Error checking mission completion:",a),!1}},async addPoints(t,e){try{const n=et(be,"users",t);await _c(n,{totalPoints:cV(e)})}catch{try{await da(userRef,{totalPoints:e},{merge:!0})}catch(s){console.error("Error adding points:",s)}}},async saveAchievement(t,e,n){try{const s=et(be,"users",t,"achievements",e);await da(s,{...n,unlockedAt:new Date})}catch(s){console.error("Error saving achievement:",s)}},async checkAchievements(t,e){try{const{score:n,mode:s,attempts:a}=e;n===100&&a===1&&(await this.saveAchievement(t,"perfect_first_try",{title:"Perfeccin al Primer Intento",description:"Completaste una misin con 100% en el primer intento",type:"performance",points:500}),await this.addPoints(t,500)),s==="keywords"&&n>=90&&(await this.saveAchievement(t,"keyword_master",{title:"Maestro de Palabras Clave",description:"Obtuviste 90% o ms en una misin de palabras clave",type:"skill",points:200}),await this.addPoints(t,200)),s==="completarFrase"&&n>=90&&(await this.saveAchievement(t,"sentence_expert",{title:"Experto en Oraciones",description:"Obtuviste 90% o ms en una misin de completar frases",type:"skill",points:200}),await this.addPoints(t,200)),s==="ordenar-secuencia"&&n>=90&&(await this.saveAchievement(t,"sequence_master",{title:"Maestro del Orden",description:"Obtuviste 90% o ms en una misin de ordenar secuencias",type:"skill",points:200}),await this.addPoints(t,200)),s==="ordenar-secuencia"&&n===100&&(await this.saveAchievement(t,"perfect_sequencer",{title:"Secuenciador Perfecto",description:"Ordenaste una secuencia perfectamente",type:"performance",points:300}),await this.addPoints(t,300))}catch(n){console.error("Error checking achievements:",n)}},async getUserPoints(t){try{const e=et(be,"users",t),n=await hn(e);return n.exists()&&n.data().totalPoints||0}catch(e){return console.error("Error getting user points:",e),0}},async getUserAchievements(t){try{const e=ot(be,"users",t,"achievements");return(await _t(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){return console.error("Error getting user achievements:",e),[]}},async getMissionProgress(t,e,n,s){try{const a=et(be,"users",t,"progress",e,"chapters",n,"missions",s),l=await hn(a);return l.exists()?l.data():null}catch(a){return console.error("Error getting mission progress:",a),null}},async canUnlockNext(t,e,n,s){try{const a=await this.getMissionProgress(t,e,n,s);return a&&a.score>=70}catch(a){return console.error("Error checking unlock status:",a),!1}}};function r$(){const[t,e]=ci(An),[n,s]=j.useState(null),[a,l]=j.useState(!1),[u,h]=j.useState({}),[g,p]=j.useState(!0),[x,v]=j.useState({totalPoints:0,achievements:[],completedMissions:0,averageScore:0});j.useEffect(()=>{(async()=>{if(t)try{const B=await hn(et(be,"users",t.uid));if(B.exists()){const I=B.data();s(I),h(I);const D=await Fs.getUserPoints(t.uid),P=await Fs.getUserAchievements(t.uid);v({totalPoints:D,achievements:P,completedMissions:P.length,averageScore:85})}else{console.warn("No user document found");const I={name:t.displayName||t.email?.split("@")[0]||"Usuario",email:t.email,createdAt:new Date,uid:t.uid,totalPoints:0};await da(et(be,"users",t.uid),I),s(I),h(I)}}catch(B){console.error("Error fetching user data:",B),Ee.fire({icon:"error",title:"Error",text:"No se pudo cargar la informacin del usuario",confirmButtonColor:"#8B5CF6"})}p(!1)})()},[t]);const _=()=>{l(!0),h(n)},A=async()=>{try{await _c(et(be,"users",t.uid),{name:u.name,country:u.country,city:u.city}),s({...n,...u}),l(!1),Ee.fire({icon:"success",title:"Perfil actualizado!",text:"Tus cambios han sido guardados exitosamente",confirmButtonColor:"#8B5CF6"})}catch{Ee.fire({icon:"error",title:"Error",text:"No se pudo actualizar el perfil",confirmButtonColor:"#8B5CF6"})}},V=()=>{l(!1),h(n)},M=L=>{if(!L)return"No especificado";const B=new Date,I=new Date(L);return`${B.getFullYear()-I.getFullYear()} aos`},k=L=>L?new Date(L.seconds?L.seconds*1e3:L).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"No especificado";return e||g?c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Cargando perfil..."})}):t?c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:[c.jsx(Gi,{}),c.jsx("div",{className:"absolute inset-0 opacity-10",children:c.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsxs("div",{className:"relative max-w-7xl mx-auto px-4",children:[c.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6 sm:mb-8",children:[c.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-2",children:"Mi Perfil"}),c.jsx("p",{className:"text-white/70 text-sm sm:text-base",children:"Gestiona tu informacin y revisa tu progreso"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[c.jsx(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-1",children:c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6 shadow-2xl",children:[c.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[c.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full mx-auto mb-3 sm:mb-4 overflow-hidden border-4 border-purple-500",children:c.jsx("img",{src:DT,alt:"Profile",className:"w-full h-full object-cover"})}),c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-1",children:n?.name||"Usuario"}),c.jsxs("p",{className:"text-white/60 text-sm sm:text-base",children:["Nivel ",Math.floor(x.totalPoints/1e3)+1]})]}),c.jsx("div",{className:"space-y-3 sm:space-y-4",children:a?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-white/80 text-sm",children:"Nombre"}),c.jsx("input",{type:"text",value:u.name||"",onChange:L=>h({...u,name:L.target.value}),className:"w-full mt-1 px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-white/80 text-sm",children:"Pas"}),c.jsx("input",{type:"text",value:u.country||"",onChange:L=>h({...u,country:L.target.value}),className:"w-full mt-1 px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-white/80 text-sm",children:"Ciudad"}),c.jsx("input",{type:"text",value:u.city||"",onChange:L=>h({...u,city:L.target.value}),className:"w-full mt-1 px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white"})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{onClick:A,className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg flex items-center justify-center",children:[c.jsx(jr,{className:"mr-2"})," Guardar"]}),c.jsxs("button",{onClick:V,className:"flex-1 bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg flex items-center justify-center",children:[c.jsx(zs,{className:"mr-2"})," Cancelar"]})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center space-x-3 p-2 sm:p-3 bg-white/5 rounded-lg",children:[c.jsx(g2,{className:"text-purple-400 text-sm sm:text-base"}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Email"}),c.jsx("p",{className:"text-white text-sm sm:text-base truncate",children:n?.email})]})]}),c.jsxs("div",{className:"flex items-center space-x-3 p-2 sm:p-3 bg-white/5 rounded-lg",children:[c.jsx(kV,{className:"text-purple-400 text-sm sm:text-base"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Edad"}),c.jsx("p",{className:"text-white text-sm sm:text-base",children:M(n?.birthdate)})]})]}),c.jsxs("div",{className:"flex items-center space-x-3 p-2 sm:p-3 bg-white/5 rounded-lg",children:[c.jsx(qV,{className:"text-purple-400 text-sm sm:text-base"}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Ubicacin"}),c.jsx("p",{className:"text-white text-sm sm:text-base truncate",children:n?.city&&n?.country?`${n.city}, ${n.country}`:"No especificado"})]})]}),c.jsxs("div",{className:"flex items-center space-x-3 p-2 sm:p-3 bg-white/5 rounded-lg",children:[c.jsx(BV,{className:"text-purple-400 text-sm sm:text-base"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Miembro desde"}),c.jsx("p",{className:"text-white text-sm sm:text-base",children:k(n?.createdAt)})]})]}),c.jsxs("button",{onClick:_,className:"w-full bg-linear-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white py-3 px-4 rounded-lg flex items-center justify-center transition-all",children:[c.jsx(Os,{className:"mr-2"})," Editar Perfil"]})]})})]})}),c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[c.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4",children:"Estadsticas"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl sm:rounded-2xl p-3 sm:p-4 text-center",children:[c.jsx(y2,{className:"text-xl sm:text-2xl text-purple-400 mx-auto mb-2"}),c.jsx("p",{className:"text-lg sm:text-2xl font-bold text-white",children:x.totalPoints}),c.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Puntos"})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[c.jsx(mr,{className:"text-2xl text-yellow-400 mx-auto mb-2"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:x.achievements.length}),c.jsx("p",{className:"text-white/60 text-sm",children:"Logros"})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[c.jsx(Vs,{className:"text-2xl text-blue-400 mx-auto mb-2"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:x.completedMissions}),c.jsx("p",{className:"text-white/60 text-sm",children:"Misiones"})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[c.jsx(RV,{className:"text-2xl text-green-400 mx-auto mb-2"}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[x.averageScore,"%"]}),c.jsx("p",{className:"text-white/60 text-sm",children:"Precisin"})]})]})]}),c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6",children:[c.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4",children:"Progreso de Aprendizaje"}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-white/80",children:"Precisin"}),c.jsxs("span",{className:"text-white font-bold",children:[x.averageScore,"%"]})]}),c.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:c.jsx("div",{className:"bg-linear-to-r from-green-400 to-blue-500 h-3 rounded-full transition-all duration-500",style:{width:`${x.averageScore}%`}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-white/80",children:"Nivel actual"}),c.jsx("span",{className:"text-white font-bold",children:Math.floor(x.totalPoints/1e3)+1})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(rc,{className:"text-yellow-400"}),c.jsx("span",{className:"text-white/60",children:"Basado en puntos obtenidos"})]})]})]})]}),c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[c.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4",children:"Logros Recientes"}),c.jsx("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:x.achievements.length>0?x.achievements.slice(0,3).map((L,B)=>c.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[c.jsx("div",{className:"w-10 h-10 bg-linear-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:c.jsx(mr,{className:"text-white"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-medium",children:L.title}),c.jsx("p",{className:"text-white/60 text-sm",children:L.description})]})]},L.id)):c.jsxs("div",{className:"text-center py-4",children:[c.jsx(mr,{className:"text-4xl text-white/20 mx-auto mb-2"}),c.jsx("p",{className:"text-white/60",children:"Completa misiones para desbloquear logros!"})]})})]}),c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[c.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4",children:"Actividad Semanal"}),c.jsx("div",{className:"flex items-center justify-center h-32 bg-white/5 rounded-lg",children:c.jsxs("div",{className:"text-center",children:[c.jsx(MV,{className:"text-4xl text-purple-400 mx-auto mb-2"}),c.jsx("p",{className:"text-white/60",children:"Grfico de actividad prximamente"})]})})]})]})]})]})]}):c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Por favor inicia sesin"})})}function a$(){const[t]=ci(An),[e,n]=j.useState(null),[s,a]=j.useState({totalPoints:0,level:1,nextLevelXP:1e3,achievements:[],completedMissions:0}),[l,u]=j.useState(!0);return j.useEffect(()=>{(async()=>{if(t)try{const g=await hn(et(be,"users",t.uid));g.exists()&&n(g.data());const p=await Fs.getUserPoints(t.uid),x=await Fs.getUserAchievements(t.uid),v=Math.floor(p/1e3)+1,_=v*1e3;a({totalPoints:p,level:v,nextLevelXP:_,achievements:x,completedMissions:x.length})}catch(g){console.error("Error fetching user data:",g)}u(!1)})()},[t]),l?c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Cargando dashboard..."})}):t?c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:[c.jsx(Gi,{}),c.jsx("div",{className:"absolute inset-0 opacity-10",children:c.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsxs("div",{className:"relative max-w-7xl mx-auto pt-16 sm:pt-20 px-4",children:[c.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 sm:mb-8",children:[c.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-2",children:["Hola, ",e?.name?.split(" ")[0]||"Usuario","! "]}),c.jsx("p",{className:"text-white/70 text-base sm:text-lg",children:"Contina tu aventura de aprendizaje"})]}),c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl sm:rounded-2xl p-3 sm:p-4 text-center",children:[c.jsx(y2,{className:"text-2xl sm:text-3xl text-purple-400 mx-auto mb-2"}),c.jsx("p",{className:"text-lg sm:text-2xl font-bold text-white",children:s.totalPoints}),c.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Puntos"})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[c.jsx(mr,{className:"text-3xl text-yellow-400 mx-auto mb-2"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:s.achievements.length}),c.jsx("p",{className:"text-white/60 text-sm",children:"Logros"})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[c.jsx(Vs,{className:"text-3xl text-blue-400 mx-auto mb-2"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:s.completedMissions}),c.jsx("p",{className:"text-white/60 text-sm",children:"Misiones"})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[c.jsx(rc,{className:"text-3xl text-green-400 mx-auto mb-2"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:s.level}),c.jsx("p",{className:"text-white/60 text-sm",children:"Nivel"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[c.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-2",children:[c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6 mb-4 sm:mb-6",children:[c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4",children:"Progreso de Hoy"}),c.jsxs("div",{className:"mb-4 sm:mb-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-white/80 text-sm sm:text-base",children:"Puntos totales"}),c.jsxs("span",{className:"text-white font-bold text-sm sm:text-base",children:[s.totalPoints," puntos"]})]}),c.jsx("div",{className:"w-full bg-white/10 rounded-full h-4",children:c.jsx("div",{className:"bg-linear-to-r from-green-400 to-blue-500 h-4 rounded-full transition-all duration-500",style:{width:`${Math.min(s.totalPoints/5e3*100,100)}%`}})}),c.jsx("p",{className:"text-white/60 text-xs sm:text-sm mt-2",children:"Sigue completando misiones para ganar ms puntos!"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsxs("span",{className:"text-white/80 text-sm sm:text-base",children:["Nivel ",s.level]}),c.jsxs("span",{className:"text-white font-bold text-sm sm:text-base",children:[s.totalPoints,"/",s.nextLevelXP," puntos"]})]}),c.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:c.jsx("div",{className:"bg-linear-to-r from-purple-400 to-pink-500 h-3 rounded-full transition-all duration-500",style:{width:`${s.totalPoints%1e3/1e3*100}%`}})})]})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6",children:[c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4",children:"Logros Recientes"}),c.jsx("div",{className:"space-y-2 sm:space-y-3",children:s.achievements.length>0?s.achievements.slice(0,3).map(h=>c.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-white/5 rounded-xl",children:[c.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-1 min-w-0",children:[c.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center bg-yellow-500",children:c.jsx(mr,{className:"text-white text-sm"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("p",{className:"text-white font-medium text-sm sm:text-base truncate",children:h.title}),c.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:h.description})]})]}),c.jsxs("div",{className:"text-yellow-400 font-bold text-sm",children:["+",h.points]})]},h.id)):c.jsxs("div",{className:"text-center py-4",children:[c.jsx(mr,{className:"text-4xl text-white/20 mx-auto mb-2"}),c.jsx("p",{className:"text-white/60 text-sm",children:"Completa misiones para desbloquear logros!"})]})})]})]}),c.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"space-y-6",children:[c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6",children:[c.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4",children:"Logros"}),c.jsx("div",{className:"space-y-2 sm:space-y-3",children:s.achievements.length>0?s.achievements.slice(0,4).map(h=>c.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-xl bg-yellow-500/20 border border-yellow-500/30",children:[c.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-yellow-500",children:c.jsx(mr,{className:"text-sm text-white"})}),c.jsx("span",{className:"text-sm text-white",children:h.title})]},h.id)):c.jsx("div",{className:"text-center py-2",children:c.jsx("p",{className:"text-white/60 text-sm",children:"An no tienes logros!"})})})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6",children:[c.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4",children:"Tu Nivel"}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-linear-to-r from-purple-400 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-3",children:c.jsx(rc,{className:"text-xl sm:text-2xl text-white"})}),c.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-white mb-1",children:s.level}),c.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"nivel actual"}),c.jsxs("p",{className:"text-white/40 text-xs mt-1",children:[1e3-s.totalPoints%1e3," puntos para subir"]})]})]})]})]})]})]}):c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Por favor inicia sesin"})})}const o$=()=>{const t=Dt(),[e]=ci(An),n=()=>{if(!e){Ee.fire({icon:"warning",title:"Inicia sesin requerida",text:"Debes iniciar sesin para acceder a los modos de juego",confirmButtonText:"Ir a Login",confirmButtonColor:"#8B5CF6",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(s=>{s.isConfirmed&&t("/login")});return}t("/adventure-shelf")};return c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:[c.jsx(Gi,{}),c.jsx("div",{className:"absolute inset-0 opacity-10",children:c.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsxs("div",{className:"relative max-w-6xl mx-auto pt-20",children:[c.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[c.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-4",children:["Modos de ",c.jsx("span",{className:"bg-linear-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Juego"})]}),c.jsx("p",{className:"text-white/70 text-base sm:text-lg max-w-2xl mx-auto px-4",children:"Explora diferentes experiencias de aprendizaje. Ms aventuras estn en camino."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[c.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},onClick:n,className:"group cursor-pointer bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 sm:p-8 shadow-2xl hover:shadow-purple-500/20 transition-all duration-300 hover:scale-105 hover:bg-white/15",children:[c.jsxs("div",{className:"relative mb-6",children:[c.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-linear-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto group-hover:scale-110 transition-transform duration-300",children:c.jsx(yC,{size:32,className:"text-white"})}),c.jsx("div",{className:"absolute -top-2 -right-2",children:c.jsx(Z2,{size:20,className:"text-yellow-400 animate-pulse"})})]}),c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white text-center mb-3",children:"Aventura Temtica"}),c.jsx("p",{className:"text-white/70 text-center text-sm sm:text-base mb-6 leading-relaxed",children:"Sumrgete en historias interactivas. Completa captulos, supera misiones y vive la narrativa mientras aprendes."}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:[c.jsxs("span",{className:"bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[c.jsx(LU,{size:12})," Historia"]}),c.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[c.jsx(HU,{size:12})," Misiones"]}),c.jsxs("span",{className:"bg-green-500/20 text-green-300 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[c.jsx(QU,{size:12})," Recompensas"]})]}),c.jsxs("button",{className:"w-full py-3 rounded-xl bg-linear-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold transition-all duration-200 flex items-center justify-center gap-2 group-hover:shadow-lg",children:[c.jsx(JU,{size:18,className:"group-hover:animate-bounce"}),"Jugar Ahora!"]})]}),c.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-6 sm:p-8 shadow-2xl",children:[c.jsxs("div",{className:"relative mb-6",children:[c.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-linear-to-r from-gray-600 to-gray-500 rounded-2xl flex items-center justify-center mx-auto",children:c.jsx(Sm,{size:32,className:"text-gray-300"})}),c.jsx("div",{className:"absolute -top-1 -right-1",children:c.jsx("div",{className:"w-6 h-6 bg-yellow-500 rounded-full flex items-center justify-center",children:c.jsx(xC,{size:12,className:"text-white"})})})]}),c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-300 text-center mb-3",children:"Ms Aventuras"}),c.jsx("p",{className:"text-gray-400 text-center text-sm sm:text-base mb-6 leading-relaxed",children:"Estamos creando nuevos y emocionantes modos de juego. Mantente atento para ms diversin!"}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:[c.jsxs("span",{className:"bg-gray-600/20 text-gray-400 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[c.jsx($U,{size:12})," Desafos"]}),c.jsxs("span",{className:"bg-gray-600/20 text-gray-400 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[c.jsx(WU,{size:12})," Multijugador"]}),c.jsxs("span",{className:"bg-gray-600/20 text-gray-400 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[c.jsx(KU,{size:12})," Tiempo Real"]})]}),c.jsxs("button",{disabled:!0,className:"w-full py-3 rounded-xl bg-gray-600/50 cursor-not-allowed text-gray-300 font-semibold flex items-center justify-center gap-2",children:[c.jsx(Sm,{size:18}),"Prximamente..."]})]})]}),c.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center mt-12",children:c.jsxs("p",{className:"text-white/60 text-sm",children:["Tienes ideas para nuevos modos de juego?",c.jsx("span",{className:"text-purple-400 hover:text-purple-300 cursor-pointer transition-colors",children:"Comprtelas con nosotros!"})]})})]})]})},l$=t=>{switch(t){case"Principiante":return OV;case"Intermedio":return OT;case"Avanzado":return y2;default:return Vs}},c$=t=>{switch(t){case"Principiante":return"from-blue-500 to-purple-600";case"Intermedio":return"from-amber-500 to-orange-600";case"Avanzado":return"from-purple-500 to-pink-600";default:return"from-gray-500 to-slate-600"}};function m_(){const[t,e]=j.useState([]),[n,s]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{const l=ot(be,"books"),h=(await _t(l)).docs.map(g=>({id:g.id,...g.data(),icon:l$(g.data().difficulty),color:c$(g.data().difficulty)}));e(h)}catch(l){console.error("Error fetching books:",l)}finally{s(!1)}})()},[]),n?c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Cargando libros..."})}):c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:[c.jsx(Gi,{}),c.jsx("div",{className:"absolute inset-0 opacity-10",children:c.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsxs("div",{className:"relative max-w-7xl mx-auto pt-20",children:[c.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(Vs,{className:"text-4xl text-purple-400"}),c.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white",children:["Estantera ",c.jsx("span",{className:"bg-linear-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Temtica"})]}),c.jsx(Z2,{className:"text-4xl text-yellow-400 animate-pulse"})]}),c.jsx("p",{className:"text-white/70 text-base sm:text-lg max-w-2xl mx-auto px-4",children:"Elige un libro para comenzar tu aventura narrativa y sumrgete en historias fascinantes."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:[t.length===0?c.jsxs("div",{className:"col-span-full text-center py-12",children:[c.jsx(Vs,{className:"text-6xl text-white/20 mx-auto mb-4"}),c.jsx("p",{className:"text-white/60 text-lg",children:"No hay libros disponibles an"})]}):t.map((a,l)=>{const u=a.icon;return c.jsxs(Z.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:l*.15},className:"group relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl overflow-hidden shadow-2xl transition-all duration-300 hover:scale-105 hover:shadow-purple-500/20 cursor-pointer",children:[c.jsx("div",{className:"relative h-48 sm:h-56 overflow-hidden",children:a.cover?c.jsxs(c.Fragment,{children:[c.jsx("img",{src:a.cover,alt:a.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),c.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/60 to-transparent"}),c.jsx("div",{className:"absolute top-4 right-4",children:c.jsx("div",{className:`w-12 h-12 bg-linear-to-r ${a.color} rounded-full flex items-center justify-center shadow-lg`,children:c.jsx(u,{className:"text-white text-xl"})})})]}):c.jsxs("div",{className:"w-full h-full bg-linear-to-br from-gray-700 to-gray-800 flex flex-col items-center justify-center",children:[c.jsx(Vs,{size:40,className:"text-gray-400 mb-2"}),c.jsx("span",{className:"text-gray-300 font-medium text-center px-4",children:a.title})]})}),c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white mb-1",children:a.title}),c.jsx("p",{className:"text-purple-300 text-sm font-medium mb-3",children:a.author}),c.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2",children:a.description}),c.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[c.jsxs("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[c.jsx(xC,{size:10})," ",a.difficulty]}),c.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-2 py-1 rounded-full text-xs font-medium",children:[a.chapters," captulos"]})]}),c.jsx(en,{to:`/chapter-selection?bookId=${a.id}`,className:`w-full block bg-linear-to-r ${a.color} hover:shadow-lg py-3 rounded-xl text-white font-semibold transition-all duration-200 text-center group-hover:scale-105`,children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(yC,{size:18}),"Entrar al Libro",c.jsx(PU,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})})]})]},a.id)}),c.jsxs(Z.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:t.length*.15+.2},className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl overflow-hidden shadow-xl opacity-75",children:[c.jsx("div",{className:"relative h-48 sm:h-56 overflow-hidden",children:c.jsxs("div",{className:"w-full h-full bg-linear-to-br from-gray-700 to-gray-800 flex flex-col items-center justify-center",children:[c.jsx(Sm,{size:40,className:"text-gray-400 mb-2"}),c.jsx("span",{className:"text-gray-300 font-medium",children:"Ms Libros"}),c.jsx("span",{className:"text-gray-400 text-sm",children:"Prximamente"})]})}),c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-300 mb-1",children:"Nuevas Aventuras"}),c.jsx("p",{className:"text-gray-400 text-sm font-medium mb-3",children:"Prximamente"}),c.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Estamos trabajando en nuevos libros emocionantes. Mantente atento!"}),c.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:c.jsx("span",{className:"bg-gray-600/20 text-gray-400 px-2 py-1 rounded-full text-xs font-medium",children:"Prximamente"})}),c.jsxs("button",{disabled:!0,className:"w-full bg-gray-600/50 py-3 rounded-xl text-gray-300 font-semibold cursor-not-allowed flex items-center justify-center gap-2",children:[c.jsx(Sm,{size:18}),"Prximamente"]})]})]})]})]})]})}function u$(){const t=[{title:"Modos de Juego",description:"Agrega o administra los modos de juego del sistema.",icon:VT,link:"/admin/games",color:"from-blue-500 to-purple-600",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/20"},{title:"Aventura Temtica",description:"Agrega libros, captulos y niveles del modo de juego.",icon:Vs,link:"/admin/books",color:"from-green-500 to-teal-600",bgColor:"bg-green-500/10",borderColor:"border-green-500/20"},{title:"Usuarios",description:"Gestin de usuarios y privilegios del sistema.",icon:YV,link:"/admin/users",color:"from-orange-500 to-red-600",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/20"},{title:"Estadsticas",description:"Visualiza mtricas y reportes del sistema.",icon:DV,link:"/admin/stats",color:"from-purple-500 to-pink-600",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/20"},{title:"Configuracin",description:"Ajustes generales y configuracin del sistema.",icon:To,link:"/admin/settings",color:"from-gray-500 to-slate-600",bgColor:"bg-gray-500/10",borderColor:"border-gray-500/20"}];return c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(es,{}),c.jsx("div",{className:"absolute inset-0 opacity-10",children:c.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[c.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(OT,{className:"text-4xl text-red-400"}),c.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white",children:["Panel de ",c.jsx("span",{className:"bg-linear-to-r from-red-400 to-pink-400 bg-clip-text text-transparent",children:"Administracin"})]})]}),c.jsx("p",{className:"text-white/70 text-base sm:text-lg max-w-2xl mx-auto",children:"Gestiona todos los aspectos de WordQuest desde este panel centralizado."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e,n)=>{const s=e.icon;return c.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},children:c.jsxs(en,{to:e.link,className:`group block ${e.bgColor} backdrop-blur-xl border ${e.borderColor} rounded-3xl p-6 shadow-2xl hover:shadow-purple-500/20 transition-all duration-300 hover:scale-105 hover:bg-white/15`,children:[c.jsx("div",{className:"mb-4",children:c.jsx("div",{className:`w-16 h-16 bg-linear-to-r ${e.color} rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300`,children:c.jsx(s,{className:"text-2xl text-white"})})}),c.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-3 group-hover:text-transparent group-hover:bg-linear-to-r group-hover:bg-clip-text group-hover:from-white group-hover:to-gray-300 transition-all",children:e.title}),c.jsx("p",{className:"text-white/70 text-sm sm:text-base leading-relaxed",children:e.description}),c.jsxs("div",{className:"mt-4 flex items-center text-white/50 group-hover:text-white/80 transition-colors",children:[c.jsx("span",{className:"text-sm font-medium",children:"Administrar"}),c.jsx("svg",{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},e.title)})})]})]})}function d$(){const[t,e]=j.useState([]),[n,s]=j.useState(!1),[a,l]=j.useState(!1),[u,h]=j.useState(null),g=Dt(),[p,x]=j.useState({title:"",author:"",description:"",difficulty:"Principiante",chapters:"",cover:""});j.useEffect(()=>{v()},[]);const v=async()=>{try{const B=await _t(ot(be,"books"));e(B.docs.map(I=>({id:I.id,...I.data()})))}catch(B){console.error("Error fetching books:",B),B.code==="permission-denied"&&Ee.fire({icon:"error",title:"Permisos insuficientes",text:"No tienes permisos para acceder a los libros. Contacta al administrador.",confirmButtonColor:"#8B5CF6"})}},_=(B,I)=>{x(D=>({...D,[B]:I}))},A=()=>{x({title:"",author:"",description:"",difficulty:"Principiante",chapters:"",cover:""}),s(!1),h(null)},V=B=>{x({title:B.title,author:B.author,description:B.description,difficulty:B.difficulty,chapters:B.chapters.toString(),cover:B.cover}),h(B.id),s(!0)},M=async()=>{if(!p.title.trim()||!p.author.trim()){Ee.fire({icon:"warning",title:"Campos requeridos",text:"Por favor completa al menos el ttulo y autor",confirmButtonColor:"#8B5CF6"});return}l(!0);try{await _c(et(be,"books",u),{title:p.title,author:p.author,description:p.description,difficulty:p.difficulty,chapters:parseInt(p.chapters)||0,cover:p.cover,updatedAt:new Date}),Ee.fire({icon:"success",title:"Libro actualizado!",text:"El libro ha sido actualizado exitosamente",confirmButtonColor:"#8B5CF6"}),A(),v()}catch{Ee.fire({icon:"error",title:"Error",text:"No se pudo actualizar el libro",confirmButtonColor:"#8B5CF6"})}l(!1)},k=async()=>{if(!p.title.trim()||!p.author.trim()){Ee.fire({icon:"warning",title:"Campos requeridos",text:"Por favor completa al menos el ttulo y autor",confirmButtonColor:"#8B5CF6"});return}l(!0);try{await Md(ot(be,"books"),{title:p.title,author:p.author,description:p.description,difficulty:p.difficulty,chapters:parseInt(p.chapters)||0,cover:p.cover,createdAt:new Date,updatedAt:new Date}),Ee.fire({icon:"success",title:"Libro creado!",text:"El libro ha sido agregado exitosamente",confirmButtonColor:"#8B5CF6"}),A(),v()}catch{Ee.fire({icon:"error",title:"Error",text:"No se pudo crear el libro",confirmButtonColor:"#8B5CF6"})}l(!1)},L=async(B,I)=>{if((await Ee.fire({title:"Ests seguro?",text:`Se eliminar el libro "${I}"`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{await aV(et(be,"books",B)),v(),Ee.fire({icon:"success",title:"Eliminado",text:"El libro ha sido eliminado",confirmButtonColor:"#8B5CF6"})}catch{Ee.fire({icon:"error",title:"Error",text:"No se pudo eliminar el libro",confirmButtonColor:"#8B5CF6"})}};return c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(es,{}),c.jsx("div",{className:"absolute inset-0 opacity-10",children:c.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[c.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(Vs,{className:"text-4xl text-green-400"}),c.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Administrar ",c.jsx("span",{className:"bg-linear-to-r from-green-400 to-teal-400 bg-clip-text text-transparent",children:"Libros"})]})]}),c.jsx("p",{className:"text-white/70 text-base sm:text-lg",children:"Gestiona los libros del modo Aventura Temtica"})]}),c.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8 text-center",children:c.jsxs("button",{onClick:()=>s(!n),className:"bg-linear-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2 mx-auto",children:[c.jsx(Bn,{})," ",n?"Cancelar":"Agregar Nuevo Libro"]})}),n&&c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 mb-8",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(Vs,{className:"text-green-400"})," ",u?"Editar Libro":"Nuevo Libro"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Ttulo *"}),c.jsx("input",{type:"text",value:p.title,onChange:B=>_("title",B.target.value),placeholder:"Ttulo del libro",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Autor *"}),c.jsx("input",{type:"text",value:p.author,onChange:B=>_("author",B.target.value),placeholder:"Nombre del autor",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 bg-linear-to-r from-green-400 to-blue-400 rounded-full"}),"Dificultad"]}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:p.difficulty,onChange:B=>_("difficulty",B.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all appearance-none cursor-pointer hover:bg-white/10 hover:border-white/30",children:[c.jsx("option",{value:"Principiante",className:"bg-slate-800 text-white",children:"Principiante"}),c.jsx("option",{value:"Intermedio",className:"bg-slate-800 text-white",children:"Intermedio"}),c.jsx("option",{value:"Avanzado",className:"bg-slate-800 text-white",children:"Avanzado"})]}),c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:c.jsx("svg",{className:"w-5 h-5 text-white/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),c.jsxs("div",{className:"mt-1 text-xs text-white/50",children:[p.difficulty==="Principiante"&&" Ideal para nuevos lectores",p.difficulty==="Intermedio"&&" Requiere experiencia bsica",p.difficulty==="Avanzado"&&" Para lectores experimentados"]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Nmero de Captulos"}),c.jsx("input",{type:"number",value:p.chapters,onChange:B=>_("chapters",B.target.value),placeholder:"Ej: 12",min:"1",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 flex items-center gap-2",children:[c.jsx(FV,{})," URL de la Portada"]}),c.jsx("input",{type:"url",value:p.cover,onChange:B=>_("cover",B.target.value),placeholder:"https://ejemplo.com/imagen.jpg",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Descripcin"}),c.jsx("textarea",{value:p.description,onChange:B=>_("description",B.target.value),placeholder:"Descripcin del libro...",rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all resize-none"})]})]}),c.jsxs("div",{className:"flex gap-4 mt-6",children:[c.jsxs("button",{onClick:u?M:k,disabled:a,className:"flex-1 bg-linear-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[c.jsx(jr,{})," ",a?"Guardando...":u?"Actualizar Libro":"Guardar Libro"]}),c.jsxs("button",{onClick:A,className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2",children:[c.jsx(zs,{})," Cancelar"]})]})]}),c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:["Libros Existentes (",t.length,")"]}),t.length===0?c.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 text-center",children:[c.jsx(Vs,{className:"text-4xl text-white/40 mx-auto mb-4"}),c.jsx("p",{className:"text-white/60",children:"No hay libros registrados an"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((B,I)=>c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:I*.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300",children:[B.cover&&c.jsx("div",{className:"h-48 overflow-hidden",children:c.jsx("img",{src:B.cover,alt:B.title,className:"w-full h-full object-cover",onError:D=>{D.target.style.display="none"}})}),c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-1 truncate",children:B.title}),c.jsx("p",{className:"text-green-300 text-sm mb-2",children:B.author}),c.jsx("p",{className:"text-white/70 text-sm mb-3 line-clamp-2",children:B.description}),c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full text-xs",children:B.difficulty}),c.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-2 py-1 rounded-full text-xs",children:[B.chapters," cap."]})]}),c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsxs("button",{onClick:()=>V(B),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-3 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-1",children:[c.jsx(Os,{size:12})," Editar"]}),c.jsxs("button",{onClick:()=>L(B.id,B.title),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-3 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-1",children:[c.jsx(hs,{size:12})," Eliminar"]})]}),c.jsxs("button",{onClick:()=>g(`/admin/chapters?bookId=${B.id}`),className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 px-3 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-1",children:[c.jsx($f,{size:12})," Captulos"]})]})]},B.id))})]})]})]})}function h$(){const[t,e]=j.useState([]),[n,s]=j.useState([]),[a,l]=j.useState(""),[u,h]=j.useState(!1),[g,p]=j.useState(!1),[x,v]=j.useState(null),[_,A]=j.useState({title:"",content:"",order:"",description:""}),[V]=hc();j.useEffect(()=>{M();const D=V.get("bookId");D&&l(D)},[V]),j.useEffect(()=>{a&&k(a)},[a]);const M=async()=>{try{const D=await _t(ot(be,"books"));e(D.docs.map(P=>({id:P.id,...P.data()})))}catch(D){console.error("Error fetching books:",D)}},k=async D=>{try{const P=await _t(ot(be,"books",D,"chapters"));s(P.docs.map(H=>({id:H.id,...H.data()})))}catch(P){console.error("Error fetching chapters:",P)}},L=(D,P)=>{A(H=>({...H,[D]:P}))},B=()=>{A({title:"",content:"",order:"",description:""}),h(!1)},I=async()=>{if(!a){Ee.fire({icon:"warning",title:"Selecciona un libro",text:"Debes seleccionar un libro primero",confirmButtonColor:"#8B5CF6"});return}if(!_.title.trim()){Ee.fire({icon:"warning",title:"Ttulo requerido",text:"Por favor ingresa el ttulo del captulo",confirmButtonColor:"#8B5CF6"});return}p(!0);try{await Md(ot(be,"books",a,"chapters"),{title:_.title,content:_.content,order:parseInt(_.order)||1,description:_.description,createdAt:new Date,updatedAt:new Date}),Ee.fire({icon:"success",title:"Captulo creado!",text:"El captulo ha sido agregado exitosamente",confirmButtonColor:"#8B5CF6"}),B(),k(a)}catch{Ee.fire({icon:"error",title:"Error",text:"No se pudo crear el captulo",confirmButtonColor:"#8B5CF6"})}p(!1)};return c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(es,{}),c.jsx("div",{className:"absolute inset-0 opacity-10",children:c.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[c.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx($f,{className:"text-4xl text-blue-400"}),c.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Administrar ",c.jsx("span",{className:"bg-linear-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Captulos"})]})]}),c.jsx("p",{className:"text-white/70 text-base sm:text-lg",children:"Gestiona los captulos de cada libro"})]}),c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6 mb-8",children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-3",children:"Seleccionar Libro"}),c.jsxs("select",{value:a,onChange:D=>l(D.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none cursor-pointer",children:[c.jsx("option",{value:"",className:"bg-slate-800 text-white",children:"Selecciona un libro..."}),t.map(D=>c.jsxs("option",{value:D.id,className:"bg-slate-800 text-white",children:[D.title," - ",D.author]},D.id))]})]}),a&&c.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 text-center",children:c.jsxs("button",{onClick:()=>h(!u),className:"bg-linear-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2 mx-auto",children:[c.jsx(Bn,{})," ",u?"Cancelar":"Agregar Nuevo Captulo"]})}),u&&a&&c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 mb-8",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx($f,{className:"text-blue-400"})," Nuevo Captulo"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Ttulo *"}),c.jsx("input",{type:"text",value:_.title,onChange:D=>L("title",D.target.value),placeholder:"Ttulo del captulo",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Orden"}),c.jsx("input",{type:"number",value:_.order,onChange:D=>L("order",D.target.value),placeholder:"Ej: 1",min:"1",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Descripcin"}),c.jsx("input",{type:"text",value:_.description,onChange:D=>L("description",D.target.value),placeholder:"Breve descripcin del captulo",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Contenido"}),c.jsx("textarea",{value:_.content,onChange:D=>L("content",D.target.value),placeholder:"Contenido del captulo...",rows:6,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none"})]})]}),c.jsxs("div",{className:"flex gap-4 mt-6",children:[c.jsxs("button",{onClick:I,disabled:g,className:"flex-1 bg-linear-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[c.jsx(jr,{})," ",g?"Guardando...":"Guardar Captulo"]}),c.jsxs("button",{onClick:B,className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2",children:[c.jsx(zs,{})," Cancelar"]})]})]}),a&&c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:["Captulos (",n.length,")"]}),n.length===0?c.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 text-center",children:[c.jsx($f,{className:"text-4xl text-white/40 mx-auto mb-4"}),c.jsx("p",{className:"text-white/60",children:"No hay captulos registrados para este libro"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.sort((D,P)=>D.order-P.order).map((D,P)=>c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:P*.1},onClick:()=>v(D),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 cursor-pointer hover:bg-white/15",children:[c.jsx("div",{className:"flex items-center gap-3 mb-4",children:c.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-3 py-1 rounded-full text-sm font-medium",children:["Cap. ",D.order]})}),c.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:D.title}),D.description&&c.jsx("p",{className:"text-white/70 text-sm mb-3",children:D.description}),D.content&&c.jsxs("div",{className:"bg-white/5 rounded-lg p-3 mb-4",children:[c.jsx("p",{className:"text-white/60 text-xs mb-1",children:"Contenido:"}),c.jsx("p",{className:"text-white/80 text-sm line-clamp-3",children:D.content})]}),c.jsxs("div",{className:"text-xs text-white/40",children:["Creado: ",D.createdAt?.toDate?.()?.toLocaleDateString()||"N/A"]})]},D.id))})]}),x&&c.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>v(null),children:c.jsxs(Z.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:D=>D.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 max-w-2xl w-full max-h-96 overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-2xl font-bold text-white",children:["Captulo ",x.order,": ",x.title]}),c.jsx("button",{onClick:()=>v(null),className:"text-white/60 hover:text-white transition-colors",children:c.jsx(zs,{})})]}),x.description&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-white/80 font-medium mb-2",children:"Descripcin:"}),c.jsx("p",{className:"text-white/70",children:x.description})]}),x.content&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-white/80 font-medium mb-2",children:"Contenido:"}),c.jsx("div",{className:"bg-white/5 rounded-lg p-4 max-h-48 overflow-y-auto",children:c.jsx("p",{className:"text-white/80 whitespace-pre-line",children:x.content})})]}),c.jsxs("div",{className:"text-xs text-white/40",children:[c.jsxs("p",{children:["Creado: ",x.createdAt?.toDate?.()?.toLocaleDateString()||"N/A"]}),x.updatedAt&&c.jsxs("p",{children:["Actualizado: ",x.updatedAt?.toDate?.()?.toLocaleDateString()]})]})]})})]})]})}function f$(){const t=Dt();return c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(es,{}),c.jsx("div",{className:"absolute inset-0 opacity-10",children:c.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[c.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(VT,{className:"text-4xl text-purple-400"}),c.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Administrar ",c.jsx("span",{className:"bg-linear-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Juegos"})]})]}),c.jsx("p",{className:"text-white/70 text-base sm:text-lg",children:"Gestiona los diferentes modos de juego disponibles"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[c.jsxs("div",{className:"bg-linear-to-r from-yellow-500 to-orange-500 p-6 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-3",children:c.jsx(ic,{className:"text-3xl text-white"})}),c.jsx("h3",{className:"text-xl font-bold text-white",children:"Palabras Clave"}),c.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Keywords Game"})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("p",{className:"text-white/70 text-sm mb-4 leading-relaxed",children:"Los usuarios leen un extracto del captulo y luego identifican palabras clave de opciones mltiples. Cada acierto ilumina la interfaz con retroalimentacin positiva, mientras que los errores ofrecen pistas sutiles para el aprendizaje."}),c.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[c.jsx("span",{className:"bg-yellow-500/20 text-yellow-300 px-2 py-1 rounded-full text-xs",children:"Vocabulario"}),c.jsx("span",{className:"bg-orange-500/20 text-orange-300 px-2 py-1 rounded-full text-xs",children:"Escritura"}),c.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full text-xs",children:"Categoras"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("button",{onClick:()=>t("/admin/games/edit-keywords"),className:"w-full bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[c.jsx(To,{size:14})," Editar Misiones"]}),c.jsxs("button",{onClick:()=>t("/admin/games/add-keyword"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[c.jsx(Bn,{size:14})," Agregar Contenido"]})]})]})]}),c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[c.jsxs("div",{className:"bg-linear-to-r from-blue-500 to-indigo-600 p-6 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-3",children:c.jsx(Os,{className:"text-3xl text-white"})}),c.jsx("h3",{className:"text-xl font-bold text-white",children:"Completar Oracin"}),c.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Complete the Sentence"})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("p",{className:"text-white/70 text-sm mb-4 leading-relaxed",children:"Los usuarios completan fragmentos con espacios en blanco seleccionando las opciones correctas. Cada seleccin proporciona retroalimentacin inmediata y una barra de progreso mantiene la motivacin durante la actividad."}),c.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[c.jsx("span",{className:"bg-blue-500/20 text-blue-300 px-2 py-1 rounded-full text-xs",children:"Comprensin"}),c.jsx("span",{className:"bg-indigo-500/20 text-indigo-300 px-2 py-1 rounded-full text-xs",children:"Gramtica"}),c.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full text-xs",children:"Contexto"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("button",{onClick:()=>t("/admin/games/edit-sentence"),className:"w-full bg-linear-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[c.jsx(To,{size:14})," Editar Misiones"]}),c.jsxs("button",{onClick:()=>t("/admin/games/add-sentence"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[c.jsx(Bn,{size:14})," Agregar Contenido"]})]})]})]}),c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[c.jsxs("div",{className:"bg-linear-to-r from-green-500 to-teal-600 p-6 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-3",children:c.jsx(dp,{className:"text-3xl text-white"})}),c.jsx("h3",{className:"text-xl font-bold text-white",children:"Ordenar Secuencia"}),c.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Order the Sequence"})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("p",{className:"text-white/70 text-sm mb-4 leading-relaxed",children:"Los usuarios reciben fragmentos desordenados del libro y deben arrastrar y organizar cada elemento hasta reconstruir la secuencia correcta de la historia con retroalimentacin visual suave."}),c.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[c.jsx("span",{className:"bg-green-500/20 text-green-300 px-2 py-1 rounded-full text-xs",children:"Secuencia"}),c.jsx("span",{className:"bg-teal-500/20 text-teal-300 px-2 py-1 rounded-full text-xs",children:"Narrativa"}),c.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full text-xs",children:"Drag & Drop"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("button",{onClick:()=>t("/admin/games/edit-order-phrase"),className:"w-full bg-linear-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[c.jsx(To,{size:14})," Editar Misiones"]}),c.jsxs("button",{onClick:()=>t("/admin/games/add-sequence"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[c.jsx(Bn,{size:14})," Agregar Contenido"]})]})]})]})]})]})]})}function m$(){const t=Dt(),[e,n]=j.useState([]),[s,a]=j.useState([]),[l,u]=j.useState(""),[h,g]=j.useState(""),[p,x]=j.useState(!1),[v,_]=j.useState({title:"Identifica las palabras clave en el fragmento",description:"Selecciona las palabras que representan las ideas esenciales del texto ledo",mode:"keywords",difficulty:"Intermedio",order:"",text:"",imageUrl:"",correctWords:[""],distractors:[""]});j.useEffect(()=>{A()},[]),j.useEffect(()=>{l&&V(l)},[l]);const A=async()=>{try{const D=await _t(ot(be,"books"));n(D.docs.map(P=>({id:P.id,...P.data()})))}catch(D){console.error("Error fetching books:",D)}},V=async D=>{try{const P=await _t(ot(be,"books",D,"chapters"));a(P.docs.map(H=>({id:H.id,...H.data()})))}catch(P){console.error("Error fetching chapters:",P)}},M=(D,P)=>{_(H=>({...H,[D]:P}))},k=(D,P,H)=>{_(S=>({...S,[D]:S[D].map((T,N)=>N===P?H:T)}))},L=D=>{_(P=>({...P,[D]:[...P[D],""]}))},B=(D,P)=>{_(H=>({...H,[D]:H[D].filter((S,T)=>T!==P)}))},I=async()=>{if(!l||!h){Ee.fire({icon:"warning",title:"Seleccin requerida",text:"Debes seleccionar un libro y captulo",confirmButtonColor:"#8B5CF6"});return}if(!v.text.trim()||!v.order){Ee.fire({icon:"warning",title:"Campos requeridos",text:"Completa el texto y orden de la misin",confirmButtonColor:"#8B5CF6"});return}const D=v.correctWords.filter(H=>H.trim()),P=v.distractors.filter(H=>H.trim());if(D.length===0){Ee.fire({icon:"warning",title:"Palabras requeridas",text:"Debes agregar al menos una palabra correcta",confirmButtonColor:"#8B5CF6"});return}x(!0);try{const H={title:v.title,description:v.description,mode:v.mode,difficulty:v.difficulty,order:parseInt(v.order),data:{text:v.text,imageUrl:v.imageUrl||null,correctWords:D,distractors:P},createdAt:new Date,updatedAt:new Date};console.log("Creating mission with data:",H),console.log("Path:",`books/${l}/chapters/${h}/missions`),await Md(ot(be,"books",l,"chapters",h,"missions"),H),Ee.fire({icon:"success",title:"Misin creada!",text:"La misin de palabras clave ha sido agregada exitosamente",confirmButtonColor:"#8B5CF6"}),t("/admin/games")}catch(H){console.error("Error creating mission:",H),Ee.fire({icon:"error",title:"Error",text:`No se pudo crear la misin: ${H.message}`,confirmButtonColor:"#8B5CF6"})}x(!1)};return c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(es,{}),c.jsx("div",{className:"absolute inset-0 opacity-10",children:c.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 py-8",children:[c.jsx(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(ic,{className:"text-4xl text-yellow-400"}),c.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Agregar ",c.jsx("span",{className:"bg-linear-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:"Misin Keywords"})]})]})}),c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Libro *"}),c.jsxs("select",{value:l,onChange:D=>u(D.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all appearance-none",children:[c.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un libro..."}),e.map(D=>c.jsx("option",{value:D.id,className:"bg-slate-800",children:D.title},D.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Captulo *"}),c.jsxs("select",{value:h,onChange:D=>g(D.target.value),disabled:!l,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all appearance-none disabled:opacity-50",children:[c.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un captulo..."}),s.map(D=>c.jsx("option",{value:D.id,className:"bg-slate-800",children:D.title},D.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Dificultad"}),c.jsxs("select",{value:v.difficulty,onChange:D=>M("difficulty",D.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all appearance-none",children:[c.jsx("option",{value:"Principiante",className:"bg-slate-800",children:"Principiante"}),c.jsx("option",{value:"Intermedio",className:"bg-slate-800",children:"Intermedio"}),c.jsx("option",{value:"Avanzado",className:"bg-slate-800",children:"Avanzado"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Orden *"}),c.jsx("input",{type:"number",value:v.order,onChange:D=>M("order",D.target.value),placeholder:"1",min:"1",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Texto del fragmento *"}),c.jsx("textarea",{value:v.text,onChange:D=>M("text",D.target.value),placeholder:"Escribe el fragmento de texto aqu...",rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all resize-none"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"URL de Imagen (opcional)"}),c.jsx("input",{type:"url",value:v.imageUrl,onChange:D=>M("imageUrl",D.target.value),placeholder:"https://ejemplo.com/imagen.jpg",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Palabras Correctas"}),v.correctWords.map((D,P)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:D,onChange:H=>k("correctWords",P,H.target.value),placeholder:"Palabra clave",className:"flex-1 px-4 py-2 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"}),c.jsx("button",{onClick:()=>B("correctWords",P),className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-all",children:c.jsx(hs,{size:12})})]},P)),c.jsxs("button",{onClick:()=>L("correctWords"),className:"w-full py-2 border-2 border-dashed border-green-500/50 text-green-400 rounded-xl hover:border-green-500 hover:bg-green-500/10 transition-all flex items-center justify-center gap-2",children:[c.jsx(Bn,{size:12})," Agregar palabra correcta"]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Distractores"}),v.distractors.map((D,P)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:D,onChange:H=>k("distractors",P,H.target.value),placeholder:"Palabra distractor",className:"flex-1 px-4 py-2 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"}),c.jsx("button",{onClick:()=>B("distractors",P),className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-all",children:c.jsx(hs,{size:12})})]},P)),c.jsxs("button",{onClick:()=>L("distractors"),className:"w-full py-2 border-2 border-dashed border-red-500/50 text-red-400 rounded-xl hover:border-red-500 hover:bg-red-500/10 transition-all flex items-center justify-center gap-2",children:[c.jsx(Bn,{size:12})," Agregar distractor"]})]})]}),c.jsxs("div",{className:"flex gap-4 mt-8",children:[c.jsxs("button",{onClick:I,disabled:p,className:"flex-1 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[c.jsx(jr,{})," ",p?"Guardando...":"Crear Misin"]}),c.jsxs("button",{onClick:()=>t("/admin/games"),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2",children:[c.jsx(zs,{})," Cancelar"]})]})]})]})]})}function p$(){const t=Dt(),[e,n]=j.useState([]),[s,a]=j.useState([]),[l,u]=j.useState(""),[h,g]=j.useState(""),[p,x]=j.useState(!1),[v,_]=j.useState({title:"Completa las frases del fragmento",description:"Selecciona la palabra o frase que completa correctamente cada parte del texto.",mode:"completarFrase",difficulty:"Intermedio",order:"",textoBase:"",espacios:[{id:"s1",opciones:["","",""],respuestaCorrecta:""}]});j.useEffect(()=>{A()},[]),j.useEffect(()=>{l&&V(l)},[l]);const A=async()=>{try{const P=await _t(ot(be,"books"));n(P.docs.map(H=>({id:H.id,...H.data()})))}catch(P){console.error("Error fetching books:",P)}},V=async P=>{try{const H=await _t(ot(be,"books",P,"chapters"));a(H.docs.map(S=>({id:S.id,...S.data()})))}catch(H){console.error("Error fetching chapters:",H)}},M=(P,H)=>{_(S=>({...S,[P]:H}))},k=(P,H,S)=>{_(T=>({...T,espacios:T.espacios.map((N,O)=>O===P?{...N,[H]:S}:N)}))},L=(P,H,S)=>{_(T=>({...T,espacios:T.espacios.map((N,O)=>O===P?{...N,opciones:N.opciones.map((z,G)=>G===H?S:z)}:N)}))},B=()=>{const P=`s${v.espacios.length+1}`;_(H=>({...H,espacios:[...H.espacios,{id:P,opciones:["","",""],respuestaCorrecta:""}]}))},I=P=>{v.espacios.length>1&&_(H=>({...H,espacios:H.espacios.filter((S,T)=>T!==P)}))},D=async()=>{if(!l||!h){Ee.fire({icon:"warning",title:"Seleccin requerida",text:"Debes seleccionar un libro y captulo",confirmButtonColor:"#8B5CF6"});return}if(!v.textoBase.trim()||!v.order){Ee.fire({icon:"warning",title:"Campos requeridos",text:"Completa el texto base y orden de la misin",confirmButtonColor:"#8B5CF6"});return}if(v.espacios.some(H=>!H.respuestaCorrecta.trim()||H.opciones.some(S=>!S.trim()))){Ee.fire({icon:"warning",title:"Espacios incompletos",text:"Completa todas las opciones y respuestas correctas",confirmButtonColor:"#8B5CF6"});return}x(!0);try{const H={title:v.title,description:v.description,mode:v.mode,difficulty:v.difficulty,order:parseInt(v.order),data:{textoBase:v.textoBase,espacios:v.espacios},createdAt:new Date,updatedAt:new Date};await Md(ot(be,"books",l,"chapters",h,"missions"),H),Ee.fire({icon:"success",title:"Misin creada!",text:"La misin de completar frases ha sido agregada exitosamente",confirmButtonColor:"#8B5CF6"}),t("/admin/games")}catch{Ee.fire({icon:"error",title:"Error",text:"No se pudo crear la misin",confirmButtonColor:"#8B5CF6"})}x(!1)};return c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(es,{}),c.jsx("div",{className:"absolute inset-0 opacity-10",children:c.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 py-8",children:[c.jsx(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(Os,{className:"text-4xl text-blue-400"}),c.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Agregar ",c.jsx("span",{className:"bg-linear-to-r from-blue-400 to-indigo-400 bg-clip-text text-transparent",children:"Misin Completar Frases"})]})]})}),c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Libro *"}),c.jsxs("select",{value:l,onChange:P=>u(P.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none",children:[c.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un libro..."}),e.map(P=>c.jsx("option",{value:P.id,className:"bg-slate-800",children:P.title},P.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Captulo *"}),c.jsxs("select",{value:h,onChange:P=>g(P.target.value),disabled:!l,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none disabled:opacity-50",children:[c.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un captulo..."}),s.map(P=>c.jsx("option",{value:P.id,className:"bg-slate-800",children:P.title},P.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Dificultad"}),c.jsxs("select",{value:v.difficulty,onChange:P=>M("difficulty",P.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none",children:[c.jsx("option",{value:"Principiante",className:"bg-slate-800",children:"Principiante"}),c.jsx("option",{value:"Intermedio",className:"bg-slate-800",children:"Intermedio"}),c.jsx("option",{value:"Avanzado",className:"bg-slate-800",children:"Avanzado"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Orden *"}),c.jsx("input",{type:"number",value:v.order,onChange:P=>M("order",P.target.value),placeholder:"1",min:"1",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Texto Base *"}),c.jsx("textarea",{value:v.textoBase,onChange:P=>M("textoBase",P.target.value),placeholder:"Escribe el texto con ____ donde van los espacios en blanco...",rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none"})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-white",children:"Espacios en Blanco"}),c.jsxs("button",{onClick:B,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl text-sm font-medium transition-all flex items-center gap-2",children:[c.jsx(Bn,{size:12})," Agregar Espacio"]})]}),v.espacios.map((P,H)=>c.jsxs("div",{className:"bg-white/5 rounded-xl p-4 mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h4",{className:"text-white font-medium",children:["Espacio ",H+1," (",P.id,")"]}),v.espacios.length>1&&c.jsx("button",{onClick:()=>I(H),className:"text-red-400 hover:text-red-300 transition-colors",children:c.jsx(hs,{size:14})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:P.opciones.map((S,T)=>c.jsxs("div",{children:[c.jsxs("label",{className:"block text-white/70 text-xs mb-1",children:["Opcin ",T+1]}),c.jsx("input",{type:"text",value:S,onChange:N=>L(H,T,N.target.value),placeholder:`Opcin ${T+1}`,className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]},T))}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/70 text-xs mb-1",children:"Respuesta Correcta"}),c.jsxs("select",{value:P.respuestaCorrecta,onChange:S=>k(H,"respuestaCorrecta",S.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all appearance-none text-sm",children:[c.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona la respuesta correcta..."}),P.opciones.filter(S=>S.trim()).map((S,T)=>c.jsx("option",{value:S,className:"bg-slate-800",children:S},T))]})]})]},P.id))]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:D,disabled:p,className:"flex-1 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[c.jsx(jr,{})," ",p?"Guardando...":"Crear Misin"]}),c.jsxs("button",{onClick:()=>t("/admin/games"),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2",children:[c.jsx(zs,{})," Cancelar"]})]})]})]})]})}function g$(){const[t]=hc(),e=Dt(),[n,s]=j.useState(null),[a,l]=j.useState([]),[u,h]=j.useState(!0),g=t.get("bookId");j.useEffect(()=>{g&&p()},[g]);const p=async()=>{try{const v=await hn(et(be,"books",g));v.exists()&&s({id:v.id,...v.data()});const A=(await _t(ot(be,"books",g,"chapters"))).docs.map(V=>({id:V.id,...V.data()}));l(A.sort((V,M)=>V.order-M.order))}catch(v){console.error("Error fetching data:",v)}h(!1)},x=v=>{e(`/chapter-missions?bookId=${g}&chapterId=${v}`)};return u?c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Cargando captulos..."})}):c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(Gi,{}),c.jsx("div",{className:"absolute inset-0 opacity-10",children:c.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 pt-20 pb-8",children:[c.jsxs(Z.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e("/adventure-shelf"),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[c.jsx(ja,{})," Volver a la Estantera"]}),n&&c.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[c.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-6 mb-6",children:[n.cover&&c.jsx("div",{className:"w-32 h-48 rounded-2xl overflow-hidden shadow-2xl",children:c.jsx("img",{src:n.cover,alt:n.title,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"text-center md:text-left",children:[c.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-white mb-2",children:n.title}),c.jsxs("p",{className:"text-xl text-purple-300 mb-3",children:["por ",n.author]}),c.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-2",children:[c.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full text-sm",children:n.difficulty}),c.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-3 py-1 rounded-full text-sm",children:[a.length," captulos"]})]})]})]}),c.jsx("p",{className:"text-white/70 text-lg max-w-2xl mx-auto",children:n.description})]}),c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-8 text-center",children:"Selecciona un Captulo"}),a.length===0?c.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 text-center",children:[c.jsx(Vs,{className:"text-4xl text-white/40 mx-auto mb-4"}),c.jsx("p",{className:"text-white/60",children:"No hay captulos disponibles para este libro"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((v,_)=>c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.1},onClick:()=>x(v.id),className:"group cursor-pointer bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 hover:bg-white/15",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-linear-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:c.jsx("span",{className:"text-white font-bold text-lg",children:v.order})}),c.jsx("div",{className:"text-purple-400 group-hover:text-purple-300 transition-colors",children:c.jsx(wm,{size:20})})]}),c.jsx("h3",{className:"text-xl font-bold text-white mb-3 group-hover:text-purple-200 transition-colors",children:v.title}),v.description&&c.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-3",children:v.description}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),c.jsx("span",{className:"text-green-300 text-xs",children:"Disponible"})]}),c.jsxs("button",{className:"bg-linear-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2",children:[c.jsx(wm,{size:12})," Jugar"]})]})]},v.id))})]}),c.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-12 text-center",children:c.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Cmo funciona?"}),c.jsx("p",{className:"text-white/70 text-sm",children:"Selecciona un captulo para acceder a sus misiones. Completa las actividades de palabras clave para avanzar en tu aventura de aprendizaje."})]})})]})]})}function y$(){const[t]=hc(),e=Dt(),[n]=ci(An),[s,a]=j.useState(null),[l,u]=j.useState(null),[h,g]=j.useState([]),[p,x]=j.useState([]),[v,_]=j.useState({}),[A,V]=j.useState(!0),M=t.get("bookId"),k=t.get("chapterId");j.useEffect(()=>{M&&k&&L()},[M,k,n]);const L=async()=>{try{const P=await hn(et(be,"books",M));P.exists()&&a({id:P.id,...P.data()});const H=await hn(et(be,"books",M,"chapters",k));H.exists()&&u({id:H.id,...H.data()});const T=(await _t(ot(be,"books",M,"chapters",k,"missions"))).docs.map(N=>({id:N.id,...N.data()}));if(g(T.sort((N,O)=>N.order-O.order)),n){const N=await Fs.getUserProgress(n.uid,M);if(N&&N.completedMissions&&x(N.completedMissions),T.length>0){const O=T.map(U=>Fs.getMissionProgress(n.uid,M,k,U.id).then(Ke=>({missionId:U.id,progress:Ke}))),G=(await Promise.all(O)).reduce((U,{missionId:Ke,progress:Xe})=>(Xe&&(U[Ke]=Xe),U),{});_(G)}}}catch(P){console.error("Error fetching data:",P)}V(!1)},B=P=>{switch(P){case"keywords":return ic;default:return wm}},I=(P,H,S,T)=>{if(P===0)return!0;const N=T[H[P-1].id],O=S.includes(H[P-1].id);return N&&N.score>=70||O&&!N},D=P=>{P.mode==="keywords"?e(`/keywords-mode?bookId=${M}&chapterId=${k}&missionId=${P.id}`):P.mode==="completarFrase"?e(`/complete-phrase-mode?bookId=${M}&chapterId=${k}&missionId=${P.id}`):P.mode==="ordenar-secuencia"?e(`/order-sequence-mode?bookId=${M}&chapterId=${k}&missionId=${P.id}`):console.log("Mission mode not implemented:",P.mode)};return A?c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Cargando misiones..."})}):c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(Gi,{}),c.jsx("div",{className:"absolute inset-0 opacity-10",children:c.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-8",children:[c.jsxs(Z.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e(`/chapter-selection?bookId=${M}`),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[c.jsx(ja,{})," Volver a Captulos"]}),s&&l&&c.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[c.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-2",children:l.title}),c.jsxs("p",{className:"text-purple-300 mb-4 text-sm sm:text-base",children:[s.title," - Captulo ",l.order]}),l.description&&c.jsx("p",{className:"text-white/70 max-w-2xl mx-auto",children:l.description})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(ic,{className:"text-6xl text-white/20 mx-auto mb-4"}),c.jsx("p",{className:"text-white/60 text-lg",children:"No hay misiones disponibles para este captulo"})]}):h.map((P,H)=>{const S=B(P.mode),T=p.includes(P.id),N=v[P.id],O=N?N.score:0,z=I(H,h,p,v);return c.jsx(Z.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:H*.1,type:"spring",stiffness:100},className:"relative group",children:c.jsxs("div",{className:`relative bg-linear-to-br from-white/10 to-white/5 backdrop-blur-xl border-2 rounded-2xl overflow-hidden transition-all duration-500 ${T&&O>=70?"border-green-400/50 shadow-lg shadow-green-500/20":T&&O<70?"border-yellow-400/50 shadow-lg shadow-yellow-500/20":z?"border-blue-400/50 shadow-lg shadow-blue-500/20 hover:scale-105 cursor-pointer":"border-gray-600/30 opacity-60"}`,onClick:()=>z&&D(P),children:[c.jsx("div",{className:"absolute -top-3 -left-3 z-10",children:c.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-white shadow-lg ${T&&O>=70?"bg-linear-to-r from-green-500 to-emerald-600":T&&O<70?"bg-linear-to-r from-yellow-500 to-amber-600":z?"bg-linear-to-r from-blue-500 to-indigo-600":"bg-linear-to-r from-gray-500 to-gray-600"}`,children:T&&O>=70?"":P.order})}),T&&c.jsx("div",{className:"absolute top-4 right-4 z-20",children:c.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold text-white shadow-lg ${O>=70?"bg-green-500":"bg-yellow-500"}`,children:O>=70?"Completado!":"Completado"})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center ${z?"bg-linear-to-r from-purple-500 to-pink-500":"bg-gray-600"}`,children:z?c.jsx(S,{className:"text-white text-xl"}):c.jsx(hd,{className:"text-gray-300 text-xl"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:P.title}),c.jsx("p",{className:"text-purple-300 text-sm capitalize",children:P.mode})]})]}),c.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2 leading-relaxed",children:P.description}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-lg text-xs font-medium",children:P.difficulty}),P.data?.correctWords&&c.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-2 py-1 rounded-lg text-xs font-medium",children:[P.data.correctWords.length," palabras"]})]}),T&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex items-center gap-1",children:[1,2,3].map(G=>c.jsx(rc,{size:14,className:G<=Math.floor(O/34)?"text-yellow-400":"text-gray-500"},G))}),c.jsxs("span",{className:"text-white font-bold text-sm",children:[O,"%"]})]})]}),c.jsx("button",{onClick:()=>z&&D(P),disabled:!z,className:`w-full py-3 rounded-xl font-semibold transition-all flex items-center justify-center gap-2 text-sm ${T?"bg-linear-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white":z?"bg-linear-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white":"bg-gray-600/50 text-gray-400 cursor-not-allowed"}`,children:T?c.jsxs(c.Fragment,{children:[c.jsx(xr,{size:14})," Completado"]}):z?c.jsxs(c.Fragment,{children:[c.jsx(wm,{size:14})," Jugar"]}):c.jsxs(c.Fragment,{children:[c.jsx(hd,{size:14})," Bloqueado"]})})]})]})},P.id)})}),h.length>0&&c.jsx(Z.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:h.length*.1+.3},className:"flex justify-center mt-8",children:c.jsxs("div",{className:"bg-linear-to-r from-green-500 to-teal-500 px-6 py-3 rounded-2xl flex items-center gap-3 shadow-xl",children:[c.jsx(xr,{className:"text-white text-xl"}),c.jsx("span",{className:"text-white font-bold text-lg",children:"Captulo Completo"})]})})]})]})]})}function x$(){const[t]=hc(),e=Dt(),[n]=ci(An),[s,a]=j.useState(null),[l,u]=j.useState([]),[h,g]=j.useState(!1),[p,x]=j.useState(!0),[v,_]=j.useState(!1),A=t.get("bookId"),V=t.get("chapterId"),M=t.get("missionId");j.useEffect(()=>{A&&V&&M&&(k(),n&&Fs.updateCurrentProgress(n.uid,A,V,M))},[A,V,M,n]);const k=async()=>{try{const H=await hn(et(be,"books",A,"chapters",V,"missions",M));H.exists()&&a({id:H.id,...H.data()})}catch(H){console.error("Error fetching mission:",H)}x(!1)},L=H=>{l.includes(H)?u(l.filter(S=>S!==H)):u([...l,H])},B=async()=>{if(g(!0),n&&!v){const H=D();await Fs.saveMissionProgress(n.uid,A,V,M,H,s.mode),_(!0)}},I=H=>h?s.data.correctWords.includes(H)?l.includes(H)?"correct":"missed":l.includes(H)?"incorrect":"default":"default",D=()=>{const H=l.filter(T=>s.data.correctWords.includes(T)).length,S=s.data.correctWords.length;return Math.round(H/S*100)};if(p)return c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Cargando misin..."})});if(!s)return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Misin no encontrada"})});const P=[...s.data.correctWords,...s.data.distractors].sort(()=>Math.random()-.5);return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(Gi,{}),c.jsx("div",{className:"absolute inset-0 opacity-10",children:c.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 pt-20 pb-8",children:[c.jsxs(Z.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e(`/chapter-missions?bookId=${A}&chapterId=${V}`),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[c.jsx(ja,{})," Volver a Misiones"]}),c.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[c.jsxs("div",{className:"relative mb-6",children:[c.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-yellow-400/20 to-orange-400/20 blur-3xl rounded-full"}),c.jsxs("div",{className:"relative flex items-center justify-center gap-4 mb-4",children:[c.jsx(Z.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 bg-linear-to-r from-yellow-400 to-orange-500 rounded-2xl flex items-center justify-center shadow-2xl",children:c.jsx(ic,{className:"text-2xl text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-linear-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:s.title}),c.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[c.jsx("span",{className:"bg-yellow-500/20 text-yellow-300 px-3 py-1 rounded-full text-sm font-medium",children:s.difficulty}),c.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full text-sm font-medium",children:"Palabras Clave"})]})]})]})]}),c.jsx("p",{className:"text-white/80 text-xl max-w-2xl mx-auto leading-relaxed",children:s.description})]}),c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"relative mb-12",children:[c.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-blue-500/10 to-purple-500/10 blur-xl rounded-3xl"}),c.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-8 h-8 bg-linear-to-r from-blue-400 to-purple-500 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-white font-bold text-sm",children:""})}),c.jsx("h3",{className:"text-xl font-bold text-white",children:"Lee el siguiente fragmento:"})]}),c.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"bg-linear-to-br from-white/10 to-white/5 rounded-2xl p-6 border border-white/10 shadow-inner",children:[s.data.imageUrl&&c.jsx("div",{className:"mb-6",children:c.jsx("img",{src:s.data.imageUrl,alt:"Imagen de la misin",className:"w-full max-w-md mx-auto rounded-xl shadow-lg border border-white/20",onError:H=>H.target.style.display="none"})}),c.jsx("div",{className:"text-white/95 leading-relaxed text-lg font-medium tracking-wide whitespace-pre-line",children:s.data.text})]})]})]}),c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"relative mb-12",children:[c.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-green-500/10 to-teal-500/10 blur-xl rounded-3xl"}),c.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsx("div",{className:"w-8 h-8 bg-linear-to-r from-green-400 to-teal-500 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-white font-bold text-sm",children:""})}),c.jsx("h3",{className:"text-xl font-bold text-white",children:"Selecciona las palabras clave del texto:"})]}),!h&&c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-white/70 text-sm",children:"Palabras seleccionadas:"}),c.jsx("span",{className:"text-yellow-400 font-bold",children:l.length})]}),c.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:c.jsx(Z.div,{className:"blinear-to-r from-yellow-400 to-orange-500 h-2 rounded-full",initial:{width:0},animate:{width:`${Math.min(l.length/s.data.correctWords.length*100,100)}%`},transition:{duration:.3}})})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:P.map((H,S)=>{const T=I(H),N=l.includes(H);return c.jsxs(Z.button,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},transition:{delay:.6+S*.05,type:"spring",stiffness:100},whileHover:h?{}:{scale:1.05,y:-2},whileTap:h?{}:{scale:.95},onClick:()=>!h&&L(H),disabled:h,className:`relative p-4 rounded-2xl font-semibold transition-all duration-300 shadow-lg ${T==="correct"?"bg-linear-to-r from-green-500 to-emerald-600 text-white shadow-green-500/30":T==="incorrect"?"bg-linear-to-r from-red-500 to-rose-600 text-white shadow-red-500/30":T==="missed"?"bg-linear-to-r from-yellow-400 to-amber-500 text-white border-2 border-yellow-300 shadow-yellow-500/30":N?"bg-linear-to-r from-blue-500 to-indigo-600 text-white shadow-blue-500/30":"bg-linear-to-r from-white/10 to-white/5 text-white hover:from-white/20 hover:to-white/15 border border-white/20 hover:border-white/30"} ${h?"cursor-default":"cursor-pointer"}`,children:[N&&!h&&c.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-blue-400/20 to-indigo-400/20 rounded-2xl blur-lg"}),c.jsxs("span",{className:"relative flex items-center justify-center gap-2 text-sm sm:text-base",children:[H,h&&T==="correct"&&c.jsx(Z.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:c.jsx(xr,{size:14,className:"text-white"})}),h&&T==="incorrect"&&c.jsx(Z.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:c.jsx(zs,{size:14,className:"text-white"})})]})]},H)})})]})]}),h?c.jsxs(Z.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:100},className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-green-500/20 to-teal-500/20 blur-2xl rounded-3xl"}),c.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 text-center shadow-2xl",children:[c.jsx(Z.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-linear-to-r from-green-400 to-teal-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:c.jsx(xr,{className:"text-3xl text-white"})}),c.jsx(Z.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-white mb-6",children:"Misin Completada!"}),c.jsxs(Z.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},className:"relative mb-6",children:[c.jsxs("div",{className:"text-6xl font-bold bg-linear-to-r from-yellow-400 to-orange-500 bg-clip-text text-transparent mb-2",children:[D(),"%"]}),c.jsx("div",{className:"flex justify-center gap-1 mb-4",children:[...Array(3)].map((H,S)=>c.jsx(Z.div,{initial:{opacity:0,scale:0},animate:{opacity:D()>S*33?1:.3,scale:1},transition:{delay:.5+S*.1},className:`text-2xl ${D()>S*33?"text-yellow-400":"text-gray-500"}`,children:""},S))})]}),c.jsxs(Z.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-white/80 text-lg mb-4 leading-relaxed",children:["Has identificado ",c.jsx("span",{className:"text-green-400 font-bold",children:l.filter(H=>s.data.correctWords.includes(H)).length})," de ",c.jsx("span",{className:"text-yellow-400 font-bold",children:s.data.correctWords.length})," palabras clave correctamente."]}),c.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:`p-4 rounded-2xl mb-6 ${D()>=70?"bg-green-500/20 border border-green-500/30":"bg-yellow-500/20 border border-yellow-500/30"}`,children:c.jsx("p",{className:`text-center font-medium ${D()>=70?"text-green-300":"text-yellow-300"}`,children:D()>=70?" Excelente! Has desbloqueado la siguiente misin.":" Necesitas al menos 70% para desbloquear la siguiente misin. Intntalo de nuevo!"})}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx(Z.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(`/chapter-missions?bookId=${A}&chapterId=${V}`),className:"bg-linear-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-green-500/30",children:"Continuar Aventura"}),D()<70&&c.jsx(Z.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{u([]),g(!1),_(!1)},className:"bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-yellow-500/30",children:"Intentar de Nuevo"})]})]})]}):c.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"text-center",children:c.jsxs(Z.button,{onClick:B,disabled:l.length===0,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-12 py-4 rounded-2xl font-bold text-lg transition-all duration-300 flex items-center gap-3 mx-auto shadow-2xl shadow-yellow-500/30",children:[c.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-yellow-400/20 to-orange-400/20 rounded-2xl blur-lg"}),c.jsxs("span",{className:"relative flex items-center gap-3",children:[c.jsx(xr,{className:"text-xl"})," Verificar Respuestas"]})]})})]})]})}function v$(){const[t]=hc(),e=Dt(),[n]=ci(An),[s,a]=j.useState(null),[l,u]=j.useState({}),[h,g]=j.useState(!1),[p,x]=j.useState(!0),[v,_]=j.useState(!1),A=t.get("bookId"),V=t.get("chapterId"),M=t.get("missionId");j.useEffect(()=>{A&&V&&M&&(k(),n&&Fs.updateCurrentProgress(n.uid,A,V,M))},[A,V,M,n]);const k=async()=>{try{const S=await hn(et(be,"books",A,"chapters",V,"missions",M));S.exists()&&a({id:S.id,...S.data()})}catch(S){console.error("Error fetching mission:",S)}x(!1)},L=(S,T)=>{h||u(N=>({...N,[S]:T}))},B=async()=>{if(g(!0),n&&!v){const S=I();await Fs.saveMissionProgress(n.uid,A,V,M,S,s.mode),_(!0)}},I=()=>{const S=s.data.espacios.filter(T=>l[T.id]===T.respuestaCorrecta).length;return Math.round(S/s.data.espacios.length*100)},D=()=>{let S=s.data.textoBase;return s.data.espacios.forEach((T,N)=>{const O=l[T.id],z=h&&O===T.respuestaCorrecta,G=h&&O&&O!==T.respuestaCorrecta,Ke=`<span class="inline-block px-3 py-1 rounded-lg font-medium cursor-pointer transition-all ${h?z?"bg-green-500 text-white":G?"bg-red-500 text-white":"bg-yellow-500 text-white":O?"bg-blue-500 text-white":"bg-white/20 text-white border-2 border-dashed border-white/40"}" data-espacio="${T.id}">
        ${O||"____"}
      </span>`;S=S.replace("____",Ke)}),S};if(p)return c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Cargando misin..."})});if(!s)return c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Misin no encontrada"})});const P=Object.keys(l).length,H=s.data.espacios.length;return c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(Gi,{}),c.jsx("div",{className:"absolute inset-0 opacity-10",children:c.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),c.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 pt-20 pb-8",children:[c.jsxs(Z.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e(`/chapter-missions?bookId=${A}&chapterId=${V}`),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[c.jsx(ja,{})," Volver a Misiones"]}),c.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[c.jsxs("div",{className:"relative mb-6",children:[c.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-blue-400/20 to-indigo-400/20 blur-3xl rounded-full"}),c.jsxs("div",{className:"relative flex items-center justify-center gap-4 mb-4",children:[c.jsx(Z.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 bg-linear-to-r from-blue-400 to-indigo-500 rounded-2xl flex items-center justify-center shadow-2xl",children:c.jsx(Os,{className:"text-2xl text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-linear-to-r from-blue-400 to-indigo-400 bg-clip-text text-transparent",children:s.title}),c.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[c.jsx("span",{className:"bg-blue-500/20 text-blue-300 px-3 py-1 rounded-full text-sm font-medium",children:s.difficulty}),c.jsx("span",{className:"bg-indigo-500/20 text-indigo-300 px-3 py-1 rounded-full text-sm font-medium",children:"Completar Frases"})]})]})]})]}),c.jsx("p",{className:"text-white/80 text-xl max-w-2xl mx-auto leading-relaxed",children:s.description})]}),!h&&c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-white/70 text-sm",children:"Progreso:"}),c.jsxs("span",{className:"text-blue-400 font-bold",children:[P,"/",H]})]}),c.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:c.jsx(Z.div,{className:"bg-linear-to-r from-blue-400 to-indigo-500 h-3 rounded-full",initial:{width:0},animate:{width:`${P/H*100}%`},transition:{duration:.3}})})]}),c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"relative mb-12",children:[c.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-purple-500/10 to-blue-500/10 blur-xl rounded-3xl"}),c.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-8 h-8 bg-linear-to-r from-purple-400 to-blue-500 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-white font-bold text-sm",children:""})}),c.jsx("h3",{className:"text-xl font-bold text-white",children:"Completa el texto:"})]}),c.jsx("div",{className:"text-white/95 leading-relaxed text-lg font-medium tracking-wide",dangerouslySetInnerHTML:{__html:D()},onClick:S=>{const T=S.target.getAttribute("data-espacio");T&&!h&&s.data.espacios.find(N=>N.id===T)}})]})]}),!h&&c.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-6 mb-12",children:s.data.espacios.map((S,T)=>c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[c.jsxs("h4",{className:"text-white font-bold mb-4",children:["Espacio ",T+1,":"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:S.opciones.map((N,O)=>c.jsx(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>L(S.id,N),className:`p-4 rounded-xl font-medium transition-all duration-200 ${l[S.id]===N?"bg-linear-to-r from-blue-500 to-indigo-600 text-white shadow-blue-500/30":"bg-white/10 text-white hover:bg-white/20 border border-white/20"}`,children:N},O))})]},S.id))}),h?c.jsxs(Z.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:100},className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-green-500/20 to-teal-500/20 blur-2xl rounded-3xl"}),c.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 text-center shadow-2xl",children:[c.jsx(Z.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-linear-to-r from-green-400 to-teal-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:c.jsx(xr,{className:"text-3xl text-white"})}),c.jsx(Z.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-white mb-6",children:"Misin Completada!"}),c.jsxs(Z.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},className:"relative mb-6",children:[c.jsxs("div",{className:"text-6xl font-bold bg-linear-to-r from-blue-400 to-indigo-500 bg-clip-text text-transparent mb-2",children:[I(),"%"]}),c.jsx("div",{className:"flex justify-center gap-1 mb-4",children:[...Array(3)].map((S,T)=>c.jsx(Z.div,{initial:{opacity:0,scale:0},animate:{opacity:I()>T*33?1:.3,scale:1},transition:{delay:.5+T*.1},className:`text-2xl ${I()>T*33?"text-blue-400":"text-gray-500"}`,children:""},T))})]}),c.jsxs(Z.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-white/80 text-lg mb-4 leading-relaxed",children:["Has completado ",c.jsx("span",{className:"text-green-400 font-bold",children:s.data.espacios.filter(S=>l[S.id]===S.respuestaCorrecta).length})," de ",c.jsx("span",{className:"text-blue-400 font-bold",children:s.data.espacios.length})," espacios correctamente."]}),c.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:`p-4 rounded-2xl mb-6 ${I()>=70?"bg-green-500/20 border border-green-500/30":"bg-yellow-500/20 border border-yellow-500/30"}`,children:c.jsx("p",{className:`text-center font-medium ${I()>=70?"text-green-300":"text-yellow-300"}`,children:I()>=70?" Excelente! Has desbloqueado la siguiente misin.":" Necesitas al menos 70% para desbloquear la siguiente misin. Intntalo de nuevo!"})}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx(Z.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(`/chapter-missions?bookId=${A}&chapterId=${V}`),className:"bg-linear-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-green-500/30",children:"Continuar Aventura"}),I()<70&&c.jsx(Z.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-yellow-500/30",children:"Intentar de Nuevo"})]})]})]}):c.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"text-center",children:c.jsxs(Z.button,{onClick:B,disabled:P<H,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative bg-linear-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-12 py-4 rounded-2xl font-bold text-lg transition-all duration-300 flex items-center gap-3 mx-auto shadow-2xl shadow-blue-500/30",children:[c.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-blue-400/20 to-indigo-400/20 rounded-2xl blur-lg"}),c.jsxs("span",{className:"relative flex items-center gap-3",children:[c.jsx(xr,{className:"text-xl"})," Verificar Respuestas"]})]})})]})]})}function b$(){const[t]=hc(),e=Dt(),[n]=ci(An),[s,a]=j.useState(null),[l,u]=j.useState([]),[h,g]=j.useState(null),[p,x]=j.useState(!1),[v,_]=j.useState(!1),[A,V]=j.useState(0),[M,k]=j.useState(!0),[L,B]=j.useState(!1),[I,D]=j.useState(3),[P,H]=j.useState(null),[S,T]=j.useState(0),[N,O]=j.useState([]),[z,G]=j.useState(!1),[U,Ke]=j.useState(""),Xe=t.get("bookId"),te=t.get("chapterId"),ce=t.get("missionId");j.useEffect(()=>{Xe&&te&&ce&&pe()},[Xe,te,ce]);const pe=async()=>{try{const fe=await hn(et(be,"books",Xe,"chapters",te,"missions",ce));if(fe.exists()){const We={id:fe.id,...fe.data()};a(We);const nt=[...We.data.sequence].sort(()=>Math.random()-.5);u(nt),We.data.hints?.maxHints&&D(We.data.hints.maxHints)}}catch(fe){console.error("Error fetching mission:",fe)}k(!1)},De=(fe,We)=>{g(We),fe.dataTransfer.effectAllowed="move"},Le=fe=>{fe.preventDefault(),fe.dataTransfer.dropEffect="move"},$=(fe,We)=>{if(fe.preventDefault(),!h||h.id===We.id)return;const nt=l.findIndex(Fn=>Fn.id===h.id),Dn=l.findIndex(Fn=>Fn.id===We.id),mn=[...l];mn.splice(nt,1),mn.splice(Dn,0,h),u(mn),g(null)},re=()=>{const fe=s.data.correctOrder,We=l.map(mn=>mn.id);let nt=0;for(let mn=0;mn<fe.length;mn++)fe[mn]===We[mn]&&nt++;let Dn=Math.round(nt/fe.length*100);Dn=Math.max(0,Dn-S*10),V(Dn),x(Dn===100),_(!0)},de=async()=>{if(n)try{await Fs.saveMissionProgress(n.uid,Xe,te,ce,A,{userSequence:l.map(fe=>fe.id),hintsUsed:S,hintsLog:N}),A>=70&&await Fs.updateUserProgress(n.uid,Xe,ce,A)}catch(fe){console.error("Error saving progress:",fe)}},me=async()=>{await de(),e(`/chapter-missions?bookId=${Xe}&chapterId=${te}`)},Ce=()=>{const fe=[...s.data.sequence].sort(()=>Math.random()-.5);u(fe),_(!1),x(!1),V(0),T(0),O([]),D(s.data.hints?.maxHints||3),H(null)},Me=()=>{if(I<=0||!s.data.hints?.generalHints?.length)return;const fe=s.data.hints.generalHints.filter(nt=>!N.some(Dn=>Dn.hint===nt));if(fe.length===0)return;const We=fe[Math.floor(Math.random()*fe.length)];T(nt=>nt+1),D(nt=>nt-1),O(nt=>[...nt,{type:"general",hint:We,timestamp:new Date}]),jt(We),B(!1)},Ue=fe=>{if(I<=0||!s.data.hints?.stepHints?.[fe])return;const We=s.data.hints.stepHints[fe];T(nt=>nt+1),D(nt=>nt-1),O(nt=>[...nt,{type:"step",stepId:fe,hint:We,timestamp:new Date}]),jt(We),B(!1)},jt=fe=>{Ke(fe),G(!0),setTimeout(()=>G(!1),4e3)};return M?c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Cargando misin..."})}):s?c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(Gi,{}),c.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs(Z.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e(`/chapter-missions?bookId=${Xe}&chapterId=${te}`),className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[c.jsx(ja,{})," Volver a Misiones"]}),!v&&c.jsxs(Z.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},onClick:()=>B(!0),disabled:I<=0,className:`flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-all ${I>0?"bg-yellow-500/20 text-yellow-300 hover:bg-yellow-500/30 border border-yellow-500/30":"bg-gray-500/20 text-gray-400 cursor-not-allowed border border-gray-500/30"}`,children:[c.jsx(V3,{})," ",I>0?`Pistas (${I})`:"Sin pistas"]})]}),c.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(dp,{className:"text-4xl text-green-400"}),c.jsx("h1",{className:"text-3xl font-bold text-white",children:s.title})]}),c.jsx("p",{className:"text-white/70",children:s.description})]}),c.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-xl",children:c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"text-white/70 text-center mb-8",children:s.data?.instruction}),v?c.jsxs(Z.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:100},className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-green-500/20 to-teal-500/20 blur-2xl rounded-3xl"}),c.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 text-center shadow-2xl",children:[c.jsx(Z.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-linear-to-r from-green-400 to-teal-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:c.jsx(xr,{className:"text-3xl text-white"})}),c.jsx(Z.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-white mb-6",children:"Misin Completada!"}),c.jsxs(Z.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},className:"relative mb-6",children:[c.jsxs("div",{className:"text-6xl font-bold bg-linear-to-r from-green-400 to-teal-500 bg-clip-text text-transparent mb-2",children:[A,"%"]}),c.jsx("div",{className:"flex justify-center gap-1 mb-4",children:[...Array(3)].map((fe,We)=>c.jsx(Z.div,{initial:{opacity:0,scale:0},animate:{opacity:A>We*33?1:.3,scale:1},transition:{delay:.5+We*.1},className:`text-2xl ${A>We*33?"text-green-400":"text-gray-500"}`,children:""},We))})]}),c.jsxs(Z.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-white/80 text-lg mb-4 leading-relaxed",children:["Has ordenado ",c.jsx("span",{className:"text-green-400 font-bold",children:Math.round(A/100*s.data.sequence.length)})," de ",c.jsx("span",{className:"text-green-400 font-bold",children:s.data.sequence.length})," eventos correctamente."]}),c.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:`p-4 rounded-2xl mb-6 ${A>=70?"bg-green-500/20 border border-green-500/30":"bg-yellow-500/20 border border-yellow-500/30"}`,children:c.jsx("p",{className:`text-center font-medium ${A>=70?"text-green-300":"text-yellow-300"}`,children:A>=70?" Excelente! Has desbloqueado la siguiente misin.":" Necesitas al menos 70% para desbloquear la siguiente misin. Intntalo de nuevo!"})}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx(Z.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:me,className:"bg-linear-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-green-500/30",children:"Continuar Aventura"}),A<70&&c.jsx(Z.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-yellow-500/30",children:"Intentar de Nuevo"})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"space-y-3 mb-8",children:l.map((fe,We)=>c.jsxs(Z.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:We*.1},draggable:!0,onDragStart:nt=>De(nt,fe),onDragOver:Le,onDrop:nt=>$(nt,fe),onClick:()=>H(P===fe.id?null:fe.id),className:`border rounded-xl p-4 cursor-move hover:bg-white/10 transition-all duration-200 flex items-center gap-4 ${P===fe.id?"bg-blue-500/20 border-blue-500/50":"bg-white/5 border-white/20"}`,children:[c.jsx("div",{className:"text-green-400",children:c.jsx(zV,{})}),c.jsx("div",{className:"bg-green-600 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0",children:We+1}),c.jsx("p",{className:"text-white flex-1 text-left",children:fe.text})]},fe.id))}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx("button",{onClick:Ce,className:"bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all",children:"Reiniciar"}),c.jsx("button",{onClick:re,className:"bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white py-3 px-8 rounded-xl font-semibold transition-all",children:"Confirmar Orden"})]})]})]})})]}),c.jsx(r6,{children:L&&c.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>B(!1),children:c.jsxs(Z.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:fe=>fe.stopPropagation(),className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 max-w-md w-full max-h-96 overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-white",children:"Pistas Disponibles"}),c.jsx("button",{onClick:()=>B(!1),className:"text-white/60 hover:text-white transition-colors",children:c.jsx(zs,{})})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"text-white/80 font-medium mb-3",children:"Pistas Generales"}),c.jsx("button",{onClick:Me,disabled:I<=0||!s.data.hints?.generalHints?.length,className:"w-full bg-yellow-500/20 hover:bg-yellow-500/30 disabled:bg-gray-500/20 disabled:text-gray-400 text-yellow-300 py-3 px-4 rounded-xl transition-all border border-yellow-500/30 disabled:border-gray-500/30",children:"Obtener pista general (-10 pts)"})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-white/80 font-medium mb-3",children:"Pistas por Paso"}),P?c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"text-white/60 text-sm mb-2",children:["Paso seleccionado: ",l.findIndex(fe=>fe.id===P)+1]}),c.jsx("button",{onClick:()=>Ue(P),disabled:I<=0||!s.data.hints?.stepHints?.[P],className:"w-full bg-blue-500/20 hover:bg-blue-500/30 disabled:bg-gray-500/20 disabled:text-gray-400 text-blue-300 py-3 px-4 rounded-xl transition-all border border-blue-500/30 disabled:border-gray-500/30",children:"Obtener pista para este paso (-10 pts)"})]}):c.jsx("p",{className:"text-white/60 text-sm text-center py-4",children:"Selecciona un paso de la secuencia para obtener una pista especfica"})]})]})})}),c.jsx(r6,{children:z&&c.jsx(Z.div,{initial:{opacity:0,y:-50,x:"-50%"},animate:{opacity:1,y:0,x:"-50%"},exit:{opacity:0,y:-50,x:"-50%"},className:"fixed top-4 left-1/2 transform bg-yellow-500/90 backdrop-blur-xl text-white px-6 py-4 rounded-xl shadow-2xl z-50 max-w-md",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(V3,{className:"text-yellow-200 mt-1 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm mb-1",children:"Pista mostrada  -10 pts"}),c.jsx("p",{className:"text-yellow-100 text-sm",children:U})]})]})})})]}):c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Misin no encontrada"})})}function p_(){const t=Dt(),[e,n]=j.useState([]),[s,a]=j.useState([]),[l,u]=j.useState(""),[h,g]=j.useState(""),[p,x]=j.useState(!1),[v,_]=j.useState({title:"Ordena la secuencia de eventos",description:"Organiza correctamente los eventos segn ocurren en la historia.",mode:"ordenar-secuencia",difficulty:"Intermedio",order:"",instruction:"Lee atentamente los eventos y ordnalos segn la secuencia en que ocurren en la historia.",sequence:[{id:"step_1",text:""},{id:"step_2",text:""}],hints:{generalHints:[""],stepHints:{},maxHints:3}});j.useEffect(()=>{A()},[]),j.useEffect(()=>{l&&V(l)},[l]);const A=async()=>{try{const T=await _t(ot(be,"books"));n(T.docs.map(N=>({id:N.id,...N.data()})))}catch(T){console.error("Error fetching books:",T)}},V=async T=>{try{const N=await _t(ot(be,"books",T,"chapters"));a(N.docs.map(O=>({id:O.id,...O.data()})))}catch(N){console.error("Error fetching chapters:",N)}},M=(T,N)=>{_(O=>({...O,[T]:N}))},k=(T,N)=>{_(O=>({...O,sequence:O.sequence.map((z,G)=>G===T?{...z,text:N}:z)}))},L=(T,N,O)=>{T==="general"?_(z=>({...z,hints:{...z.hints,generalHints:z.hints.generalHints.map((G,U)=>U===N?O:G)}})):T==="step"&&_(z=>({...z,hints:{...z.hints,stepHints:{...z.hints.stepHints,[N]:O}}}))},B=()=>{_(T=>({...T,hints:{...T.hints,generalHints:[...T.hints.generalHints,""]}}))},I=T=>{_(N=>({...N,hints:{...N.hints,generalHints:N.hints.generalHints.filter((O,z)=>z!==T)}}))},D=T=>{_(N=>{const O={...N.hints.stepHints};return delete O[T],{...N,hints:{...N.hints,stepHints:O}}})},P=()=>{const T={id:`step_${v.sequence.length+1}`,text:""};_(N=>({...N,sequence:[...N.sequence,T]}))},H=T=>{if(v.sequence.length>2){const O=v.sequence.filter((z,G)=>G!==T).map((z,G)=>({...z,id:`step_${G+1}`}));_(z=>({...z,sequence:O}))}},S=async()=>{if(!l||!h){Ee.fire({icon:"warning",title:"Seleccin requerida",text:"Debes seleccionar un libro y captulo",confirmButtonColor:"#8B5CF6"});return}if(!v.order){Ee.fire({icon:"warning",title:"Campos requeridos",text:"Completa el orden de la misin",confirmButtonColor:"#8B5CF6"});return}if(v.sequence.some(N=>!N.text.trim())){Ee.fire({icon:"warning",title:"Secuencia incompleta",text:"Completa todos los eventos de la secuencia",confirmButtonColor:"#8B5CF6"});return}x(!0);try{const N={title:v.title,description:v.description,mode:v.mode,difficulty:v.difficulty,order:parseInt(v.order),data:{instruction:v.instruction,sequence:v.sequence,correctOrder:v.sequence.map(O=>O.id),hints:{generalHints:v.hints.generalHints.filter(O=>O.trim()),stepHints:v.hints.stepHints,maxHints:v.hints.maxHints}},createdAt:new Date,updatedAt:new Date};await Md(ot(be,"books",l,"chapters",h,"missions"),N),Ee.fire({icon:"success",title:"Misin creada!",text:"La misin de ordenar secuencia ha sido agregada exitosamente",confirmButtonColor:"#8B5CF6"}),t("/admin/games")}catch{Ee.fire({icon:"error",title:"Error",text:"No se pudo crear la misin",confirmButtonColor:"#8B5CF6"})}x(!1)};return c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(es,{}),c.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 py-8",children:[c.jsx(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(dp,{className:"text-4xl text-green-400"}),c.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Agregar ",c.jsx("span",{className:"bg-linear-to-r from-green-400 to-teal-400 bg-clip-text text-transparent",children:"Misin Ordenar Secuencia"})]})]})}),c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Libro *"}),c.jsxs("select",{value:l,onChange:T=>u(T.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all appearance-none",children:[c.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un libro..."}),e.map(T=>c.jsx("option",{value:T.id,className:"bg-slate-800",children:T.title},T.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Captulo *"}),c.jsxs("select",{value:h,onChange:T=>g(T.target.value),disabled:!l,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all appearance-none disabled:opacity-50",children:[c.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un captulo..."}),s.map(T=>c.jsx("option",{value:T.id,className:"bg-slate-800",children:T.title},T.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Dificultad"}),c.jsxs("select",{value:v.difficulty,onChange:T=>M("difficulty",T.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all appearance-none",children:[c.jsx("option",{value:"Principiante",className:"bg-slate-800",children:"Principiante"}),c.jsx("option",{value:"Intermedio",className:"bg-slate-800",children:"Intermedio"}),c.jsx("option",{value:"Avanzado",className:"bg-slate-800",children:"Avanzado"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Orden *"}),c.jsx("input",{type:"number",value:v.order,onChange:T=>M("order",T.target.value),placeholder:"1",min:"1",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium",children:"Secuencia de Eventos"}),c.jsxs("button",{type:"button",onClick:P,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-xl text-sm font-medium transition-all flex items-center gap-2",children:[c.jsx(Bn,{size:12})," Agregar Evento"]})]}),c.jsx("div",{className:"space-y-4",children:v.sequence.map((T,N)=>c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx("div",{className:"bg-green-600 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 mt-2",children:N+1}),c.jsx("textarea",{value:T.text,onChange:O=>k(N,O.target.value),className:"flex-1 px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all resize-none",placeholder:`Evento ${N+1}...`,rows:3}),v.sequence.length>2&&c.jsx("button",{type:"button",onClick:()=>H(N),className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-all mt-2",children:c.jsx(hs,{size:12})})]},T.id))})]}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Pistas"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Mximo de pistas"}),c.jsx("input",{type:"number",value:v.hints.maxHints,onChange:T=>_(N=>({...N,hints:{...N.hints,maxHints:parseInt(T.target.value)||3}})),min:"1",max:"10",className:"w-32 px-3 py-2 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium",children:"Pistas Generales"}),c.jsxs("button",{type:"button",onClick:B,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-lg text-sm flex items-center gap-2",children:[c.jsx(Bn,{size:10})," Agregar"]})]}),v.hints.generalHints.map((T,N)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("textarea",{value:T,onChange:O=>L("general",N,O.target.value),placeholder:"Pista general...",rows:2,className:"flex-1 px-3 py-2 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none text-sm"}),c.jsx("button",{type:"button",onClick:()=>I(N),className:"px-2 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl",children:c.jsx(hs,{size:10})})]},N))]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-3",children:"Pistas por Paso"}),v.sequence.map((T,N)=>c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsxs("span",{className:"text-white/60 text-sm",children:["Paso ",N+1,":"]}),v.hints.stepHints[T.id]&&c.jsx("button",{type:"button",onClick:()=>D(T.id),className:"text-red-400 hover:text-red-300 text-xs",children:c.jsx(hs,{size:10})})]}),c.jsx("textarea",{value:v.hints.stepHints[T.id]||"",onChange:O=>L("step",T.id,O.target.value),placeholder:`Pista para el paso ${N+1}...`,rows:2,className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none text-sm"})]},T.id))]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:S,disabled:p,className:"flex-1 bg-linear-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[c.jsx(jr,{})," ",p?"Guardando...":"Crear Misin"]}),c.jsxs("button",{onClick:()=>t("/admin/games"),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2",children:[c.jsx(zs,{})," Cancelar"]})]})]})]})]})}function w$(){Dt();const[t,e]=j.useState([]),[n,s]=j.useState(null),[a,l]=j.useState(!1),[u,h]=j.useState({title:"",description:"",difficulty:"",order:"",text:"",imageUrl:"",correctWords:[""],distractors:[""]});j.useEffect(()=>{g()},[]);const g=async()=>{try{const M=await _t(ot(be,"books")),k=[];for(const L of M.docs){const B=await _t(ot(be,"books",L.id,"chapters"));for(const I of B.docs)(await _t(h2(ot(be,"books",L.id,"chapters",I.id,"missions"),f2("mode","==","keywords")))).docs.forEach(P=>{k.push({id:P.id,bookId:L.id,bookTitle:L.data().title,chapterId:I.id,chapterTitle:I.data().title,...P.data()})})}e(k)}catch(M){console.error("Error fetching missions:",M)}},p=M=>{s(M),h({title:M.title,description:M.description,difficulty:M.difficulty,order:M.order.toString(),text:M.data.text,imageUrl:M.data.imageUrl||"",correctWords:M.data.correctWords,distractors:M.data.distractors||[""]})},x=(M,k)=>{h(L=>({...L,[M]:k}))},v=(M,k,L)=>{h(B=>({...B,[M]:B[M].map((I,D)=>D===k?L:I)}))},_=M=>{h(k=>({...k,[M]:[...k[M],""]}))},A=(M,k)=>{h(L=>({...L,[M]:L[M].filter((B,I)=>I!==k)}))},V=async()=>{if(!n)return;const M=u.correctWords.filter(L=>L.trim()),k=u.distractors.filter(L=>L.trim());if(!u.text.trim()||M.length===0){Ee.fire({icon:"warning",title:"Campos requeridos",text:"Completa el texto y al menos una palabra correcta",confirmButtonColor:"#8B5CF6"});return}l(!0);try{const L=et(be,"books",n.bookId,"chapters",n.chapterId,"missions",n.id);await _c(L,{title:u.title,description:u.description,difficulty:u.difficulty,order:parseInt(u.order),data:{text:u.text,imageUrl:u.imageUrl||null,correctWords:M,distractors:k},updatedAt:new Date}),Ee.fire({icon:"success",title:"Misin actualizada!",text:"Los cambios han sido guardados exitosamente",confirmButtonColor:"#8B5CF6"}),g(),s(null)}catch(L){console.error("Error updating mission:",L),Ee.fire({icon:"error",title:"Error",text:`No se pudo actualizar la misin: ${L.message}`,confirmButtonColor:"#8B5CF6"})}l(!1)};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(es,{}),c.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[c.jsx(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(ic,{className:"text-4xl text-yellow-400"}),c.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Editar ",c.jsx("span",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:"Misiones Keywords"})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Misiones Disponibles"}),c.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.map(M=>c.jsxs("div",{onClick:()=>p(M),className:`p-4 rounded-xl cursor-pointer transition-all ${n?.id===M.id?"bg-yellow-500/20 border-yellow-500/50":"bg-white/5 hover:bg-white/10 border-white/10"} border`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Os,{className:"text-yellow-400"}),c.jsx("h3",{className:"font-semibold text-white text-sm",children:M.title})]}),c.jsxs("p",{className:"text-white/60 text-xs mb-1",children:[M.bookTitle," - ",M.chapterTitle]}),c.jsxs("p",{className:"text-white/40 text-xs",children:["Orden: ",M.order," | ",M.difficulty]})]},`${M.bookId}-${M.chapterId}-${M.id}`))})]}),c.jsx(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:n?c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Editar Misin"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Dificultad"}),c.jsxs("select",{value:u.difficulty,onChange:M=>x("difficulty",M.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-yellow-500",children:[c.jsx("option",{value:"Principiante",className:"bg-slate-800",children:"Principiante"}),c.jsx("option",{value:"Intermedio",className:"bg-slate-800",children:"Intermedio"}),c.jsx("option",{value:"Avanzado",className:"bg-slate-800",children:"Avanzado"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Orden"}),c.jsx("input",{type:"number",value:u.order,onChange:M=>x("order",M.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-yellow-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Texto"}),c.jsx("textarea",{value:u.text,onChange:M=>x("text",M.target.value),rows:3,className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-yellow-500 resize-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"URL de Imagen"}),c.jsx("input",{type:"url",value:u.imageUrl,onChange:M=>x("imageUrl",M.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-yellow-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Palabras Correctas"}),u.correctWords.map((M,k)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:M,onChange:L=>v("correctWords",k,L.target.value),className:"flex-1 px-3 py-2 bg-white/5 border border-white/20 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-green-500"}),c.jsx("button",{onClick:()=>A("correctWords",k),className:"px-2 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl text-xs",children:c.jsx(hs,{size:10})})]},k)),c.jsxs("button",{onClick:()=>_("correctWords"),className:"w-full py-2 border border-dashed border-green-500/50 text-green-400 rounded-xl hover:border-green-500 text-xs flex items-center justify-center gap-2",children:[c.jsx(Bn,{size:10})," Agregar palabra"]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Distractores"}),u.distractors.map((M,k)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:M,onChange:L=>v("distractors",k,L.target.value),className:"flex-1 px-3 py-2 bg-white/5 border border-white/20 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-red-500"}),c.jsx("button",{onClick:()=>A("distractors",k),className:"px-2 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl text-xs",children:c.jsx(hs,{size:10})})]},k)),c.jsxs("button",{onClick:()=>_("distractors"),className:"w-full py-2 border border-dashed border-red-500/50 text-red-400 rounded-xl hover:border-red-500 text-xs flex items-center justify-center gap-2",children:[c.jsx(Bn,{size:10})," Agregar distractor"]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsxs("button",{onClick:V,disabled:a,className:"flex-1 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white py-2 px-4 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 disabled:opacity-50",children:[c.jsx(jr,{size:12})," ",a?"Guardando...":"Guardar"]}),c.jsxs("button",{onClick:()=>s(null),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded-xl font-semibold text-sm flex items-center justify-center gap-2",children:[c.jsx(zs,{size:12})," Cancelar"]})]})]}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Os,{className:"text-4xl text-white/40 mx-auto mb-4"}),c.jsx("p",{className:"text-white/60",children:"Selecciona una misin para editar"})]})})]})]})]})}function _$(){Dt();const[t,e]=j.useState([]),[n,s]=j.useState(null),[a,l]=j.useState(!1),[u,h]=j.useState({title:"",description:"",difficulty:"",order:"",instruction:"",sequence:[],hints:{generalHints:[""],stepHints:{},maxHints:3}});j.useEffect(()=>{g()},[]);const g=async()=>{try{const I=await _t(ot(be,"books")),D=[];for(const P of I.docs){const H=await _t(ot(be,"books",P.id,"chapters"));for(const S of H.docs)(await _t(h2(ot(be,"books",P.id,"chapters",S.id,"missions"),f2("mode","==","ordenar-secuencia")))).docs.forEach(N=>{D.push({id:N.id,bookId:P.id,bookTitle:P.data().title,chapterId:S.id,chapterTitle:S.data().title,...N.data()})})}e(D)}catch(I){console.error("Error fetching missions:",I)}},p=I=>{s(I),h({title:I.title,description:I.description,difficulty:I.difficulty,order:I.order.toString(),instruction:I.data.instruction,sequence:I.data.sequence,hints:I.data.hints||{generalHints:[""],stepHints:{},maxHints:3}})},x=(I,D)=>{h(P=>({...P,[I]:D}))},v=(I,D)=>{h(P=>({...P,sequence:P.sequence.map((H,S)=>S===I?{...H,text:D}:H)}))},_=()=>{const I={id:`step_${u.sequence.length+1}`,text:""};h(D=>({...D,sequence:[...D.sequence,I]}))},A=I=>{if(u.sequence.length>2){const P=u.sequence.filter((H,S)=>S!==I).map((H,S)=>({...H,id:`step_${S+1}`}));h(H=>({...H,sequence:P}))}},V=(I,D,P)=>{I==="general"?h(H=>({...H,hints:{...H.hints,generalHints:H.hints.generalHints.map((S,T)=>T===D?P:S)}})):I==="step"&&h(H=>({...H,hints:{...H.hints,stepHints:{...H.hints.stepHints,[D]:P}}}))},M=()=>{h(I=>({...I,hints:{...I.hints,generalHints:[...I.hints.generalHints,""]}}))},k=I=>{h(D=>({...D,hints:{...D.hints,generalHints:D.hints.generalHints.filter((P,H)=>H!==I)}}))},L=I=>{h(D=>{const P={...D.hints.stepHints};return delete P[I],{...D,hints:{...D.hints,stepHints:P}}})},B=async()=>{if(!n)return;const I=u.sequence.some(D=>!D.text.trim());if(!u.instruction.trim()||I){Ee.fire({icon:"warning",title:"Campos requeridos",text:"Completa la instruccin y todos los eventos de la secuencia",confirmButtonColor:"#8B5CF6"});return}l(!0);try{const D=et(be,"books",n.bookId,"chapters",n.chapterId,"missions",n.id);await _c(D,{title:u.title,description:u.description,difficulty:u.difficulty,order:parseInt(u.order),data:{instruction:u.instruction,sequence:u.sequence,correctOrder:u.sequence.map(P=>P.id),hints:{generalHints:u.hints.generalHints.filter(P=>P.trim()),stepHints:u.hints.stepHints,maxHints:u.hints.maxHints}},updatedAt:new Date}),Ee.fire({icon:"success",title:"Misin actualizada!",text:"Los cambios han sido guardados exitosamente",confirmButtonColor:"#8B5CF6"}),g(),s(null)}catch(D){console.error("Error updating mission:",D),Ee.fire({icon:"error",title:"Error",text:`No se pudo actualizar la misin: ${D.message}`,confirmButtonColor:"#8B5CF6"})}l(!1)};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(es,{}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[c.jsx(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(dp,{className:"text-4xl text-green-400"}),c.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Editar ",c.jsx("span",{className:"bg-gradient-to-r from-green-400 to-teal-400 bg-clip-text text-transparent",children:"Misiones Ordenar Secuencia"})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Misiones Disponibles"}),c.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.map(I=>c.jsxs("div",{onClick:()=>p(I),className:`p-4 rounded-xl cursor-pointer transition-all ${n?.id===I.id?"bg-green-500/20 border-green-500/50":"bg-white/5 hover:bg-white/10 border-white/10"} border`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Os,{className:"text-green-400"}),c.jsx("h3",{className:"font-semibold text-white text-sm",children:I.title})]}),c.jsxs("p",{className:"text-white/60 text-xs mb-1",children:[I.bookTitle," - ",I.chapterTitle]}),c.jsxs("p",{className:"text-white/40 text-xs",children:["Orden: ",I.order," | ",I.difficulty]})]},`${I.bookId}-${I.chapterId}-${I.id}`))})]}),c.jsx(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"lg:col-span-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:n?c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Editar Misin"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Dificultad"}),c.jsxs("select",{value:u.difficulty,onChange:I=>x("difficulty",I.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[c.jsx("option",{value:"Principiante",className:"bg-slate-800",children:"Principiante"}),c.jsx("option",{value:"Intermedio",className:"bg-slate-800",children:"Intermedio"}),c.jsx("option",{value:"Avanzado",className:"bg-slate-800",children:"Avanzado"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Orden"}),c.jsx("input",{type:"number",value:u.order,onChange:I=>x("order",I.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Instruccin"}),c.jsx("textarea",{value:u.instruction,onChange:I=>x("instruction",I.target.value),rows:2,className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-green-500 resize-none"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium",children:"Secuencia"}),c.jsxs("button",{onClick:_,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded-lg text-xs flex items-center gap-2",children:[c.jsx(Bn,{size:10})," Agregar"]})]}),u.sequence.map((I,D)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("div",{className:"bg-green-600 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-1",children:D+1}),c.jsx("textarea",{value:I.text,onChange:P=>v(D,P.target.value),rows:2,className:"flex-1 px-3 py-2 bg-white/5 border border-white/20 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-green-500 resize-none"}),u.sequence.length>2&&c.jsx("button",{onClick:()=>A(D),className:"px-2 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl",children:c.jsx(hs,{size:10})})]},I.id))]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-white text-sm font-semibold mb-3",children:"Pistas"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-white/80 text-xs font-medium mb-2",children:"Mximo de pistas"}),c.jsx("input",{type:"number",value:u.hints.maxHints,onChange:I=>h(D=>({...D,hints:{...D.hints,maxHints:parseInt(I.target.value)||3}})),min:"1",max:"10",className:"w-20 px-2 py-1 bg-white/5 border border-white/20 rounded-lg text-white text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("label",{className:"block text-white/80 text-xs font-medium",children:"Pistas Generales"}),c.jsxs("button",{onClick:M,className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded-lg text-xs flex items-center gap-1",children:[c.jsx(Bn,{size:8})," Agregar"]})]}),u.hints.generalHints.map((I,D)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("textarea",{value:I,onChange:P=>V("general",D,P.target.value),rows:2,className:"flex-1 px-2 py-1 bg-white/5 border border-white/20 rounded-lg text-white text-xs focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"}),c.jsx("button",{onClick:()=>k(D),className:"px-2 py-1 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:c.jsx(hs,{size:8})})]},D))]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-xs font-medium mb-2",children:"Pistas por Paso"}),u.sequence.map((I,D)=>c.jsxs("div",{className:"mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsxs("span",{className:"text-white/60 text-xs",children:["Paso ",D+1,":"]}),u.hints.stepHints[I.id]&&c.jsx("button",{onClick:()=>L(I.id),className:"text-red-400 hover:text-red-300 text-xs",children:c.jsx(hs,{size:8})})]}),c.jsx("textarea",{value:u.hints.stepHints[I.id]||"",onChange:P=>V("step",I.id,P.target.value),rows:2,className:"w-full px-2 py-1 bg-white/5 border border-white/20 rounded-lg text-white text-xs focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]},I.id))]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsxs("button",{onClick:B,disabled:a,className:"flex-1 bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white py-2 px-4 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 disabled:opacity-50",children:[c.jsx(jr,{size:12})," ",a?"Guardando...":"Guardar"]}),c.jsxs("button",{onClick:()=>s(null),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded-xl font-semibold text-sm flex items-center justify-center gap-2",children:[c.jsx(zs,{size:12})," Cancelar"]})]})]}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Os,{className:"text-4xl text-white/40 mx-auto mb-4"}),c.jsx("p",{className:"text-white/60",children:"Selecciona una misin para editar"})]})})]})]})]})}function E$(){Dt();const[t,e]=j.useState([]),[n,s]=j.useState(null),[a,l]=j.useState(!1),[u,h]=j.useState({title:"",description:"",difficulty:"",order:"",textoBase:"",espacios:[]});j.useEffect(()=>{g()},[]);const g=async()=>{try{const k=await _t(ot(be,"books")),L=[];for(const B of k.docs){const I=await _t(ot(be,"books",B.id,"chapters"));for(const D of I.docs)(await _t(h2(ot(be,"books",B.id,"chapters",D.id,"missions"),f2("mode","==","completarFrase")))).docs.forEach(H=>{L.push({id:H.id,bookId:B.id,bookTitle:B.data().title,chapterId:D.id,chapterTitle:D.data().title,...H.data()})})}e(L)}catch(k){console.error("Error fetching missions:",k)}},p=k=>{s(k),h({title:k.title,description:k.description,difficulty:k.difficulty,order:k.order.toString(),textoBase:k.data.textoBase,espacios:k.data.espacios})},x=(k,L)=>{h(B=>({...B,[k]:L}))},v=(k,L,B)=>{h(I=>({...I,espacios:I.espacios.map((D,P)=>P===k?{...D,[L]:B}:D)}))},_=(k,L,B)=>{h(I=>({...I,espacios:I.espacios.map((D,P)=>P===k?{...D,opciones:D.opciones.map((H,S)=>S===L?B:H)}:D)}))},A=()=>{const k=`s${u.espacios.length+1}`;h(L=>({...L,espacios:[...L.espacios,{id:k,opciones:["","",""],respuestaCorrecta:""}]}))},V=k=>{u.espacios.length>1&&h(L=>({...L,espacios:L.espacios.filter((B,I)=>I!==k)}))},M=async()=>{if(!n)return;if(!u.textoBase.trim()){Ee.fire({icon:"warning",title:"Campos requeridos",text:"Completa el texto base de la misin",confirmButtonColor:"#8B5CF6"});return}if(u.espacios.some(L=>!L.respuestaCorrecta.trim()||L.opciones.some(B=>!B.trim()))){Ee.fire({icon:"warning",title:"Espacios incompletos",text:"Completa todas las opciones y respuestas correctas",confirmButtonColor:"#8B5CF6"});return}l(!0);try{const L=et(be,"books",n.bookId,"chapters",n.chapterId,"missions",n.id);await _c(L,{title:u.title,description:u.description,difficulty:u.difficulty,order:parseInt(u.order),data:{textoBase:u.textoBase,espacios:u.espacios},updatedAt:new Date}),Ee.fire({icon:"success",title:"Misin actualizada!",text:"Los cambios han sido guardados exitosamente",confirmButtonColor:"#8B5CF6"}),g(),s(null)}catch(L){console.error("Error updating mission:",L),Ee.fire({icon:"error",title:"Error",text:`No se pudo actualizar la misin: ${L.message}`,confirmButtonColor:"#8B5CF6"})}l(!1)};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(es,{}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[c.jsx(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(Os,{className:"text-4xl text-blue-400"}),c.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Editar ",c.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-indigo-400 bg-clip-text text-transparent",children:"Misiones Completar Frases"})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Misiones Disponibles"}),c.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.map(k=>c.jsxs("div",{onClick:()=>p(k),className:`p-4 rounded-xl cursor-pointer transition-all ${n?.id===k.id?"bg-blue-500/20 border-blue-500/50":"bg-white/5 hover:bg-white/10 border-white/10"} border`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Os,{className:"text-blue-400"}),c.jsx("h3",{className:"font-semibold text-white text-sm",children:k.title})]}),c.jsxs("p",{className:"text-white/60 text-xs mb-1",children:[k.bookTitle," - ",k.chapterTitle]}),c.jsxs("p",{className:"text-white/40 text-xs",children:["Orden: ",k.order," | ",k.difficulty]})]},`${k.bookId}-${k.chapterId}-${k.id}`))})]}),c.jsx(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"lg:col-span-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:n?c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Editar Misin"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Dificultad"}),c.jsxs("select",{value:u.difficulty,onChange:k=>x("difficulty",k.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"Principiante",className:"bg-slate-800",children:"Principiante"}),c.jsx("option",{value:"Intermedio",className:"bg-slate-800",children:"Intermedio"}),c.jsx("option",{value:"Avanzado",className:"bg-slate-800",children:"Avanzado"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Orden"}),c.jsx("input",{type:"number",value:u.order,onChange:k=>x("order",k.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Texto Base"}),c.jsx("textarea",{value:u.textoBase,onChange:k=>x("textoBase",k.target.value),rows:3,className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("label",{className:"block text-white/80 text-sm font-medium",children:"Espacios"}),c.jsxs("button",{onClick:A,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-lg text-xs flex items-center gap-2",children:[c.jsx(Bn,{size:10})," Agregar"]})]}),u.espacios.map((k,L)=>c.jsxs("div",{className:"bg-white/5 rounded-xl p-3 mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h4",{className:"text-white text-xs font-medium",children:["Espacio ",L+1]}),u.espacios.length>1&&c.jsx("button",{onClick:()=>V(L),className:"text-red-400 hover:text-red-300",children:c.jsx(hs,{size:10})})]}),c.jsx("div",{className:"grid grid-cols-3 gap-2 mb-2",children:k.opciones.map((B,I)=>c.jsx("input",{type:"text",value:B,onChange:D=>_(L,I,D.target.value),placeholder:`Opcin ${I+1}`,className:"px-2 py-1 bg-white/5 border border-white/20 rounded-lg text-white text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"},I))}),c.jsxs("select",{value:k.respuestaCorrecta,onChange:B=>v(L,"respuestaCorrecta",B.target.value),className:"w-full px-2 py-1 bg-white/5 border border-white/20 rounded-lg text-white text-xs focus:outline-none focus:ring-2 focus:ring-green-500",children:[c.jsx("option",{value:"",className:"bg-slate-800",children:"Respuesta correcta..."}),k.opciones.filter(B=>B.trim()).map((B,I)=>c.jsx("option",{value:B,className:"bg-slate-800",children:B},I))]})]},k.id))]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsxs("button",{onClick:M,disabled:a,className:"flex-1 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white py-2 px-4 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 disabled:opacity-50",children:[c.jsx(jr,{size:12})," ",a?"Guardando...":"Guardar"]}),c.jsxs("button",{onClick:()=>s(null),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded-xl font-semibold text-sm flex items-center justify-center gap-2",children:[c.jsx(zs,{size:12})," Cancelar"]})]})]}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Os,{className:"text-4xl text-white/40 mx-auto mb-4"}),c.jsx("p",{className:"text-white/60",children:"Selecciona una misin para editar"})]})})]})]})]})}function T$(){const t=Dt(),[e]=ci(An),[n,s]=j.useState([]),[a,l]=j.useState(!0),[u,h]=j.useState(!1),[g,p]=j.useState(null);j.useEffect(()=>{e&&x()},[e]);const x=async()=>{try{const A=await hn(et(be,"users",e.uid));A.exists()&&A.data().isAdmin?(h(!0),v()):l(!1)}catch(A){console.error("Error checking admin status:",A),l(!1)}},v=async()=>{try{console.log("Fetching users as admin...");const V=(await _t(ot(be,"users"))).docs.map(M=>({id:M.id,...M.data(),totalPoints:M.data().totalPoints||0}));s(V),p(null)}catch(A){console.error("Error fetching users:",A),A.code==="permission-denied"?p("Permisos insuficientes. Asegrate de que tienes permisos de administrador y que las reglas de Firestore estn actualizadas."):p("Error al cargar usuarios: "+A.message),s([])}l(!1)},_=A=>{t(`/admin/users/${A}`)};return a?c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Cargando usuarios..."})}):e?u?g?c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(es,{}),c.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[c.jsxs(Z.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t("/admin"),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[c.jsx(ja,{})," Volver al Dashboard"]}),c.jsxs("div",{className:"text-center py-12",children:[c.jsx(F0,{className:"text-6xl text-red-400 mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Error de Permisos"}),c.jsx("p",{className:"text-white/70 max-w-2xl mx-auto mb-6",children:g}),c.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Reintentar"})]})]})]}):c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(es,{}),c.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[c.jsxs(Z.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t("/admin"),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[c.jsx(ja,{})," Volver al Dashboard"]}),c.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Gestin de Usuarios"}),c.jsx("p",{className:"text-white/70",children:"Administra los usuarios registrados en el sistema"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((A,V)=>c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6 hover:bg-white/15 transition-all cursor-pointer",onClick:()=>_(A.id),children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:c.jsx(Mo,{className:"text-white text-xl"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-bold text-white",children:A.name||"Usuario"}),c.jsx("p",{className:"text-white/60 text-sm",children:A.email})]})]}),c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-white/60",children:"Puntos:"}),c.jsx("span",{className:"text-white font-medium",children:A.totalPoints||0})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-white/60",children:"Rol:"}),c.jsx("span",{className:"text-white font-medium",children:A.isAdmin?"Admin":"Usuario"})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-white/60",children:"Ubicacin:"}),c.jsx("span",{className:"text-white font-medium",children:A.city&&A.country?`${A.city}, ${A.country}`:"No especificado"})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-white/60",children:"Registro:"}),c.jsx("span",{className:"text-white font-medium",children:A.createdAt?new Date(A.createdAt.seconds*1e3).toLocaleDateString():"No disponible"})]})]}),c.jsxs("button",{className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-2 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-2",children:[c.jsx(bm,{size:14})," Ver Detalles"]})]},A.id))}),n.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Mo,{className:"text-6xl text-white/20 mx-auto mb-4"}),c.jsx("p",{className:"text-white/60 text-lg",children:"No hay usuarios registrados"})]})]})]}):c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(F0,{className:"text-6xl text-red-400 mx-auto mb-4"}),c.jsx("div",{className:"text-white text-xl",children:"No tienes permisos de administrador"}),c.jsx("p",{className:"text-white/60 mt-2",children:"Contacta al administrador para obtener acceso"})]})}):c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(F0,{className:"text-6xl text-red-400 mx-auto mb-4"}),c.jsx("div",{className:"text-white text-xl",children:"Debes iniciar sesin para acceder"})]})})}function A$(){const{userId:t}=Ij(),e=Dt(),[n,s]=j.useState(null),[a,l]=j.useState([]),[u,h]=j.useState([]),[g,p]=j.useState(!0);j.useEffect(()=>{t&&x()},[t]);const x=async()=>{try{const v=await hn(et(be,"users",t));v.exists()?s({id:v.id,...v.data()}):s({id:t,name:"Usuario",email:"No disponible",totalPoints:0,isAdmin:!1});try{const A=(await _t(ot(be,"users",t,"progress"))).docs.map(V=>({id:V.id,...V.data()}));l(A)}catch{console.log("No progress data for user:",t),l([])}try{const A=(await _t(ot(be,"users",t,"achievements"))).docs.map(V=>({id:V.id,...V.data()}));h(A)}catch{console.log("No achievements data for user:",t),h([])}}catch(v){console.error("Error fetching user data:",v)}p(!1)};return g?c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Cargando informacin del usuario..."})}):n?c.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[c.jsx(es,{}),c.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[c.jsxs(Z.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e("/admin/users"),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[c.jsx(ja,{})," Volver a Usuarios"]}),c.jsx(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6 mb-8",children:c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:c.jsx(Mo,{className:"text-white text-3xl"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:n.name||"Usuario"}),c.jsx("p",{className:"text-white/70 text-lg mb-2",children:n.email}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-3",children:[c.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n.isAdmin?"bg-red-500/20 text-red-300":"bg-blue-500/20 text-blue-300"}`,children:n.isAdmin?"Administrador":"Usuario"}),c.jsxs("span",{className:"bg-yellow-500/20 text-yellow-300 px-3 py-1 rounded-full text-sm font-medium",children:[n.totalPoints||0," puntos"]}),c.jsx("span",{className:"bg-green-500/20 text-green-300 px-3 py-1 rounded-full text-sm font-medium",children:n.city&&n.country?`${n.city}, ${n.country}`:"Ubicacin no especificada"}),c.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full text-sm font-medium",children:n.birthdate||"Fecha no especificada"})]}),c.jsxs("p",{className:"text-white/60 text-sm",children:["Registrado: ",n.createdAt?new Date(n.createdAt.seconds*1e3).toLocaleDateString():"Fecha no disponible"]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx(Vs,{className:"text-2xl text-blue-400"}),c.jsx("h2",{className:"text-xl font-bold text-white",children:"Progreso en Libros"})]}),a.length>0?c.jsx("div",{className:"space-y-4",children:a.map((v,_)=>c.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[c.jsxs("h3",{className:"text-white font-medium mb-2",children:["Libro: ",v.id]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-white/60",children:"Captulo actual:"}),c.jsx("p",{className:"text-white",children:v.currentChapter||"N/A"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-white/60",children:"ltimo acceso:"}),c.jsx("p",{className:"text-white",children:v.lastAccess?new Date(v.lastAccess.seconds*1e3).toLocaleDateString():"N/A"})]})]})]},v.id))}):c.jsx("p",{className:"text-white/60",children:"No hay progreso registrado"})]}),c.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx(mr,{className:"text-2xl text-yellow-400"}),c.jsx("h2",{className:"text-xl font-bold text-white",children:"Logros"})]}),u.length>0?c.jsx("div",{className:"space-y-3",children:u.map((v,_)=>c.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(rc,{className:"text-yellow-400"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-white font-medium",children:v.title}),c.jsx("p",{className:"text-white/60 text-sm",children:v.description}),c.jsxs("div",{className:"flex justify-between items-center mt-2",children:[c.jsxs("span",{className:"text-yellow-300 text-sm font-medium",children:["+",v.points," puntos"]}),c.jsx("span",{className:"text-white/50 text-xs",children:v.unlockedAt?new Date(v.unlockedAt.seconds*1e3).toLocaleDateString():""})]})]})]})},v.id))}):c.jsx("p",{className:"text-white/60",children:"No hay logros desbloqueados"})]})]}),c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-8 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Informacin Personal"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-white/60 text-sm",children:"Nombre completo:"}),c.jsx("p",{className:"text-white font-medium",children:n.name||"No especificado"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-white/60 text-sm",children:"Email:"}),c.jsx("p",{className:"text-white font-medium",children:n.email})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-white/60 text-sm",children:"Fecha de nacimiento:"}),c.jsx("p",{className:"text-white font-medium",children:n.birthdate||"No especificado"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-white/60 text-sm",children:"Pas:"}),c.jsx("p",{className:"text-white font-medium",children:n.country||"No especificado"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-white/60 text-sm",children:"Ciudad:"}),c.jsx("p",{className:"text-white font-medium",children:n.city||"No especificado"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-white/60 text-sm",children:"Fecha de registro:"}),c.jsx("p",{className:"text-white font-medium",children:n.createdAt?new Date(n.createdAt.seconds*1e3).toLocaleString():"No disponible"})]})]})]})]}),c.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-6 text-center",children:"Resumen de Estadsticas"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-400",children:n.totalPoints||0}),c.jsx("div",{className:"text-white/60 text-sm",children:"Puntos Totales"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-400",children:u.length}),c.jsx("div",{className:"text-white/60 text-sm",children:"Logros"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-purple-400",children:a.length}),c.jsx("div",{className:"text-white/60 text-sm",children:"Libros Iniciados"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:n.isAdmin?"Admin":"Usuario"}),c.jsx("div",{className:"text-white/60 text-sm",children:"Rol"})]})]})]})]})]}):c.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Usuario no encontrado"})})}JN.createRoot(document.getElementById("root")).render(c.jsx(j.StrictMode,{children:c.jsx(p8,{basename:"/Project-WordQuest",children:c.jsxs($j,{children:[c.jsx(gt,{path:"/",element:c.jsx(dF,{})}),c.jsx(gt,{path:"/register",element:c.jsx(s$,{})}),c.jsx(gt,{path:"/login",element:c.jsx(i$,{})}),c.jsx(gt,{path:"/user-profile",element:c.jsx(r$,{})}),c.jsx(gt,{path:"/dashboard",element:c.jsx(a$,{})}),c.jsx(gt,{path:"/games",element:c.jsx(o$,{})}),c.jsx(gt,{path:"/adventure-shelf",element:c.jsx(m_,{})}),c.jsx(gt,{path:"/adventure",element:c.jsx(m_,{})}),c.jsx(gt,{path:"/admin",element:c.jsx(u$,{})}),c.jsx(gt,{path:"/admin/books",element:c.jsx(d$,{})}),c.jsx(gt,{path:"/admin/chapters",element:c.jsx(h$,{})}),c.jsx(gt,{path:"/admin/games",element:c.jsx(f$,{})}),c.jsx(gt,{path:"/admin/games/add-keyword",element:c.jsx(m$,{})}),c.jsx(gt,{path:"/admin/games/add-sentence",element:c.jsx(p$,{})}),c.jsx(gt,{path:"/admin/games/add-sequence",element:c.jsx(p_,{})}),c.jsx(gt,{path:"/admin/games/edit-keywords",element:c.jsx(w$,{})}),c.jsx(gt,{path:"/admin/games/edit-order-phrase",element:c.jsx(_$,{})}),c.jsx(gt,{path:"/admin/games/edit-sentence",element:c.jsx(E$,{})}),c.jsx(gt,{path:"/admin/users",element:c.jsx(T$,{})}),c.jsx(gt,{path:"/admin/users/:userId",element:c.jsx(A$,{})}),c.jsx(gt,{path:"/chapter-selection",element:c.jsx(g$,{})}),c.jsx(gt,{path:"/chapter-missions",element:c.jsx(y$,{})}),c.jsx(gt,{path:"/keywords-mode",element:c.jsx(x$,{})}),c.jsx(gt,{path:"/complete-phrase-mode",element:c.jsx(v$,{})}),c.jsx(gt,{path:"/order-sequence-mode",element:c.jsx(b$,{})}),c.jsx(gt,{path:"/add-sequence",element:c.jsx(p_,{})})]})})}));

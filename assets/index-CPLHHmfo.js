(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function EN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h0={exports:{}},Nu={};var Eb;function TN(){if(Eb)return Nu;Eb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Nu.Fragment=e,Nu.jsx=n,Nu.jsxs=n,Nu}var Tb;function AN(){return Tb||(Tb=1,h0.exports=TN()),h0.exports}var d=AN(),f0={exports:{}},Re={};var Ab;function SN(){if(Ab)return Re;Ab=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function S($){return $===null||typeof $!="object"?null:($=E&&$[E]||$["@@iterator"],typeof $=="function"?$:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,z={};function H($,ae,de){this.props=$,this.context=ae,this.refs=z,this.updater=de||D}H.prototype.isReactComponent={},H.prototype.setState=function($,ae){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ae,"setState")},H.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function k(){}k.prototype=H.prototype;function V($,ae,de){this.props=$,this.context=ae,this.refs=z,this.updater=de||D}var B=V.prototype=new k;B.constructor=V,U(B,H.prototype),B.isPureReactComponent=!0;var M=Array.isArray;function G(){}var C={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function j($,ae,de){var fe=de.ref;return{$$typeof:t,type:$,key:ae,ref:fe!==void 0?fe:null,props:de}}function P($,ae){return j($.type,ae,$.props)}function O($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function F($){var ae={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(de){return ae[de]})}var I=/\/+/g;function je($,ae){return typeof $=="object"&&$!==null&&$.key!=null?F(""+$.key):ae.toString(36)}function tt($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(G,G):($.status="pending",$.then(function(ae){$.status==="pending"&&($.status="fulfilled",$.value=ae)},function(ae){$.status==="pending"&&($.status="rejected",$.reason=ae)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function ee($,ae,de,fe,Ce){var Ve=typeof $;(Ve==="undefined"||Ve==="boolean")&&($=null);var Ke=!1;if($===null)Ke=!0;else switch(Ve){case"bigint":case"string":case"number":Ke=!0;break;case"object":switch($.$$typeof){case t:case e:Ke=!0;break;case x:return Ke=$._init,ee(Ke($._payload),ae,de,fe,Ce)}}if(Ke)return Ce=Ce($),Ke=fe===""?"."+je($,0):fe,M(Ce)?(de="",Ke!=null&&(de=Ke.replace(I,"$&/")+"/"),ee(Ce,ae,de,"",function(ja){return ja})):Ce!=null&&(O(Ce)&&(Ce=P(Ce,de+(Ce.key==null||$&&$.key===Ce.key?"":(""+Ce.key).replace(I,"$&/")+"/")+Ke)),ae.push(Ce)),1;Ke=0;var Zt=fe===""?".":fe+":";if(M($))for(var xt=0;xt<$.length;xt++)fe=$[xt],Ve=Zt+je(fe,xt),Ke+=ee(fe,ae,de,Ve,Ce);else if(xt=S($),typeof xt=="function")for($=xt.call($),xt=0;!(fe=$.next()).done;)fe=fe.value,Ve=Zt+je(fe,xt++),Ke+=ee(fe,ae,de,Ve,Ce);else if(Ve==="object"){if(typeof $.then=="function")return ee(tt($),ae,de,fe,Ce);throw ae=String($),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ke}function ce($,ae,de){if($==null)return $;var fe=[],Ce=0;return ee($,fe,"","",function(Ve){return ae.call(de,Ve,Ce++)}),fe}function me($){if($._status===-1){var ae=$._result;ae=ae(),ae.then(function(de){($._status===0||$._status===-1)&&($._status=1,$._result=de)},function(de){($._status===0||$._status===-1)&&($._status=2,$._result=de)}),$._status===-1&&($._status=0,$._result=ae)}if($._status===1)return $._result.default;throw $._result}var Pe=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},ze={map:ce,forEach:function($,ae,de){ce($,function(){ae.apply(this,arguments)},de)},count:function($){var ae=0;return ce($,function(){ae++}),ae},toArray:function($){return ce($,function(ae){return ae})||[]},only:function($){if(!O($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Re.Activity=v,Re.Children=ze,Re.Component=H,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=V,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Re.__COMPILER_RUNTIME={__proto__:null,c:function($){return C.H.useMemoCache($)}},Re.cache=function($){return function(){return $.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function($,ae,de){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var fe=U({},$.props),Ce=$.key;if(ae!=null)for(Ve in ae.key!==void 0&&(Ce=""+ae.key),ae)!T.call(ae,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&ae.ref===void 0||(fe[Ve]=ae[Ve]);var Ve=arguments.length-2;if(Ve===1)fe.children=de;else if(1<Ve){for(var Ke=Array(Ve),Zt=0;Zt<Ve;Zt++)Ke[Zt]=arguments[Zt+2];fe.children=Ke}return j($.type,Ce,fe)},Re.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:l,_context:$},$},Re.createElement=function($,ae,de){var fe,Ce={},Ve=null;if(ae!=null)for(fe in ae.key!==void 0&&(Ve=""+ae.key),ae)T.call(ae,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ce[fe]=ae[fe]);var Ke=arguments.length-2;if(Ke===1)Ce.children=de;else if(1<Ke){for(var Zt=Array(Ke),xt=0;xt<Ke;xt++)Zt[xt]=arguments[xt+2];Ce.children=Zt}if($&&$.defaultProps)for(fe in Ke=$.defaultProps,Ke)Ce[fe]===void 0&&(Ce[fe]=Ke[fe]);return j($,Ve,Ce)},Re.createRef=function(){return{current:null}},Re.forwardRef=function($){return{$$typeof:h,render:$}},Re.isValidElement=O,Re.lazy=function($){return{$$typeof:x,_payload:{_status:-1,_result:$},_init:me}},Re.memo=function($,ae){return{$$typeof:g,type:$,compare:ae===void 0?null:ae}},Re.startTransition=function($){var ae=C.T,de={};C.T=de;try{var fe=$(),Ce=C.S;Ce!==null&&Ce(de,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(G,Pe)}catch(Ve){Pe(Ve)}finally{ae!==null&&de.types!==null&&(ae.types=de.types),C.T=ae}},Re.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Re.use=function($){return C.H.use($)},Re.useActionState=function($,ae,de){return C.H.useActionState($,ae,de)},Re.useCallback=function($,ae){return C.H.useCallback($,ae)},Re.useContext=function($){return C.H.useContext($)},Re.useDebugValue=function(){},Re.useDeferredValue=function($,ae){return C.H.useDeferredValue($,ae)},Re.useEffect=function($,ae){return C.H.useEffect($,ae)},Re.useEffectEvent=function($){return C.H.useEffectEvent($)},Re.useId=function(){return C.H.useId()},Re.useImperativeHandle=function($,ae,de){return C.H.useImperativeHandle($,ae,de)},Re.useInsertionEffect=function($,ae){return C.H.useInsertionEffect($,ae)},Re.useLayoutEffect=function($,ae){return C.H.useLayoutEffect($,ae)},Re.useMemo=function($,ae){return C.H.useMemo($,ae)},Re.useOptimistic=function($,ae){return C.H.useOptimistic($,ae)},Re.useReducer=function($,ae,de){return C.H.useReducer($,ae,de)},Re.useRef=function($){return C.H.useRef($)},Re.useState=function($){return C.H.useState($)},Re.useSyncExternalStore=function($,ae,de){return C.H.useSyncExternalStore($,ae,de)},Re.useTransition=function(){return C.H.useTransition()},Re.version="19.2.0",Re}var Sb;function i2(){return Sb||(Sb=1,f0.exports=SN()),f0.exports}var R=i2();const po=EN(R);var m0={exports:{}},ju={},p0={exports:{}},g0={};var Cb;function CN(){return Cb||(Cb=1,(function(t){function e(ee,ce){var me=ee.length;ee.push(ce);e:for(;0<me;){var Pe=me-1>>>1,ze=ee[Pe];if(0<a(ze,ce))ee[Pe]=ce,ee[me]=ze,me=Pe;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var ce=ee[0],me=ee.pop();if(me!==ce){ee[0]=me;e:for(var Pe=0,ze=ee.length,$=ze>>>1;Pe<$;){var ae=2*(Pe+1)-1,de=ee[ae],fe=ae+1,Ce=ee[fe];if(0>a(de,me))fe<ze&&0>a(Ce,de)?(ee[Pe]=Ce,ee[fe]=me,Pe=fe):(ee[Pe]=de,ee[ae]=me,Pe=ae);else if(fe<ze&&0>a(Ce,me))ee[Pe]=Ce,ee[fe]=me,Pe=fe;else break e}}return ce}function a(ee,ce){var me=ee.sortIndex-ce.sortIndex;return me!==0?me:ee.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var p=[],g=[],x=1,v=null,E=3,S=!1,D=!1,U=!1,z=!1,H=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function B(ee){for(var ce=n(g);ce!==null;){if(ce.callback===null)s(g);else if(ce.startTime<=ee)s(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=n(g)}}function M(ee){if(U=!1,B(ee),!D)if(n(p)!==null)D=!0,G||(G=!0,F());else{var ce=n(g);ce!==null&&tt(M,ce.startTime-ee)}}var G=!1,C=-1,T=5,j=-1;function P(){return z?!0:!(t.unstable_now()-j<T)}function O(){if(z=!1,G){var ee=t.unstable_now();j=ee;var ce=!0;try{e:{D=!1,U&&(U=!1,k(C),C=-1),S=!0;var me=E;try{t:{for(B(ee),v=n(p);v!==null&&!(v.expirationTime>ee&&P());){var Pe=v.callback;if(typeof Pe=="function"){v.callback=null,E=v.priorityLevel;var ze=Pe(v.expirationTime<=ee);if(ee=t.unstable_now(),typeof ze=="function"){v.callback=ze,B(ee),ce=!0;break t}v===n(p)&&s(p),B(ee)}else s(p);v=n(p)}if(v!==null)ce=!0;else{var $=n(g);$!==null&&tt(M,$.startTime-ee),ce=!1}}break e}finally{v=null,E=me,S=!1}ce=void 0}}finally{ce?F():G=!1}}}var F;if(typeof V=="function")F=function(){V(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,je=I.port2;I.port1.onmessage=O,F=function(){je.postMessage(null)}}else F=function(){H(O,0)};function tt(ee,ce){C=H(function(){ee(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(ee){switch(E){case 1:case 2:case 3:var ce=3;break;default:ce=E}var me=E;E=ce;try{return ee()}finally{E=me}},t.unstable_requestPaint=function(){z=!0},t.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var me=E;E=ee;try{return ce()}finally{E=me}},t.unstable_scheduleCallback=function(ee,ce,me){var Pe=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Pe+me:Pe):me=Pe,ee){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=me+ze,ee={id:x++,callback:ce,priorityLevel:ee,startTime:me,expirationTime:ze,sortIndex:-1},me>Pe?(ee.sortIndex=me,e(g,ee),n(p)===null&&ee===n(g)&&(U?(k(C),C=-1):U=!0,tt(M,me-Pe))):(ee.sortIndex=ze,e(p,ee),D||S||(D=!0,G||(G=!0,F()))),ee},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(ee){var ce=E;return function(){var me=E;E=ce;try{return ee.apply(this,arguments)}finally{E=me}}}})(g0)),g0}var Nb;function NN(){return Nb||(Nb=1,p0.exports=CN()),p0.exports}var y0={exports:{}},_n={};var jb;function jN(){if(jb)return _n;jb=1;var t=i2();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:p,containerInfo:g,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,_n.createPortal=function(p,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,x)},_n.flushSync=function(p){var g=u.T,x=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=g,s.p=x,s.d.f()}},_n.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},_n.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},_n.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var x=g.as,v=h(x,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:S}):x==="script"&&s.d.X(p,{crossOrigin:v,integrity:E,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_n.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=h(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},_n.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,v=h(x,g.crossOrigin);s.d.L(p,x,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_n.preloadModule=function(p,g){if(typeof p=="string")if(g){var x=h(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},_n.requestFormReset=function(p){s.d.r(p)},_n.unstable_batchedUpdates=function(p,g){return p(g)},_n.useFormState=function(p,g,x){return u.H.useFormState(p,g,x)},_n.useFormStatus=function(){return u.H.useHostTransitionStatus()},_n.version="19.2.0",_n}var Rb;function RN(){if(Rb)return y0.exports;Rb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),y0.exports=jN(),y0.exports}var Ib;function IN(){if(Ib)return ju;Ib=1;var t=NN(),e=i2(),n=RN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return p(m),i;if(y===c)return p(m),r;y=y.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=y;else{for(var b=!1,A=m.child;A;){if(A===o){b=!0,o=m,c=y;break}if(A===c){b=!0,c=m,o=y;break}A=A.sibling}if(!b){for(A=y.child;A;){if(A===o){b=!0,o=y,c=m;break}if(A===c){b=!0,c=y,o=m;break}A=A.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function x(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=x(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),V=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function je(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case H:return"Profiler";case z:return"StrictMode";case M:return"Suspense";case G:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case V:return i.displayName||"Context";case k:return(i._context.displayName||"Context")+".Consumer";case B:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:je(i.type)||"Memo";case T:r=i._payload,i=i._init;try{return je(i(r))}catch{}}return null}var tt=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Pe=[],ze=-1;function $(i){return{current:i}}function ae(i){0>ze||(i.current=Pe[ze],Pe[ze]=null,ze--)}function de(i,r){ze++,Pe[ze]=i.current,i.current=r}var fe=$(null),Ce=$(null),Ve=$(null),Ke=$(null);function Zt(i,r){switch(de(Ve,r),de(Ce,i),de(fe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Gw(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Gw(r),i=Kw(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(fe),de(fe,i)}function xt(){ae(fe),ae(Ce),ae(Ve)}function ja(i){i.memoizedState!==null&&de(Ke,i);var r=fe.current,o=Kw(r,i.type);r!==o&&(de(Ce,i),de(fe,o))}function Oo(i){Ce.current===i&&(ae(fe),ae(Ce)),Ke.current===i&&(ae(Ke),Tu._currentValue=me)}var Lo,Bo;function es(i){if(Lo===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Lo=r&&r[1]||"",Bo=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lo+i+Bo}var Tc=!1;function Ra(i,r){if(!i||Tc)return"";Tc=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(J){var W=J}Reflect.construct(i,[],re)}else{try{re.call()}catch(J){W=J}i.call(re.prototype)}}else{try{throw Error()}catch(J){W=J}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),b=y[0],A=y[1];if(b&&A){var L=b.split(`
`),X=A.split(`
`);for(m=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(c===L.length||m===X.length)for(c=L.length-1,m=X.length-1;1<=c&&0<=m&&L[c]!==X[m];)m--;for(;1<=c&&0<=m;c--,m--)if(L[c]!==X[m]){if(c!==1||m!==1)do if(c--,m--,0>m||L[c]!==X[m]){var ie=`
`+L[c].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=c&&0<=m);break}}}finally{Tc=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?es(o):""}function Ac(i,r){switch(i.tag){case 26:case 27:case 5:return es(i.type);case 16:return es("Lazy");case 13:return i.child!==r&&r!==null?es("Suspense Fallback"):es("Suspense");case 19:return es("SuspenseList");case 0:case 15:return Ra(i.type,!1);case 11:return Ra(i.type.render,!1);case 1:return Ra(i.type,!0);case 31:return es("Activity");default:return""}}function Sc(i){try{var r="",o=null;do r+=Ac(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ot=Object.prototype.hasOwnProperty,Jt=t.unstable_scheduleCallback,_r=t.unstable_cancelCallback,mp=t.unstable_shouldYield,Fd=t.unstable_requestPaint,Rn=t.unstable_now,Ia=t.unstable_getCurrentPriorityLevel,Cc=t.unstable_ImmediatePriority,Nc=t.unstable_UserBlockingPriority,Er=t.unstable_NormalPriority,pp=t.unstable_LowPriority,Hd=t.unstable_IdlePriority,qd=t.log,$d=t.unstable_setDisableYieldValue,Mi=null,un=null;function li(i){if(typeof qd=="function"&&$d(i),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(Mi,i)}catch{}}var Nt=Math.clz32?Math.clz32:Kd,Gd=Math.log,zo=Math.LN2;function Kd(i){return i>>>=0,i===0?32:31-(Gd(i)/zo|0)|0}var ts=256,ka=262144,Lt=4194304;function ns(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function is(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,y=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~y,c!==0?m=ns(c):(b&=A,b!==0?m=ns(b):o||(o=A&~i,o!==0&&(m=ns(o))))):(A=c&~y,A!==0?m=ns(A):b!==0?m=ns(b):o||(o=c&~i,o!==0&&(m=ns(o)))),m===0?0:r!==0&&r!==m&&(r&y)===0&&(y=m&-m,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:m}function Pi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function gp(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yd(){var i=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),i}function ss(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Da(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function yp(i,r,o,c,m,y){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,L=i.expirationTimes,X=i.hiddenUpdates;for(o=b&~o;0<o;){var ie=31-Nt(o),re=1<<ie;A[ie]=0,L[ie]=-1;var W=X[ie];if(W!==null)for(X[ie]=null,ie=0;ie<W.length;ie++){var J=W[ie];J!==null&&(J.lane&=-536870913)}o&=~re}c!==0&&Ma(i,c,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(b&~r))}function Ma(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Nt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function jc(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Nt(o),m=1<<c;m&r|i[c]&r&&(i[c]|=r),o&=~m}}function Rc(i,r){var o=r&-r;return o=(o&42)!==0?1:Pa(o),(o&(i.suspendedLanes|r))!==0?0:o}function Pa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Bs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Qd(){var i=ce.p;return i!==0?i:(i=window.event,i===void 0?32:gb(i.type))}function Vi(i,r){var o=ce.p;try{return ce.p=i,r()}finally{ce.p=o}}var Oi=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Oi,rn="__reactProps$"+Oi,rs="__reactContainer$"+Oi,Uo="__reactEvents$"+Oi,xp="__reactListeners$"+Oi,Xd="__reactHandles$"+Oi,Wd="__reactResources$"+Oi,as="__reactMarker$"+Oi;function Fo(i){delete i[Bt],delete i[rn],delete i[Uo],delete i[xp],delete i[Xd]}function os(i){var r=i[Bt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[rs]||o[Bt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=eb(i);i!==null;){if(o=i[Bt])return o;i=eb(i)}return r}i=o,o=i.parentNode}return null}function ci(i){if(i=i[Bt]||i[rs]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Yn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ls(i){var r=i[Wd];return r||(r=i[Wd]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function zt(i){i[as]=!0}var Ic=new Set,kc={};function cs(i,r){us(i,r),us(i+"Capture",r)}function us(i,r){for(kc[i]=r,i=0;i<r.length;i++)Ic.add(r[i])}var Dc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mc={},Pc={};function Zd(i){return Ot.call(Pc,i)?!0:Ot.call(Mc,i)?!1:Dc.test(i)?Pc[i]=!0:(Mc[i]=!0,!1)}function Ho(i,r,o){if(Zd(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Qn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Ut(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function an(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Tr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Vc(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(b){o=""+b,y.call(this,b)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function it(i){if(!i._valueTracker){var r=Tr(i)?"checked":"value";i._valueTracker=Vc(i,r,""+i[r])}}function Va(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Tr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function ds(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Oa=/[\n"\\]/g;function On(i){return i.replace(Oa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function qo(i,r,o,c,m,y,b,A){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+an(r)):i.value!==""+an(r)&&(i.value=""+an(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Oc(i,b,an(r)):o!=null?Oc(i,b,an(o)):c!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+an(A):i.removeAttribute("name")}function Jd(i,r,o,c,m,y,b,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){it(i);return}o=o!=null?""+an(o):"",r=r!=null?""+an(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),it(i)}function Oc(i,r,o){r==="number"&&ds(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ar(i,r,o,c){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+an(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function eh(i,r,o){if(r!=null&&(r=""+an(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+an(o):""}function Sr(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(tt(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=an(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),it(i)}function Ln(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var th=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lc(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||th.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Bc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&Lc(i,m,c)}else for(var y in r)r.hasOwnProperty(y)&&Lc(i,y,r[y])}function $o(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Go(i){return Cr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Li(){}var zc=null;function ui(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Nr=null,hs=null;function La(i){var r=ci(i);if(r&&(i=r.stateNode)){var o=i[rn]||null;e:switch(i=r.stateNode,r.type){case"input":if(qo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+On(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var m=c[rn]||null;if(!m)throw Error(s(90));qo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&Va(c)}break e;case"textarea":eh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ar(i,!!o.multiple,r,!1)}}}var Ko=!1;function jr(i,r,o){if(Ko)return i(r,o);Ko=!0;try{var c=i(r);return c}finally{if(Ko=!1,(Nr!==null||hs!==null)&&(Qh(),Nr&&(r=Nr,i=hs,hs=Nr=null,La(r),i)))for(r=0;r<i.length;r++)La(i[r])}}function Bi(i,r){var o=i.stateNode;if(o===null)return null;var c=o[rn]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ba=!1;if(di)try{var at={};Object.defineProperty(at,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Ba=!1}var fs=null,Uc=null,za=null;function Fc(){if(za)return za;var i,r=Uc,o=r.length,c,m="value"in fs?fs.value:fs.textContent,y=m.length;for(i=0;i<o&&r[i]===m[i];i++);var b=o-i;for(c=1;c<=b&&r[o-c]===m[y-c];c++);return za=m.slice(i,1<c?1-c:void 0)}function Ua(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function zs(){return!0}function zi(){return!1}function dn(i){function r(o,c,m,y,b){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?zs:zi,this.isPropagationStopped=zi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),r}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ms=dn(Us),Rr=v({},Us,{view:0,detail:0}),Hc=dn(Rr),Ir,Yo,ps,Qo=v({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ps&&(ps&&i.type==="mousemove"?(Ir=i.screenX-ps.screenX,Yo=i.screenY-ps.screenY):Yo=Ir=0,ps=i),Ir)},movementY:function(i){return"movementY"in i?i.movementY:Yo}}),qc=dn(Qo),Fa=v({},Qo,{dataTransfer:0}),ih=dn(Fa),sh=v({},Rr,{relatedTarget:0}),Ha=dn(sh),$c=v({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),rh=dn($c),Xo=v({},Us,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ah=dn(Xo),oh=v({},Us,{data:0}),gs=dn(oh),lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=uh[i])?!!r[i]:!1}function kr(){return dh}var In=v({},Rr,{key:function(i){if(i.key){var r=lh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ua(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ch[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(i){return i.type==="keypress"?Ua(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ua(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),hh=dn(In),fh=v({},Qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fs=dn(fh),f=v({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),w=dn(f),_=v({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=dn(_),Y=v({},Qo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=dn(Y),ue=v({},Us,{newState:0,oldState:0}),De=dn(ue),jt=[9,13,27,32],Ze=di&&"CompositionEvent"in window,vt=null;di&&"documentMode"in document&&(vt=document.documentMode);var hi=di&&"TextEvent"in window&&!vt,ys=di&&(!Ze||vt&&8<vt&&11>=vt),Ui=" ",Fi=!1;function qa(i,r){switch(i){case"keyup":return jt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Zo=!1;function KS(i,r){switch(i){case"compositionend":return Wo(r);case"keypress":return r.which!==32?null:(Fi=!0,Ui);case"textInput":return i=r.data,i===Ui&&Fi?null:i;default:return null}}function YS(i,r){if(Zo)return i==="compositionend"||!Ze&&qa(i,r)?(i=Fc(),za=Uc=fs=null,Zo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ys&&r.locale!=="ko"?null:r.data;default:return null}}var QS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ix(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!QS[i.type]:r==="textarea"}function sx(i,r,o,c){Nr?hs?hs.push(c):hs=[c]:Nr=c,r=nf(r,"onChange"),0<r.length&&(o=new ms("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var Gc=null,Kc=null;function XS(i){zw(i,0)}function mh(i){var r=Yn(i);if(Va(r))return i}function rx(i,r){if(i==="change")return r}var ax=!1;if(di){var vp;if(di){var wp="oninput"in document;if(!wp){var ox=document.createElement("div");ox.setAttribute("oninput","return;"),wp=typeof ox.oninput=="function"}vp=wp}else vp=!1;ax=vp&&(!document.documentMode||9<document.documentMode)}function lx(){Gc&&(Gc.detachEvent("onpropertychange",cx),Kc=Gc=null)}function cx(i){if(i.propertyName==="value"&&mh(Kc)){var r=[];sx(r,Kc,i,ui(i)),jr(XS,r)}}function WS(i,r,o){i==="focusin"?(lx(),Gc=r,Kc=o,Gc.attachEvent("onpropertychange",cx)):i==="focusout"&&lx()}function ZS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return mh(Kc)}function JS(i,r){if(i==="click")return mh(r)}function eC(i,r){if(i==="input"||i==="change")return mh(r)}function tC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Xn=typeof Object.is=="function"?Object.is:tC;function Yc(i,r){if(Xn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Ot.call(r,m)||!Xn(i[m],r[m]))return!1}return!0}function ux(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function dx(i,r){var o=ux(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ux(o)}}function hx(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?hx(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function fx(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ds(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ds(i.document)}return r}function bp(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var nC=di&&"documentMode"in document&&11>=document.documentMode,Jo=null,_p=null,Qc=null,Ep=!1;function mx(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ep||Jo==null||Jo!==ds(c)||(c=Jo,"selectionStart"in c&&bp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Qc&&Yc(Qc,c)||(Qc=c,c=nf(_p,"onSelect"),0<c.length&&(r=new ms("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Jo)))}function $a(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var el={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Tp={},px={};di&&(px=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function Ga(i){if(Tp[i])return Tp[i];if(!el[i])return i;var r=el[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in px)return Tp[i]=r[o];return i}var gx=Ga("animationend"),yx=Ga("animationiteration"),xx=Ga("animationstart"),iC=Ga("transitionrun"),sC=Ga("transitionstart"),rC=Ga("transitioncancel"),vx=Ga("transitionend"),wx=new Map,Ap="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ap.push("scrollEnd");function Hi(i,r){wx.set(i,r),cs(r,[i])}var ph=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},fi=[],tl=0,Sp=0;function gh(){for(var i=tl,r=Sp=tl=0;r<i;){var o=fi[r];fi[r++]=null;var c=fi[r];fi[r++]=null;var m=fi[r];fi[r++]=null;var y=fi[r];if(fi[r++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}y!==0&&bx(o,m,y)}}function yh(i,r,o,c){fi[tl++]=i,fi[tl++]=r,fi[tl++]=o,fi[tl++]=c,Sp|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Cp(i,r,o,c){return yh(i,r,o,c),xh(i)}function Ka(i,r){return yh(i,null,null,r),xh(i)}function bx(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,y=i.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&r!==null&&(m=31-Nt(o),i=y.hiddenUpdates,c=i[m],c===null?i[m]=[r]:c.push(r),r.lane=o|536870912),y):null}function xh(i){if(50<yu)throw yu=0,Vg=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var nl={};function aC(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(i,r,o,c){return new aC(i,r,o,c)}function Np(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Hs(i,r){var o=i.alternate;return o===null?(o=Wn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function _x(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function vh(i,r,o,c,m,y){var b=0;if(c=i,typeof i=="function")Np(i)&&(b=1);else if(typeof i=="string")b=dN(i,o,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case j:return i=Wn(31,o,r,m),i.elementType=j,i.lanes=y,i;case U:return Ya(o.children,m,y,r);case z:b=8,m|=24;break;case H:return i=Wn(12,o,r,m|2),i.elementType=H,i.lanes=y,i;case M:return i=Wn(13,o,r,m),i.elementType=M,i.lanes=y,i;case G:return i=Wn(19,o,r,m),i.elementType=G,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:b=10;break e;case k:b=9;break e;case B:b=11;break e;case C:b=14;break e;case T:b=16,c=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Wn(b,o,r,m),r.elementType=i,r.type=c,r.lanes=y,r}function Ya(i,r,o,c){return i=Wn(7,i,c,r),i.lanes=o,i}function jp(i,r,o){return i=Wn(6,i,null,r),i.lanes=o,i}function Ex(i){var r=Wn(18,null,null,0);return r.stateNode=i,r}function Rp(i,r,o){return r=Wn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Tx=new WeakMap;function mi(i,r){if(typeof i=="object"&&i!==null){var o=Tx.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Sc(r)},Tx.set(i,r),r)}return{value:i,source:r,stack:Sc(r)}}var il=[],sl=0,wh=null,Xc=0,pi=[],gi=0,Dr=null,xs=1,vs="";function qs(i,r){il[sl++]=Xc,il[sl++]=wh,wh=i,Xc=r}function Ax(i,r,o){pi[gi++]=xs,pi[gi++]=vs,pi[gi++]=Dr,Dr=i;var c=xs;i=vs;var m=32-Nt(c)-1;c&=~(1<<m),o+=1;var y=32-Nt(r)+m;if(30<y){var b=m-m%5;y=(c&(1<<b)-1).toString(32),c>>=b,m-=b,xs=1<<32-Nt(r)+m|o<<m|c,vs=y+i}else xs=1<<y|o<<m|c,vs=i}function Ip(i){i.return!==null&&(qs(i,1),Ax(i,1,0))}function kp(i){for(;i===wh;)wh=il[--sl],il[sl]=null,Xc=il[--sl],il[sl]=null;for(;i===Dr;)Dr=pi[--gi],pi[gi]=null,vs=pi[--gi],pi[gi]=null,xs=pi[--gi],pi[gi]=null}function Sx(i,r){pi[gi++]=xs,pi[gi++]=vs,pi[gi++]=Dr,xs=r.id,vs=r.overflow,Dr=i}var hn=null,ft=null,Ge=!1,Mr=null,yi=!1,Dp=Error(s(519));function Pr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wc(mi(r,i)),Dp}function Cx(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Bt]=i,r[rn]=c,o){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(o=0;o<vu.length;o++)Be(vu[o],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Be("invalid",r),Jd(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Be("invalid",r);break;case"textarea":Be("invalid",r),Sr(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||qw(r.textContent,o)?(c.popover!=null&&(Be("beforetoggle",r),Be("toggle",r)),c.onScroll!=null&&Be("scroll",r),c.onScrollEnd!=null&&Be("scrollend",r),c.onClick!=null&&(r.onclick=Li),r=!0):r=!1,r||Pr(i,!0)}function Nx(i){for(hn=i.return;hn;)switch(hn.tag){case 5:case 31:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:hn=hn.return}}function rl(i){if(i!==hn)return!1;if(!Ge)return Nx(i),Ge=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Wg(i.type,i.memoizedProps)),o=!o),o&&ft&&Pr(i),Nx(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ft=Jw(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ft=Jw(i)}else r===27?(r=ft,Qr(i.type)?(i=n0,n0=null,ft=i):ft=r):ft=hn?vi(i.stateNode.nextSibling):null;return!0}function Qa(){ft=hn=null,Ge=!1}function Mp(){var i=Mr;return i!==null&&(Fn===null?Fn=i:Fn.push.apply(Fn,i),Mr=null),i}function Wc(i){Mr===null?Mr=[i]:Mr.push(i)}var Pp=$(null),Xa=null,$s=null;function Vr(i,r,o){de(Pp,r._currentValue),r._currentValue=o}function Gs(i){i._currentValue=Pp.current,ae(Pp)}function Vp(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function Op(i,r,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var b=m.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=m;for(var L=0;L<r.length;L++)if(A.context===r[L]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),Vp(y.return,o,i),c||(b=null);break e}y=A.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(s(341));b.lanes|=o,y=b.alternate,y!==null&&(y.lanes|=o),Vp(b,o,i),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===i){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function al(i,r,o,c){i=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var A=m.type;Xn(m.pendingProps.value,b.value)||(i!==null?i.push(A):i=[A])}}else if(m===Ke.current){if(b=m.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Tu):i=[Tu])}m=m.return}i!==null&&Op(r,i,o,c),r.flags|=262144}function bh(i){for(i=i.firstContext;i!==null;){if(!Xn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Wa(i){Xa=i,$s=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function fn(i){return jx(Xa,i)}function _h(i,r){return Xa===null&&Wa(i),jx(i,r)}function jx(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},$s===null){if(i===null)throw Error(s(308));$s=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else $s=$s.next=r;return o}var oC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},lC=t.unstable_scheduleCallback,cC=t.unstable_NormalPriority,Ft={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lp(){return{controller:new oC,data:new Map,refCount:0}}function Zc(i){i.refCount--,i.refCount===0&&lC(cC,function(){i.controller.abort()})}var Jc=null,Bp=0,ol=0,ll=null;function uC(i,r){if(Jc===null){var o=Jc=[];Bp=0,ol=Fg(),ll={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Bp++,r.then(Rx,Rx),r}function Rx(){if(--Bp===0&&Jc!==null){ll!==null&&(ll.status="fulfilled");var i=Jc;Jc=null,ol=0,ll=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function dC(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Ix=ee.S;ee.S=function(i,r){mw=Rn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&uC(i,r),Ix!==null&&Ix(i,r)};var Za=$(null);function zp(){var i=Za.current;return i!==null?i:dt.pooledCache}function Eh(i,r){r===null?de(Za,Za.current):de(Za,r.pool)}function kx(){var i=zp();return i===null?null:{parent:Ft._currentValue,pool:i}}var cl=Error(s(460)),Up=Error(s(474)),Th=Error(s(542)),Ah={then:function(){}};function Dx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Mx(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Li,Li),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Vx(i),i;default:if(typeof r.status=="string")r.then(Li,Li);else{if(i=dt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Vx(i),i}throw eo=r,cl}}function Ja(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(eo=o,cl):o}}var eo=null;function Px(){if(eo===null)throw Error(s(459));var i=eo;return eo=null,i}function Vx(i){if(i===cl||i===Th)throw Error(s(483))}var ul=null,eu=0;function Sh(i){var r=eu;return eu+=1,ul===null&&(ul=[]),Mx(ul,i,r)}function tu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ch(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Ox(i){function r(K,q){if(i){var Q=K.deletions;Q===null?(K.deletions=[q],K.flags|=16):Q.push(q)}}function o(K,q){if(!i)return null;for(;q!==null;)r(K,q),q=q.sibling;return null}function c(K){for(var q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function m(K,q){return K=Hs(K,q),K.index=0,K.sibling=null,K}function y(K,q,Q){return K.index=Q,i?(Q=K.alternate,Q!==null?(Q=Q.index,Q<q?(K.flags|=67108866,q):Q):(K.flags|=67108866,q)):(K.flags|=1048576,q)}function b(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function A(K,q,Q,se){return q===null||q.tag!==6?(q=jp(Q,K.mode,se),q.return=K,q):(q=m(q,Q),q.return=K,q)}function L(K,q,Q,se){var ve=Q.type;return ve===U?ie(K,q,Q.props.children,se,Q.key):q!==null&&(q.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===T&&Ja(ve)===q.type)?(q=m(q,Q.props),tu(q,Q),q.return=K,q):(q=vh(Q.type,Q.key,Q.props,null,K.mode,se),tu(q,Q),q.return=K,q)}function X(K,q,Q,se){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=Rp(Q,K.mode,se),q.return=K,q):(q=m(q,Q.children||[]),q.return=K,q)}function ie(K,q,Q,se,ve){return q===null||q.tag!==7?(q=Ya(Q,K.mode,se,ve),q.return=K,q):(q=m(q,Q),q.return=K,q)}function re(K,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=jp(""+q,K.mode,Q),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return Q=vh(q.type,q.key,q.props,null,K.mode,Q),tu(Q,q),Q.return=K,Q;case D:return q=Rp(q,K.mode,Q),q.return=K,q;case T:return q=Ja(q),re(K,q,Q)}if(tt(q)||F(q))return q=Ya(q,K.mode,Q,null),q.return=K,q;if(typeof q.then=="function")return re(K,Sh(q),Q);if(q.$$typeof===V)return re(K,_h(K,q),Q);Ch(K,q)}return null}function W(K,q,Q,se){var ve=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ve!==null?null:A(K,q,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return Q.key===ve?L(K,q,Q,se):null;case D:return Q.key===ve?X(K,q,Q,se):null;case T:return Q=Ja(Q),W(K,q,Q,se)}if(tt(Q)||F(Q))return ve!==null?null:ie(K,q,Q,se,null);if(typeof Q.then=="function")return W(K,q,Sh(Q),se);if(Q.$$typeof===V)return W(K,q,_h(K,Q),se);Ch(K,Q)}return null}function J(K,q,Q,se,ve){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return K=K.get(Q)||null,A(q,K,""+se,ve);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return K=K.get(se.key===null?Q:se.key)||null,L(q,K,se,ve);case D:return K=K.get(se.key===null?Q:se.key)||null,X(q,K,se,ve);case T:return se=Ja(se),J(K,q,Q,se,ve)}if(tt(se)||F(se))return K=K.get(Q)||null,ie(q,K,se,ve,null);if(typeof se.then=="function")return J(K,q,Q,Sh(se),ve);if(se.$$typeof===V)return J(K,q,Q,_h(q,se),ve);Ch(q,se)}return null}function pe(K,q,Q,se){for(var ve=null,Qe=null,xe=q,Oe=q=0,Fe=null;xe!==null&&Oe<Q.length;Oe++){xe.index>Oe?(Fe=xe,xe=null):Fe=xe.sibling;var Xe=W(K,xe,Q[Oe],se);if(Xe===null){xe===null&&(xe=Fe);break}i&&xe&&Xe.alternate===null&&r(K,xe),q=y(Xe,q,Oe),Qe===null?ve=Xe:Qe.sibling=Xe,Qe=Xe,xe=Fe}if(Oe===Q.length)return o(K,xe),Ge&&qs(K,Oe),ve;if(xe===null){for(;Oe<Q.length;Oe++)xe=re(K,Q[Oe],se),xe!==null&&(q=y(xe,q,Oe),Qe===null?ve=xe:Qe.sibling=xe,Qe=xe);return Ge&&qs(K,Oe),ve}for(xe=c(xe);Oe<Q.length;Oe++)Fe=J(xe,K,Oe,Q[Oe],se),Fe!==null&&(i&&Fe.alternate!==null&&xe.delete(Fe.key===null?Oe:Fe.key),q=y(Fe,q,Oe),Qe===null?ve=Fe:Qe.sibling=Fe,Qe=Fe);return i&&xe.forEach(function(ea){return r(K,ea)}),Ge&&qs(K,Oe),ve}function _e(K,q,Q,se){if(Q==null)throw Error(s(151));for(var ve=null,Qe=null,xe=q,Oe=q=0,Fe=null,Xe=Q.next();xe!==null&&!Xe.done;Oe++,Xe=Q.next()){xe.index>Oe?(Fe=xe,xe=null):Fe=xe.sibling;var ea=W(K,xe,Xe.value,se);if(ea===null){xe===null&&(xe=Fe);break}i&&xe&&ea.alternate===null&&r(K,xe),q=y(ea,q,Oe),Qe===null?ve=ea:Qe.sibling=ea,Qe=ea,xe=Fe}if(Xe.done)return o(K,xe),Ge&&qs(K,Oe),ve;if(xe===null){for(;!Xe.done;Oe++,Xe=Q.next())Xe=re(K,Xe.value,se),Xe!==null&&(q=y(Xe,q,Oe),Qe===null?ve=Xe:Qe.sibling=Xe,Qe=Xe);return Ge&&qs(K,Oe),ve}for(xe=c(xe);!Xe.done;Oe++,Xe=Q.next())Xe=J(xe,K,Oe,Xe.value,se),Xe!==null&&(i&&Xe.alternate!==null&&xe.delete(Xe.key===null?Oe:Xe.key),q=y(Xe,q,Oe),Qe===null?ve=Xe:Qe.sibling=Xe,Qe=Xe);return i&&xe.forEach(function(_N){return r(K,_N)}),Ge&&qs(K,Oe),ve}function ct(K,q,Q,se){if(typeof Q=="object"&&Q!==null&&Q.type===U&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:e:{for(var ve=Q.key;q!==null;){if(q.key===ve){if(ve=Q.type,ve===U){if(q.tag===7){o(K,q.sibling),se=m(q,Q.props.children),se.return=K,K=se;break e}}else if(q.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===T&&Ja(ve)===q.type){o(K,q.sibling),se=m(q,Q.props),tu(se,Q),se.return=K,K=se;break e}o(K,q);break}else r(K,q);q=q.sibling}Q.type===U?(se=Ya(Q.props.children,K.mode,se,Q.key),se.return=K,K=se):(se=vh(Q.type,Q.key,Q.props,null,K.mode,se),tu(se,Q),se.return=K,K=se)}return b(K);case D:e:{for(ve=Q.key;q!==null;){if(q.key===ve)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){o(K,q.sibling),se=m(q,Q.children||[]),se.return=K,K=se;break e}else{o(K,q);break}else r(K,q);q=q.sibling}se=Rp(Q,K.mode,se),se.return=K,K=se}return b(K);case T:return Q=Ja(Q),ct(K,q,Q,se)}if(tt(Q))return pe(K,q,Q,se);if(F(Q)){if(ve=F(Q),typeof ve!="function")throw Error(s(150));return Q=ve.call(Q),_e(K,q,Q,se)}if(typeof Q.then=="function")return ct(K,q,Sh(Q),se);if(Q.$$typeof===V)return ct(K,q,_h(K,Q),se);Ch(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,q!==null&&q.tag===6?(o(K,q.sibling),se=m(q,Q),se.return=K,K=se):(o(K,q),se=jp(Q,K.mode,se),se.return=K,K=se),b(K)):o(K,q)}return function(K,q,Q,se){try{eu=0;var ve=ct(K,q,Q,se);return ul=null,ve}catch(xe){if(xe===cl||xe===Th)throw xe;var Qe=Wn(29,xe,null,K.mode);return Qe.lanes=se,Qe.return=K,Qe}finally{}}}var to=Ox(!0),Lx=Ox(!1),Or=!1;function Fp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hp(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Lr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Br(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Je&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=xh(i),bx(i,null,o),r}return yh(i,c,r,o),xh(i)}function nu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,jc(i,o)}}function qp(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=b:y=y.next=b,o=o.next}while(o!==null);y===null?m=y=r:y=y.next=r}else m=y=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var $p=!1;function iu(){if($p){var i=ll;if(i!==null)throw i}}function su(i,r,o,c){$p=!1;var m=i.updateQueue;Or=!1;var y=m.firstBaseUpdate,b=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var L=A,X=L.next;L.next=null,b===null?y=X:b.next=X,b=L;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==b&&(A===null?ie.firstBaseUpdate=X:A.next=X,ie.lastBaseUpdate=L))}if(y!==null){var re=m.baseState;b=0,ie=X=L=null,A=y;do{var W=A.lane&-536870913,J=W!==A.lane;if(J?(Ue&W)===W:(c&W)===W){W!==0&&W===ol&&($p=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=i,_e=A;W=r;var ct=o;switch(_e.tag){case 1:if(pe=_e.payload,typeof pe=="function"){re=pe.call(ct,re,W);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=_e.payload,W=typeof pe=="function"?pe.call(ct,re,W):pe,W==null)break e;re=v({},re,W);break e;case 2:Or=!0}}W=A.callback,W!==null&&(i.flags|=64,J&&(i.flags|=8192),J=m.callbacks,J===null?m.callbacks=[W]:J.push(W))}else J={lane:W,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(X=ie=J,L=re):ie=ie.next=J,b|=W;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;J=A,A=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);ie===null&&(L=re),m.baseState=L,m.firstBaseUpdate=X,m.lastBaseUpdate=ie,y===null&&(m.shared.lanes=0),qr|=b,i.lanes=b,i.memoizedState=re}}function Bx(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function zx(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Bx(o[i],r)}var dl=$(null),Nh=$(0);function Ux(i,r){i=tr,de(Nh,i),de(dl,r),tr=i|r.baseLanes}function Gp(){de(Nh,tr),de(dl,dl.current)}function Kp(){tr=Nh.current,ae(dl),ae(Nh)}var Zn=$(null),xi=null;function zr(i){var r=i.alternate;de(Rt,Rt.current&1),de(Zn,i),xi===null&&(r===null||dl.current!==null||r.memoizedState!==null)&&(xi=i)}function Yp(i){de(Rt,Rt.current),de(Zn,i),xi===null&&(xi=i)}function Fx(i){i.tag===22?(de(Rt,Rt.current),de(Zn,i),xi===null&&(xi=i)):Ur()}function Ur(){de(Rt,Rt.current),de(Zn,Zn.current)}function Jn(i){ae(Zn),xi===i&&(xi=null),ae(Rt)}var Rt=$(0);function jh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||e0(o)||t0(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ks=0,Me=null,ot=null,Ht=null,Rh=!1,hl=!1,no=!1,Ih=0,ru=0,fl=null,hC=0;function At(){throw Error(s(321))}function Qp(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Xn(i[o],r[o]))return!1;return!0}function Xp(i,r,o,c,m,y){return Ks=y,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ee.H=i===null||i.memoizedState===null?Av:dg,no=!1,y=o(c,m),no=!1,hl&&(y=qx(r,o,c,m)),Hx(i),y}function Hx(i){ee.H=lu;var r=ot!==null&&ot.next!==null;if(Ks=0,Ht=ot=Me=null,Rh=!1,ru=0,fl=null,r)throw Error(s(300));i===null||qt||(i=i.dependencies,i!==null&&bh(i)&&(qt=!0))}function qx(i,r,o,c){Me=i;var m=0;do{if(hl&&(fl=null),ru=0,hl=!1,25<=m)throw Error(s(301));if(m+=1,Ht=ot=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ee.H=Sv,y=r(o,c)}while(hl);return y}function fC(){var i=ee.H,r=i.useState()[0];return r=typeof r.then=="function"?au(r):r,i=i.useState()[0],(ot!==null?ot.memoizedState:null)!==i&&(Me.flags|=1024),r}function Wp(){var i=Ih!==0;return Ih=0,i}function Zp(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Jp(i){if(Rh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Rh=!1}Ks=0,Ht=ot=Me=null,hl=!1,ru=Ih=0,fl=null}function kn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Me.memoizedState=Ht=i:Ht=Ht.next=i,Ht}function It(){if(ot===null){var i=Me.alternate;i=i!==null?i.memoizedState:null}else i=ot.next;var r=Ht===null?Me.memoizedState:Ht.next;if(r!==null)Ht=r,ot=i;else{if(i===null)throw Me.alternate===null?Error(s(467)):Error(s(310));ot=i,i={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ht===null?Me.memoizedState=Ht=i:Ht=Ht.next=i}return Ht}function kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function au(i){var r=ru;return ru+=1,fl===null&&(fl=[]),i=Mx(fl,i,r),r=Me,(Ht===null?r.memoizedState:Ht.next)===null&&(r=r.alternate,ee.H=r===null||r.memoizedState===null?Av:dg),i}function Dh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return au(i);if(i.$$typeof===V)return fn(i)}throw Error(s(438,String(i)))}function eg(i){var r=null,o=Me.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=kh(),Me.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=P;return r.index++,o}function Ys(i,r){return typeof r=="function"?r(i):r}function Mh(i){var r=It();return tg(r,ot,i)}function tg(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=i.baseQueue,y=c.pending;if(y!==null){if(m!==null){var b=m.next;m.next=y.next,y.next=b}r.baseQueue=m=y,c.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{r=m.next;var A=b=null,L=null,X=r,ie=!1;do{var re=X.lane&-536870913;if(re!==X.lane?(Ue&re)===re:(Ks&re)===re){var W=X.revertLane;if(W===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),re===ol&&(ie=!0);else if((Ks&W)===W){X=X.next,W===ol&&(ie=!0);continue}else re={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(A=L=re,b=y):L=L.next=re,Me.lanes|=W,qr|=W;re=X.action,no&&o(y,re),y=X.hasEagerState?X.eagerState:o(y,re)}else W={lane:re,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(A=L=W,b=y):L=L.next=W,Me.lanes|=re,qr|=re;X=X.next}while(X!==null&&X!==r);if(L===null?b=y:L.next=A,!Xn(y,i.memoizedState)&&(qt=!0,ie&&(o=ll,o!==null)))throw o;i.memoizedState=y,i.baseState=b,i.baseQueue=L,c.lastRenderedState=y}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function ng(i){var r=It(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,y=r.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do y=i(y,b.action),b=b.next;while(b!==m);Xn(y,r.memoizedState)||(qt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,c]}function $x(i,r,o){var c=Me,m=It(),y=Ge;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Xn((ot||m).memoizedState,o);if(b&&(m.memoizedState=o,qt=!0),m=m.queue,rg(Yx.bind(null,c,m,i),[i]),m.getSnapshot!==r||b||Ht!==null&&Ht.memoizedState.tag&1){if(c.flags|=2048,ml(9,{destroy:void 0},Kx.bind(null,c,m,o,r),null),dt===null)throw Error(s(349));y||(Ks&127)!==0||Gx(c,r,o)}return o}function Gx(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Me.updateQueue,r===null?(r=kh(),Me.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Kx(i,r,o,c){r.value=o,r.getSnapshot=c,Qx(r)&&Xx(i)}function Yx(i,r,o){return o(function(){Qx(r)&&Xx(i)})}function Qx(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Xn(i,o)}catch{return!0}}function Xx(i){var r=Ka(i,2);r!==null&&Hn(r,i,2)}function ig(i){var r=kn();if(typeof i=="function"){var o=i;if(i=o(),no){li(!0);try{o()}finally{li(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:i},r}function Wx(i,r,o,c){return i.baseState=o,tg(i,ot,typeof c=="function"?c:Ys)}function mC(i,r,o,c,m){if(Oh(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){y.listeners.push(b)}};ee.T!==null?o(!0):y.isTransition=!1,c(y),o=r.pending,o===null?(y.next=r.pending=y,Zx(r,y)):(y.next=o.next,r.pending=o.next=y)}}function Zx(i,r){var o=r.action,c=r.payload,m=i.state;if(r.isTransition){var y=ee.T,b={};ee.T=b;try{var A=o(m,c),L=ee.S;L!==null&&L(b,A),Jx(i,r,A)}catch(X){sg(i,r,X)}finally{y!==null&&b.types!==null&&(y.types=b.types),ee.T=y}}else try{y=o(m,c),Jx(i,r,y)}catch(X){sg(i,r,X)}}function Jx(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){ev(i,r,c)},function(c){return sg(i,r,c)}):ev(i,r,o)}function ev(i,r,o){r.status="fulfilled",r.value=o,tv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Zx(i,o)))}function sg(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,tv(r),r=r.next;while(r!==c)}i.action=null}function tv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function nv(i,r){return r}function iv(i,r){if(Ge){var o=dt.formState;if(o!==null){e:{var c=Me;if(Ge){if(ft){t:{for(var m=ft,y=yi;m.nodeType!==8;){if(!y){m=null;break t}if(m=vi(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){ft=vi(m.nextSibling),c=m.data==="F!";break e}}Pr(c)}c=!1}c&&(r=o[0])}}return o=kn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nv,lastRenderedState:r},o.queue=c,o=_v.bind(null,Me,c),c.dispatch=o,c=ig(!1),y=ug.bind(null,Me,!1,c.queue),c=kn(),m={state:r,dispatch:null,action:i,pending:null},c.queue=m,o=mC.bind(null,Me,m,y,o),m.dispatch=o,c.memoizedState=i,[r,o,!1]}function sv(i){var r=It();return rv(r,ot,i)}function rv(i,r,o){if(r=tg(i,r,nv)[0],i=Mh(Ys)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=au(r)}catch(b){throw b===cl?Th:b}else c=r;r=It();var m=r.queue,y=m.dispatch;return o!==r.memoizedState&&(Me.flags|=2048,ml(9,{destroy:void 0},pC.bind(null,m,o),null)),[c,y,i]}function pC(i,r){i.action=r}function av(i){var r=It(),o=ot;if(o!==null)return rv(r,o,i);It(),r=r.memoizedState,o=It();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function ml(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Me.updateQueue,r===null&&(r=kh(),Me.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function ov(){return It().memoizedState}function Ph(i,r,o,c){var m=kn();Me.flags|=i,m.memoizedState=ml(1|r,{destroy:void 0},o,c===void 0?null:c)}function Vh(i,r,o,c){var m=It();c=c===void 0?null:c;var y=m.memoizedState.inst;ot!==null&&c!==null&&Qp(c,ot.memoizedState.deps)?m.memoizedState=ml(r,y,o,c):(Me.flags|=i,m.memoizedState=ml(1|r,y,o,c))}function lv(i,r){Ph(8390656,8,i,r)}function rg(i,r){Vh(2048,8,i,r)}function gC(i){Me.flags|=4;var r=Me.updateQueue;if(r===null)r=kh(),Me.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function cv(i){var r=It().memoizedState;return gC({ref:r,nextImpl:i}),function(){if((Je&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function uv(i,r){return Vh(4,2,i,r)}function dv(i,r){return Vh(4,4,i,r)}function hv(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function fv(i,r,o){o=o!=null?o.concat([i]):null,Vh(4,4,hv.bind(null,r,i),o)}function ag(){}function mv(i,r){var o=It();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Qp(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function pv(i,r){var o=It();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Qp(r,c[1]))return c[0];if(c=i(),no){li(!0);try{i()}finally{li(!1)}}return o.memoizedState=[c,r],c}function og(i,r,o){return o===void 0||(Ks&1073741824)!==0&&(Ue&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=gw(),Me.lanes|=i,qr|=i,o)}function gv(i,r,o,c){return Xn(o,r)?o:dl.current!==null?(i=og(i,o,c),Xn(i,r)||(qt=!0),i):(Ks&42)===0||(Ks&1073741824)!==0&&(Ue&261930)===0?(qt=!0,i.memoizedState=o):(i=gw(),Me.lanes|=i,qr|=i,r)}function yv(i,r,o,c,m){var y=ce.p;ce.p=y!==0&&8>y?y:8;var b=ee.T,A={};ee.T=A,ug(i,!1,r,o);try{var L=m(),X=ee.S;if(X!==null&&X(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ie=dC(L,c);ou(i,r,ie,ni(i))}else ou(i,r,c,ni(i))}catch(re){ou(i,r,{then:function(){},status:"rejected",reason:re},ni())}finally{ce.p=y,b!==null&&A.types!==null&&(b.types=A.types),ee.T=b}}function yC(){}function lg(i,r,o,c){if(i.tag!==5)throw Error(s(476));var m=xv(i).queue;yv(i,m,r,me,o===null?yC:function(){return vv(i),o(c)})}function xv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:me},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function vv(i){var r=xv(i);r.next===null&&(r=i.alternate.memoizedState),ou(i,r.next.queue,{},ni())}function cg(){return fn(Tu)}function wv(){return It().memoizedState}function bv(){return It().memoizedState}function xC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=ni();i=Lr(o);var c=Br(r,i,o);c!==null&&(Hn(c,r,o),nu(c,r,o)),r={cache:Lp()},i.payload=r;return}r=r.return}}function vC(i,r,o){var c=ni();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Oh(i)?Ev(r,o):(o=Cp(i,r,o,c),o!==null&&(Hn(o,i,c),Tv(o,r,c)))}function _v(i,r,o){var c=ni();ou(i,r,o,c)}function ou(i,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Oh(i))Ev(r,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var b=r.lastRenderedState,A=y(b,o);if(m.hasEagerState=!0,m.eagerState=A,Xn(A,b))return yh(i,r,m,0),dt===null&&gh(),!1}catch{}finally{}if(o=Cp(i,r,m,c),o!==null)return Hn(o,i,c),Tv(o,r,c),!0}return!1}function ug(i,r,o,c){if(c={lane:2,revertLane:Fg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Oh(i)){if(r)throw Error(s(479))}else r=Cp(i,o,c,2),r!==null&&Hn(r,i,2)}function Oh(i){var r=i.alternate;return i===Me||r!==null&&r===Me}function Ev(i,r){hl=Rh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Tv(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,jc(i,o)}}var lu={readContext:fn,use:Dh,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};lu.useEffectEvent=At;var Av={readContext:fn,use:Dh,useCallback:function(i,r){return kn().memoizedState=[i,r===void 0?null:r],i},useContext:fn,useEffect:lv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Ph(4194308,4,hv.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Ph(4194308,4,i,r)},useInsertionEffect:function(i,r){Ph(4,2,i,r)},useMemo:function(i,r){var o=kn();r=r===void 0?null:r;var c=i();if(no){li(!0);try{i()}finally{li(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=kn();if(o!==void 0){var m=o(r);if(no){li(!0);try{o(r)}finally{li(!1)}}}else m=r;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=vC.bind(null,Me,i),[c.memoizedState,i]},useRef:function(i){var r=kn();return i={current:i},r.memoizedState=i},useState:function(i){i=ig(i);var r=i.queue,o=_v.bind(null,Me,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:ag,useDeferredValue:function(i,r){var o=kn();return og(o,i,r)},useTransition:function(){var i=ig(!1);return i=yv.bind(null,Me,i.queue,!0,!1),kn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Me,m=kn();if(Ge){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),dt===null)throw Error(s(349));(Ue&127)!==0||Gx(c,r,o)}m.memoizedState=o;var y={value:o,getSnapshot:r};return m.queue=y,lv(Yx.bind(null,c,y,i),[i]),c.flags|=2048,ml(9,{destroy:void 0},Kx.bind(null,c,y,o,r),null),o},useId:function(){var i=kn(),r=dt.identifierPrefix;if(Ge){var o=vs,c=xs;o=(c&~(1<<32-Nt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Ih++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=hC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:cg,useFormState:iv,useActionState:iv,useOptimistic:function(i){var r=kn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=ug.bind(null,Me,!0,o),o.dispatch=r,[i,r]},useMemoCache:eg,useCacheRefresh:function(){return kn().memoizedState=xC.bind(null,Me)},useEffectEvent:function(i){var r=kn(),o={impl:i};return r.memoizedState=o,function(){if((Je&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},dg={readContext:fn,use:Dh,useCallback:mv,useContext:fn,useEffect:rg,useImperativeHandle:fv,useInsertionEffect:uv,useLayoutEffect:dv,useMemo:pv,useReducer:Mh,useRef:ov,useState:function(){return Mh(Ys)},useDebugValue:ag,useDeferredValue:function(i,r){var o=It();return gv(o,ot.memoizedState,i,r)},useTransition:function(){var i=Mh(Ys)[0],r=It().memoizedState;return[typeof i=="boolean"?i:au(i),r]},useSyncExternalStore:$x,useId:wv,useHostTransitionStatus:cg,useFormState:sv,useActionState:sv,useOptimistic:function(i,r){var o=It();return Wx(o,ot,i,r)},useMemoCache:eg,useCacheRefresh:bv};dg.useEffectEvent=cv;var Sv={readContext:fn,use:Dh,useCallback:mv,useContext:fn,useEffect:rg,useImperativeHandle:fv,useInsertionEffect:uv,useLayoutEffect:dv,useMemo:pv,useReducer:ng,useRef:ov,useState:function(){return ng(Ys)},useDebugValue:ag,useDeferredValue:function(i,r){var o=It();return ot===null?og(o,i,r):gv(o,ot.memoizedState,i,r)},useTransition:function(){var i=ng(Ys)[0],r=It().memoizedState;return[typeof i=="boolean"?i:au(i),r]},useSyncExternalStore:$x,useId:wv,useHostTransitionStatus:cg,useFormState:av,useActionState:av,useOptimistic:function(i,r){var o=It();return ot!==null?Wx(o,ot,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:eg,useCacheRefresh:bv};Sv.useEffectEvent=cv;function hg(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var fg={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=ni(),m=Lr(c);m.payload=r,o!=null&&(m.callback=o),r=Br(i,m,c),r!==null&&(Hn(r,i,c),nu(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=ni(),m=Lr(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Br(i,m,c),r!==null&&(Hn(r,i,c),nu(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=ni(),c=Lr(o);c.tag=2,r!=null&&(c.callback=r),r=Br(i,c,o),r!==null&&(Hn(r,i,o),nu(r,i,o))}};function Cv(i,r,o,c,m,y,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,b):r.prototype&&r.prototype.isPureReactComponent?!Yc(o,c)||!Yc(m,y):!0}function Nv(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&fg.enqueueReplaceState(r,r.state,null)}function io(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function jv(i){ph(i)}function Rv(i){console.error(i)}function Iv(i){ph(i)}function Lh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function kv(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function mg(i,r,o){return o=Lr(o),o.tag=3,o.payload={element:null},o.callback=function(){Lh(i,r)},o}function Dv(i){return i=Lr(i),i.tag=3,i}function Mv(i,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;i.payload=function(){return m(y)},i.callback=function(){kv(r,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){kv(r,o,c),typeof m!="function"&&($r===null?$r=new Set([this]):$r.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function wC(i,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&al(r,o,m,!0),o=Zn.current,o!==null){switch(o.tag){case 31:case 13:return xi===null?Xh():o.alternate===null&&St===0&&(St=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Ah?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Bg(i,c,m)),!1;case 22:return o.flags|=65536,c===Ah?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Bg(i,c,m)),!1}throw Error(s(435,o.tag))}return Bg(i,c,m),Xh(),!1}if(Ge)return r=Zn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==Dp&&(i=Error(s(422),{cause:c}),Wc(mi(i,o)))):(c!==Dp&&(r=Error(s(423),{cause:c}),Wc(mi(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=mi(c,o),m=mg(i.stateNode,c,m),qp(i,m),St!==4&&(St=2)),!1;var y=Error(s(520),{cause:c});if(y=mi(y,o),gu===null?gu=[y]:gu.push(y),St!==4&&(St=2),r===null)return!0;c=mi(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=mg(o.stateNode,c,i),qp(o,i),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&($r===null||!$r.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Dv(m),Mv(m,i,o,c),qp(o,m),!1}o=o.return}while(o!==null);return!1}var pg=Error(s(461)),qt=!1;function mn(i,r,o,c){r.child=i===null?Lx(r,null,o,c):to(r,i.child,o,c)}function Pv(i,r,o,c,m){o=o.render;var y=r.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return Wa(r),c=Xp(i,r,o,b,y,m),A=Wp(),i!==null&&!qt?(Zp(i,r,m),Qs(i,r,m)):(Ge&&A&&Ip(r),r.flags|=1,mn(i,r,c,m),r.child)}function Vv(i,r,o,c,m){if(i===null){var y=o.type;return typeof y=="function"&&!Np(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Ov(i,r,y,c,m)):(i=vh(o.type,null,c,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!Eg(i,m)){var b=y.memoizedProps;if(o=o.compare,o=o!==null?o:Yc,o(b,c)&&i.ref===r.ref)return Qs(i,r,m)}return r.flags|=1,i=Hs(y,c),i.ref=r.ref,i.return=r,r.child=i}function Ov(i,r,o,c,m){if(i!==null){var y=i.memoizedProps;if(Yc(y,c)&&i.ref===r.ref)if(qt=!1,r.pendingProps=c=y,Eg(i,m))(i.flags&131072)!==0&&(qt=!0);else return r.lanes=i.lanes,Qs(i,r,m)}return gg(i,r,o,c,m)}function Lv(i,r,o,c){var m=c.children,y=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,i!==null){for(c=r.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~y}else c=0,r.child=null;return Bv(i,r,y,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Eh(r,y!==null?y.cachePool:null),y!==null?Ux(r,y):Gp(),Fx(r);else return c=r.lanes=536870912,Bv(i,r,y!==null?y.baseLanes|o:o,o,c)}else y!==null?(Eh(r,y.cachePool),Ux(r,y),Ur(),r.memoizedState=null):(i!==null&&Eh(r,null),Gp(),Ur());return mn(i,r,m,o),r.child}function cu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Bv(i,r,o,c,m){var y=zp();return y=y===null?null:{parent:Ft._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},i!==null&&Eh(r,null),Gp(),Fx(r),i!==null&&al(i,r,c,!0),r.childLanes=m,null}function Bh(i,r){return r=Uh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function zv(i,r,o){return to(r,i.child,null,o),i=Bh(r,r.pendingProps),i.flags|=2,Jn(r),r.memoizedState=null,i}function bC(i,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ge){if(c.mode==="hidden")return i=Bh(r,c),r.lanes=536870912,cu(null,i);if(Yp(r),(i=ft)?(i=Zw(i,yi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Dr!==null?{id:xs,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},o=Ex(i),o.return=r,r.child=o,hn=r,ft=null)):i=null,i===null)throw Pr(r);return r.lanes=536870912,null}return Bh(r,c)}var y=i.memoizedState;if(y!==null){var b=y.dehydrated;if(Yp(r),m)if(r.flags&256)r.flags&=-257,r=zv(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(qt||al(i,r,o,!1),m=(o&i.childLanes)!==0,qt||m){if(c=dt,c!==null&&(b=Rc(c,o),b!==0&&b!==y.retryLane))throw y.retryLane=b,Ka(i,b),Hn(c,i,b),pg;Xh(),r=zv(i,r,o)}else i=y.treeContext,ft=vi(b.nextSibling),hn=r,Ge=!0,Mr=null,yi=!1,i!==null&&Sx(r,i),r=Bh(r,c),r.flags|=4096;return r}return i=Hs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function zh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function gg(i,r,o,c,m){return Wa(r),o=Xp(i,r,o,c,void 0,m),c=Wp(),i!==null&&!qt?(Zp(i,r,m),Qs(i,r,m)):(Ge&&c&&Ip(r),r.flags|=1,mn(i,r,o,m),r.child)}function Uv(i,r,o,c,m,y){return Wa(r),r.updateQueue=null,o=qx(r,c,o,m),Hx(i),c=Wp(),i!==null&&!qt?(Zp(i,r,y),Qs(i,r,y)):(Ge&&c&&Ip(r),r.flags|=1,mn(i,r,o,y),r.child)}function Fv(i,r,o,c,m){if(Wa(r),r.stateNode===null){var y=nl,b=o.contextType;typeof b=="object"&&b!==null&&(y=fn(b)),y=new o(c,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=fg,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=c,y.state=r.memoizedState,y.refs={},Fp(r),b=o.contextType,y.context=typeof b=="object"&&b!==null?fn(b):nl,y.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(hg(r,o,b,c),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(b=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),b!==y.state&&fg.enqueueReplaceState(y,y.state,null),su(r,c,y,m),iu(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){y=r.stateNode;var A=r.memoizedProps,L=io(o,A);y.props=L;var X=y.context,ie=o.contextType;b=nl,typeof ie=="object"&&ie!==null&&(b=fn(ie));var re=o.getDerivedStateFromProps;ie=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ie||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||X!==b)&&Nv(r,y,c,b),Or=!1;var W=r.memoizedState;y.state=W,su(r,c,y,m),iu(),X=r.memoizedState,A||W!==X||Or?(typeof re=="function"&&(hg(r,o,re,c),X=r.memoizedState),(L=Or||Cv(r,o,L,c,W,X,b))?(ie||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=X),y.props=c,y.state=X,y.context=b,c=L):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{y=r.stateNode,Hp(i,r),b=r.memoizedProps,ie=io(o,b),y.props=ie,re=r.pendingProps,W=y.context,X=o.contextType,L=nl,typeof X=="object"&&X!==null&&(L=fn(X)),A=o.getDerivedStateFromProps,(X=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b!==re||W!==L)&&Nv(r,y,c,L),Or=!1,W=r.memoizedState,y.state=W,su(r,c,y,m),iu();var J=r.memoizedState;b!==re||W!==J||Or||i!==null&&i.dependencies!==null&&bh(i.dependencies)?(typeof A=="function"&&(hg(r,o,A,c),J=r.memoizedState),(ie=Or||Cv(r,o,ie,c,W,J,L)||i!==null&&i.dependencies!==null&&bh(i.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,J,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,J,L)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=J),y.props=c,y.state=J,y.context=L,c=ie):(typeof y.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(r.flags|=1024),c=!1)}return y=c,zh(i,r),c=(r.flags&128)!==0,y||c?(y=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&c?(r.child=to(r,i.child,null,m),r.child=to(r,null,o,m)):mn(i,r,o,m),r.memoizedState=y.state,i=r.child):i=Qs(i,r,m),i}function Hv(i,r,o,c){return Qa(),r.flags|=256,mn(i,r,o,c),r.child}var yg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xg(i){return{baseLanes:i,cachePool:kx()}}function vg(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ti),i}function qv(i,r,o){var c=r.pendingProps,m=!1,y=(r.flags&128)!==0,b;if((b=y)||(b=i!==null&&i.memoizedState===null?!1:(Rt.current&2)!==0),b&&(m=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ge){if(m?zr(r):Ur(),(i=ft)?(i=Zw(i,yi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Dr!==null?{id:xs,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},o=Ex(i),o.return=r,r.child=o,hn=r,ft=null)):i=null,i===null)throw Pr(r);return t0(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,m?(Ur(),m=r.mode,A=Uh({mode:"hidden",children:A},m),c=Ya(c,m,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=xg(o),c.childLanes=vg(i,b,o),r.memoizedState=yg,cu(null,c)):(zr(r),wg(r,A))}var L=i.memoizedState;if(L!==null&&(A=L.dehydrated,A!==null)){if(y)r.flags&256?(zr(r),r.flags&=-257,r=bg(i,r,o)):r.memoizedState!==null?(Ur(),r.child=i.child,r.flags|=128,r=null):(Ur(),A=c.fallback,m=r.mode,c=Uh({mode:"visible",children:c.children},m),A=Ya(A,m,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,to(r,i.child,null,o),c=r.child,c.memoizedState=xg(o),c.childLanes=vg(i,b,o),r.memoizedState=yg,r=cu(null,c));else if(zr(r),t0(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var X=b.dgst;b=X,c=Error(s(419)),c.stack="",c.digest=b,Wc({value:c,source:null,stack:null}),r=bg(i,r,o)}else if(qt||al(i,r,o,!1),b=(o&i.childLanes)!==0,qt||b){if(b=dt,b!==null&&(c=Rc(b,o),c!==0&&c!==L.retryLane))throw L.retryLane=c,Ka(i,c),Hn(b,i,c),pg;e0(A)||Xh(),r=bg(i,r,o)}else e0(A)?(r.flags|=192,r.child=i.child,r=null):(i=L.treeContext,ft=vi(A.nextSibling),hn=r,Ge=!0,Mr=null,yi=!1,i!==null&&Sx(r,i),r=wg(r,c.children),r.flags|=4096);return r}return m?(Ur(),A=c.fallback,m=r.mode,L=i.child,X=L.sibling,c=Hs(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,X!==null?A=Hs(X,A):(A=Ya(A,m,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,cu(null,c),c=r.child,A=i.child.memoizedState,A===null?A=xg(o):(m=A.cachePool,m!==null?(L=Ft._currentValue,m=m.parent!==L?{parent:L,pool:L}:m):m=kx(),A={baseLanes:A.baseLanes|o,cachePool:m}),c.memoizedState=A,c.childLanes=vg(i,b,o),r.memoizedState=yg,cu(i.child,c)):(zr(r),o=i.child,i=o.sibling,o=Hs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function wg(i,r){return r=Uh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Uh(i,r){return i=Wn(22,i,null,r),i.lanes=0,i}function bg(i,r,o){return to(r,i.child,null,o),i=wg(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function $v(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Vp(i.return,r,o)}function _g(i,r,o,c,m,y){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:y}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=m,b.treeForkCount=y)}function Gv(i,r,o){var c=r.pendingProps,m=c.revealOrder,y=c.tail;c=c.children;var b=Rt.current,A=(b&2)!==0;if(A?(b=b&1|2,r.flags|=128):b&=1,de(Rt,b),mn(i,r,c,o),c=Ge?Xc:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$v(i,o,r);else if(i.tag===19)$v(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&jh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),_g(r,!1,m,o,y,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&jh(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}_g(r,!0,o,null,y,c);break;case"together":_g(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Qs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),qr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(al(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Hs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Hs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Eg(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&bh(i)))}function _C(i,r,o){switch(r.tag){case 3:Zt(r,r.stateNode.containerInfo),Vr(r,Ft,i.memoizedState.cache),Qa();break;case 27:case 5:ja(r);break;case 4:Zt(r,r.stateNode.containerInfo);break;case 10:Vr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Yp(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(zr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?qv(i,r,o):(zr(r),i=Qs(i,r,o),i!==null?i.sibling:null);zr(r);break;case 19:var m=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(al(i,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return Gv(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),de(Rt,Rt.current),c)break;return null;case 22:return r.lanes=0,Lv(i,r,o,r.pendingProps);case 24:Vr(r,Ft,i.memoizedState.cache)}return Qs(i,r,o)}function Kv(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)qt=!0;else{if(!Eg(i,o)&&(r.flags&128)===0)return qt=!1,_C(i,r,o);qt=(i.flags&131072)!==0}else qt=!1,Ge&&(r.flags&1048576)!==0&&Ax(r,Xc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Ja(r.elementType),r.type=i,typeof i=="function")Np(i)?(c=io(i,c),r.tag=1,r=Fv(null,r,i,c,o)):(r.tag=0,r=gg(null,r,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===B){r.tag=11,r=Pv(null,r,i,c,o);break e}else if(m===C){r.tag=14,r=Vv(null,r,i,c,o);break e}}throw r=je(i)||i,Error(s(306,r,""))}}return r;case 0:return gg(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=io(c,r.pendingProps),Fv(i,r,c,m,o);case 3:e:{if(Zt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var y=r.memoizedState;m=y.element,Hp(i,r),su(r,c,null,o);var b=r.memoizedState;if(c=b.cache,Vr(r,Ft,c),c!==y.cache&&Op(r,[Ft],o,!0),iu(),c=b.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Hv(i,r,c,o);break e}else if(c!==m){m=mi(Error(s(424)),r),Wc(m),r=Hv(i,r,c,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ft=vi(i.firstChild),hn=r,Ge=!0,Mr=null,yi=!0,o=Lx(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Qa(),c===m){r=Qs(i,r,o);break e}mn(i,r,c,o)}r=r.child}return r;case 26:return zh(i,r),i===null?(o=sb(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ge||(o=r.type,i=r.pendingProps,c=sf(Ve.current).createElement(o),c[Bt]=r,c[rn]=i,pn(c,o,i),zt(c),r.stateNode=c):r.memoizedState=sb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ja(r),i===null&&Ge&&(c=r.stateNode=tb(r.type,r.pendingProps,Ve.current),hn=r,yi=!0,m=ft,Qr(r.type)?(n0=m,ft=vi(c.firstChild)):ft=m),mn(i,r,r.pendingProps.children,o),zh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ge&&((m=c=ft)&&(c=ZC(c,r.type,r.pendingProps,yi),c!==null?(r.stateNode=c,hn=r,ft=vi(c.firstChild),yi=!1,m=!0):m=!1),m||Pr(r)),ja(r),m=r.type,y=r.pendingProps,b=i!==null?i.memoizedProps:null,c=y.children,Wg(m,y)?c=null:b!==null&&Wg(m,b)&&(r.flags|=32),r.memoizedState!==null&&(m=Xp(i,r,fC,null,null,o),Tu._currentValue=m),zh(i,r),mn(i,r,c,o),r.child;case 6:return i===null&&Ge&&((i=o=ft)&&(o=JC(o,r.pendingProps,yi),o!==null?(r.stateNode=o,hn=r,ft=null,i=!0):i=!1),i||Pr(r)),null;case 13:return qv(i,r,o);case 4:return Zt(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=to(r,null,c,o):mn(i,r,c,o),r.child;case 11:return Pv(i,r,r.type,r.pendingProps,o);case 7:return mn(i,r,r.pendingProps,o),r.child;case 8:return mn(i,r,r.pendingProps.children,o),r.child;case 12:return mn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Vr(r,r.type,c.value),mn(i,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,Wa(r),m=fn(m),c=c(m),r.flags|=1,mn(i,r,c,o),r.child;case 14:return Vv(i,r,r.type,r.pendingProps,o);case 15:return Ov(i,r,r.type,r.pendingProps,o);case 19:return Gv(i,r,o);case 31:return bC(i,r,o);case 22:return Lv(i,r,o,r.pendingProps);case 24:return Wa(r),c=fn(Ft),i===null?(m=zp(),m===null&&(m=dt,y=Lp(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),r.memoizedState={parent:c,cache:m},Fp(r),Vr(r,Ft,m)):((i.lanes&o)!==0&&(Hp(i,r),su(r,null,null,o),iu()),m=i.memoizedState,y=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Vr(r,Ft,c)):(c=y.cache,Vr(r,Ft,c),c!==m.cache&&Op(r,[Ft],o,!0))),mn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Xs(i){i.flags|=4}function Tg(i,r,o,c,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(ww())i.flags|=8192;else throw eo=Ah,Up}else i.flags&=-16777217}function Yv(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!cb(r))if(ww())i.flags|=8192;else throw eo=Ah,Up}function Fh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Yd():536870912,i.lanes|=r,xl|=r)}function uu(i,r){if(!Ge)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function mt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function EC(i,r,o){var c=r.pendingProps;switch(kp(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(r),null;case 1:return mt(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Gs(Ft),xt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(rl(r)?Xs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Mp())),mt(r),null;case 26:var m=r.type,y=r.memoizedState;return i===null?(Xs(r),y!==null?(mt(r),Yv(r,y)):(mt(r),Tg(r,m,null,c,o))):y?y!==i.memoizedState?(Xs(r),mt(r),Yv(r,y)):(mt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Xs(r),mt(r),Tg(r,m,i,c,o)),null;case 27:if(Oo(r),o=Ve.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Xs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return mt(r),null}i=fe.current,rl(r)?Cx(r):(i=tb(m,c,o),r.stateNode=i,Xs(r))}return mt(r),null;case 5:if(Oo(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Xs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return mt(r),null}if(y=fe.current,rl(r))Cx(r);else{var b=sf(Ve.current);switch(y){case 1:y=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=b.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?b.createElement(m,{is:c.is}):b.createElement(m)}}y[Bt]=r,y[rn]=c;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)y.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=y;e:switch(pn(y,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Xs(r)}}return mt(r),Tg(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Xs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ve.current,rl(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,m=hn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Bt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||qw(i.nodeValue,o)),i||Pr(r,!0)}else i=sf(i).createTextNode(c),i[Bt]=r,r.stateNode=i}return mt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=rl(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Bt]=r}else Qa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),i=!1}else o=Mp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Jn(r),r):(Jn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return mt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=rl(r),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Bt]=r}else Qa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),m=!1}else m=Mp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Jn(r),r):(Jn(r),null)}return Jn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Fh(r,r.updateQueue),mt(r),null);case 4:return xt(),i===null&&Gg(r.stateNode.containerInfo),mt(r),null;case 10:return Gs(r.type),mt(r),null;case 19:if(ae(Rt),c=r.memoizedState,c===null)return mt(r),null;if(m=(r.flags&128)!==0,y=c.rendering,y===null)if(m)uu(c,!1);else{if(St!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=jh(i),y!==null){for(r.flags|=128,uu(c,!1),i=y.updateQueue,r.updateQueue=i,Fh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)_x(o,i),o=o.sibling;return de(Rt,Rt.current&1|2),Ge&&qs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&Rn()>Kh&&(r.flags|=128,m=!0,uu(c,!1),r.lanes=4194304)}else{if(!m)if(i=jh(y),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,Fh(r,i),uu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!Ge)return mt(r),null}else 2*Rn()-c.renderingStartTime>Kh&&o!==536870912&&(r.flags|=128,m=!0,uu(c,!1),r.lanes=4194304);c.isBackwards?(y.sibling=r.child,r.child=y):(i=c.last,i!==null?i.sibling=y:r.child=y,c.last=y)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Rn(),i.sibling=null,o=Rt.current,de(Rt,m?o&1|2:o&1),Ge&&qs(r,c.treeForkCount),i):(mt(r),null);case 22:case 23:return Jn(r),Kp(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(mt(r),r.subtreeFlags&6&&(r.flags|=8192)):mt(r),o=r.updateQueue,o!==null&&Fh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&ae(Za),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Gs(Ft),mt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function TC(i,r){switch(kp(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Gs(Ft),xt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Oo(r),null;case 31:if(r.memoizedState!==null){if(Jn(r),r.alternate===null)throw Error(s(340));Qa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Jn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Qa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ae(Rt),null;case 4:return xt(),null;case 10:return Gs(r.type),null;case 22:case 23:return Jn(r),Kp(),i!==null&&ae(Za),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Gs(Ft),null;case 25:return null;default:return null}}function Qv(i,r){switch(kp(r),r.tag){case 3:Gs(Ft),xt();break;case 26:case 27:case 5:Oo(r);break;case 4:xt();break;case 31:r.memoizedState!==null&&Jn(r);break;case 13:Jn(r);break;case 19:ae(Rt);break;case 10:Gs(r.type);break;case 22:case 23:Jn(r),Kp(),i!==null&&ae(Za);break;case 24:Gs(Ft)}}function du(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var y=o.create,b=o.inst;c=y(),b.destroy=c}o=o.next}while(o!==m)}}catch(A){rt(r,r.return,A)}}function Fr(i,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&i)===i){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,m=r;var L=o,X=A;try{X()}catch(ie){rt(m,L,ie)}}}c=c.next}while(c!==y)}}catch(ie){rt(r,r.return,ie)}}function Xv(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{zx(r,o)}catch(c){rt(i,i.return,c)}}}function Wv(i,r,o){o.props=io(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){rt(i,r,c)}}function hu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){rt(i,r,m)}}function ws(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){rt(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){rt(i,r,m)}else o.current=null}function Zv(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){rt(i,i.return,m)}}function Ag(i,r,o){try{var c=i.stateNode;GC(c,i.type,o,r),c[rn]=r}catch(m){rt(i,i.return,m)}}function Jv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Qr(i.type)||i.tag===4}function Sg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Jv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Qr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cg(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Li));else if(c!==4&&(c===27&&Qr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Cg(i,r,o),i=i.sibling;i!==null;)Cg(i,r,o),i=i.sibling}function Hh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Qr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Hh(i,r,o),i=i.sibling;i!==null;)Hh(i,r,o),i=i.sibling}function ew(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);pn(r,c,o),r[Bt]=i,r[rn]=o}catch(y){rt(i,i.return,y)}}var Ws=!1,$t=!1,Ng=!1,tw=typeof WeakSet=="function"?WeakSet:Set,on=null;function AC(i,r){if(i=i.containerInfo,Qg=df,i=fx(i),bp(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var b=0,A=-1,L=-1,X=0,ie=0,re=i,W=null;t:for(;;){for(var J;re!==o||m!==0&&re.nodeType!==3||(A=b+m),re!==y||c!==0&&re.nodeType!==3||(L=b+c),re.nodeType===3&&(b+=re.nodeValue.length),(J=re.firstChild)!==null;)W=re,re=J;for(;;){if(re===i)break t;if(W===o&&++X===m&&(A=b),W===y&&++ie===c&&(L=b),(J=re.nextSibling)!==null)break;re=W,W=re.parentNode}re=J}o=A===-1||L===-1?null:{start:A,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Xg={focusedElem:i,selectionRange:o},df=!1,on=r;on!==null;)if(r=on,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,on=i;else for(;on!==null;){switch(r=on,y=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=r,m=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var pe=io(o.type,m);i=c.getSnapshotBeforeUpdate(pe,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(_e){rt(o,o.return,_e)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Jg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Jg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,on=i;break}on=r.return}}function nw(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Js(i,o),c&4&&du(5,o);break;case 1:if(Js(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){rt(o,o.return,b)}else{var m=io(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){rt(o,o.return,b)}}c&64&&Xv(o),c&512&&hu(o,o.return);break;case 3:if(Js(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{zx(i,r)}catch(b){rt(o,o.return,b)}}break;case 27:r===null&&c&4&&ew(o);case 26:case 5:Js(i,o),r===null&&c&4&&Zv(o),c&512&&hu(o,o.return);break;case 12:Js(i,o);break;case 31:Js(i,o),c&4&&rw(i,o);break;case 13:Js(i,o),c&4&&aw(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=MC.bind(null,o),eN(i,o))));break;case 22:if(c=o.memoizedState!==null||Ws,!c){r=r!==null&&r.memoizedState!==null||$t,m=Ws;var y=$t;Ws=c,($t=r)&&!y?er(i,o,(o.subtreeFlags&8772)!==0):Js(i,o),Ws=m,$t=y}break;case 30:break;default:Js(i,o)}}function iw(i){var r=i.alternate;r!==null&&(i.alternate=null,iw(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Fo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var wt=null,Bn=!1;function Zs(i,r,o){for(o=o.child;o!==null;)sw(i,r,o),o=o.sibling}function sw(i,r,o){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Mi,o)}catch{}switch(o.tag){case 26:$t||ws(o,r),Zs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:$t||ws(o,r);var c=wt,m=Bn;Qr(o.type)&&(wt=o.stateNode,Bn=!1),Zs(i,r,o),bu(o.stateNode),wt=c,Bn=m;break;case 5:$t||ws(o,r);case 6:if(c=wt,m=Bn,wt=null,Zs(i,r,o),wt=c,Bn=m,wt!==null)if(Bn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(o.stateNode)}catch(y){rt(o,r,y)}else try{wt.removeChild(o.stateNode)}catch(y){rt(o,r,y)}break;case 18:wt!==null&&(Bn?(i=wt,Xw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Sl(i)):Xw(wt,o.stateNode));break;case 4:c=wt,m=Bn,wt=o.stateNode.containerInfo,Bn=!0,Zs(i,r,o),wt=c,Bn=m;break;case 0:case 11:case 14:case 15:Fr(2,o,r),$t||Fr(4,o,r),Zs(i,r,o);break;case 1:$t||(ws(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Wv(o,r,c)),Zs(i,r,o);break;case 21:Zs(i,r,o);break;case 22:$t=(c=$t)||o.memoizedState!==null,Zs(i,r,o),$t=c;break;default:Zs(i,r,o)}}function rw(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Sl(i)}catch(o){rt(r,r.return,o)}}}function aw(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Sl(i)}catch(o){rt(r,r.return,o)}}function SC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new tw),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new tw),r;default:throw Error(s(435,i.tag))}}function qh(i,r){var o=SC(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=PC.bind(null,i,c);c.then(m,m)}})}function zn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],y=i,b=r,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(Qr(A.type)){wt=A.stateNode,Bn=!1;break e}break;case 5:wt=A.stateNode,Bn=!1;break e;case 3:case 4:wt=A.stateNode.containerInfo,Bn=!0;break e}A=A.return}if(wt===null)throw Error(s(160));sw(y,b,m),wt=null,Bn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)ow(r,i),r=r.sibling}var qi=null;function ow(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:zn(r,i),Un(i),c&4&&(Fr(3,i,i.return),du(3,i),Fr(5,i,i.return));break;case 1:zn(r,i),Un(i),c&512&&($t||o===null||ws(o,o.return)),c&64&&Ws&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=qi;if(zn(r,i),Un(i),c&512&&($t||o===null||ws(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[as]||y[Bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),pn(y,c,o),y[Bt]=i,zt(y),c=y;break e;case"link":var b=ob("link","href",m).get(c+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(y=b[A],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}y=m.createElement(c),pn(y,c,o),m.head.appendChild(y);break;case"meta":if(b=ob("meta","content",m).get(c+(o.content||""))){for(A=0;A<b.length;A++)if(y=b[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}y=m.createElement(c),pn(y,c,o),m.head.appendChild(y);break;default:throw Error(s(468,c))}y[Bt]=i,zt(y),c=y}i.stateNode=c}else lb(m,i.type,i.stateNode);else i.stateNode=ab(m,c,i.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?lb(m,i.type,i.stateNode):ab(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Ag(i,i.memoizedProps,o.memoizedProps)}break;case 27:zn(r,i),Un(i),c&512&&($t||o===null||ws(o,o.return)),o!==null&&c&4&&Ag(i,i.memoizedProps,o.memoizedProps);break;case 5:if(zn(r,i),Un(i),c&512&&($t||o===null||ws(o,o.return)),i.flags&32){m=i.stateNode;try{Ln(m,"")}catch(pe){rt(i,i.return,pe)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Ag(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Ng=!0);break;case 6:if(zn(r,i),Un(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(pe){rt(i,i.return,pe)}}break;case 3:if(of=null,m=qi,qi=rf(r.containerInfo),zn(r,i),qi=m,Un(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Sl(r.containerInfo)}catch(pe){rt(i,i.return,pe)}Ng&&(Ng=!1,lw(i));break;case 4:c=qi,qi=rf(i.stateNode.containerInfo),zn(r,i),Un(i),qi=c;break;case 12:zn(r,i),Un(i);break;case 31:zn(r,i),Un(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,qh(i,c)));break;case 13:zn(r,i),Un(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Gh=Rn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,qh(i,c)));break;case 22:m=i.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,X=Ws,ie=$t;if(Ws=X||m,$t=ie||L,zn(r,i),$t=ie,Ws=X,Un(i),c&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||L||Ws||$t||so(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){L=o=r;try{if(y=L.stateNode,m)b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=L.stateNode;var re=L.memoizedProps.style,W=re!=null&&re.hasOwnProperty("display")?re.display:null;A.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(pe){rt(L,L.return,pe)}}}else if(r.tag===6){if(o===null){L=r;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(pe){rt(L,L.return,pe)}}}else if(r.tag===18){if(o===null){L=r;try{var J=L.stateNode;m?Ww(J,!0):Ww(L.stateNode,!1)}catch(pe){rt(L,L.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,qh(i,o))));break;case 19:zn(r,i),Un(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,qh(i,c)));break;case 30:break;case 21:break;default:zn(r,i),Un(i)}}function Un(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(Jv(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,y=Sg(i);Hh(i,y,m);break;case 5:var b=o.stateNode;o.flags&32&&(Ln(b,""),o.flags&=-33);var A=Sg(i);Hh(i,A,b);break;case 3:case 4:var L=o.stateNode.containerInfo,X=Sg(i);Cg(i,X,L);break;default:throw Error(s(161))}}catch(ie){rt(i,i.return,ie)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function lw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;lw(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Js(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)nw(i,r.alternate,r),r=r.sibling}function so(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Fr(4,r,r.return),so(r);break;case 1:ws(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Wv(r,r.return,o),so(r);break;case 27:bu(r.stateNode);case 26:case 5:ws(r,r.return),so(r);break;case 22:r.memoizedState===null&&so(r);break;case 30:so(r);break;default:so(r)}i=i.sibling}}function er(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=i,y=r,b=y.flags;switch(y.tag){case 0:case 11:case 15:er(m,y,o),du(4,y);break;case 1:if(er(m,y,o),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){rt(c,c.return,X)}if(c=y,m=c.updateQueue,m!==null){var A=c.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)Bx(L[m],A)}catch(X){rt(c,c.return,X)}}o&&b&64&&Xv(y),hu(y,y.return);break;case 27:ew(y);case 26:case 5:er(m,y,o),o&&c===null&&b&4&&Zv(y),hu(y,y.return);break;case 12:er(m,y,o);break;case 31:er(m,y,o),o&&b&4&&rw(m,y);break;case 13:er(m,y,o),o&&b&4&&aw(m,y);break;case 22:y.memoizedState===null&&er(m,y,o),hu(y,y.return);break;case 30:break;default:er(m,y,o)}r=r.sibling}}function jg(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Zc(o))}function Rg(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Zc(i))}function $i(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)cw(i,r,o,c),r=r.sibling}function cw(i,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:$i(i,r,o,c),m&2048&&du(9,r);break;case 1:$i(i,r,o,c);break;case 3:$i(i,r,o,c),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Zc(i)));break;case 12:if(m&2048){$i(i,r,o,c),i=r.stateNode;try{var y=r.memoizedProps,b=y.id,A=y.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){rt(r,r.return,L)}}else $i(i,r,o,c);break;case 31:$i(i,r,o,c);break;case 13:$i(i,r,o,c);break;case 23:break;case 22:y=r.stateNode,b=r.alternate,r.memoizedState!==null?y._visibility&2?$i(i,r,o,c):fu(i,r):y._visibility&2?$i(i,r,o,c):(y._visibility|=2,pl(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&jg(b,r);break;case 24:$i(i,r,o,c),m&2048&&Rg(r.alternate,r);break;default:$i(i,r,o,c)}}function pl(i,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=i,b=r,A=o,L=c,X=b.flags;switch(b.tag){case 0:case 11:case 15:pl(y,b,A,L,m),du(8,b);break;case 23:break;case 22:var ie=b.stateNode;b.memoizedState!==null?ie._visibility&2?pl(y,b,A,L,m):fu(y,b):(ie._visibility|=2,pl(y,b,A,L,m)),m&&X&2048&&jg(b.alternate,b);break;case 24:pl(y,b,A,L,m),m&&X&2048&&Rg(b.alternate,b);break;default:pl(y,b,A,L,m)}r=r.sibling}}function fu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,m=c.flags;switch(c.tag){case 22:fu(o,c),m&2048&&jg(c.alternate,c);break;case 24:fu(o,c),m&2048&&Rg(c.alternate,c);break;default:fu(o,c)}r=r.sibling}}var mu=8192;function gl(i,r,o){if(i.subtreeFlags&mu)for(i=i.child;i!==null;)uw(i,r,o),i=i.sibling}function uw(i,r,o){switch(i.tag){case 26:gl(i,r,o),i.flags&mu&&i.memoizedState!==null&&hN(o,qi,i.memoizedState,i.memoizedProps);break;case 5:gl(i,r,o);break;case 3:case 4:var c=qi;qi=rf(i.stateNode.containerInfo),gl(i,r,o),qi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=mu,mu=16777216,gl(i,r,o),mu=c):gl(i,r,o));break;default:gl(i,r,o)}}function dw(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function pu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];on=c,fw(c,i)}dw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hw(i),i=i.sibling}function hw(i){switch(i.tag){case 0:case 11:case 15:pu(i),i.flags&2048&&Fr(9,i,i.return);break;case 3:pu(i);break;case 12:pu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,$h(i)):pu(i);break;default:pu(i)}}function $h(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];on=c,fw(c,i)}dw(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Fr(8,r,r.return),$h(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,$h(r));break;default:$h(r)}i=i.sibling}}function fw(i,r){for(;on!==null;){var o=on;switch(o.tag){case 0:case 11:case 15:Fr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Zc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,on=c;else e:for(o=i;on!==null;){c=on;var m=c.sibling,y=c.return;if(iw(c),c===o){on=null;break e}if(m!==null){m.return=y,on=m;break e}on=y}}}var CC={getCacheForType:function(i){var r=fn(Ft),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return fn(Ft).controller.signal}},NC=typeof WeakMap=="function"?WeakMap:Map,Je=0,dt=null,Le=null,Ue=0,st=0,ei=null,Hr=!1,yl=!1,Ig=!1,tr=0,St=0,qr=0,ro=0,kg=0,ti=0,xl=0,gu=null,Fn=null,Dg=!1,Gh=0,mw=0,Kh=1/0,Yh=null,$r=null,en=0,Gr=null,vl=null,nr=0,Mg=0,Pg=null,pw=null,yu=0,Vg=null;function ni(){return(Je&2)!==0&&Ue!==0?Ue&-Ue:ee.T!==null?Fg():Qd()}function gw(){if(ti===0)if((Ue&536870912)===0||Ge){var i=ka;ka<<=1,(ka&3932160)===0&&(ka=262144),ti=i}else ti=536870912;return i=Zn.current,i!==null&&(i.flags|=32),ti}function Hn(i,r,o){(i===dt&&(st===2||st===9)||i.cancelPendingCommit!==null)&&(wl(i,0),Kr(i,Ue,ti,!1)),Da(i,o),((Je&2)===0||i!==dt)&&(i===dt&&((Je&2)===0&&(ro|=o),St===4&&Kr(i,Ue,ti,!1)),bs(i))}function yw(i,r,o){if((Je&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Pi(i,r),m=c?IC(i,r):Lg(i,r,!0),y=c;do{if(m===0){yl&&!c&&Kr(i,r,0,!1);break}else{if(o=i.current.alternate,y&&!jC(o)){m=Lg(i,r,!1),y=!1;continue}if(m===2){if(y=r,i.errorRecoveryDisabledLanes&y)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var A=i;m=gu;var L=A.current.memoizedState.isDehydrated;if(L&&(wl(A,b).flags|=256),b=Lg(A,b,!1),b!==2){if(Ig&&!L){A.errorRecoveryDisabledLanes|=y,ro|=y,m=4;break e}y=Fn,Fn=m,y!==null&&(Fn===null?Fn=y:Fn.push.apply(Fn,y))}m=b}if(y=!1,m!==2)continue}}if(m===1){wl(i,0),Kr(i,r,0,!0);break}e:{switch(c=i,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Kr(c,r,ti,!Hr);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=Gh+300-Rn(),10<m)){if(Kr(c,r,ti,!Hr),is(c,0,!0)!==0)break e;nr=r,c.timeoutHandle=Yw(xw.bind(null,c,o,Fn,Yh,Dg,r,ti,ro,xl,Hr,y,"Throttled",-0,0),m);break e}xw(c,o,Fn,Yh,Dg,r,ti,ro,xl,Hr,y,null,-0,0)}}break}while(!0);bs(i)}function xw(i,r,o,c,m,y,b,A,L,X,ie,re,W,J){if(i.timeoutHandle=-1,re=r.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Li},uw(r,y,re);var pe=(y&62914560)===y?Gh-Rn():(y&4194048)===y?mw-Rn():0;if(pe=fN(re,pe),pe!==null){nr=y,i.cancelPendingCommit=pe(Sw.bind(null,i,r,y,o,c,m,b,A,L,ie,re,null,W,J)),Kr(i,y,b,!X);return}}Sw(i,r,y,o,c,m,b,A,L)}function jC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],y=m.getSnapshot;m=m.value;try{if(!Xn(y(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Kr(i,r,o,c){r&=~kg,r&=~ro,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var m=r;0<m;){var y=31-Nt(m),b=1<<y;c[y]=-1,m&=~b}o!==0&&Ma(i,o,r)}function Qh(){return(Je&6)===0?(xu(0),!1):!0}function Og(){if(Le!==null){if(st===0)var i=Le.return;else i=Le,$s=Xa=null,Jp(i),ul=null,eu=0,i=Le;for(;i!==null;)Qv(i.alternate,i),i=i.return;Le=null}}function wl(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,QC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),nr=0,Og(),dt=i,Le=o=Hs(i.current,null),Ue=r,st=0,ei=null,Hr=!1,yl=Pi(i,r),Ig=!1,xl=ti=kg=ro=qr=St=0,Fn=gu=null,Dg=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var m=31-Nt(c),y=1<<m;r|=i[m],c&=~y}return tr=r,gh(),o}function vw(i,r){Me=null,ee.H=lu,r===cl||r===Th?(r=Px(),st=3):r===Up?(r=Px(),st=4):st=r===pg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ei=r,Le===null&&(St=1,Lh(i,mi(r,i.current)))}function ww(){var i=Zn.current;return i===null?!0:(Ue&4194048)===Ue?xi===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?i===xi:!1}function bw(){var i=ee.H;return ee.H=lu,i===null?lu:i}function _w(){var i=ee.A;return ee.A=CC,i}function Xh(){St=4,Hr||(Ue&4194048)!==Ue&&Zn.current!==null||(yl=!0),(qr&134217727)===0&&(ro&134217727)===0||dt===null||Kr(dt,Ue,ti,!1)}function Lg(i,r,o){var c=Je;Je|=2;var m=bw(),y=_w();(dt!==i||Ue!==r)&&(Yh=null,wl(i,r)),r=!1;var b=St;e:do try{if(st!==0&&Le!==null){var A=Le,L=ei;switch(st){case 8:Og(),b=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(r=!0);var X=st;if(st=0,ei=null,bl(i,A,L,X),o&&yl){b=0;break e}break;default:X=st,st=0,ei=null,bl(i,A,L,X)}}RC(),b=St;break}catch(ie){vw(i,ie)}while(!0);return r&&i.shellSuspendCounter++,$s=Xa=null,Je=c,ee.H=m,ee.A=y,Le===null&&(dt=null,Ue=0,gh()),b}function RC(){for(;Le!==null;)Ew(Le)}function IC(i,r){var o=Je;Je|=2;var c=bw(),m=_w();dt!==i||Ue!==r?(Yh=null,Kh=Rn()+500,wl(i,r)):yl=Pi(i,r);e:do try{if(st!==0&&Le!==null){r=Le;var y=ei;t:switch(st){case 1:st=0,ei=null,bl(i,r,y,1);break;case 2:case 9:if(Dx(y)){st=0,ei=null,Tw(r);break}r=function(){st!==2&&st!==9||dt!==i||(st=7),bs(i)},y.then(r,r);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Dx(y)?(st=0,ei=null,Tw(r)):(st=0,ei=null,bl(i,r,y,7));break;case 5:var b=null;switch(Le.tag){case 26:b=Le.memoizedState;case 5:case 27:var A=Le;if(b?cb(b):A.stateNode.complete){st=0,ei=null;var L=A.sibling;if(L!==null)Le=L;else{var X=A.return;X!==null?(Le=X,Wh(X)):Le=null}break t}}st=0,ei=null,bl(i,r,y,5);break;case 6:st=0,ei=null,bl(i,r,y,6);break;case 8:Og(),St=6;break e;default:throw Error(s(462))}}kC();break}catch(ie){vw(i,ie)}while(!0);return $s=Xa=null,ee.H=c,ee.A=m,Je=o,Le!==null?0:(dt=null,Ue=0,gh(),St)}function kC(){for(;Le!==null&&!mp();)Ew(Le)}function Ew(i){var r=Kv(i.alternate,i,tr);i.memoizedProps=i.pendingProps,r===null?Wh(i):Le=r}function Tw(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Uv(o,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=Uv(o,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:Jp(r);default:Qv(o,r),r=Le=_x(r,tr),r=Kv(o,r,tr)}i.memoizedProps=i.pendingProps,r===null?Wh(i):Le=r}function bl(i,r,o,c){$s=Xa=null,Jp(r),ul=null,eu=0;var m=r.return;try{if(wC(i,m,r,o,Ue)){St=1,Lh(i,mi(o,i.current)),Le=null;return}}catch(y){if(m!==null)throw Le=m,y;St=1,Lh(i,mi(o,i.current)),Le=null;return}r.flags&32768?(Ge||c===1?i=!0:yl||(Ue&536870912)!==0?i=!1:(Hr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Zn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Aw(r,i)):Wh(r)}function Wh(i){var r=i;do{if((r.flags&32768)!==0){Aw(r,Hr);return}i=r.return;var o=EC(r.alternate,r,tr);if(o!==null){Le=o;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=i}while(r!==null);St===0&&(St=5)}function Aw(i,r){do{var o=TC(i.alternate,i);if(o!==null){o.flags&=32767,Le=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Le=i;return}Le=i=o}while(i!==null);St=6,Le=null}function Sw(i,r,o,c,m,y,b,A,L){i.cancelPendingCommit=null;do Zh();while(en!==0);if((Je&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=Sp,yp(i,o,y,b,A,L),i===dt&&(Le=dt=null,Ue=0),vl=r,Gr=i,nr=o,Mg=y,Pg=m,pw=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,VC(Er,function(){return Iw(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null,m=ce.p,ce.p=2,b=Je,Je|=4;try{AC(i,r,o)}finally{Je=b,ce.p=m,ee.T=c}}en=1,Cw(),Nw(),jw()}}function Cw(){if(en===1){en=0;var i=Gr,r=vl,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=ee.T,ee.T=null;var c=ce.p;ce.p=2;var m=Je;Je|=4;try{ow(r,i);var y=Xg,b=fx(i.containerInfo),A=y.focusedElem,L=y.selectionRange;if(b!==A&&A&&A.ownerDocument&&hx(A.ownerDocument.documentElement,A)){if(L!==null&&bp(A)){var X=L.start,ie=L.end;if(ie===void 0&&(ie=X),"selectionStart"in A)A.selectionStart=X,A.selectionEnd=Math.min(ie,A.value.length);else{var re=A.ownerDocument||document,W=re&&re.defaultView||window;if(W.getSelection){var J=W.getSelection(),pe=A.textContent.length,_e=Math.min(L.start,pe),ct=L.end===void 0?_e:Math.min(L.end,pe);!J.extend&&_e>ct&&(b=ct,ct=_e,_e=b);var K=dx(A,_e),q=dx(A,ct);if(K&&q&&(J.rangeCount!==1||J.anchorNode!==K.node||J.anchorOffset!==K.offset||J.focusNode!==q.node||J.focusOffset!==q.offset)){var Q=re.createRange();Q.setStart(K.node,K.offset),J.removeAllRanges(),_e>ct?(J.addRange(Q),J.extend(q.node,q.offset)):(Q.setEnd(q.node,q.offset),J.addRange(Q))}}}}for(re=[],J=A;J=J.parentNode;)J.nodeType===1&&re.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<re.length;A++){var se=re[A];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}df=!!Qg,Xg=Qg=null}finally{Je=m,ce.p=c,ee.T=o}}i.current=r,en=2}}function Nw(){if(en===2){en=0;var i=Gr,r=vl,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=ee.T,ee.T=null;var c=ce.p;ce.p=2;var m=Je;Je|=4;try{nw(i,r.alternate,r)}finally{Je=m,ce.p=c,ee.T=o}}en=3}}function jw(){if(en===4||en===3){en=0,Fd();var i=Gr,r=vl,o=nr,c=pw;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?en=5:(en=0,vl=Gr=null,Rw(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&($r=null),Bs(o),r=r.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Mi,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=ee.T,m=ce.p,ce.p=2,ee.T=null;try{for(var y=i.onRecoverableError,b=0;b<c.length;b++){var A=c[b];y(A.value,{componentStack:A.stack})}}finally{ee.T=r,ce.p=m}}(nr&3)!==0&&Zh(),bs(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===Vg?yu++:(yu=0,Vg=i):yu=0,xu(0)}}function Rw(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Zc(r)))}function Zh(){return Cw(),Nw(),jw(),Iw()}function Iw(){if(en!==5)return!1;var i=Gr,r=Mg;Mg=0;var o=Bs(nr),c=ee.T,m=ce.p;try{ce.p=32>o?32:o,ee.T=null,o=Pg,Pg=null;var y=Gr,b=nr;if(en=0,vl=Gr=null,nr=0,(Je&6)!==0)throw Error(s(331));var A=Je;if(Je|=4,hw(y.current),cw(y,y.current,b,o),Je=A,xu(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Mi,y)}catch{}return!0}finally{ce.p=m,ee.T=c,Rw(i,r)}}function kw(i,r,o){r=mi(o,r),r=mg(i.stateNode,r,2),i=Br(i,r,2),i!==null&&(Da(i,2),bs(i))}function rt(i,r,o){if(i.tag===3)kw(i,i,o);else for(;r!==null;){if(r.tag===3){kw(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($r===null||!$r.has(c))){i=mi(o,i),o=Dv(2),c=Br(r,o,2),c!==null&&(Mv(o,c,r,i),Da(c,2),bs(c));break}}r=r.return}}function Bg(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new NC;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(Ig=!0,m.add(o),i=DC.bind(null,i,r,o),r.then(i,i))}function DC(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,dt===i&&(Ue&o)===o&&(St===4||St===3&&(Ue&62914560)===Ue&&300>Rn()-Gh?(Je&2)===0&&wl(i,0):kg|=o,xl===Ue&&(xl=0)),bs(i)}function Dw(i,r){r===0&&(r=Yd()),i=Ka(i,r),i!==null&&(Da(i,r),bs(i))}function MC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Dw(i,o)}function PC(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),Dw(i,o)}function VC(i,r){return Jt(i,r)}var Jh=null,_l=null,zg=!1,ef=!1,Ug=!1,Yr=0;function bs(i){i!==_l&&i.next===null&&(_l===null?Jh=_l=i:_l=_l.next=i),ef=!0,zg||(zg=!0,LC())}function xu(i,r){if(!Ug&&ef){Ug=!0;do for(var o=!1,c=Jh;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var b=c.suspendedLanes,A=c.pingedLanes;y=(1<<31-Nt(42|i)+1)-1,y&=m&~(b&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Ow(c,y))}else y=Ue,y=is(c,c===dt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Pi(c,y)||(o=!0,Ow(c,y));c=c.next}while(o);Ug=!1}}function OC(){Mw()}function Mw(){ef=zg=!1;var i=0;Yr!==0&&YC()&&(i=Yr);for(var r=Rn(),o=null,c=Jh;c!==null;){var m=c.next,y=Pw(c,r);y===0?(c.next=null,o===null?Jh=m:o.next=m,m===null&&(_l=o)):(o=c,(i!==0||(y&3)!==0)&&(ef=!0)),c=m}en!==0&&en!==5||xu(i),Yr!==0&&(Yr=0)}function Pw(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var b=31-Nt(y),A=1<<b,L=m[b];L===-1?((A&o)===0||(A&c)!==0)&&(m[b]=gp(A,r)):L<=r&&(i.expiredLanes|=A),y&=~A}if(r=dt,o=Ue,o=is(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(st===2||st===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&_r(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Pi(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&_r(c),Bs(o)){case 2:case 8:o=Nc;break;case 32:o=Er;break;case 268435456:o=Hd;break;default:o=Er}return c=Vw.bind(null,i),o=Jt(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&_r(c),i.callbackPriority=2,i.callbackNode=null,2}function Vw(i,r){if(en!==0&&en!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Zh()&&i.callbackNode!==o)return null;var c=Ue;return c=is(i,i===dt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(yw(i,c,r),Pw(i,Rn()),i.callbackNode!=null&&i.callbackNode===o?Vw.bind(null,i):null)}function Ow(i,r){if(Zh())return null;yw(i,r,!0)}function LC(){XC(function(){(Je&6)!==0?Jt(Cc,OC):Mw()})}function Fg(){if(Yr===0){var i=ol;i===0&&(i=ts,ts<<=1,(ts&261888)===0&&(ts=256)),Yr=i}return Yr}function Lw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Go(""+i)}function Bw(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function BC(i,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var y=Lw((m[rn]||null).action),b=c.submitter;b&&(r=(r=b[rn]||null)?Lw(r.formAction):b.getAttribute("formAction"),r!==null&&(y=r,b=null));var A=new ms("action","action",null,c,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Yr!==0){var L=b?Bw(m,b):new FormData(m);lg(o,{pending:!0,data:L,method:m.method,action:y},null,L)}}else typeof y=="function"&&(A.preventDefault(),L=b?Bw(m,b):new FormData(m),lg(o,{pending:!0,data:L,method:m.method,action:y},y,L))},currentTarget:m}]})}}for(var Hg=0;Hg<Ap.length;Hg++){var qg=Ap[Hg],zC=qg.toLowerCase(),UC=qg[0].toUpperCase()+qg.slice(1);Hi(zC,"on"+UC)}Hi(gx,"onAnimationEnd"),Hi(yx,"onAnimationIteration"),Hi(xx,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(iC,"onTransitionRun"),Hi(sC,"onTransitionStart"),Hi(rC,"onTransitionCancel"),Hi(vx,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vu));function zw(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var y=void 0;if(r)for(var b=c.length-1;0<=b;b--){var A=c[b],L=A.instance,X=A.currentTarget;if(A=A.listener,L!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=X;try{y(m)}catch(ie){ph(ie)}m.currentTarget=null,y=L}else for(b=0;b<c.length;b++){if(A=c[b],L=A.instance,X=A.currentTarget,A=A.listener,L!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=X;try{y(m)}catch(ie){ph(ie)}m.currentTarget=null,y=L}}}}function Be(i,r){var o=r[Uo];o===void 0&&(o=r[Uo]=new Set);var c=i+"__bubble";o.has(c)||(Uw(r,i,2,!1),o.add(c))}function $g(i,r,o){var c=0;r&&(c|=4),Uw(o,i,c,r)}var tf="_reactListening"+Math.random().toString(36).slice(2);function Gg(i){if(!i[tf]){i[tf]=!0,Ic.forEach(function(o){o!=="selectionchange"&&(FC.has(o)||$g(o,!1,i),$g(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[tf]||(r[tf]=!0,$g("selectionchange",!1,r))}}function Uw(i,r,o,c){switch(gb(r)){case 2:var m=gN;break;case 8:m=yN;break;default:m=o0}o=m.bind(null,r,o,i),m=void 0,!Ba||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function Kg(i,r,o,c,m){var y=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===m)break;if(b===4)for(b=c.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;A!==null;){if(b=os(A),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){c=y=b;continue e}A=A.parentNode}}c=c.return}jr(function(){var X=y,ie=ui(o),re=[];e:{var W=wx.get(i);if(W!==void 0){var J=ms,pe=i;switch(i){case"keypress":if(Ua(o)===0)break e;case"keydown":case"keyup":J=hh;break;case"focusin":pe="focus",J=Ha;break;case"focusout":pe="blur",J=Ha;break;case"beforeblur":case"afterblur":J=Ha;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=w;break;case gx:case yx:case xx:J=rh;break;case vx:J=N;break;case"scroll":case"scrollend":J=Hc;break;case"wheel":J=Z;break;case"copy":case"cut":case"paste":J=ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Fs;break;case"toggle":case"beforetoggle":J=De}var _e=(r&4)!==0,ct=!_e&&(i==="scroll"||i==="scrollend"),K=_e?W!==null?W+"Capture":null:W;_e=[];for(var q=X,Q;q!==null;){var se=q;if(Q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Q===null||K===null||(se=Bi(q,K),se!=null&&_e.push(wu(q,se,Q))),ct)break;q=q.return}0<_e.length&&(W=new J(W,pe,null,o,ie),re.push({event:W,listeners:_e}))}}if((r&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",W&&o!==zc&&(pe=o.relatedTarget||o.fromElement)&&(os(pe)||pe[rs]))break e;if((J||W)&&(W=ie.window===ie?ie:(W=ie.ownerDocument)?W.defaultView||W.parentWindow:window,J?(pe=o.relatedTarget||o.toElement,J=X,pe=pe?os(pe):null,pe!==null&&(ct=l(pe),_e=pe.tag,pe!==ct||_e!==5&&_e!==27&&_e!==6)&&(pe=null)):(J=null,pe=X),J!==pe)){if(_e=qc,se="onMouseLeave",K="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(_e=Fs,se="onPointerLeave",K="onPointerEnter",q="pointer"),ct=J==null?W:Yn(J),Q=pe==null?W:Yn(pe),W=new _e(se,q+"leave",J,o,ie),W.target=ct,W.relatedTarget=Q,se=null,os(ie)===X&&(_e=new _e(K,q+"enter",pe,o,ie),_e.target=Q,_e.relatedTarget=ct,se=_e),ct=se,J&&pe)t:{for(_e=HC,K=J,q=pe,Q=0,se=K;se;se=_e(se))Q++;se=0;for(var ve=q;ve;ve=_e(ve))se++;for(;0<Q-se;)K=_e(K),Q--;for(;0<se-Q;)q=_e(q),se--;for(;Q--;){if(K===q||q!==null&&K===q.alternate){_e=K;break t}K=_e(K),q=_e(q)}_e=null}else _e=null;J!==null&&Fw(re,W,J,_e,!1),pe!==null&&ct!==null&&Fw(re,ct,pe,_e,!0)}}e:{if(W=X?Yn(X):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var Qe=rx;else if(ix(W))if(ax)Qe=eC;else{Qe=ZS;var xe=WS}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&$o(X.elementType)&&(Qe=rx):Qe=JS;if(Qe&&(Qe=Qe(i,X))){sx(re,Qe,o,ie);break e}xe&&xe(i,W,X),i==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&Oc(W,"number",W.value)}switch(xe=X?Yn(X):window,i){case"focusin":(ix(xe)||xe.contentEditable==="true")&&(Jo=xe,_p=X,Qc=null);break;case"focusout":Qc=_p=Jo=null;break;case"mousedown":Ep=!0;break;case"contextmenu":case"mouseup":case"dragend":Ep=!1,mx(re,o,ie);break;case"selectionchange":if(nC)break;case"keydown":case"keyup":mx(re,o,ie)}var Oe;if(Ze)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Zo?qa(i,o)&&(Fe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Fe="onCompositionStart");Fe&&(ys&&o.locale!=="ko"&&(Zo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Zo&&(Oe=Fc()):(fs=ie,Uc="value"in fs?fs.value:fs.textContent,Zo=!0)),xe=nf(X,Fe),0<xe.length&&(Fe=new gs(Fe,i,null,o,ie),re.push({event:Fe,listeners:xe}),Oe?Fe.data=Oe:(Oe=Wo(o),Oe!==null&&(Fe.data=Oe)))),(Oe=hi?KS(i,o):YS(i,o))&&(Fe=nf(X,"onBeforeInput"),0<Fe.length&&(xe=new gs("onBeforeInput","beforeinput",null,o,ie),re.push({event:xe,listeners:Fe}),xe.data=Oe)),BC(re,i,X,o,ie)}zw(re,r)})}function wu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function nf(i,r){for(var o=r+"Capture",c=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Bi(i,o),m!=null&&c.unshift(wu(i,m,y)),m=Bi(i,r),m!=null&&c.push(wu(i,m,y))),i.tag===3)return c;i=i.return}return[]}function HC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Fw(i,r,o,c,m){for(var y=r._reactName,b=[];o!==null&&o!==c;){var A=o,L=A.alternate,X=A.stateNode;if(A=A.tag,L!==null&&L===c)break;A!==5&&A!==26&&A!==27||X===null||(L=X,m?(X=Bi(o,y),X!=null&&b.unshift(wu(o,X,L))):m||(X=Bi(o,y),X!=null&&b.push(wu(o,X,L)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var qC=/\r\n?/g,$C=/\u0000|\uFFFD/g;function Hw(i){return(typeof i=="string"?i:""+i).replace(qC,`
`).replace($C,"")}function qw(i,r){return r=Hw(r),Hw(i)===r}function lt(i,r,o,c,m,y){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Ln(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Ln(i,""+c);break;case"className":Qn(i,"class",c);break;case"tabIndex":Qn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(i,o,c);break;case"style":Bc(i,c,y);break;case"data":if(r!=="object"){Qn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Go(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&lt(i,r,"name",m.name,m,null),lt(i,r,"formEncType",m.formEncType,m,null),lt(i,r,"formMethod",m.formMethod,m,null),lt(i,r,"formTarget",m.formTarget,m,null)):(lt(i,r,"encType",m.encType,m,null),lt(i,r,"method",m.method,m,null),lt(i,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Go(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Li);break;case"onScroll":c!=null&&Be("scroll",i);break;case"onScrollEnd":c!=null&&Be("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Go(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Be("beforetoggle",i),Be("toggle",i),Ho(i,"popover",c);break;case"xlinkActuate":Ut(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ut(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ut(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ut(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ut(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ut(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ho(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=nh.get(o)||o,Ho(i,o,c))}}function Yg(i,r,o,c,m,y){switch(o){case"style":Bc(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Ln(i,c):(typeof c=="number"||typeof c=="bigint")&&Ln(i,""+c);break;case"onScroll":c!=null&&Be("scroll",i);break;case"onScrollEnd":c!=null&&Be("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),y=i[rn]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(r,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Ho(i,o,c)}}}function pn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",i),Be("load",i);var c=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var b=o[y];if(b!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:lt(i,r,y,b,o,null)}}m&&lt(i,r,"srcSet",o.srcSet,o,null),c&&lt(i,r,"src",o.src,o,null);return;case"input":Be("invalid",i);var A=y=b=m=null,L=null,X=null;for(c in o)if(o.hasOwnProperty(c)){var ie=o[c];if(ie!=null)switch(c){case"name":m=ie;break;case"type":b=ie;break;case"checked":L=ie;break;case"defaultChecked":X=ie;break;case"value":y=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:lt(i,r,c,ie,o,null)}}Jd(i,y,A,L,X,b,m,!1);return;case"select":Be("invalid",i),c=b=y=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":y=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:lt(i,r,m,A,o,null)}r=y,o=b,i.multiple=!!c,r!=null?Ar(i,!!c,r,!1):o!=null&&Ar(i,!!c,o,!0);return;case"textarea":Be("invalid",i),y=m=c=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":m=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:lt(i,r,b,A,o,null)}Sr(i,c,m,y);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(c=o[L],c!=null))switch(L){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:lt(i,r,L,c,o,null)}return;case"dialog":Be("beforetoggle",i),Be("toggle",i),Be("cancel",i),Be("close",i);break;case"iframe":case"object":Be("load",i);break;case"video":case"audio":for(c=0;c<vu.length;c++)Be(vu[c],i);break;case"image":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"embed":case"source":case"link":Be("error",i),Be("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(c=o[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:lt(i,r,X,c,o,null)}return;default:if($o(r)){for(ie in o)o.hasOwnProperty(ie)&&(c=o[ie],c!==void 0&&Yg(i,r,ie,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&lt(i,r,A,c,o,null))}function GC(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,b=null,A=null,L=null,X=null,ie=null;for(J in o){var re=o[J];if(o.hasOwnProperty(J)&&re!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":L=re;default:c.hasOwnProperty(J)||lt(i,r,J,null,c,re)}}for(var W in c){var J=c[W];if(re=o[W],c.hasOwnProperty(W)&&(J!=null||re!=null))switch(W){case"type":y=J;break;case"name":m=J;break;case"checked":X=J;break;case"defaultChecked":ie=J;break;case"value":b=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:J!==re&&lt(i,r,W,J,c,re)}}qo(i,b,A,L,X,ie,y,m);return;case"select":J=b=A=W=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":J=L;default:c.hasOwnProperty(y)||lt(i,r,y,null,c,L)}for(m in c)if(y=c[m],L=o[m],c.hasOwnProperty(m)&&(y!=null||L!=null))switch(m){case"value":W=y;break;case"defaultValue":A=y;break;case"multiple":b=y;default:y!==L&&lt(i,r,m,y,c,L)}r=A,o=b,c=J,W!=null?Ar(i,!!o,W,!1):!!c!=!!o&&(r!=null?Ar(i,!!o,r,!0):Ar(i,!!o,o?[]:"",!1));return;case"textarea":J=W=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:lt(i,r,A,null,c,m)}for(b in c)if(m=c[b],y=o[b],c.hasOwnProperty(b)&&(m!=null||y!=null))switch(b){case"value":W=m;break;case"defaultValue":J=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&lt(i,r,b,m,c,y)}eh(i,W,J);return;case"option":for(var pe in o)if(W=o[pe],o.hasOwnProperty(pe)&&W!=null&&!c.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:lt(i,r,pe,null,c,W)}for(L in c)if(W=c[L],J=o[L],c.hasOwnProperty(L)&&W!==J&&(W!=null||J!=null))switch(L){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:lt(i,r,L,W,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)W=o[_e],o.hasOwnProperty(_e)&&W!=null&&!c.hasOwnProperty(_e)&&lt(i,r,_e,null,c,W);for(X in c)if(W=c[X],J=o[X],c.hasOwnProperty(X)&&W!==J&&(W!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:lt(i,r,X,W,c,J)}return;default:if($o(r)){for(var ct in o)W=o[ct],o.hasOwnProperty(ct)&&W!==void 0&&!c.hasOwnProperty(ct)&&Yg(i,r,ct,void 0,c,W);for(ie in c)W=c[ie],J=o[ie],!c.hasOwnProperty(ie)||W===J||W===void 0&&J===void 0||Yg(i,r,ie,W,c,J);return}}for(var K in o)W=o[K],o.hasOwnProperty(K)&&W!=null&&!c.hasOwnProperty(K)&&lt(i,r,K,null,c,W);for(re in c)W=c[re],J=o[re],!c.hasOwnProperty(re)||W===J||W==null&&J==null||lt(i,r,re,W,c,J)}function $w(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],y=m.transferSize,b=m.initiatorType,A=m.duration;if(y&&A&&$w(b)){for(b=0,A=m.responseEnd,c+=1;c<o.length;c++){var L=o[c],X=L.startTime;if(X>A)break;var ie=L.transferSize,re=L.initiatorType;ie&&$w(re)&&(L=L.responseEnd,b+=ie*(L<A?1:(A-X)/(L-X)))}if(--c,r+=8*(y+b)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Qg=null,Xg=null;function sf(i){return i.nodeType===9?i:i.ownerDocument}function Gw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kw(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Wg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Zg=null;function YC(){var i=window.event;return i&&i.type==="popstate"?i===Zg?!1:(Zg=i,!0):(Zg=null,!1)}var Yw=typeof setTimeout=="function"?setTimeout:void 0,QC=typeof clearTimeout=="function"?clearTimeout:void 0,Qw=typeof Promise=="function"?Promise:void 0,XC=typeof queueMicrotask=="function"?queueMicrotask:typeof Qw<"u"?function(i){return Qw.resolve(null).then(i).catch(WC)}:Yw;function WC(i){setTimeout(function(){throw i})}function Qr(i){return i==="head"}function Xw(i,r){var o=r,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),Sl(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")bu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,bu(o);for(var y=o.firstChild;y;){var b=y.nextSibling,A=y.nodeName;y[as]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=b}}else o==="body"&&bu(i.ownerDocument.body);o=m}while(o);Sl(r)}function Ww(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Jg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Jg(o),Fo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function ZC(i,r,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[as])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=vi(i.nextSibling),i===null)break}return null}function JC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=vi(i.nextSibling),i===null))return null;return i}function Zw(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=vi(i.nextSibling),i===null))return null;return i}function e0(i){return i.data==="$?"||i.data==="$~"}function t0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function eN(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function vi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var n0=null;function Jw(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return vi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function eb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function tb(i,r,o){switch(r=sf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function bu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Fo(i)}var wi=new Map,nb=new Set;function rf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ir=ce.d;ce.d={f:tN,r:nN,D:iN,C:sN,L:rN,m:aN,X:lN,S:oN,M:cN};function tN(){var i=ir.f(),r=Qh();return i||r}function nN(i){var r=ci(i);r!==null&&r.tag===5&&r.type==="form"?vv(r):ir.r(i)}var El=typeof document>"u"?null:document;function ib(i,r,o){var c=El;if(c&&typeof r=="string"&&r){var m=On(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),nb.has(m)||(nb.add(m),i={rel:i,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),pn(r,"link",i),zt(r),c.head.appendChild(r)))}}function iN(i){ir.D(i),ib("dns-prefetch",i,null)}function sN(i,r){ir.C(i,r),ib("preconnect",i,r)}function rN(i,r,o){ir.L(i,r,o);var c=El;if(c&&i&&r){var m='link[rel="preload"][as="'+On(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+On(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+On(o.imageSizes)+'"]')):m+='[href="'+On(i)+'"]';var y=m;switch(r){case"style":y=Tl(i);break;case"script":y=Al(i)}wi.has(y)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),wi.set(y,i),c.querySelector(m)!==null||r==="style"&&c.querySelector(_u(y))||r==="script"&&c.querySelector(Eu(y))||(r=c.createElement("link"),pn(r,"link",i),zt(r),c.head.appendChild(r)))}}function aN(i,r){ir.m(i,r);var o=El;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+On(c)+'"][href="'+On(i)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Al(i)}if(!wi.has(y)&&(i=v({rel:"modulepreload",href:i},r),wi.set(y,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Eu(y)))return}c=o.createElement("link"),pn(c,"link",i),zt(c),o.head.appendChild(c)}}}function oN(i,r,o){ir.S(i,r,o);var c=El;if(c&&i){var m=ls(c).hoistableStyles,y=Tl(i);r=r||"default";var b=m.get(y);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(_u(y)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=wi.get(y))&&i0(i,o);var L=b=c.createElement("link");zt(L),pn(L,"link",i),L._p=new Promise(function(X,ie){L.onload=X,L.onerror=ie}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,af(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:A},m.set(y,b)}}}function lN(i,r){ir.X(i,r);var o=El;if(o&&i){var c=ls(o).hoistableScripts,m=Al(i),y=c.get(m);y||(y=o.querySelector(Eu(m)),y||(i=v({src:i,async:!0},r),(r=wi.get(m))&&s0(i,r),y=o.createElement("script"),zt(y),pn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function cN(i,r){ir.M(i,r);var o=El;if(o&&i){var c=ls(o).hoistableScripts,m=Al(i),y=c.get(m);y||(y=o.querySelector(Eu(m)),y||(i=v({src:i,async:!0,type:"module"},r),(r=wi.get(m))&&s0(i,r),y=o.createElement("script"),zt(y),pn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function sb(i,r,o,c){var m=(m=Ve.current)?rf(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Tl(o.href),o=ls(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Tl(o.href);var y=ls(m).hoistableStyles,b=y.get(i);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,b),(y=m.querySelector(_u(i)))&&!y._p&&(b.instance=y,b.state.loading=5),wi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},wi.set(i,o),y||uN(m,i,o,b.state))),r&&c===null)throw Error(s(528,""));return b}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Al(o),o=ls(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Tl(i){return'href="'+On(i)+'"'}function _u(i){return'link[rel="stylesheet"]['+i+"]"}function rb(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function uN(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),pn(r,"link",o),zt(r),i.head.appendChild(r))}function Al(i){return'[src="'+On(i)+'"]'}function Eu(i){return"script[async]"+i}function ab(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+On(o.href)+'"]');if(c)return r.instance=c,zt(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),zt(c),pn(c,"style",m),af(c,o.precedence,i),r.instance=c;case"stylesheet":m=Tl(o.href);var y=i.querySelector(_u(m));if(y)return r.state.loading|=4,r.instance=y,zt(y),y;c=rb(o),(m=wi.get(m))&&i0(c,m),y=(i.ownerDocument||i).createElement("link"),zt(y);var b=y;return b._p=new Promise(function(A,L){b.onload=A,b.onerror=L}),pn(y,"link",c),r.state.loading|=4,af(y,o.precedence,i),r.instance=y;case"script":return y=Al(o.src),(m=i.querySelector(Eu(y)))?(r.instance=m,zt(m),m):(c=o,(m=wi.get(y))&&(c=v({},o),s0(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),zt(m),pn(m,"link",c),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,af(c,o.precedence,i));return r.instance}function af(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===r)y=A;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function i0(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function s0(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var of=null;function ob(i,r,o){if(of===null){var c=new Map,m=of=new Map;m.set(o,c)}else m=of,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var y=o[m];if(!(y[as]||y[Bt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var b=y.getAttribute(r)||"";b=i+b;var A=c.get(b);A?A.push(y):c.set(b,[y])}}return c}function lb(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function dN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function cb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function hN(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Tl(c.href),y=r.querySelector(_u(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=lf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=y,zt(y);return}y=r.ownerDocument||r,c=rb(c),(m=wi.get(m))&&i0(c,m),y=y.createElement("link"),zt(y);var b=y;b._p=new Promise(function(A,L){b.onload=A,b.onerror=L}),pn(y,"link",c),o.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=lf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var r0=0;function fN(i,r){return i.stylesheets&&i.count===0&&uf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&uf(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+r);0<i.imgBytes&&r0===0&&(r0=62500*KC());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&uf(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>r0?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function lf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var cf=null;function uf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,cf=new Map,r.forEach(mN,i),cf=null,lf.call(i))}function mN(i,r){if(!(r.state.loading&4)){var o=cf.get(i);if(o)var c=o.get(null);else{o=new Map,cf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var b=m[y];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}m=r.instance,b=m.getAttribute("data-precedence"),y=o.get(b)||c,y===c&&o.set(null,m),o.set(b,m),this.count++,c=lf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var Tu={$$typeof:V,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function pN(i,r,o,c,m,y,b,A,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.hiddenUpdates=ss(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function ub(i,r,o,c,m,y,b,A,L,X,ie,re){return i=new pN(i,r,o,b,L,X,ie,re,A),r=1,y===!0&&(r|=24),y=Wn(3,null,null,r),i.current=y,y.stateNode=i,r=Lp(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:r},Fp(y),i}function db(i){return i?(i=nl,i):nl}function hb(i,r,o,c,m,y){m=db(m),c.context===null?c.context=m:c.pendingContext=m,c=Lr(r),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Br(i,c,r),o!==null&&(Hn(o,i,r),nu(o,i,r))}function fb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function a0(i,r){fb(i,r),(i=i.alternate)&&fb(i,r)}function mb(i){if(i.tag===13||i.tag===31){var r=Ka(i,67108864);r!==null&&Hn(r,i,67108864),a0(i,67108864)}}function pb(i){if(i.tag===13||i.tag===31){var r=ni();r=Pa(r);var o=Ka(i,r);o!==null&&Hn(o,i,r),a0(i,r)}}var df=!0;function gN(i,r,o,c){var m=ee.T;ee.T=null;var y=ce.p;try{ce.p=2,o0(i,r,o,c)}finally{ce.p=y,ee.T=m}}function yN(i,r,o,c){var m=ee.T;ee.T=null;var y=ce.p;try{ce.p=8,o0(i,r,o,c)}finally{ce.p=y,ee.T=m}}function o0(i,r,o,c){if(df){var m=l0(c);if(m===null)Kg(i,r,c,hf,o),yb(i,c);else if(vN(m,i,r,o,c))c.stopPropagation();else if(yb(i,c),r&4&&-1<xN.indexOf(i)){for(;m!==null;){var y=ci(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var b=ns(y.pendingLanes);if(b!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var L=1<<31-Nt(b);A.entanglements[1]|=L,b&=~L}bs(y),(Je&6)===0&&(Kh=Rn()+500,xu(0))}}break;case 31:case 13:A=Ka(y,2),A!==null&&Hn(A,y,2),Qh(),a0(y,2)}if(y=l0(c),y===null&&Kg(i,r,c,hf,o),y===m)break;m=y}m!==null&&c.stopPropagation()}else Kg(i,r,c,null,o)}}function l0(i){return i=ui(i),c0(i)}var hf=null;function c0(i){if(hf=null,i=os(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return hf=i,null}function gb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ia()){case Cc:return 2;case Nc:return 8;case Er:case pp:return 32;case Hd:return 268435456;default:return 32}default:return 32}}var u0=!1,Xr=null,Wr=null,Zr=null,Au=new Map,Su=new Map,Jr=[],xN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yb(i,r){switch(i){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Au.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(r.pointerId)}}function Cu(i,r,o,c,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},r!==null&&(r=ci(r),r!==null&&mb(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function vN(i,r,o,c,m){switch(r){case"focusin":return Xr=Cu(Xr,i,r,o,c,m),!0;case"dragenter":return Wr=Cu(Wr,i,r,o,c,m),!0;case"mouseover":return Zr=Cu(Zr,i,r,o,c,m),!0;case"pointerover":var y=m.pointerId;return Au.set(y,Cu(Au.get(y)||null,i,r,o,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Su.set(y,Cu(Su.get(y)||null,i,r,o,c,m)),!0}return!1}function xb(i){var r=os(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Vi(i.priority,function(){pb(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,Vi(i.priority,function(){pb(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ff(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=l0(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);zc=c,o.target.dispatchEvent(c),zc=null}else return r=ci(o),r!==null&&mb(r),i.blockedOn=o,!1;r.shift()}return!0}function vb(i,r,o){ff(i)&&o.delete(r)}function wN(){u0=!1,Xr!==null&&ff(Xr)&&(Xr=null),Wr!==null&&ff(Wr)&&(Wr=null),Zr!==null&&ff(Zr)&&(Zr=null),Au.forEach(vb),Su.forEach(vb)}function mf(i,r){i.blockedOn===r&&(i.blockedOn=null,u0||(u0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wN)))}var pf=null;function wb(i){pf!==i&&(pf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pf===i&&(pf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],m=i[r+2];if(typeof c!="function"){if(c0(c||o)===null)continue;break}var y=ci(o);y!==null&&(i.splice(r,3),r-=3,lg(y,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Sl(i){function r(L){return mf(L,i)}Xr!==null&&mf(Xr,i),Wr!==null&&mf(Wr,i),Zr!==null&&mf(Zr,i),Au.forEach(r),Su.forEach(r);for(var o=0;o<Jr.length;o++){var c=Jr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Jr.length&&(o=Jr[0],o.blockedOn===null);)xb(o),o.blockedOn===null&&Jr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],y=o[c+1],b=m[rn]||null;if(typeof y=="function")b||wb(o);else if(b){var A=null;if(y&&y.hasAttribute("formAction")){if(m=y,b=y[rn]||null)A=b.formAction;else if(c0(m)!==null)continue}else A=b.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),wb(o)}}}function bb(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function d0(i){this._internalRoot=i}gf.prototype.render=d0.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=ni();hb(o,c,i,r,null,null)},gf.prototype.unmount=d0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;hb(i.current,2,null,i,null,null),Qh(),r[rs]=null}};function gf(i){this._internalRoot=i}gf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Qd();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Jr.length&&r!==0&&r<Jr[o].priority;o++);Jr.splice(o,0,i),o===0&&xb(i)}};var _b=e.version;if(_b!=="19.2.0")throw Error(s(527,_b,"19.2.0"));ce.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?x(i):null,i=i===null?null:i.stateNode,i};var bN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{Mi=yf.inject(bN),un=yf}catch{}}return ju.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",m=jv,y=Rv,b=Iv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=ub(i,1,!1,null,null,o,c,null,m,y,b,bb),i[rs]=r.current,Gg(i),new d0(r)},ju.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,m="",y=jv,b=Rv,A=Iv,L=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),r=ub(i,1,!0,r,o??null,c,m,L,y,b,A,bb),r.context=db(null),o=r.current,c=ni(),c=Pa(c),m=Lr(c),m.callback=null,Br(o,m,c),o=c,r.current.lanes=o,Da(r,o),bs(r),i[rs]=r.current,Gg(i),new gf(r)},ju.version="19.2.0",ju}var kb;function kN(){if(kb)return m0.exports;kb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),m0.exports=IN(),m0.exports}var DN=kN();var Db="popstate";function MN(t={}){function e(s,a){let{pathname:l,search:u,hash:h}=s.location;return ty("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Xu(a)}return VN(e,n,null,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PN(){return Math.random().toString(36).substring(2,10)}function Mb(t,e){return{usr:t.state,key:t.key,idx:e}}function ty(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ac(e):e,state:n,key:e&&e.key||s||PN()}}function Xu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ac(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function VN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,h="POP",p=null,g=x();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function x(){return(u.state||{idx:null}).idx}function v(){h="POP";let z=x(),H=z==null?null:z-g;g=z,p&&p({action:h,location:U.location,delta:H})}function E(z,H){h="PUSH";let k=ty(U.location,z,H);g=x()+1;let V=Mb(k,g),B=U.createHref(k);try{u.pushState(V,"",B)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(B)}l&&p&&p({action:h,location:U.location,delta:1})}function S(z,H){h="REPLACE";let k=ty(U.location,z,H);g=x();let V=Mb(k,g),B=U.createHref(k);u.replaceState(V,"",B),l&&p&&p({action:h,location:U.location,delta:0})}function D(z){return ON(z)}let U={get action(){return h},get location(){return t(a,u)},listen(z){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Db,v),p=z,()=>{a.removeEventListener(Db,v),p=null}},createHref(z){return e(a,z)},createURL:D,encodeLocation(z){let H=D(z);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:E,replace:S,go(z){return u.go(z)}};return U}function ON(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Xu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Z_(t,e,n="/"){return LN(t,e,n,!1)}function LN(t,e,n,s){let a=typeof e=="string"?ac(e):e,l=fr(a.pathname||"/",n);if(l==null)return null;let u=J_(t);BN(u);let h=null;for(let p=0;h==null&&p<u.length;++p){let g=XN(l);h=YN(u[p],g,s)}return h}function J_(t,e=[],n=[],s="",a=!1){let l=(u,h,p=a,g)=>{let x={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&p)return;Et(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let v=or([s,x.relativePath]),E=n.concat(x);u.children&&u.children.length>0&&(Et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),J_(u.children,e,E,v,p)),!(u.path==null&&!u.index)&&e.push({path:v,score:GN(v,u.index),routesMeta:E})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let p of e6(u.path))l(u,h,!0,p)}),e}function e6(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=e6(s.join("/")),h=[];return h.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&h.push(...u),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function BN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var zN=/^:[\w-]+$/,UN=3,FN=2,HN=1,qN=10,$N=-2,Pb=t=>t==="*";function GN(t,e){let n=t.split("/"),s=n.length;return n.some(Pb)&&(s+=$N),e&&(s+=FN),n.filter(a=>!Pb(a)).reduce((a,l)=>a+(zN.test(l)?UN:l===""?HN:qN),s)}function KN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function YN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let h=0;h<s.length;++h){let p=s[h],g=h===s.length-1,x=l==="/"?e:e.slice(l.length)||"/",v=Gf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),E=p.route;if(!v&&g&&n&&!s[s.length-1].route.index&&(v=Gf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:or([l,v.pathname]),pathnameBase:t8(or([l,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(l=or([l,v.pathnameBase]))}return u}function Gf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=QN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((g,{paramName:x,isOptional:v},E)=>{if(x==="*"){let D=h[E]||"";u=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const S=h[E];return v&&!S?g[x]=void 0:g[x]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:t}}function QN(t,e=!1,n=!0){Ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function XN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var WN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZN=t=>WN.test(t);function JN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?ac(t):t,l;if(n)if(ZN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Ri(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=Vb(n.substring(1),"/"):l=Vb(n,e)}else l=e;return{pathname:l,search:n8(s),hash:i8(a)}}function Vb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function x0(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function t6(t){let e=e8(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function n6(t,e,n,s=!1){let a;typeof t=="string"?a=ac(t):(a={...t},Et(!a.pathname||!a.pathname.includes("?"),x0("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),x0("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),x0("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!s&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;a.pathname=E.join("/")}h=v>=0?e[v]:"/"}let p=JN(a,h),g=u&&u!=="/"&&u.endsWith("/"),x=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}var or=t=>t.join("/").replace(/\/\/+/g,"/"),t8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),n8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,i8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function s8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var i6=["POST","PUT","PATCH","DELETE"];new Set(i6);var r8=["GET",...i6];new Set(r8);var oc=R.createContext(null);oc.displayName="DataRouter";var Dm=R.createContext(null);Dm.displayName="DataRouterState";R.createContext(!1);var s6=R.createContext({isTransitioning:!1});s6.displayName="ViewTransition";var a8=R.createContext(new Map);a8.displayName="Fetchers";var o8=R.createContext(null);o8.displayName="Await";var Vs=R.createContext(null);Vs.displayName="Navigation";var pd=R.createContext(null);pd.displayName="Location";var Os=R.createContext({outlet:null,matches:[],isDataRoute:!1});Os.displayName="Route";var s2=R.createContext(null);s2.displayName="RouteError";function l8(t,{relative:e}={}){Et(gd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=R.useContext(Vs),{hash:a,pathname:l,search:u}=yd(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:or([n,l])),s.createHref({pathname:h,search:u,hash:a})}function gd(){return R.useContext(pd)!=null}function br(){return Et(gd(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(pd).location}var r6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a6(t){R.useContext(Vs).static||R.useLayoutEffect(t)}function sn(){let{isDataRoute:t}=R.useContext(Os);return t?_8():c8()}function c8(){Et(gd(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(oc),{basename:e,navigator:n}=R.useContext(Vs),{matches:s}=R.useContext(Os),{pathname:a}=br(),l=JSON.stringify(t6(s)),u=R.useRef(!1);return a6(()=>{u.current=!0}),R.useCallback((p,g={})=>{if(Ri(u.current,r6),!u.current)return;if(typeof p=="number"){n.go(p);return}let x=n6(p,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:or([e,x.pathname])),(g.replace?n.replace:n.push)(x,g.state,g)},[e,n,l,a,t])}R.createContext(null);function u8(){let{matches:t}=R.useContext(Os),e=t[t.length-1];return e?e.params:{}}function yd(t,{relative:e}={}){let{matches:n}=R.useContext(Os),{pathname:s}=br(),a=JSON.stringify(t6(n));return R.useMemo(()=>n6(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function d8(t,e){return o6(t,e)}function o6(t,e,n,s,a){Et(gd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=R.useContext(Vs),{matches:u}=R.useContext(Os),h=u[u.length-1],p=h?h.params:{},g=h?h.pathname:"/",x=h?h.pathnameBase:"/",v=h&&h.route;{let k=v&&v.path||"";l6(g,!v||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let E=br(),S;if(e){let k=typeof e=="string"?ac(e):e;Et(x==="/"||k.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${k.pathname}" was given in the \`location\` prop.`),S=k}else S=E;let D=S.pathname||"/",U=D;if(x!=="/"){let k=x.replace(/^\//,"").split("/");U="/"+D.replace(/^\//,"").split("/").slice(k.length).join("/")}let z=Z_(t,{pathname:U});Ri(v||z!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ri(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=g8(z&&z.map(k=>Object.assign({},k,{params:Object.assign({},p,k.params),pathname:or([x,l.encodeLocation?l.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?x:or([x,l.encodeLocation?l.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),u,n,s,a);return e&&H?R.createElement(pd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},H):H}function h8(){let t=b8(),e=s8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:l},"ErrorBoundary")," or"," ",R.createElement("code",{style:l},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:a},n):null,u)}var f8=R.createElement(h8,null),m8=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(Os.Provider,{value:this.props.routeContext},R.createElement(s2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p8({routeContext:t,match:e,children:n}){let s=R.useContext(oc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Os.Provider,{value:t},n)}function g8(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let x=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Et(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,x+1))}let h=!1,p=-1;if(n)for(let x=0;x<l.length;x++){let v=l[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=x),v.route.id){let{loaderData:E,errors:S}=n,D=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||D){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=n&&s?(x,v)=>{s(x,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:v})}:void 0;return l.reduceRight((x,v,E)=>{let S,D=!1,U=null,z=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,U=v.route.errorElement||f8,h&&(p<0&&E===0?(l6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,z=null):p===E&&(D=!0,z=v.route.hydrateFallbackElement||null)));let H=e.concat(l.slice(0,E+1)),k=()=>{let V;return S?V=U:D?V=z:v.route.Component?V=R.createElement(v.route.Component,null):v.route.element?V=v.route.element:V=x,R.createElement(p8,{match:v,routeContext:{outlet:x,matches:H,isDataRoute:n!=null},children:V})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?R.createElement(m8,{location:n.location,revalidation:n.revalidation,component:U,error:S,children:k(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:g}):k()},null)}function r2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y8(t){let e=R.useContext(oc);return Et(e,r2(t)),e}function x8(t){let e=R.useContext(Dm);return Et(e,r2(t)),e}function v8(t){let e=R.useContext(Os);return Et(e,r2(t)),e}function a2(t){let e=v8(t),n=e.matches[e.matches.length-1];return Et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function w8(){return a2("useRouteId")}function b8(){let t=R.useContext(s2),e=x8("useRouteError"),n=a2("useRouteError");return t!==void 0?t:e.errors?.[n]}function _8(){let{router:t}=y8("useNavigate"),e=a2("useNavigate"),n=R.useRef(!1);return a6(()=>{n.current=!0}),R.useCallback(async(a,l={})=>{Ri(n.current,r6),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Ob={};function l6(t,e,n){!e&&!Ob[t]&&(Ob[t]=!0,Ri(!1,n))}R.memo(E8);function E8({routes:t,future:e,state:n,unstable_onError:s}){return o6(t,void 0,n,s,e)}function pt(t){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T8({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){Et(!gd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=ac(n));let{pathname:p="/",search:g="",hash:x="",state:v=null,key:E="default"}=n,S=R.useMemo(()=>{let D=fr(p,u);return D==null?null:{location:{pathname:D,search:g,hash:x,state:v,key:E},navigationType:s}},[u,p,g,x,v,E,s]);return Ri(S!=null,`<Router basename="${u}"> is not able to match the URL "${p}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:R.createElement(Vs.Provider,{value:h},R.createElement(pd.Provider,{children:e,value:S}))}function A8({children:t,location:e}){return d8(ny(t),e)}function ny(t,e=[]){let n=[];return R.Children.forEach(t,(s,a)=>{if(!R.isValidElement(s))return;let l=[...e,a];if(s.type===R.Fragment){n.push.apply(n,ny(s.props.children,l));return}Et(s.type===pt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=ny(s.props.children,l)),n.push(u)}),n}var jf="get",Rf="application/x-www-form-urlencoded";function Mm(t){return t!=null&&typeof t.tagName=="string"}function S8(t){return Mm(t)&&t.tagName.toLowerCase()==="button"}function C8(t){return Mm(t)&&t.tagName.toLowerCase()==="form"}function N8(t){return Mm(t)&&t.tagName.toLowerCase()==="input"}function j8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function R8(t,e){return t.button===0&&(!e||e==="_self")&&!j8(t)}function iy(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function I8(t,e){let n=iy(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}var xf=null;function k8(){if(xf===null)try{new FormData(document.createElement("form"),0),xf=!1}catch{xf=!0}return xf}var D8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function v0(t){return t!=null&&!D8.has(t)?(Ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):t}function M8(t,e){let n,s,a,l,u;if(C8(t)){let h=t.getAttribute("action");s=h?fr(h,e):null,n=t.getAttribute("method")||jf,a=v0(t.getAttribute("enctype"))||Rf,l=new FormData(t)}else if(S8(t)||N8(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||h.getAttribute("action");if(s=p?fr(p,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||jf,a=v0(t.getAttribute("formenctype"))||v0(h.getAttribute("enctype"))||Rf,l=new FormData(h,t),!k8()){let{name:g,type:x,value:v}=t;if(x==="image"){let E=g?`${g}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else g&&l.append(g,v)}}else{if(Mm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jf,s=null,a=Rf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function o2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function P8(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&fr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function V8(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function L8(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await V8(l,n);return u.links?u.links():[]}return[]}));return F8(s.flat(1).filter(O8).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Lb(t,e,n,s,a,l){let u=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,h=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>u(p,g)||h(p,g)):l==="data"?e.filter((p,g)=>{let x=s.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(u(p,g)||h(p,g))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function B8(t,e,{includeHydrateFallback:n}={}){return z8(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function z8(t){return[...new Set(t)]}function U8(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function F8(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(U8(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function c6(){let t=R.useContext(oc);return o2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function H8(){let t=R.useContext(Dm);return o2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var l2=R.createContext(void 0);l2.displayName="FrameworkContext";function u6(){let t=R.useContext(l2);return o2(t,"You must render this element inside a <HydratedRouter> element"),t}function q8(t,e){let n=R.useContext(l2),[s,a]=R.useState(!1),[l,u]=R.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:g,onMouseLeave:x,onTouchStart:v}=e,E=R.useRef(null);R.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let U=H=>{H.forEach(k=>{u(k.isIntersecting)})},z=new IntersectionObserver(U,{threshold:.5});return E.current&&z.observe(E.current),()=>{z.disconnect()}}},[t]),R.useEffect(()=>{if(s){let U=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(U)}}},[s]);let S=()=>{a(!0)},D=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Ru(h,S),onBlur:Ru(p,D),onMouseEnter:Ru(g,S),onMouseLeave:Ru(x,D),onTouchStart:Ru(v,S)}]:[!1,E,{}]}function Ru(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $8({page:t,...e}){let{router:n}=c6(),s=R.useMemo(()=>Z_(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?R.createElement(K8,{page:t,matches:s,...e}):null}function G8(t){let{manifest:e,routeModules:n}=u6(),[s,a]=R.useState([]);return R.useEffect(()=>{let l=!1;return L8(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function K8({page:t,matches:e,...n}){let s=br(),{manifest:a,routeModules:l}=u6(),{basename:u}=c6(),{loaderData:h,matches:p}=H8(),g=R.useMemo(()=>Lb(t,e,p,a,s,"data"),[t,e,p,a,s]),x=R.useMemo(()=>Lb(t,e,p,a,s,"assets"),[t,e,p,a,s]),v=R.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let D=new Set,U=!1;if(e.forEach(H=>{let k=a.routes[H.route.id];!k||!k.hasLoader||(!g.some(V=>V.route.id===H.route.id)&&H.route.id in h&&l[H.route.id]?.shouldRevalidate||k.hasClientLoader?U=!0:D.add(H.route.id))}),D.size===0)return[];let z=P8(t,u,"data");return U&&D.size>0&&z.searchParams.set("_routes",e.filter(H=>D.has(H.route.id)).map(H=>H.route.id).join(",")),[z.pathname+z.search]},[u,h,s,a,g,e,t,l]),E=R.useMemo(()=>B8(x,a),[x,a]),S=G8(x);return R.createElement(R.Fragment,null,v.map(D=>R.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),E.map(D=>R.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),S.map(({key:D,link:U})=>R.createElement("link",{key:D,nonce:n.nonce,...U})))}function Y8(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var d6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d6&&(window.__reactRouterVersion="7.9.6")}catch{}function Q8({basename:t,children:e,window:n}){let s=R.useRef();s.current==null&&(s.current=MN({window:n,v5Compat:!0}));let a=s.current,[l,u]=R.useState({action:a.action,location:a.location}),h=R.useCallback(p=>{R.startTransition(()=>u(p))},[u]);return R.useLayoutEffect(()=>a.listen(h),[a,h]),R.createElement(T8,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var h6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kt=R.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:h,target:p,to:g,preventScrollReset:x,viewTransition:v,...E},S){let{basename:D}=R.useContext(Vs),U=typeof g=="string"&&h6.test(g),z,H=!1;if(typeof g=="string"&&U&&(z=g,d6))try{let j=new URL(window.location.href),P=g.startsWith("//")?new URL(j.protocol+g):new URL(g),O=fr(P.pathname,D);P.origin===j.origin&&O!=null?g=O+P.search+P.hash:H=!0}catch{Ri(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=l8(g,{relative:a}),[V,B,M]=q8(s,E),G=J8(g,{replace:u,state:h,target:p,preventScrollReset:x,relative:a,viewTransition:v});function C(j){e&&e(j),j.defaultPrevented||G(j)}let T=R.createElement("a",{...E,...M,href:z||k,onClick:H||l?e:C,ref:Y8(S,B),target:p,"data-discover":!U&&n==="render"?"true":void 0});return V&&!U?R.createElement(R.Fragment,null,T,R.createElement($8,{page:k})):T});Kt.displayName="Link";var X8=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:h,children:p,...g},x){let v=yd(u,{relative:g.relative}),E=br(),S=R.useContext(Dm),{navigator:D,basename:U}=R.useContext(Vs),z=S!=null&&sj(v)&&h===!0,H=D.encodeLocation?D.encodeLocation(v).pathname:v.pathname,k=E.pathname,V=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(k=k.toLowerCase(),V=V?V.toLowerCase():null,H=H.toLowerCase()),V&&U&&(V=fr(V,U)||V);const B=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let M=k===H||!a&&k.startsWith(H)&&k.charAt(B)==="/",G=V!=null&&(V===H||!a&&V.startsWith(H)&&V.charAt(H.length)==="/"),C={isActive:M,isPending:G,isTransitioning:z},T=M?e:void 0,j;typeof s=="function"?j=s(C):j=[s,M?"active":null,G?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(C):l;return R.createElement(Kt,{...g,"aria-current":T,className:j,ref:x,style:P,to:u,viewTransition:h},typeof p=="function"?p(C):p)});X8.displayName="NavLink";var W8=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=jf,action:h,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:v,...E},S)=>{let D=nj(),U=ij(h,{relative:g}),z=u.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&h6.test(h),k=V=>{if(p&&p(V),V.defaultPrevented)return;V.preventDefault();let B=V.nativeEvent.submitter,M=B?.getAttribute("formmethod")||u;D(B||V.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:a,state:l,relative:g,preventScrollReset:x,viewTransition:v})};return R.createElement("form",{ref:S,method:z,action:U,onSubmit:s?p:k,...E,"data-discover":!H&&t==="render"?"true":void 0})});W8.displayName="Form";function Z8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f6(t){let e=R.useContext(oc);return Et(e,Z8(t)),e}function J8(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=sn(),p=br(),g=yd(t,{relative:l});return R.useCallback(x=>{if(R8(x,e)){x.preventDefault();let v=n!==void 0?n:Xu(p)===Xu(g);h(t,{replace:v,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[p,h,g,n,s,e,t,a,l,u])}function lc(t){Ri(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=R.useRef(iy(t)),n=R.useRef(!1),s=br(),a=R.useMemo(()=>I8(s.search,n.current?null:e.current),[s.search]),l=sn(),u=R.useCallback((h,p)=>{const g=iy(typeof h=="function"?h(new URLSearchParams(a)):h);n.current=!0,l("?"+g,p)},[l,a]);return[a,u]}var ej=0,tj=()=>`__${String(++ej)}__`;function nj(){let{router:t}=f6("useSubmit"),{basename:e}=R.useContext(Vs),n=w8();return R.useCallback(async(s,a={})=>{let{action:l,method:u,encType:h,formData:p,body:g}=M8(s,e);if(a.navigate===!1){let x=a.fetcherKey||tj();await t.fetch(x,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function ij(t,{relative:e}={}){let{basename:n}=R.useContext(Vs),s=R.useContext(Os);Et(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...yd(t||".",{relative:e})},u=br();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(x=>x==="")){h.delete("index"),p.filter(v=>v).forEach(v=>h.append("index",v));let x=h.toString();l.search=x?`?${x}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:or([n,l.pathname])),Xu(l)}function sj(t,{relative:e}={}){let n=R.useContext(s6);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=f6("useViewTransitionState"),a=yd(t,{relative:e});if(!n.isTransitioning)return!1;let l=fr(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=fr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Gf(a.pathname,u)!=null||Gf(a.pathname,l)!=null}const rj=()=>{};var Bb={};const m6=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},aj=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},p6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,p=a+2<t.length,g=p?t[a+2]:0,x=l>>2,v=(l&3)<<4|h>>4;let E=(h&15)<<2|g>>6,S=g&63;p||(S=64,u||(E=64)),s.push(n[x],n[v],n[E],n[S])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(m6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||g==null||v==null)throw new oj;const E=l<<2|h>>4;if(s.push(E),g!==64){const S=h<<4&240|g>>2;if(s.push(S),v!==64){const D=g<<6&192|v;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lj=function(t){const e=m6(t);return p6.encodeByteArray(e,!0)},Kf=function(t){return lj(t).replace(/\./g,"")},g6=function(t){try{return p6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uj=()=>cj().__FIREBASE_DEFAULTS__,dj=()=>{if(typeof process>"u"||typeof Bb>"u")return;const t=Bb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&g6(t[1]);return e&&JSON.parse(e)},Pm=()=>{try{return rj()||uj()||dj()||hj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},y6=t=>Pm()?.emulatorHosts?.[t],fj=t=>{const e=y6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},x6=()=>Pm()?.config,v6=t=>Pm()?.[`_${t}`];class mj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function cc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function w6(t){return(await fetch(t,{credentials:"include"})).ok}function pj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Kf(JSON.stringify(n)),Kf(JSON.stringify(u)),""].join(".")}const Bu={};function gj(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bu))Bu[e]?t.emulator.push(e):t.prod.push(e);return t}function yj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zb=!1;function b6(t,e){if(typeof window>"u"||typeof document>"u"||!cc(window.location.host)||Bu[t]===e||Bu[t]||zb)return;Bu[t]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=gj().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{zb=!0,u()},E}function x(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=yj(s),S=n("text"),D=document.getElementById(S)||document.createElement("span"),U=n("learnmore"),z=document.getElementById(U)||document.createElement("a"),H=n("preprendIcon"),k=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const V=E.element;h(V),x(z,U);const B=g();p(k,H),V.append(k,D,z,B),document.body.appendChild(V)}l?(D.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function vj(){const t=Pm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _j(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ej(){return!vj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E6(){try{return typeof indexedDB=="object"}catch{return!1}}function T6(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function Tj(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Aj="FirebaseError";class Zi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Aj,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,No.prototype.create)}}class No{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?Sj(l,s):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Zi(a,h,s)}}function Sj(t,e){return t.replace(Cj,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Cj=/\{\$([^}]+)}/g;function Nj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Ub(l)&&Ub(u)){if(!mr(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Ub(t){return t!==null&&typeof t=="object"}function xd(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ku(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Du(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function jj(t,e){const n=new Rj(t,e);return n.subscribe.bind(n)}class Rj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Ij(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=w0),a.error===void 0&&(a.error=w0),a.complete===void 0&&(a.complete=w0);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ij(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function w0(){}const kj=1e3,Dj=2,Mj=14400*1e3,Pj=.5;function Fb(t,e=kj,n=Dj){const s=e*Math.pow(n,t),a=Math.round(Pj*s*(Math.random()-.5)*2);return Math.min(Mj,s+a)}function Wt(t){return t&&t._delegate?t._delegate:t}class Yi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const lo="[DEFAULT]";class Vj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new mj;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lj(e))try{this.getOrInitializeService({instanceIdentifier:lo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lo){return this.instances.has(e)}getOptions(e=lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Oj(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=lo){return this.component?this.component.multipleInstances?e:lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Oj(t){return t===lo?void 0:t}function Lj(t){return t.instantiationMode==="EAGER"}class Bj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Vj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const zj={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},Uj=He.INFO,Fj={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},Hj=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=Fj[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vm{constructor(e){this.name=e,this._logLevel=Uj,this._logHandler=Hj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const qj=(t,e)=>e.some(n=>t instanceof n);let Hb,qb;function $j(){return Hb||(Hb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gj(){return qb||(qb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A6=new WeakMap,sy=new WeakMap,S6=new WeakMap,b0=new WeakMap,c2=new WeakMap;function Kj(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(da(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&A6.set(n,t)}).catch(()=>{}),c2.set(e,t),e}function Yj(t){if(sy.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});sy.set(t,e)}let ry={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||S6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Qj(t){ry=t(ry)}function Xj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(_0(this),e,...n);return S6.set(s,e.sort?e.sort():[e]),da(s)}:Gj().includes(t)?function(...e){return t.apply(_0(this),e),da(A6.get(this))}:function(...e){return da(t.apply(_0(this),e))}}function Wj(t){return typeof t=="function"?Xj(t):(t instanceof IDBTransaction&&Yj(t),qj(t,$j())?new Proxy(t,ry):t)}function da(t){if(t instanceof IDBRequest)return Kj(t);if(b0.has(t))return b0.get(t);const e=Wj(t);return e!==t&&(b0.set(t,e),c2.set(e,t)),e}const _0=t=>c2.get(t);function C6(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=da(u);return s&&u.addEventListener("upgradeneeded",p=>{s(da(u.result),p.oldVersion,p.newVersion,da(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const Zj=["get","getKey","getAll","getAllKeys","count"],Jj=["put","add","delete","clear"],E0=new Map;function $b(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(E0.get(e))return E0.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Jj.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Zj.includes(n)))return;const l=async function(u,...h){const p=this.transaction(u,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),a&&p.done]))[0]};return E0.set(e,l),l}Qj(t=>({...t,get:(e,n,s)=>$b(e,n)||t.get(e,n,s),has:(e,n)=>!!$b(e,n)||t.has(e,n)}));class eR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function tR(t){return t.getComponent()?.type==="VERSION"}const ay="@firebase/app",Gb="0.14.6";const pr=new Vm("@firebase/app"),nR="@firebase/app-compat",iR="@firebase/analytics-compat",sR="@firebase/analytics",rR="@firebase/app-check-compat",aR="@firebase/app-check",oR="@firebase/auth",lR="@firebase/auth-compat",cR="@firebase/database",uR="@firebase/data-connect",dR="@firebase/database-compat",hR="@firebase/functions",fR="@firebase/functions-compat",mR="@firebase/installations",pR="@firebase/installations-compat",gR="@firebase/messaging",yR="@firebase/messaging-compat",xR="@firebase/performance",vR="@firebase/performance-compat",wR="@firebase/remote-config",bR="@firebase/remote-config-compat",_R="@firebase/storage",ER="@firebase/storage-compat",TR="@firebase/firestore",AR="@firebase/ai",SR="@firebase/firestore-compat",CR="firebase",NR="12.6.0";const oy="[DEFAULT]",jR={[ay]:"fire-core",[nR]:"fire-core-compat",[sR]:"fire-analytics",[iR]:"fire-analytics-compat",[aR]:"fire-app-check",[rR]:"fire-app-check-compat",[oR]:"fire-auth",[lR]:"fire-auth-compat",[cR]:"fire-rtdb",[uR]:"fire-data-connect",[dR]:"fire-rtdb-compat",[hR]:"fire-fn",[fR]:"fire-fn-compat",[mR]:"fire-iid",[pR]:"fire-iid-compat",[gR]:"fire-fcm",[yR]:"fire-fcm-compat",[xR]:"fire-perf",[vR]:"fire-perf-compat",[wR]:"fire-rc",[bR]:"fire-rc-compat",[_R]:"fire-gcs",[ER]:"fire-gcs-compat",[TR]:"fire-fst",[SR]:"fire-fst-compat",[AR]:"fire-vertex","fire-js":"fire-js",[CR]:"fire-js-all"};const Yf=new Map,RR=new Map,ly=new Map;function Kb(t,e){try{t.container.addComponent(e)}catch(n){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ks(t){const e=t.name;if(ly.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;ly.set(e,t);for(const n of Yf.values())Kb(n,t);for(const n of RR.values())Kb(n,t);return!0}function jo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ei(t){return t==null?!1:t.settings!==void 0}const IR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ha=new No("app","Firebase",IR);class kR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ha.create("app-deleted",{appName:this._name})}}const uc=NR;function N6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:oy,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw ha.create("bad-app-name",{appName:String(a)});if(n||(n=x6()),!n)throw ha.create("no-options");const l=Yf.get(a);if(l){if(mr(n,l.options)&&mr(s,l.config))return l;throw ha.create("duplicate-app",{appName:a})}const u=new Bj(a);for(const p of ly.values())u.addComponent(p);const h=new kR(n,s,u);return Yf.set(a,h),h}function u2(t=oy){const e=Yf.get(t);if(!e&&t===oy&&x6())return N6();if(!e)throw ha.create("no-app",{appName:t});return e}function Si(t,e,n){let s=jR[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(u.join(" "));return}ks(new Yi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const DR="firebase-heartbeat-database",MR=1,Wu="firebase-heartbeat-store";let T0=null;function j6(){return T0||(T0=C6(DR,MR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ha.create("idb-open",{originalErrorMessage:t.message})})),T0}async function PR(t){try{const n=(await j6()).transaction(Wu),s=await n.objectStore(Wu).get(R6(t));return await n.done,s}catch(e){if(e instanceof Zi)pr.warn(e.message);else{const n=ha.create("idb-get",{originalErrorMessage:e?.message});pr.warn(n.message)}}}async function Yb(t,e){try{const s=(await j6()).transaction(Wu,"readwrite");await s.objectStore(Wu).put(e,R6(t)),await s.done}catch(n){if(n instanceof Zi)pr.warn(n.message);else{const s=ha.create("idb-set",{originalErrorMessage:n?.message});pr.warn(s.message)}}}function R6(t){return`${t.name}!${t.options.appId}`}const VR=1024,OR=30;class LR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Qb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>OR){const a=UR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Qb(),{heartbeatsToSend:n,unsentEntries:s}=BR(this._heartbeatsCache.heartbeats),a=Kf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return pr.warn(e),""}}}function Qb(){return new Date().toISOString().substring(0,10)}function BR(t,e=VR){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Xb(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Xb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class zR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E6()?T6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Yb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Yb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Xb(t){return Kf(JSON.stringify({version:2,heartbeats:t})).length}function UR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function FR(t){ks(new Yi("platform-logger",e=>new eR(e),"PRIVATE")),ks(new Yi("heartbeat",e=>new LR(e),"PRIVATE")),Si(ay,Gb,t),Si(ay,Gb,"esm2020"),Si("fire-js","")}FR("");function I6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HR=I6,k6=new No("auth","Firebase",I6());const Qf=new Vm("@firebase/auth");function qR(t,...e){Qf.logLevel<=He.WARN&&Qf.warn(`Auth (${uc}): ${t}`,...e)}function If(t,...e){Qf.logLevel<=He.ERROR&&Qf.error(`Auth (${uc}): ${t}`,...e)}function Qi(t,...e){throw d2(t,...e)}function Ts(t,...e){return d2(t,...e)}function D6(t,e,n){const s={...HR(),[e]:n};return new No("auth","Firebase",s).create(e,{appName:t.name})}function lr(t){return D6(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d2(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return k6.create(t,...e)}function Ee(t,e,...n){if(!t)throw d2(e,...n)}function sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw If(e),new Error(e)}function gr(t,e){t||sr(e)}function cy(){return typeof self<"u"&&self.location?.href||""}function $R(){return Wb()==="http:"||Wb()==="https:"}function Wb(){return typeof self<"u"&&self.location?.protocol||null}function GR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($R()||_6()||"connection"in navigator)?navigator.onLine:!0}function KR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class vd{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=xj()||bj()}get(){return GR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function h2(t,e){gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class M6{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const QR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XR=new vd(3e4,6e4);function Ta(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Aa(t,e,n,s,a={}){return P6(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const h=xd({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:p,...l};return wj()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&cc(t.emulatorConfig.host)&&(g.credentials="include"),M6.fetch()(await V6(t,t.config.apiHost,n,h),g)})}async function P6(t,e,n){t._canInitEmulator=!1;const s={...YR,...e};try{const a=new ZR(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw vf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[p,g]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw vf(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw vf(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw vf(t,"user-disabled",u);const x=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw D6(t,x,g);Qi(t,x)}}catch(a){if(a instanceof Zi)throw a;Qi(t,"network-request-failed",{message:String(a)})}}async function wd(t,e,n,s,a={}){const l=await Aa(t,e,n,s,a);return"mfaPendingCredential"in l&&Qi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function V6(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?h2(t.config,a):`${t.config.apiScheme}://${a}`;return QR.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function WR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ts(this.auth,"network-request-failed")),XR.get())})}}function vf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ts(t,e,s);return a.customData._tokenResponse=n,a}function Zb(t){return t!==void 0&&t.enterprise!==void 0}class JR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return WR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function e9(t,e){return Aa(t,"GET","/v2/recaptchaConfig",Ta(t,e))}async function t9(t,e){return Aa(t,"POST","/v1/accounts:delete",e)}async function Xf(t,e){return Aa(t,"POST","/v1/accounts:lookup",e)}function zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n9(t,e=!1){const n=Wt(t),s=await n.getIdToken(e),a=f2(s);Ee(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:zu(A0(a.auth_time)),issuedAtTime:zu(A0(a.iat)),expirationTime:zu(A0(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function A0(t){return Number(t)*1e3}function f2(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return If("JWT malformed, contained fewer than 3 sections"),null;try{const a=g6(n);return a?JSON.parse(a):(If("Failed to decode base64 JWT payload"),null)}catch(a){return If("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Jb(t){const e=f2(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Zu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zi&&i9(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function i9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class s9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class uy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wf(t){const e=t.auth,n=await t.getIdToken(),s=await Zu(t,Xf(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?O6(a.providerUserInfo):[],u=a9(t.providerData,l),h=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!u?.length,g=h?p:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new uy(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,x)}async function r9(t){const e=Wt(t);await Wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a9(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function O6(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function o9(t,e){const n=await P6(t,{},async()=>{const s=xd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await V6(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:s};return t.emulatorConfig&&cc(t.emulatorConfig.host)&&(p.credentials="include"),M6.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l9(t,e){return Aa(t,"POST","/v2/accounts:revokeToken",Ta(t,e))}class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Jb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await o9(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Ll;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Ee(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return sr("not implemented")}}function ta(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ki{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new s9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new uy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return n9(this,e)}reload(){return r9(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ki({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Wf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(lr(this.auth));const e=await this.getIdToken();return await Zu(this,t9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:S,providerData:D,stsTokenManager:U}=n;Ee(v&&U,e,"internal-error");const z=Ll.fromJSON(this.name,U);Ee(typeof v=="string",e,"internal-error"),ta(s,e.name),ta(a,e.name),Ee(typeof E=="boolean",e,"internal-error"),Ee(typeof S=="boolean",e,"internal-error"),ta(l,e.name),ta(u,e.name),ta(h,e.name),ta(p,e.name),ta(g,e.name),ta(x,e.name);const H=new Ki({uid:v,auth:e,email:a,emailVerified:E,displayName:s,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:z,createdAt:g,lastLoginAt:x});return D&&Array.isArray(D)&&(H.providerData=D.map(k=>({...k}))),p&&(H._redirectEventId=p),H}static async _fromIdTokenResponse(e,n,s=!1){const a=new Ll;a.updateFromServerResponse(n);const l=new Ki({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Wf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?O6(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new Ll;h.updateFromIdToken(s);const p=new Ki({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new uy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const e4=new Map;function rr(t){gr(t instanceof Function,"Expected a class definition");let e=e4.get(t);return e?(gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,e4.set(t,e),e)}class L6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}L6.type="NONE";const t4=L6;function kf(t,e,n){return`firebase:${t}:${e}:${n}`}class Bl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=kf(this.userKey,a.apiKey,l),this.fullPersistenceKey=kf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xf(this.auth,{idToken:e}).catch(()=>{});return n?Ki._fromGetAccountInfoResponse(this.auth,n,e):null}return Ki._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Bl(rr(t4),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||rr(t4);const u=kf(s,e.config.apiKey,e.name);let h=null;for(const g of n)try{const x=await g._get(u);if(x){let v;if(typeof x=="string"){const E=await Xf(e,{idToken:x}).catch(()=>{});if(!E)break;v=await Ki._fromGetAccountInfoResponse(e,E,x)}else v=Ki._fromJSON(e,x);g!==l&&(h=v),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Bl(l,e,s):(l=p[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Bl(l,e,s))}}function n4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(q6(e))return"Blackberry";if($6(e))return"Webos";if(z6(e))return"Safari";if((e.includes("chrome/")||U6(e))&&!e.includes("edge/"))return"Chrome";if(H6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function B6(t=Cn()){return/firefox\//i.test(t)}function z6(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U6(t=Cn()){return/crios\//i.test(t)}function F6(t=Cn()){return/iemobile/i.test(t)}function H6(t=Cn()){return/android/i.test(t)}function q6(t=Cn()){return/blackberry/i.test(t)}function $6(t=Cn()){return/webos/i.test(t)}function m2(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function c9(t=Cn()){return m2(t)&&!!window.navigator?.standalone}function u9(){return _j()&&document.documentMode===10}function G6(t=Cn()){return m2(t)||H6(t)||$6(t)||q6(t)||/windows phone/i.test(t)||F6(t)}function K6(t,e=[]){let n;switch(t){case"Browser":n=n4(Cn());break;case"Worker":n=`${n4(Cn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uc}/${s}`}class d9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,h)=>{try{const p=e(l);u(p)}catch(p){h(p)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function h9(t,e={}){return Aa(t,"GET","/v2/passwordPolicy",Ta(t,e))}const f9=6;class m9{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??f9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class p9{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i4(this),this.idTokenSubscription=new i4(this),this.beforeStateQueue=new d9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xf(this,{idToken:e}),s=await Ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ei(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ei(this.app))return Promise.reject(lr(this));const n=e?Wt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ei(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h9(this),n=new m9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new No("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await l9(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Bl.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,a);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=K6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ro(t){return Wt(t)}class i4{constructor(e){this.auth=e,this.observer=null,this.addObserver=jj(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g9(t){Om=t}function Y6(t){return Om.loadJS(t)}function y9(){return Om.recaptchaEnterpriseScript}function x9(){return Om.gapiScript}function v9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class w9{constructor(){this.enterprise=new b9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class b9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _9="recaptcha-enterprise",Q6="NO_RECAPTCHA";class E9{constructor(e){this.type=_9,this.auth=Ro(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{e9(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new JR(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(p=>{h(p)})})}function a(l,u,h){const p=window.grecaptcha;Zb(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(Q6)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new w9().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(h=>{if(!n&&Zb(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=y9();p.length!==0&&(p+=h),Y6(p).then(()=>{a(h,l,u)}).catch(g=>{u(g)})}}).catch(h=>{u(h)})})}}async function s4(t,e,n,s=!1,a=!1){const l=new E9(t);let u;if(a)u=Q6;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function dy(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await s4(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await s4(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function T9(t,e){const n=jo(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(mr(l,e??{}))return a;Qi(a,"already-initialized")}return n.initialize({options:e})}function A9(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(rr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function S9(t,e,n){const s=Ro(t);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=X6(e),{host:u,port:h}=C9(e),p=h===null?"":`:${h}`,g={url:`${l}//${u}${p}/`},x=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(mr(g,s.config.emulator)&&mr(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,cc(u)?(w6(`${l}//${u}${p}`),b6("Auth",!0)):N9()}function X6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function C9(t){const e=X6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:r4(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:r4(u)}}}function r4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function N9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class p2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function j9(t,e){return Aa(t,"POST","/v1/accounts:signUp",e)}async function R9(t,e){return wd(t,"POST","/v1/accounts:signInWithPassword",Ta(t,e))}async function I9(t,e){return wd(t,"POST","/v1/accounts:signInWithEmailLink",Ta(t,e))}async function k9(t,e){return wd(t,"POST","/v1/accounts:signInWithEmailLink",Ta(t,e))}class Ju extends p2{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Ju(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ju(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dy(e,n,"signInWithPassword",R9);case"emailLink":return I9(e,{email:this._email,oobCode:this._password});default:Qi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dy(e,s,"signUpPassword",j9);case"emailLink":return k9(e,{idToken:n,email:this._email,oobCode:this._password});default:Qi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zl(t,e){return wd(t,"POST","/v1/accounts:signInWithIdp",Ta(t,e))}const D9="http://localhost";class wo extends p2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new wo(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return zl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,zl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zl(e,n)}buildRequest(){const e={requestUri:D9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xd(n)}return e}}function M9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function P9(t){const e=ku(Du(t)).link,n=e?ku(Du(e)).deep_link_id:null,s=ku(Du(t)).deep_link_id;return(s?ku(Du(s)).link:null)||s||n||e||t}class g2{constructor(e){const n=ku(Du(e)),s=n.apiKey??null,a=n.oobCode??null,l=M9(n.mode??null);Ee(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=P9(e);try{return new g2(n)}catch{return null}}}class dc{constructor(){this.providerId=dc.PROVIDER_ID}static credential(e,n){return Ju._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=g2.parseLink(n);return Ee(s,"argument-error"),Ju._fromEmailAndCode(e,s.code,s.tenantId)}}dc.PROVIDER_ID="password";dc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class W6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bd extends W6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sa extends bd{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";sa.PROVIDER_ID="facebook.com";class ra extends bd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wo._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ra.credential(n,s)}catch{return null}}}ra.GOOGLE_SIGN_IN_METHOD="google.com";ra.PROVIDER_ID="google.com";class aa extends bd{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";class oa extends bd{constructor(){super("twitter.com")}static credential(e,n){return wo._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return oa.credential(n,s)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";async function V9(t,e){return wd(t,"POST","/v1/accounts:signUp",Ta(t,e))}class bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ki._fromIdTokenResponse(e,s,a),u=a4(s);return new bo({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=a4(s);return new bo({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function a4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Zf extends Zi{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Zf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Zf(e,n,s,a)}}function Z6(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Zf._fromErrorAndOperation(t,l,e,s):l})}async function O9(t,e,n=!1){const s=await Zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bo._forOperation(t,"link",s)}async function L9(t,e,n=!1){const{auth:s}=t;if(Ei(s.app))return Promise.reject(lr(s));const a="reauthenticate";try{const l=await Zu(t,Z6(s,a,e,t),n);Ee(l.idToken,s,"internal-error");const u=f2(l.idToken);Ee(u,s,"internal-error");const{sub:h}=u;return Ee(t.uid===h,s,"user-mismatch"),bo._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Qi(s,"user-mismatch"),l}}async function J6(t,e,n=!1){if(Ei(t.app))return Promise.reject(lr(t));const s="signIn",a=await Z6(t,s,e),l=await bo._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function B9(t,e){return J6(Ro(t),e)}async function eE(t){const e=Ro(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function z9(t,e,n){if(Ei(t.app))return Promise.reject(lr(t));const s=Ro(t),u=await dy(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",V9).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&eE(t),p}),h=await bo._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(h.user),h}function U9(t,e,n){return Ei(t.app)?Promise.reject(lr(t)):B9(Wt(t),dc.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&eE(t),s})}function F9(t,e,n,s){return Wt(t).onIdTokenChanged(e,n,s)}function H9(t,e,n){return Wt(t).beforeAuthStateChanged(e,n)}function q9(t,e,n,s){return Wt(t).onAuthStateChanged(e,n,s)}function tE(t){return Wt(t).signOut()}const Jf="__sak";class nE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jf,"1"),this.storage.removeItem(Jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $9=1e3,G9=10;class iE extends nE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,p)=>{this.notifyListeners(u,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);u9()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,G9):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},$9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iE.type="LOCAL";const K9=iE;class sE extends nE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sE.type="SESSION";const rE=sE;function Y9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Lm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(u).map(async g=>g(n.origin,l)),p=await Y9(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lm.receivers=[];function y2(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class Q9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,p)=>{const g=y2("",20);a.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(x),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function As(){return window}function X9(t){As().location.href=t}function aE(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function W9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Z9(){return navigator?.serviceWorker?.controller||null}function J9(){return aE()?self:null}const oE="firebaseLocalStorageDb",eI=1,em="firebaseLocalStorage",lE="fbase_key";class _d{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bm(t,e){return t.transaction([em],e?"readwrite":"readonly").objectStore(em)}function tI(){const t=indexedDB.deleteDatabase(oE);return new _d(t).toPromise()}function hy(){const t=indexedDB.open(oE,eI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(em,{keyPath:lE})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(em)?e(s):(s.close(),await tI(),e(await hy()))})})}async function o4(t,e,n){const s=Bm(t,!0).put({[lE]:e,value:n});return new _d(s).toPromise()}async function nI(t,e){const n=Bm(t,!1).get(e),s=await new _d(n).toPromise();return s===void 0?null:s.value}function l4(t,e){const n=Bm(t,!0).delete(e);return new _d(n).toPromise()}const iI=800,sI=3;class cE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>sI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lm._getInstance(J9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await W9(),!this.activeServiceWorker)return;this.sender=new Q9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Z9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hy();return await o4(e,Jf,"1"),await l4(e,Jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>o4(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>nI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>l4(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Bm(a,!1).getAll();return new _d(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cE.type="LOCAL";const rI=cE;new vd(3e4,6e4);function aI(t,e){return e?rr(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class x2 extends p2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oI(t){return J6(t.auth,new x2(t),t.bypassAuthState)}function lI(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),L9(n,new x2(t),t.bypassAuthState)}async function cI(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),O9(n,new x2(t),t.bypassAuthState)}class uE{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oI;case"linkViaPopup":case"linkViaRedirect":return cI;case"reauthViaPopup":case"reauthViaRedirect":return lI;default:Qi(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uI=new vd(2e3,1e4);class Il extends uE{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Il.currentPopupAction&&Il.currentPopupAction.cancel(),Il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=y2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Il.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uI.get())};e()}}Il.currentPopupAction=null;const dI="pendingRedirect",Df=new Map;class hI extends uE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Df.get(this.auth._key());if(!e){try{const s=await fI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fI(t,e){const n=gI(e),s=pI(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function mI(t,e){Df.set(t._key(),e)}function pI(t){return rr(t._redirectPersistence)}function gI(t){return kf(dI,t.config.apiKey,t.name)}async function yI(t,e,n=!1){if(Ei(t.app))return Promise.reject(lr(t));const s=Ro(t),a=aI(s,e),u=await new hI(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const xI=600*1e3;class vI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!dE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ts(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xI&&this.cachedEventUids.clear(),this.cachedEventUids.has(c4(e))}saveEventToCache(e){this.cachedEventUids.add(c4(e)),this.lastProcessedEventTime=Date.now()}}function c4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dE({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function wI(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dE(t);default:return!1}}async function bI(t,e={}){return Aa(t,"GET","/v1/projects",e)}const _I=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EI=/^https?/;async function TI(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bI(t);for(const n of e)try{if(AI(n))return}catch{}Qi(t,"unauthorized-domain")}function AI(t){const e=cy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!EI.test(n))return!1;if(_I.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const SI=new vd(3e4,6e4);function u4(){const t=As().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CI(t){return new Promise((e,n)=>{function s(){u4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u4(),n(Ts(t,"network-request-failed"))},timeout:SI.get()})}if(As().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(As().gapi?.load)s();else{const a=v9("iframefcb");return As()[a]=()=>{gapi.load?s():n(Ts(t,"network-request-failed"))},Y6(`${x9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Mf=null,e})}let Mf=null;function NI(t){return Mf=Mf||CI(t),Mf}const jI=new vd(5e3,15e3),RI="__/auth/iframe",II="emulator/auth/iframe",kI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MI(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?h2(e,II):`https://${t.config.authDomain}/${RI}`,s={apiKey:e.apiKey,appName:t.name,v:uc},a=DI.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${xd(s).slice(1)}`}async function PI(t){const e=await NI(t),n=As().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:MI(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kI,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Ts(t,"network-request-failed"),h=As().setTimeout(()=>{l(u)},jI.get());function p(){As().clearTimeout(h),a(s)}s.ping(p).then(p,()=>{l(u)})}))}const VI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OI=500,LI=600,BI="_blank",zI="http://localhost";class d4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UI(t,e,n,s=OI,a=LI){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const p={...VI,width:s.toString(),height:a.toString(),top:l,left:u},g=Cn().toLowerCase();n&&(h=U6(g)?BI:n),B6(g)&&(e=e||zI,p.scrollbars="yes");const x=Object.entries(p).reduce((E,[S,D])=>`${E}${S}=${D},`,"");if(c9(g)&&h!=="_self")return FI(e||"",h),new d4(null);const v=window.open(e||"",h,x);Ee(v,t,"popup-blocked");try{v.focus()}catch{}return new d4(v)}function FI(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const HI="__/auth/handler",qI="emulator/auth/handler",$I=encodeURIComponent("fac");async function h4(t,e,n,s,a,l){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:uc,eventId:a};if(e instanceof W6){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Nj(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,v]of Object.entries({}))u[x]=v}if(e instanceof bd){const x=e.getScopes().filter(v=>v!=="");x.length>0&&(u.scopes=x.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const x of Object.keys(h))h[x]===void 0&&delete h[x];const p=await t._getAppCheckToken(),g=p?`#${$I}=${encodeURIComponent(p)}`:"";return`${GI(t)}?${xd(h).slice(1)}${g}`}function GI({config:t}){return t.emulator?h2(t,qI):`https://${t.authDomain}/${HI}`}const S0="webStorageSupport";class KI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rE,this._completeRedirectFn=yI,this._overrideRedirectResult=mI}async _openPopup(e,n,s,a){gr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await h4(e,n,s,cy(),a);return UI(e,l,y2())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await h4(e,n,s,cy(),a);return X9(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(gr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await PI(e),s=new vI(e);return n.register("authEvent",a=>(Ee(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(S0,{type:S0},a=>{const l=a?.[0]?.[S0];l!==void 0&&n(!!l),Qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return G6()||z6()||m2()}}const YI=KI;var f4="@firebase/auth",m4="1.11.1";class QI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XI(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WI(t){ks(new Yi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=s.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K6(t)},g=new p9(s,a,l,p);return A9(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ks(new Yi("auth-internal",e=>{const n=Ro(e.getProvider("auth").getImmediate());return(s=>new QI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(f4,m4,XI(t)),Si(f4,m4,"esm2020")}const ZI=300,JI=v6("authIdTokenMaxAge")||ZI;let p4=null;const e7=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>JI)return;const a=n?.token;p4!==a&&(p4=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function t7(t=u2()){const e=jo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=T9(t,{popupRedirectResolver:YI,persistence:[rI,K9,rE]}),s=v6("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=e7(l.toString());H9(n,u,()=>u(n.currentUser)),F9(n,h=>u(h))}}const a=y6("auth");return a&&S9(n,`http://${a}`),n}function n7(){return document.getElementsByTagName("head")?.[0]??document}g9({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Ts("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",n7().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WI("Browser");function i7(t,e,n,s){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(x){try{g(s.next(x))}catch(v){u(v)}}function p(x){try{g(s.throw(x))}catch(v){u(v)}}function g(x){x.done?l(x.value):a(x.value).then(h,p)}g((s=s.apply(t,[])).next())})}function s7(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,a,l,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(g){return function(x){return p([g,x])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(x){g=[6,x],a=0}finally{s=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var kl=function(){return kl=Object.assign||function(e){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},kl.apply(this,arguments)},hE=function(t){return{loading:t==null,value:t}},r7=function(){return function(t,e){switch(e.type){case"error":return kl(kl({},t),{error:e.error,loading:!1,value:void 0});case"reset":return hE(e.defaultValue);case"value":return kl(kl({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},a7=(function(t){var e=t?t():void 0,n=R.useReducer(r7(),hE(e)),s=n[0],a=n[1],l=R.useCallback(function(){var p=t?t():void 0;a({type:"reset",defaultValue:p})},[t]),u=R.useCallback(function(p){a({type:"error",error:p})},[]),h=R.useCallback(function(p){a({type:"value",value:p})},[]);return R.useMemo(function(){return{error:s.error,loading:s.loading,reset:l,setError:u,setValue:h,value:s.value}},[s.error,s.loading,l,u,h,s.value])}),Ji=(function(t,e){var n=a7(function(){return t.currentUser}),s=n.error,a=n.loading,l=n.setError,u=n.setValue,h=n.value;return R.useEffect(function(){var p=q9(t,function(g){return i7(void 0,void 0,void 0,function(){var x;return s7(this,function(v){switch(v.label){case 0:return[3,4];case 1:return v.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return v.sent(),[3,4];case 3:return x=v.sent(),l(x),[3,4];case 4:return u(g),[2]}})})},l);return function(){p()}},[t]),[h,a,s]}),o7="firebase",l7="12.6.0";Si(o7,l7,"app");const fE="@firebase/installations",v2="0.6.19";const mE=1e4,pE=`w:${v2}`,gE="FIS_v2",c7="https://firebaseinstallations.googleapis.com/v1",u7=3600*1e3,d7="installations",h7="Installations";const f7={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},_o=new No(d7,h7,f7);function yE(t){return t instanceof Zi&&t.code.includes("request-failed")}function xE({projectId:t}){return`${c7}/projects/${t}/installations`}function vE(t){return{token:t.token,requestStatus:2,expiresIn:p7(t.expiresIn),creationTime:Date.now()}}async function wE(t,e){const s=(await e.json()).error;return _o.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function bE({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function m7(t,{refreshToken:e}){const n=bE(t);return n.append("Authorization",g7(e)),n}async function _E(t){const e=await t();return e.status>=500&&e.status<600?t():e}function p7(t){return Number(t.replace("s","000"))}function g7(t){return`${gE} ${t}`}async function y7({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=xE(t),a=bE(t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const u={fid:n,authVersion:gE,appId:t.appId,sdkVersion:pE},h={method:"POST",headers:a,body:JSON.stringify(u)},p=await _E(()=>fetch(s,h));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:vE(g.authToken)}}else throw await wE("Create Installation",p)}function EE(t){return new Promise(e=>{setTimeout(e,t)})}function x7(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const v7=/^[cdef][\w-]{21}$/,fy="";function w7(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=b7(t);return v7.test(n)?n:fy}catch{return fy}}function b7(t){return x7(t).substr(0,22)}function zm(t){return`${t.appName}!${t.appId}`}const TE=new Map;function AE(t,e){const n=zm(t);SE(n,e),_7(n,e)}function SE(t,e){const n=TE.get(t);if(n)for(const s of n)s(e)}function _7(t,e){const n=E7();n&&n.postMessage({key:t,fid:e}),T7()}let uo=null;function E7(){return!uo&&"BroadcastChannel"in self&&(uo=new BroadcastChannel("[Firebase] FID Change"),uo.onmessage=t=>{SE(t.data.key,t.data.fid)}),uo}function T7(){TE.size===0&&uo&&(uo.close(),uo=null)}const A7="firebase-installations-database",S7=1,Eo="firebase-installations-store";let C0=null;function w2(){return C0||(C0=C6(A7,S7,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Eo)}}})),C0}async function tm(t,e){const n=zm(t),a=(await w2()).transaction(Eo,"readwrite"),l=a.objectStore(Eo),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&AE(t,e.fid),e}async function CE(t){const e=zm(t),s=(await w2()).transaction(Eo,"readwrite");await s.objectStore(Eo).delete(e),await s.done}async function Um(t,e){const n=zm(t),a=(await w2()).transaction(Eo,"readwrite"),l=a.objectStore(Eo),u=await l.get(n),h=e(u);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!u||u.fid!==h.fid)&&AE(t,h.fid),h}async function b2(t){let e;const n=await Um(t.appConfig,s=>{const a=C7(s),l=N7(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===fy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function C7(t){const e=t||{fid:w7(),registrationStatus:0};return NE(e)}function N7(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(_o.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=j7(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:R7(t)}:{installationEntry:e}}async function j7(t,e){try{const n=await y7(t,e);return tm(t.appConfig,n)}catch(n){throw yE(n)&&n.customData.serverCode===409?await CE(t.appConfig):await tm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function R7(t){let e=await g4(t.appConfig);for(;e.registrationStatus===1;)await EE(100),e=await g4(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await b2(t);return s||n}return e}function g4(t){return Um(t,e=>{if(!e)throw _o.create("installation-not-found");return NE(e)})}function NE(t){return I7(t)?{fid:t.fid,registrationStatus:0}:t}function I7(t){return t.registrationStatus===1&&t.registrationTime+mE<Date.now()}async function k7({appConfig:t,heartbeatServiceProvider:e},n){const s=D7(t,n),a=m7(t,n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const u={installation:{sdkVersion:pE,appId:t.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},p=await _E(()=>fetch(s,h));if(p.ok){const g=await p.json();return vE(g)}else throw await wE("Generate Auth Token",p)}function D7(t,{fid:e}){return`${xE(t)}/${e}/authTokens:generate`}async function _2(t,e=!1){let n;const s=await Um(t.appConfig,l=>{if(!jE(l))throw _o.create("not-registered");const u=l.authToken;if(!e&&V7(u))return l;if(u.requestStatus===1)return n=M7(t,e),l;{if(!navigator.onLine)throw _o.create("app-offline");const h=L7(l);return n=P7(t,h),h}});return n?await n:s.authToken}async function M7(t,e){let n=await y4(t.appConfig);for(;n.authToken.requestStatus===1;)await EE(100),n=await y4(t.appConfig);const s=n.authToken;return s.requestStatus===0?_2(t,e):s}function y4(t){return Um(t,e=>{if(!jE(e))throw _o.create("not-registered");const n=e.authToken;return B7(n)?{...e,authToken:{requestStatus:0}}:e})}async function P7(t,e){try{const n=await k7(t,e),s={...e,authToken:n};return await tm(t.appConfig,s),n}catch(n){if(yE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await CE(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await tm(t.appConfig,s)}throw n}}function jE(t){return t!==void 0&&t.registrationStatus===2}function V7(t){return t.requestStatus===2&&!O7(t)}function O7(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+u7}function L7(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function B7(t){return t.requestStatus===1&&t.requestTime+mE<Date.now()}async function z7(t){const e=t,{installationEntry:n,registrationPromise:s}=await b2(e);return s?s.catch(console.error):_2(e).catch(console.error),n.fid}async function U7(t,e=!1){const n=t;return await F7(n),(await _2(n,e)).token}async function F7(t){const{registrationPromise:e}=await b2(t);e&&await e}function H7(t){if(!t||!t.options)throw N0("App Configuration");if(!t.name)throw N0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw N0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function N0(t){return _o.create("missing-app-config-values",{valueName:t})}const RE="installations",q7="installations-internal",$7=t=>{const e=t.getProvider("app").getImmediate(),n=H7(e),s=jo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},G7=t=>{const e=t.getProvider("app").getImmediate(),n=jo(e,RE).getImmediate();return{getId:()=>z7(n),getToken:a=>U7(n,a)}};function K7(){ks(new Yi(RE,$7,"PUBLIC")),ks(new Yi(q7,G7,"PRIVATE"))}K7();Si(fE,v2);Si(fE,v2,"esm2020");const nm="analytics",Y7="firebase_id",Q7="origin",X7=60*1e3,W7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",E2="https://www.googletagmanager.com/gtag/js";const Mn=new Vm("@firebase/analytics");const Z7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},si=new No("analytics","Analytics",Z7);function J7(t){if(!t.startsWith(E2)){const e=si.create("invalid-gtag-resource",{gtagURL:t});return Mn.warn(e.message),""}return t}function IE(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function ek(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function tk(t,e){const n=ek("firebase-js-sdk-policy",{createScriptURL:J7}),s=document.createElement("script"),a=`${E2}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function nk(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function ik(t,e,n,s,a,l){const u=s[a];try{if(u)await e[u];else{const p=(await IE(n)).find(g=>g.measurementId===a);p&&await e[p.appId]}}catch(h){Mn.error(h)}t("config",a,l)}async function sk(t,e,n,s,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await IE(n);for(const p of u){const g=h.find(v=>v.measurementId===p),x=g&&e[g.appId];if(x)l.push(x);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,a||{})}catch(l){Mn.error(l)}}function rk(t,e,n,s){async function a(l,...u){try{if(l==="event"){const[h,p]=u;await sk(t,e,n,h,p)}else if(l==="config"){const[h,p]=u;await ik(t,e,n,s,h,p)}else if(l==="consent"){const[h,p]=u;t("consent",h,p)}else if(l==="get"){const[h,p,g]=u;t("get",h,p,g)}else if(l==="set"){const[h]=u;t("set",h)}else t(l,...u)}catch(h){Mn.error(h)}}return a}function ak(t,e,n,s,a){let l=function(...u){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=rk(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function ok(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(E2)&&n.src.includes(t))return n;return null}const lk=30,ck=1e3;class uk{constructor(e={},n=ck){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const kE=new uk;function dk(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function hk(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:dk(n)},a=W7.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();h.error?.message&&(u=h.error.message)}catch{}throw si.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function fk(t,e=kE,n){const{appId:s,apiKey:a,measurementId:l}=t.options;if(!s)throw si.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw si.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new gk;return setTimeout(async()=>{h.abort()},X7),DE({appId:s,apiKey:a,measurementId:l},u,h,e)}async function DE(t,{throttleEndTimeMillis:e,backoffCount:n},s,a=kE){const{appId:l,measurementId:u}=t;try{await mk(s,e)}catch(h){if(u)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw h}try{const h=await hk(t);return a.deleteThrottleMetadata(l),h}catch(h){const p=h;if(!pk(p)){if(a.deleteThrottleMetadata(l),u)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:u};throw h}const g=Number(p?.customData?.httpStatus)===503?Fb(n,a.intervalMillis,lk):Fb(n,a.intervalMillis),x={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return a.setThrottleMetadata(l,x),Mn.debug(`Calling attemptFetch again in ${g} millis`),DE(t,x,s,a)}}function mk(t,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),s(si.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pk(t){if(!(t instanceof Zi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class gk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function yk(t,e,n,s,a){if(a&&a.global){t("event",n,s);return}else{const l=await e,u={...s,send_to:l};t("event",n,u)}}async function xk(t,e,n,s){if(s&&s.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function vk(){if(E6())try{await T6()}catch(t){return Mn.warn(si.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Mn.warn(si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wk(t,e,n,s,a,l,u){const h=fk(t);h.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>Mn.error(E)),e.push(h);const p=vk().then(E=>{if(E)return s.getId()}),[g,x]=await Promise.all([h,p]);ok(l)||tk(l,g.measurementId),a("js",new Date);const v=u?.config??{};return v[Q7]="firebase",v.update=!0,x!=null&&(v[Y7]=x),a("config",g.measurementId,v),g.measurementId}class bk{constructor(e){this.app=e}_delete(){return delete Ul[this.app.options.appId],Promise.resolve()}}let Ul={},x4=[];const v4={};let j0="dataLayer",_k="gtag",w4,T2,b4=!1;function Ek(){const t=[];if(_6()&&t.push("This is a browser extension environment."),Tj()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=si.create("invalid-analytics-context",{errorInfo:e});Mn.warn(n.message)}}function Tk(t,e,n){Ek();const s=t.options.appId;if(!s)throw si.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw si.create("no-api-key");if(Ul[s]!=null)throw si.create("already-exists",{id:s});if(!b4){nk(j0);const{wrappedGtag:l,gtagCore:u}=ak(Ul,x4,v4,j0,_k);T2=l,w4=u,b4=!0}return Ul[s]=wk(t,x4,v4,e,w4,j0,n),new bk(t)}function Ak(t=u2()){t=Wt(t);const e=jo(t,nm);return e.isInitialized()?e.getImmediate():Sk(t)}function Sk(t,e={}){const n=jo(t,nm);if(n.isInitialized()){const a=n.getImmediate();if(mr(e,n.getOptions()))return a;throw si.create("already-initialized")}return n.initialize({options:e})}function Ck(t,e,n){t=Wt(t),xk(T2,Ul[t.app.options.appId],e,n).catch(s=>Mn.error(s))}function Nk(t,e,n,s){t=Wt(t),yk(T2,Ul[t.app.options.appId],e,n,s).catch(a=>Mn.error(a))}const _4="@firebase/analytics",E4="0.10.19";function jk(){ks(new Yi(nm,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Tk(s,a,n)},"PUBLIC")),ks(new Yi("analytics-internal",t,"PRIVATE")),Si(_4,E4),Si(_4,E4,"esm2020");function t(e){try{const n=e.getProvider(nm).getImmediate();return{logEvent:(s,a,l)=>Nk(n,s,a,l),setUserProperties:(s,a)=>Ck(n,s,a)}}catch(n){throw si.create("interop-component-reg-failed",{reason:n})}}}jk();var T4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fa,ME;(function(){var t;function e(C,T){function j(){}j.prototype=T.prototype,C.F=T.prototype,C.prototype=new j,C.prototype.constructor=C,C.D=function(P,O,F){for(var I=Array(arguments.length-2),je=2;je<arguments.length;je++)I[je-2]=arguments[je];return T.prototype[O].apply(P,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,T,j){j||(j=0);const P=Array(16);if(typeof T=="string")for(var O=0;O<16;++O)P[O]=T.charCodeAt(j++)|T.charCodeAt(j++)<<8|T.charCodeAt(j++)<<16|T.charCodeAt(j++)<<24;else for(O=0;O<16;++O)P[O]=T[j++]|T[j++]<<8|T[j++]<<16|T[j++]<<24;T=C.g[0],j=C.g[1],O=C.g[2];let F=C.g[3],I;I=T+(F^j&(O^F))+P[0]+3614090360&4294967295,T=j+(I<<7&4294967295|I>>>25),I=F+(O^T&(j^O))+P[1]+3905402710&4294967295,F=T+(I<<12&4294967295|I>>>20),I=O+(j^F&(T^j))+P[2]+606105819&4294967295,O=F+(I<<17&4294967295|I>>>15),I=j+(T^O&(F^T))+P[3]+3250441966&4294967295,j=O+(I<<22&4294967295|I>>>10),I=T+(F^j&(O^F))+P[4]+4118548399&4294967295,T=j+(I<<7&4294967295|I>>>25),I=F+(O^T&(j^O))+P[5]+1200080426&4294967295,F=T+(I<<12&4294967295|I>>>20),I=O+(j^F&(T^j))+P[6]+2821735955&4294967295,O=F+(I<<17&4294967295|I>>>15),I=j+(T^O&(F^T))+P[7]+4249261313&4294967295,j=O+(I<<22&4294967295|I>>>10),I=T+(F^j&(O^F))+P[8]+1770035416&4294967295,T=j+(I<<7&4294967295|I>>>25),I=F+(O^T&(j^O))+P[9]+2336552879&4294967295,F=T+(I<<12&4294967295|I>>>20),I=O+(j^F&(T^j))+P[10]+4294925233&4294967295,O=F+(I<<17&4294967295|I>>>15),I=j+(T^O&(F^T))+P[11]+2304563134&4294967295,j=O+(I<<22&4294967295|I>>>10),I=T+(F^j&(O^F))+P[12]+1804603682&4294967295,T=j+(I<<7&4294967295|I>>>25),I=F+(O^T&(j^O))+P[13]+4254626195&4294967295,F=T+(I<<12&4294967295|I>>>20),I=O+(j^F&(T^j))+P[14]+2792965006&4294967295,O=F+(I<<17&4294967295|I>>>15),I=j+(T^O&(F^T))+P[15]+1236535329&4294967295,j=O+(I<<22&4294967295|I>>>10),I=T+(O^F&(j^O))+P[1]+4129170786&4294967295,T=j+(I<<5&4294967295|I>>>27),I=F+(j^O&(T^j))+P[6]+3225465664&4294967295,F=T+(I<<9&4294967295|I>>>23),I=O+(T^j&(F^T))+P[11]+643717713&4294967295,O=F+(I<<14&4294967295|I>>>18),I=j+(F^T&(O^F))+P[0]+3921069994&4294967295,j=O+(I<<20&4294967295|I>>>12),I=T+(O^F&(j^O))+P[5]+3593408605&4294967295,T=j+(I<<5&4294967295|I>>>27),I=F+(j^O&(T^j))+P[10]+38016083&4294967295,F=T+(I<<9&4294967295|I>>>23),I=O+(T^j&(F^T))+P[15]+3634488961&4294967295,O=F+(I<<14&4294967295|I>>>18),I=j+(F^T&(O^F))+P[4]+3889429448&4294967295,j=O+(I<<20&4294967295|I>>>12),I=T+(O^F&(j^O))+P[9]+568446438&4294967295,T=j+(I<<5&4294967295|I>>>27),I=F+(j^O&(T^j))+P[14]+3275163606&4294967295,F=T+(I<<9&4294967295|I>>>23),I=O+(T^j&(F^T))+P[3]+4107603335&4294967295,O=F+(I<<14&4294967295|I>>>18),I=j+(F^T&(O^F))+P[8]+1163531501&4294967295,j=O+(I<<20&4294967295|I>>>12),I=T+(O^F&(j^O))+P[13]+2850285829&4294967295,T=j+(I<<5&4294967295|I>>>27),I=F+(j^O&(T^j))+P[2]+4243563512&4294967295,F=T+(I<<9&4294967295|I>>>23),I=O+(T^j&(F^T))+P[7]+1735328473&4294967295,O=F+(I<<14&4294967295|I>>>18),I=j+(F^T&(O^F))+P[12]+2368359562&4294967295,j=O+(I<<20&4294967295|I>>>12),I=T+(j^O^F)+P[5]+4294588738&4294967295,T=j+(I<<4&4294967295|I>>>28),I=F+(T^j^O)+P[8]+2272392833&4294967295,F=T+(I<<11&4294967295|I>>>21),I=O+(F^T^j)+P[11]+1839030562&4294967295,O=F+(I<<16&4294967295|I>>>16),I=j+(O^F^T)+P[14]+4259657740&4294967295,j=O+(I<<23&4294967295|I>>>9),I=T+(j^O^F)+P[1]+2763975236&4294967295,T=j+(I<<4&4294967295|I>>>28),I=F+(T^j^O)+P[4]+1272893353&4294967295,F=T+(I<<11&4294967295|I>>>21),I=O+(F^T^j)+P[7]+4139469664&4294967295,O=F+(I<<16&4294967295|I>>>16),I=j+(O^F^T)+P[10]+3200236656&4294967295,j=O+(I<<23&4294967295|I>>>9),I=T+(j^O^F)+P[13]+681279174&4294967295,T=j+(I<<4&4294967295|I>>>28),I=F+(T^j^O)+P[0]+3936430074&4294967295,F=T+(I<<11&4294967295|I>>>21),I=O+(F^T^j)+P[3]+3572445317&4294967295,O=F+(I<<16&4294967295|I>>>16),I=j+(O^F^T)+P[6]+76029189&4294967295,j=O+(I<<23&4294967295|I>>>9),I=T+(j^O^F)+P[9]+3654602809&4294967295,T=j+(I<<4&4294967295|I>>>28),I=F+(T^j^O)+P[12]+3873151461&4294967295,F=T+(I<<11&4294967295|I>>>21),I=O+(F^T^j)+P[15]+530742520&4294967295,O=F+(I<<16&4294967295|I>>>16),I=j+(O^F^T)+P[2]+3299628645&4294967295,j=O+(I<<23&4294967295|I>>>9),I=T+(O^(j|~F))+P[0]+4096336452&4294967295,T=j+(I<<6&4294967295|I>>>26),I=F+(j^(T|~O))+P[7]+1126891415&4294967295,F=T+(I<<10&4294967295|I>>>22),I=O+(T^(F|~j))+P[14]+2878612391&4294967295,O=F+(I<<15&4294967295|I>>>17),I=j+(F^(O|~T))+P[5]+4237533241&4294967295,j=O+(I<<21&4294967295|I>>>11),I=T+(O^(j|~F))+P[12]+1700485571&4294967295,T=j+(I<<6&4294967295|I>>>26),I=F+(j^(T|~O))+P[3]+2399980690&4294967295,F=T+(I<<10&4294967295|I>>>22),I=O+(T^(F|~j))+P[10]+4293915773&4294967295,O=F+(I<<15&4294967295|I>>>17),I=j+(F^(O|~T))+P[1]+2240044497&4294967295,j=O+(I<<21&4294967295|I>>>11),I=T+(O^(j|~F))+P[8]+1873313359&4294967295,T=j+(I<<6&4294967295|I>>>26),I=F+(j^(T|~O))+P[15]+4264355552&4294967295,F=T+(I<<10&4294967295|I>>>22),I=O+(T^(F|~j))+P[6]+2734768916&4294967295,O=F+(I<<15&4294967295|I>>>17),I=j+(F^(O|~T))+P[13]+1309151649&4294967295,j=O+(I<<21&4294967295|I>>>11),I=T+(O^(j|~F))+P[4]+4149444226&4294967295,T=j+(I<<6&4294967295|I>>>26),I=F+(j^(T|~O))+P[11]+3174756917&4294967295,F=T+(I<<10&4294967295|I>>>22),I=O+(T^(F|~j))+P[2]+718787259&4294967295,O=F+(I<<15&4294967295|I>>>17),I=j+(F^(O|~T))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+F&4294967295}s.prototype.v=function(C,T){T===void 0&&(T=C.length);const j=T-this.blockSize,P=this.C;let O=this.h,F=0;for(;F<T;){if(O==0)for(;F<=j;)a(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<T;)if(P[O++]=C.charCodeAt(F++),O==this.blockSize){a(this,P),O=0;break}}else for(;F<T;)if(P[O++]=C[F++],O==this.blockSize){a(this,P),O=0;break}}this.h=O,this.o+=T},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;T=this.o*8;for(var j=C.length-8;j<C.length;++j)C[j]=T&255,T/=256;for(this.v(C),C=Array(16),T=0,j=0;j<4;++j)for(let P=0;P<32;P+=8)C[T++]=this.g[j]>>>P&255;return C};function l(C,T){var j=h;return Object.prototype.hasOwnProperty.call(j,C)?j[C]:j[C]=T(C)}function u(C,T){this.h=T;const j=[];let P=!0;for(let O=C.length-1;O>=0;O--){const F=C[O]|0;P&&F==T||(j[O]=F,P=!1)}this.g=j}var h={};function p(C){return-128<=C&&C<128?l(C,function(T){return new u([T|0],T<0?-1:0)}):new u([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return v;if(C<0)return z(g(-C));const T=[];let j=1;for(let P=0;C>=j;P++)T[P]=C/j|0,j*=4294967296;return new u(T,0)}function x(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return z(x(C.substring(1),T));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=g(Math.pow(T,8));let P=v;for(let F=0;F<C.length;F+=8){var O=Math.min(8,C.length-F);const I=parseInt(C.substring(F,F+O),T);O<8?(O=g(Math.pow(T,O)),P=P.j(O).add(g(I))):(P=P.j(j),P=P.add(g(I)))}return P}var v=p(0),E=p(1),S=p(16777216);t=u.prototype,t.m=function(){if(U(this))return-z(this).m();let C=0,T=1;for(let j=0;j<this.g.length;j++){const P=this.i(j);C+=(P>=0?P:4294967296+P)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(U(this))return"-"+z(this).toString(C);const T=g(Math.pow(C,6));var j=this;let P="";for(;;){const O=B(j,T).g;j=H(j,O.j(T));let F=((j.g.length>0?j.g[0]:j.h)>>>0).toString(C);if(j=O,D(j))return F+P;for(;F.length<6;)F="0"+F;P=F+P}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(let T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function U(C){return C.h==-1}t.l=function(C){return C=H(this,C),U(C)?-1:D(C)?0:1};function z(C){const T=C.g.length,j=[];for(let P=0;P<T;P++)j[P]=~C.g[P];return new u(j,~C.h).add(E)}t.abs=function(){return U(this)?z(this):this},t.add=function(C){const T=Math.max(this.g.length,C.g.length),j=[];let P=0;for(let O=0;O<=T;O++){let F=P+(this.i(O)&65535)+(C.i(O)&65535),I=(F>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);P=I>>>16,F&=65535,I&=65535,j[O]=I<<16|F}return new u(j,j[j.length-1]&-2147483648?-1:0)};function H(C,T){return C.add(z(T))}t.j=function(C){if(D(this)||D(C))return v;if(U(this))return U(C)?z(this).j(z(C)):z(z(this).j(C));if(U(C))return z(this.j(z(C)));if(this.l(S)<0&&C.l(S)<0)return g(this.m()*C.m());const T=this.g.length+C.g.length,j=[];for(var P=0;P<2*T;P++)j[P]=0;for(P=0;P<this.g.length;P++)for(let O=0;O<C.g.length;O++){const F=this.i(P)>>>16,I=this.i(P)&65535,je=C.i(O)>>>16,tt=C.i(O)&65535;j[2*P+2*O]+=I*tt,k(j,2*P+2*O),j[2*P+2*O+1]+=F*tt,k(j,2*P+2*O+1),j[2*P+2*O+1]+=I*je,k(j,2*P+2*O+1),j[2*P+2*O+2]+=F*je,k(j,2*P+2*O+2)}for(C=0;C<T;C++)j[C]=j[2*C+1]<<16|j[2*C];for(C=T;C<2*T;C++)j[C]=0;return new u(j,0)};function k(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function V(C,T){this.g=C,this.h=T}function B(C,T){if(D(T))throw Error("division by zero");if(D(C))return new V(v,v);if(U(C))return T=B(z(C),T),new V(z(T.g),z(T.h));if(U(T))return T=B(C,z(T)),new V(z(T.g),T.h);if(C.g.length>30){if(U(C)||U(T))throw Error("slowDivide_ only works with positive integers.");for(var j=E,P=T;P.l(C)<=0;)j=M(j),P=M(P);var O=G(j,1),F=G(P,1);for(P=G(P,2),j=G(j,2);!D(P);){var I=F.add(P);I.l(C)<=0&&(O=O.add(j),F=I),P=G(P,1),j=G(j,1)}return T=H(C,O.j(T)),new V(O,T)}for(O=v;C.l(T)>=0;){for(j=Math.max(1,Math.floor(C.m()/T.m())),P=Math.ceil(Math.log(j)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),F=g(j),I=F.j(T);U(I)||I.l(C)>0;)j-=P,F=g(j),I=F.j(T);D(F)&&(F=E),O=O.add(F),C=H(C,I)}return new V(O,C)}t.B=function(C){return B(this,C).h},t.and=function(C){const T=Math.max(this.g.length,C.g.length),j=[];for(let P=0;P<T;P++)j[P]=this.i(P)&C.i(P);return new u(j,this.h&C.h)},t.or=function(C){const T=Math.max(this.g.length,C.g.length),j=[];for(let P=0;P<T;P++)j[P]=this.i(P)|C.i(P);return new u(j,this.h|C.h)},t.xor=function(C){const T=Math.max(this.g.length,C.g.length),j=[];for(let P=0;P<T;P++)j[P]=this.i(P)^C.i(P);return new u(j,this.h^C.h)};function M(C){const T=C.g.length+1,j=[];for(let P=0;P<T;P++)j[P]=C.i(P)<<1|C.i(P-1)>>>31;return new u(j,C.h)}function G(C,T){const j=T>>5;T%=32;const P=C.g.length-j,O=[];for(let F=0;F<P;F++)O[F]=T>0?C.i(F+j)>>>T|C.i(F+j+1)<<32-T:C.i(F+j);return new u(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ME=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=x,fa=u}).apply(typeof T4<"u"?T4:typeof self<"u"?self:typeof window<"u"?window:{});var wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var PE,Mu,VE,Pf,my,OE,LE,BE;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof wf=="object"&&wf];for(var w=0;w<f.length;++w){var _=f[w];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function a(f,w){if(w)e:{var _=s;f=f.split(".");for(var N=0;N<f.length-1;N++){var Y=f[N];if(!(Y in _))break e;_=_[Y]}f=f[f.length-1],N=_[f],w=w(N),w!=N&&w!=null&&e(_,f,{configurable:!0,writable:!0,value:w})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(w){var _=[],N;for(N in w)Object.prototype.hasOwnProperty.call(w,N)&&_.push([N,w[N]]);return _}});var l=l||{},u=this||self;function h(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function p(f,w,_){return f.call.apply(f.bind,arguments)}function g(f,w,_){return g=p,g.apply(null,arguments)}function x(f,w){var _=Array.prototype.slice.call(arguments,1);return function(){var N=_.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function v(f,w){function _(){}_.prototype=w.prototype,f.Z=w.prototype,f.prototype=new _,f.prototype.constructor=f,f.Ob=function(N,Y,Z){for(var ue=Array(arguments.length-2),De=2;De<arguments.length;De++)ue[De-2]=arguments[De];return w.prototype[Y].apply(N,ue)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const w=f.length;if(w>0){const _=Array(w);for(let N=0;N<w;N++)_[N]=f[N];return _}return[]}function D(f,w){for(let N=1;N<arguments.length;N++){const Y=arguments[N];var _=typeof Y;if(_=_!="object"?_:Y?Array.isArray(Y)?"array":_:"null",_=="array"||_=="object"&&typeof Y.length=="number"){_=f.length||0;const Z=Y.length||0;f.length=_+Z;for(let ue=0;ue<Z;ue++)f[_+ue]=Y[ue]}else f.push(Y)}}class U{constructor(w,_){this.i=w,this.j=_,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function z(f){u.setTimeout(()=>{throw f},0)}function H(){var f=C;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class k{constructor(){this.h=this.g=null}add(w,_){const N=V.get();N.set(w,_),this.h?this.h.next=N:this.g=N,this.h=N}}var V=new U(()=>new B,f=>f.reset());class B{constructor(){this.next=this.g=this.h=null}set(w,_){this.h=w,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let M,G=!1,C=new k,T=()=>{const f=Promise.resolve(void 0);M=()=>{f.then(j)}};function j(){for(var f;f=H();){try{f.h.call(f.g)}catch(_){z(_)}var w=V;w.j(f),w.h<100&&(w.h++,f.next=w.g,w.g=f)}G=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const _=()=>{};u.addEventListener("test",_,w),u.removeEventListener("test",_,w)}catch{}return f})();function I(f){return/^[\s\xa0]*$/.test(f)}function je(f,w){O.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,w)}v(je,O),je.prototype.init=function(f,w){const _=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget,w||(_=="mouseover"?w=f.fromElement:_=="mouseout"&&(w=f.toElement)),this.relatedTarget=w,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&je.Z.h.call(this)},je.prototype.h=function(){je.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var tt="closure_listenable_"+(Math.random()*1e6|0),ee=0;function ce(f,w,_,N,Y){this.listener=f,this.proxy=null,this.src=w,this.type=_,this.capture=!!N,this.ha=Y,this.key=++ee,this.da=this.fa=!1}function me(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Pe(f,w,_){for(const N in f)w.call(_,f[N],N,f)}function ze(f,w){for(const _ in f)w.call(void 0,f[_],_,f)}function $(f){const w={};for(const _ in f)w[_]=f[_];return w}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(f,w){let _,N;for(let Y=1;Y<arguments.length;Y++){N=arguments[Y];for(_ in N)f[_]=N[_];for(let Z=0;Z<ae.length;Z++)_=ae[Z],Object.prototype.hasOwnProperty.call(N,_)&&(f[_]=N[_])}}function fe(f){this.src=f,this.g={},this.h=0}fe.prototype.add=function(f,w,_,N,Y){const Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);const ue=Ve(f,w,N,Y);return ue>-1?(w=f[ue],_||(w.fa=!1)):(w=new ce(w,this.src,Z,!!N,Y),w.fa=_,f.push(w)),w};function Ce(f,w){const _=w.type;if(_ in f.g){var N=f.g[_],Y=Array.prototype.indexOf.call(N,w,void 0),Z;(Z=Y>=0)&&Array.prototype.splice.call(N,Y,1),Z&&(me(w),f.g[_].length==0&&(delete f.g[_],f.h--))}}function Ve(f,w,_,N){for(let Y=0;Y<f.length;++Y){const Z=f[Y];if(!Z.da&&Z.listener==w&&Z.capture==!!_&&Z.ha==N)return Y}return-1}var Ke="closure_lm_"+(Math.random()*1e6|0),Zt={};function xt(f,w,_,N,Y){if(Array.isArray(w)){for(let Z=0;Z<w.length;Z++)xt(f,w[Z],_,N,Y);return null}return _=Sc(_),f&&f[tt]?f.J(w,_,h(N)?!!N.capture:!1,Y):ja(f,w,_,!1,N,Y)}function ja(f,w,_,N,Y,Z){if(!w)throw Error("Invalid event type");const ue=h(Y)?!!Y.capture:!!Y;let De=Ra(f);if(De||(f[Ke]=De=new fe(f)),_=De.add(w,_,N,ue,Z),_.proxy)return _;if(N=Oo(),_.proxy=N,N.src=f,N.listener=_,f.addEventListener)F||(Y=ue),Y===void 0&&(Y=!1),f.addEventListener(w.toString(),N,Y);else if(f.attachEvent)f.attachEvent(es(w.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Oo(){function f(_){return w.call(f.src,f.listener,_)}const w=Tc;return f}function Lo(f,w,_,N,Y){if(Array.isArray(w))for(var Z=0;Z<w.length;Z++)Lo(f,w[Z],_,N,Y);else N=h(N)?!!N.capture:!!N,_=Sc(_),f&&f[tt]?(f=f.i,Z=String(w).toString(),Z in f.g&&(w=f.g[Z],_=Ve(w,_,N,Y),_>-1&&(me(w[_]),Array.prototype.splice.call(w,_,1),w.length==0&&(delete f.g[Z],f.h--)))):f&&(f=Ra(f))&&(w=f.g[w.toString()],f=-1,w&&(f=Ve(w,_,N,Y)),(_=f>-1?w[f]:null)&&Bo(_))}function Bo(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[tt])Ce(w.i,f);else{var _=f.type,N=f.proxy;w.removeEventListener?w.removeEventListener(_,N,f.capture):w.detachEvent?w.detachEvent(es(_),N):w.addListener&&w.removeListener&&w.removeListener(N),(_=Ra(w))?(Ce(_,f),_.h==0&&(_.src=null,w[Ke]=null)):me(f)}}}function es(f){return f in Zt?Zt[f]:Zt[f]="on"+f}function Tc(f,w){if(f.da)f=!0;else{w=new je(w,this);const _=f.listener,N=f.ha||f.src;f.fa&&Bo(f),f=_.call(N,w)}return f}function Ra(f){return f=f[Ke],f instanceof fe?f:null}var Ac="__closure_events_fn_"+(Math.random()*1e9>>>0);function Sc(f){return typeof f=="function"?f:(f[Ac]||(f[Ac]=function(w){return f.handleEvent(w)}),f[Ac])}function Ot(){P.call(this),this.i=new fe(this),this.M=this,this.G=null}v(Ot,P),Ot.prototype[tt]=!0,Ot.prototype.removeEventListener=function(f,w,_,N){Lo(this,f,w,_,N)};function Jt(f,w){var _,N=f.G;if(N)for(_=[];N;N=N.G)_.push(N);if(f=f.M,N=w.type||w,typeof w=="string")w=new O(w,f);else if(w instanceof O)w.target=w.target||f;else{var Y=w;w=new O(N,f),de(w,Y)}Y=!0;let Z,ue;if(_)for(ue=_.length-1;ue>=0;ue--)Z=w.g=_[ue],Y=_r(Z,N,!0,w)&&Y;if(Z=w.g=f,Y=_r(Z,N,!0,w)&&Y,Y=_r(Z,N,!1,w)&&Y,_)for(ue=0;ue<_.length;ue++)Z=w.g=_[ue],Y=_r(Z,N,!1,w)&&Y}Ot.prototype.N=function(){if(Ot.Z.N.call(this),this.i){var f=this.i;for(const w in f.g){const _=f.g[w];for(let N=0;N<_.length;N++)me(_[N]);delete f.g[w],f.h--}}this.G=null},Ot.prototype.J=function(f,w,_,N){return this.i.add(String(f),w,!1,_,N)},Ot.prototype.K=function(f,w,_,N){return this.i.add(String(f),w,!0,_,N)};function _r(f,w,_,N){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();let Y=!0;for(let Z=0;Z<w.length;++Z){const ue=w[Z];if(ue&&!ue.da&&ue.capture==_){const De=ue.listener,jt=ue.ha||ue.src;ue.fa&&Ce(f.i,ue),Y=De.call(jt,N)!==!1&&Y}}return Y&&!N.defaultPrevented}function mp(f,w){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:u.setTimeout(f,w||0)}function Fd(f){f.g=mp(()=>{f.g=null,f.i&&(f.i=!1,Fd(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Rn extends P{constructor(w,_){super(),this.m=w,this.l=_,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Fd(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(f){P.call(this),this.h=f,this.g={}}v(Ia,P);var Cc=[];function Nc(f){Pe(f.g,function(w,_){this.g.hasOwnProperty(_)&&Bo(w)},f),f.g={}}Ia.prototype.N=function(){Ia.Z.N.call(this),Nc(this)},Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Er=u.JSON.stringify,pp=u.JSON.parse,Hd=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function qd(){}function $d(){}var Mi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function un(){O.call(this,"d")}v(un,O);function li(){O.call(this,"c")}v(li,O);var Nt={},Gd=null;function zo(){return Gd=Gd||new Ot}Nt.Ia="serverreachability";function Kd(f){O.call(this,Nt.Ia,f)}v(Kd,O);function ts(f){const w=zo();Jt(w,new Kd(w))}Nt.STAT_EVENT="statevent";function ka(f,w){O.call(this,Nt.STAT_EVENT,f),this.stat=w}v(ka,O);function Lt(f){const w=zo();Jt(w,new ka(w,f))}Nt.Ja="timingevent";function ns(f,w){O.call(this,Nt.Ja,f),this.size=w}v(ns,O);function is(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},w)}function Pi(){this.g=!0}Pi.prototype.ua=function(){this.g=!1};function gp(f,w,_,N,Y,Z){f.info(function(){if(f.g)if(Z){var ue="",De=Z.split("&");for(let Ze=0;Ze<De.length;Ze++){var jt=De[Ze].split("=");if(jt.length>1){const vt=jt[0];jt=jt[1];const hi=vt.split("_");ue=hi.length>=2&&hi[1]=="type"?ue+(vt+"="+jt+"&"):ue+(vt+"=redacted&")}}}else ue=null;else ue=Z;return"XMLHTTP REQ ("+N+") [attempt "+Y+"]: "+w+`
`+_+`
`+ue})}function Yd(f,w,_,N,Y,Z,ue){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Y+"]: "+w+`
`+_+`
`+Z+" "+ue})}function ss(f,w,_,N){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+yp(f,_)+(N?" "+N:"")})}function Da(f,w){f.info(function(){return"TIMEOUT: "+w})}Pi.prototype.info=function(){};function yp(f,w){if(!f.g)return w;if(!w)return null;try{const Z=JSON.parse(w);if(Z){for(f=0;f<Z.length;f++)if(Array.isArray(Z[f])){var _=Z[f];if(!(_.length<2)){var N=_[1];if(Array.isArray(N)&&!(N.length<1)){var Y=N[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ue=1;ue<N.length;ue++)N[ue]=""}}}}return Er(Z)}catch{return w}}var Ma={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rc;function Pa(){}v(Pa,qd),Pa.prototype.g=function(){return new XMLHttpRequest},Rc=new Pa;function Bs(f){return encodeURIComponent(String(f))}function Qd(f){var w=1;f=f.split(":");const _=[];for(;w>0&&f.length;)_.push(f.shift()),w--;return f.length&&_.push(f.join(":")),_}function Vi(f,w,_,N){this.j=f,this.i=w,this.l=_,this.S=N||1,this.V=new Ia(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Oi}function Oi(){this.i=null,this.g="",this.h=!1}var Bt={},rn={};function rs(f,w,_){f.M=1,f.A=Va(Ut(w)),f.u=_,f.R=!0,Uo(f,null)}function Uo(f,w){f.F=Date.now(),as(f),f.B=Ut(f.A);var _=f.B,N=f.S;Array.isArray(N)||(N=[String(N)]),$o(_.i,"t",N),f.C=0,_=f.j.L,f.h=new Oi,f.g=uh(f.j,_?w:null,!f.u),f.P>0&&(f.O=new Rn(g(f.Y,f,f.g),f.P)),w=f.V,_=f.g,N=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Cc[0]=Y.toString()),Y=Cc);for(let Z=0;Z<Y.length;Z++){const ue=xt(_,Y[Z],N||w.handleEvent,!1,w.h||w);if(!ue)break;w.g[ue.key]=ue}w=f.J?$(f.J):{},f.u?(f.v||(f.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,w)):(f.v="GET",f.g.ea(f.B,f.v,null,w)),ts(),gp(f.i,f.v,f.B,f.l,f.S,f.u)}Vi.prototype.ba=function(f){f=f.target;const w=this.O;w&&zi(f)==3?w.j():this.Y(f)},Vi.prototype.Y=function(f){try{if(f==this.g)e:{const De=zi(this.g),jt=this.g.ya(),Ze=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||dn(this.g)))){this.K||De!=4||jt==7||(jt==8||Ze<=0?ts(3):ts(2)),os(this);var w=this.g.ca();this.X=w;var _=xp(this);if(this.o=w==200,Yd(this.i,this.v,this.B,this.l,this.S,De,w),this.o){if(this.U&&!this.L){t:{if(this.g){var N,Y=this.g;if((N=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(N)){var Z=N;break t}}Z=null}if(f=Z)ss(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ls(this,f);else{this.o=!1,this.m=3,Lt(12),Yn(this),ci(this);break e}}if(this.R){f=!0;let vt;for(;!this.K&&this.C<_.length;)if(vt=Wd(this,_),vt==rn){De==4&&(this.m=4,Lt(14),f=!1),ss(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Bt){this.m=4,Lt(15),ss(this.i,this.l,_,"[Invalid Chunk]"),f=!1;break}else ss(this.i,this.l,vt,null),ls(this,vt);if(Xd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||_.length!=0||this.h.h||(this.m=1,Lt(16),f=!1),this.o=this.o&&f,!f)ss(this.i,this.l,_,"[Invalid Chunked Response]"),Yn(this),ci(this);else if(_.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),$c(ue),ue.P=!0,Lt(11))}}else ss(this.i,this.l,_,null),ls(this,_);De==4&&Yn(this),this.o&&!this.K&&(De==4?ah(this.j,this):(this.o=!1,as(this)))}else Us(this.g),w==400&&_.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),Yn(this),ci(this)}}}catch{}finally{}};function xp(f){if(!Xd(f))return f.g.la();const w=dn(f.g);if(w==="")return"";let _="";const N=w.length,Y=zi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Yn(f),ci(f),"";f.h.i=new u.TextDecoder}for(let Z=0;Z<N;Z++)f.h.h=!0,_+=f.h.i.decode(w[Z],{stream:!(Y&&Z==N-1)});return w.length=0,f.h.g+=_,f.C=0,f.h.g}function Xd(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Wd(f,w){var _=f.C,N=w.indexOf(`
`,_);return N==-1?rn:(_=Number(w.substring(_,N)),isNaN(_)?Bt:(N+=1,N+_>w.length?rn:(w=w.slice(N,N+_),f.C=N+_,w)))}Vi.prototype.cancel=function(){this.K=!0,Yn(this)};function as(f){f.T=Date.now()+f.H,Fo(f,f.H)}function Fo(f,w){if(f.D!=null)throw Error("WatchDog timer not null");f.D=is(g(f.aa,f),w)}function os(f){f.D&&(u.clearTimeout(f.D),f.D=null)}Vi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Da(this.i,this.B),this.M!=2&&(ts(),Lt(17)),Yn(this),this.m=2,ci(this)):Fo(this,this.T-f)};function ci(f){f.j.I==0||f.K||ah(f.j,f)}function Yn(f){os(f);var w=f.O;w&&typeof w.dispose=="function"&&w.dispose(),f.O=null,Nc(f.V),f.g&&(w=f.g,f.g=null,w.abort(),w.dispose())}function ls(f,w){try{var _=f.j;if(_.I!=0&&(_.g==f||us(_.h,f))){if(!f.L&&us(_.h,f)&&_.I==3){try{var N=_.Ba.g.parse(w)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Y=N;if(Y[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<f.F)Xo(_),Ir(_);else break e;Ha(_),Lt(18)}}else _.xa=Y[1],0<_.xa-_.K&&Y[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=is(g(_.Va,_),6e3));cs(_.h)<=1&&_.ta&&(_.ta=void 0)}else gs(_,11)}else if((f.L||_.g==f)&&Xo(_),!I(w))for(Y=_.Ba.g.parse(w),w=0;w<Y.length;w++){let Ze=Y[w];const vt=Ze[0];if(!(vt<=_.K))if(_.K=vt,Ze=Ze[1],_.I==2)if(Ze[0]=="c"){_.M=Ze[1],_.ba=Ze[2];const hi=Ze[3];hi!=null&&(_.ka=hi,_.j.info("VER="+_.ka));const ys=Ze[4];ys!=null&&(_.za=ys,_.j.info("SVER="+_.za));const Ui=Ze[5];Ui!=null&&typeof Ui=="number"&&Ui>0&&(N=1.5*Ui,_.O=N,_.j.info("backChannelRequestTimeoutMs_="+N)),N=_;const Fi=f.g;if(Fi){const qa=Fi.g?Fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qa){var Z=N.h;Z.g||qa.indexOf("spdy")==-1&&qa.indexOf("quic")==-1&&qa.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Dc(Z,Z.h),Z.h=null))}if(N.G){const Wo=Fi.g?Fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(N.wa=Wo,it(N.J,N.G,Wo))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-f.F,_.j.info("Handshake RTT: "+_.T+"ms")),N=_;var ue=f;if(N.na=ch(N,N.L?N.ba:null,N.W),ue.L){Mc(N.h,ue);var De=ue,jt=N.O;jt&&(De.H=jt),De.D&&(os(De),as(De)),N.g=ue}else sh(N);_.i.length>0&&ps(_)}else Ze[0]!="stop"&&Ze[0]!="close"||gs(_,7);else _.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?gs(_,7):Hc(_):Ze[0]!="noop"&&_.l&&_.l.qa(Ze),_.A=0)}}ts(4)}catch{}}var zt=class{constructor(f,w){this.g=f,this.map=w}};function Ic(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function cs(f){return f.h?1:f.g?f.g.size:0}function us(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function Dc(f,w){f.g?f.g.add(w):f.h=w}function Mc(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}Ic.prototype.cancel=function(){if(this.i=Pc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Pc(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const _ of f.g.values())w=w.concat(_.G);return w}return S(f.i)}var Zd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ho(f,w){if(f){f=f.split("&");for(let _=0;_<f.length;_++){const N=f[_].indexOf("=");let Y,Z=null;N>=0?(Y=f[_].substring(0,N),Z=f[_].substring(N+1)):Y=f[_],w(Y,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Qn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;f instanceof Qn?(this.l=f.l,an(this,f.j),this.o=f.o,this.g=f.g,Tr(this,f.u),this.h=f.h,Vc(this,nh(f.i)),this.m=f.m):f&&(w=String(f).match(Zd))?(this.l=!1,an(this,w[1]||"",!0),this.o=ds(w[2]||""),this.g=ds(w[3]||"",!0),Tr(this,w[4]),this.h=ds(w[5]||"",!0),Vc(this,w[6]||"",!0),this.m=ds(w[7]||"")):(this.l=!1,this.i=new Sr(null,this.l))}Qn.prototype.toString=function(){const f=[];var w=this.j;w&&f.push(Oa(w,qo,!0),":");var _=this.g;return(_||w=="file")&&(f.push("//"),(w=this.o)&&f.push(Oa(w,qo,!0),"@"),f.push(Bs(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&f.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&f.push("/"),f.push(Oa(_,_.charAt(0)=="/"?Oc:Jd,!0))),(_=this.i.toString())&&f.push("?",_),(_=this.m)&&f.push("#",Oa(_,eh)),f.join("")},Qn.prototype.resolve=function(f){const w=Ut(this);let _=!!f.j;_?an(w,f.j):_=!!f.o,_?w.o=f.o:_=!!f.g,_?w.g=f.g:_=f.u!=null;var N=f.h;if(_)Tr(w,f.u);else if(_=!!f.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var Y=w.h.lastIndexOf("/");Y!=-1&&(N=w.h.slice(0,Y+1)+N)}if(Y=N,Y==".."||Y==".")N="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){N=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const Z=[];for(let ue=0;ue<Y.length;){const De=Y[ue++];De=="."?N&&ue==Y.length&&Z.push(""):De==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),N&&ue==Y.length&&Z.push("")):(Z.push(De),N=!0)}N=Z.join("/")}else N=Y}return _?w.h=N:_=f.i.toString()!=="",_?Vc(w,nh(f.i)):_=!!f.m,_&&(w.m=f.m),w};function Ut(f){return new Qn(f)}function an(f,w,_){f.j=_?ds(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Tr(f,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);f.u=w}else f.u=null}function Vc(f,w,_){w instanceof Sr?(f.i=w,Go(f.i,f.l)):(_||(w=Oa(w,Ar)),f.i=new Sr(w,f.l))}function it(f,w,_){f.i.set(w,_)}function Va(f){return it(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ds(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Oa(f,w,_){return typeof f=="string"?(f=encodeURI(f).replace(w,On),_&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function On(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var qo=/[#\/\?@]/g,Jd=/[#\?:]/g,Oc=/[#\?]/g,Ar=/[#\?@]/g,eh=/#/g;function Sr(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Ln(f){f.g||(f.g=new Map,f.h=0,f.i&&Ho(f.i,function(w,_){f.add(decodeURIComponent(w.replace(/\+/g," ")),_)}))}t=Sr.prototype,t.add=function(f,w){Ln(this),this.i=null,f=Cr(this,f);let _=this.g.get(f);return _||this.g.set(f,_=[]),_.push(w),this.h+=1,this};function th(f,w){Ln(f),w=Cr(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function Lc(f,w){return Ln(f),w=Cr(f,w),f.g.has(w)}t.forEach=function(f,w){Ln(this),this.g.forEach(function(_,N){_.forEach(function(Y){f.call(w,Y,N,this)},this)},this)};function Bc(f,w){Ln(f);let _=[];if(typeof w=="string")Lc(f,w)&&(_=_.concat(f.g.get(Cr(f,w))));else for(f=Array.from(f.g.values()),w=0;w<f.length;w++)_=_.concat(f[w]);return _}t.set=function(f,w){return Ln(this),this.i=null,f=Cr(this,f),Lc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=Bc(this,f),f.length>0?String(f[0]):w):w};function $o(f,w,_){th(f,w),_.length>0&&(f.i=null,f.g.set(Cr(f,w),S(_)),f.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(let N=0;N<w.length;N++){var _=w[N];const Y=Bs(_);_=Bc(this,_);for(let Z=0;Z<_.length;Z++){let ue=Y;_[Z]!==""&&(ue+="="+Bs(_[Z])),f.push(ue)}}return this.i=f.join("&")};function nh(f){const w=new Sr;return w.i=f.i,f.g&&(w.g=new Map(f.g),w.h=f.h),w}function Cr(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function Go(f,w){w&&!f.j&&(Ln(f),f.i=null,f.g.forEach(function(_,N){const Y=N.toLowerCase();N!=Y&&(th(this,N),$o(this,Y,_))},f)),f.j=w}function Li(f,w){const _=new Pi;if(u.Image){const N=new Image;N.onload=x(ui,_,"TestLoadImage: loaded",!0,w,N),N.onerror=x(ui,_,"TestLoadImage: error",!1,w,N),N.onabort=x(ui,_,"TestLoadImage: abort",!1,w,N),N.ontimeout=x(ui,_,"TestLoadImage: timeout",!1,w,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else w(!1)}function zc(f,w){const _=new Pi,N=new AbortController,Y=setTimeout(()=>{N.abort(),ui(_,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:N.signal}).then(Z=>{clearTimeout(Y),Z.ok?ui(_,"TestPingServer: ok",!0,w):ui(_,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Y),ui(_,"TestPingServer: error",!1,w)})}function ui(f,w,_,N,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),N(_)}catch{}}function Nr(){this.g=new Hd}function hs(f){this.i=f.Sb||null,this.h=f.ab||!1}v(hs,qd),hs.prototype.g=function(){return new La(this.i,this.h)};function La(f,w){Ot.call(this),this.H=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(La,Ot),t=La.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=w,this.readyState=1,Bi(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(w.body=f),(this.H||u).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ko(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ko(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?jr(this):Bi(this),this.readyState==3&&Ko(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,jr(this))},t.Na=function(f){this.g&&(this.response=f,jr(this))},t.ga=function(){this.g&&jr(this)};function jr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Bi(f)}t.setRequestHeader=function(f,w){this.A.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var _=w.next();!_.done;)_=_.value,f.push(_[0]+": "+_[1]),_=w.next();return f.join(`\r
`)};function Bi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(La.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function di(f){let w="";return Pe(f,function(_,N){w+=N,w+=":",w+=_,w+=`\r
`}),w}function Ba(f,w,_){e:{for(N in _){var N=!1;break e}N=!0}N||(_=di(_),typeof f=="string"?_!=null&&Bs(_):it(f,w,_))}function at(f){Ot.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(at,Ot);var fs=/^https?$/i,Uc=["POST","PUT"];t=at.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,w,_,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rc.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(Z){za(this,Z);return}if(f=_||"",_=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Y in N)_.set(Y,N[Y]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Z of N.keys())_.set(Z,N.get(Z));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),Y=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Uc,w,void 0)>=0)||N||Y||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ue]of _)this.g.setRequestHeader(Z,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Z){za(this,Z)}};function za(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.o=5,Fc(f),zs(f)}function Fc(f){f.A||(f.A=!0,Jt(f,"complete"),Jt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Jt(this,"complete"),Jt(this,"abort"),zs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zs(this,!0)),at.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ua(this):this.Xa())},t.Xa=function(){Ua(this)};function Ua(f){if(f.h&&typeof l<"u"){if(f.v&&zi(f)==4)setTimeout(f.Ca.bind(f),0);else if(Jt(f,"readystatechange"),zi(f)==4){f.h=!1;try{const Z=f.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var _;if(!(_=w)){var N;if(N=Z===0){let ue=String(f.D).match(Zd)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),N=!fs.test(ue?ue.toLowerCase():"")}_=N}if(_)Jt(f,"complete"),Jt(f,"success");else{f.o=6;try{var Y=zi(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",Fc(f)}}finally{zs(f)}}}}function zs(f,w){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const _=f.g;f.g=null,w||Jt(f,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function zi(f){return f.g?f.g.readyState:0}t.ca=function(){try{return zi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),pp(w)}};function dn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Us(f){const w={};f=(f.g&&zi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(I(f[N]))continue;var _=Qd(f[N]);const Y=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=w[Y]||[];w[Y]=Z,Z.push(_)}ze(w,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(f,w,_){return _&&_.internalChannelParams&&_.internalChannelParams[f]||w}function Rr(f){this.za=0,this.i=[],this.j=new Pi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ms("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ms("baseRetryDelayMs",5e3,f),this.Za=ms("retryDelaySeedMs",1e4,f),this.Ta=ms("forwardChannelMaxRetries",2,f),this.va=ms("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Ic(f&&f.concurrentRequestLimit),this.Ba=new Nr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Rr.prototype,t.ka=8,t.I=1,t.connect=function(f,w,_,N){Lt(0),this.W=f,this.H=w||{},_&&N!==void 0&&(this.H.OSID=_,this.H.OAID=N),this.F=this.X,this.J=ch(this,null,this.W),ps(this)};function Hc(f){if(Yo(f),f.I==3){var w=f.V++,_=Ut(f.J);if(it(_,"SID",f.M),it(_,"RID",w),it(_,"TYPE","terminate"),Fa(f,_),w=new Vi(f,f.j,w),w.M=2,w.A=Va(Ut(_)),_=!1,u.navigator&&u.navigator.sendBeacon)try{_=u.navigator.sendBeacon(w.A.toString(),"")}catch{}!_&&u.Image&&(new Image().src=w.A,_=!0),_||(w.g=uh(w.j,null),w.g.ea(w.A)),w.F=Date.now(),as(w)}lh(f)}function Ir(f){f.g&&($c(f),f.g.cancel(),f.g=null)}function Yo(f){Ir(f),f.v&&(u.clearTimeout(f.v),f.v=null),Xo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function ps(f){if(!kc(f.h)&&!f.m){f.m=!0;var w=f.Ea;M||T(),G||(M(),G=!0),C.add(w,f),f.D=0}}function Qo(f,w){return cs(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=w.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=is(g(f.Ea,f,w),oh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new Vi(this,this.j,f);let Z=this.o;if(this.U&&(Z?(Z=$(Z),de(Z,this.U)):Z=this.U),this.u!==null||this.R||(Y.J=Z,Z=null),this.S)e:{for(var w=0,_=0;_<this.i.length;_++){t:{var N=this.i[_];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(w+=N,w>4096){w=_;break e}if(w===4096||_===this.i.length-1){w=_+1;break e}}w=1e3}else w=1e3;w=ih(this,Y,w),_=Ut(this.J),it(_,"RID",f),it(_,"CVER",22),this.G&&it(_,"X-HTTP-Session-Id",this.G),Fa(this,_),Z&&(this.R?w="headers="+Bs(di(Z))+"&"+w:this.u&&Ba(_,this.u,Z)),Dc(this.h,Y),this.Ra&&it(_,"TYPE","init"),this.S?(it(_,"$req",w),it(_,"SID","null"),Y.U=!0,rs(Y,_,null)):rs(Y,_,w),this.I=2}}else this.I==3&&(f?qc(this,f):this.i.length==0||kc(this.h)||qc(this))};function qc(f,w){var _;w?_=w.l:_=f.V++;const N=Ut(f.J);it(N,"SID",f.M),it(N,"RID",_),it(N,"AID",f.K),Fa(f,N),f.u&&f.o&&Ba(N,f.u,f.o),_=new Vi(f,f.j,_,f.D+1),f.u===null&&(_.J=f.o),w&&(f.i=w.G.concat(f.i)),w=ih(f,_,1e3),_.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Dc(f.h,_),rs(_,N,w)}function Fa(f,w){f.H&&Pe(f.H,function(_,N){it(w,N,_)}),f.l&&Pe({},function(_,N){it(w,N,_)})}function ih(f,w,_){_=Math.min(f.i.length,_);const N=f.l?g(f.l.Ka,f.l,f):null;e:{var Y=f.i;let De=-1;for(;;){const jt=["count="+_];De==-1?_>0?(De=Y[0].g,jt.push("ofs="+De)):De=0:jt.push("ofs="+De);let Ze=!0;for(let vt=0;vt<_;vt++){var Z=Y[vt].g;const hi=Y[vt].map;if(Z-=De,Z<0)De=Math.max(0,Y[vt].g-100),Ze=!1;else try{Z="req"+Z+"_"||"";try{var ue=hi instanceof Map?hi:Object.entries(hi);for(const[ys,Ui]of ue){let Fi=Ui;h(Ui)&&(Fi=Er(Ui)),jt.push(Z+ys+"="+encodeURIComponent(Fi))}}catch(ys){throw jt.push(Z+"type="+encodeURIComponent("_badmap")),ys}}catch{N&&N(hi)}}if(Ze){ue=jt.join("&");break e}}ue=void 0}return f=f.i.splice(0,_),w.G=f,ue}function sh(f){if(!f.g&&!f.v){f.Y=1;var w=f.Da;M||T(),G||(M(),G=!0),C.add(w,f),f.A=0}}function Ha(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=is(g(f.Da,f),oh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,rh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=is(g(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),Ir(this),rh(this))};function $c(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function rh(f){f.g=new Vi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var w=Ut(f.na);it(w,"RID","rpc"),it(w,"SID",f.M),it(w,"AID",f.K),it(w,"CI",f.F?"0":"1"),!f.F&&f.ia&&it(w,"TO",f.ia),it(w,"TYPE","xmlhttp"),Fa(f,w),f.u&&f.o&&Ba(w,f.u,f.o),f.O&&(f.g.H=f.O);var _=f.g;f=f.ba,_.M=1,_.A=Va(Ut(w)),_.u=null,_.R=!0,Uo(_,f)}t.Va=function(){this.C!=null&&(this.C=null,Ir(this),Ha(this),Lt(19))};function Xo(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function ah(f,w){var _=null;if(f.g==w){Xo(f),$c(f),f.g=null;var N=2}else if(us(f.h,w))_=w.G,Mc(f.h,w),N=1;else return;if(f.I!=0){if(w.o)if(N==1){_=w.u?w.u.length:0,w=Date.now()-w.F;var Y=f.D;N=zo(),Jt(N,new ns(N,_)),ps(f)}else sh(f);else if(Y=w.m,Y==3||Y==0&&w.X>0||!(N==1&&Qo(f,w)||N==2&&Ha(f)))switch(_&&_.length>0&&(w=f.h,w.i=w.i.concat(_)),Y){case 1:gs(f,5);break;case 4:gs(f,10);break;case 3:gs(f,6);break;default:gs(f,2)}}}function oh(f,w){let _=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(_*=2),_*w}function gs(f,w){if(f.j.info("Error code "+w),w==2){var _=g(f.bb,f),N=f.Ua;const Y=!N;N=new Qn(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||an(N,"https"),Va(N),Y?Li(N.toString(),_):zc(N.toString(),_)}else Lt(2);f.I=0,f.l&&f.l.pa(w),lh(f),Yo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function lh(f){if(f.I=0,f.ja=[],f.l){const w=Pc(f.h);(w.length!=0||f.i.length!=0)&&(D(f.ja,w),D(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function ch(f,w,_){var N=_ instanceof Qn?Ut(_):new Qn(_);if(N.g!="")w&&(N.g=w+"."+N.g),Tr(N,N.u);else{var Y=u.location;N=Y.protocol,w=w?w+"."+Y.hostname:Y.hostname,Y=+Y.port;const Z=new Qn(null);N&&an(Z,N),w&&(Z.g=w),Y&&Tr(Z,Y),_&&(Z.h=_),N=Z}return _=f.G,w=f.wa,_&&w&&it(N,_,w),it(N,"VER",f.ka),Fa(f,N),N}function uh(f,w,_){if(w&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Aa&&!f.ma?new at(new hs({ab:_})):new at(f.ma),w.Fa(f.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dh(){}t=dh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function kr(){}kr.prototype.g=function(f,w){return new In(f,w)};function In(f,w){Ot.call(this),this.g=new Rr(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(f?f["X-WebChannel-Client-Profile"]=w.sa:f={"X-WebChannel-Client-Profile":w.sa}),this.g.U=f,(f=w&&w.Qb)&&!I(f)&&(this.g.u=f),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!I(w)&&(this.g.G=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Fs(this)}v(In,Ot),In.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Hc(this.g)},In.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var _={};_.__data__=f,f=_}else this.v&&(_={},_.__data__=Er(f),f=_);w.i.push(new zt(w.Ya++,f)),w.I==3&&ps(w)},In.prototype.N=function(){this.g.l=null,delete this.j,Hc(this.g),delete this.g,In.Z.N.call(this)};function hh(f){un.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const _ in w){f=_;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}v(hh,un);function fh(){li.call(this),this.status=1}v(fh,li);function Fs(f){this.g=f}v(Fs,dh),Fs.prototype.ra=function(){Jt(this.g,"a")},Fs.prototype.qa=function(f){Jt(this.g,new hh(f))},Fs.prototype.pa=function(f){Jt(this.g,new fh)},Fs.prototype.oa=function(){Jt(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,BE=function(){return new kr},LE=function(){return zo()},OE=Nt,my={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ma.NO_ERROR=0,Ma.TIMEOUT=8,Ma.HTTP_ERROR=6,Pf=Ma,jc.COMPLETE="complete",VE=jc,$d.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",Ot.prototype.listen=Ot.prototype.J,Mu=$d,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,PE=at}).apply(typeof wf<"u"?wf:typeof self<"u"?self:typeof window<"u"?window:{});const A4="@firebase/firestore",S4="4.9.2";class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");let hc="12.3.0";const To=new Vm("@firebase/firestore");function Cl(){return To.logLevel}function he(t,...e){if(To.logLevel<=He.DEBUG){const n=e.map(A2);To.debug(`Firestore (${hc}): ${t}`,...n)}}function yr(t,...e){if(To.logLevel<=He.ERROR){const n=e.map(A2);To.error(`Firestore (${hc}): ${t}`,...n)}}function Yl(t,...e){if(To.logLevel<=He.WARN){const n=e.map(A2);To.warn(`Firestore (${hc}): ${t}`,...n)}}function A2(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Te(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,zE(t,s,n)}function zE(t,e,n){let s=`FIRESTORE (${hc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw yr(s),new Error(s)}function nt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||zE(e,a,s)}function Ie(t,e){return t}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class UE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Tn.UNAUTHENTICATED)))}shutdown(){}}class Ik{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class kk{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new cr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},h=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new cr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(nt(typeof s.accessToken=="string",31837,{l:s}),new UE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class Dk{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mk{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Dk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const s=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new C4(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Vk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class S2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=Vk(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function qe(t,e){return t<e?-1:t>e?1:0}function py(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return R0(a)===R0(l)?qe(a,l):R0(a)?1:-1}return qe(t.length,e.length)}const Ok=55296,Lk=57343;function R0(t){const e=t.charCodeAt(0);return e>=Ok&&e<=Lk}function Ql(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const N4="__name__";class _s{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return _s.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _s?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=_s.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const s=_s.isNumericId(e),a=_s.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?_s.extractNumericId(e).compare(_s.extractNumericId(n)):py(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fa.fromString(e.substring(4,e.length-2))}}class gt extends _s{construct(e,n,s){return new gt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new gt(n)}static emptyPath(){return new gt([])}}const Bk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends _s{construct(e,n,s){return new xn(e,n,s)}static isValidIdentifier(e){return Bk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N4}static keyField(){return new xn([N4])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ye(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ye(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(s+=h,a++):(l(),a++)}if(l(),u)throw new ye(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(n)}static emptyPath(){return new xn([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(gt.fromString(e))}static fromName(e){return new we(gt.fromString(e).popFirst(5))}static empty(){return new we(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new gt(e.slice()))}}function FE(t,e,n){if(!n)throw new ye(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zk(t,e,n,s){if(e===!0&&s===!0)throw new ye(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function j4(t){if(!we.isDocumentKey(t))throw new ye(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function R4(t){if(we.isDocumentKey(t))throw new ye(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function C2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function Xi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=C2(t);throw new ye(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ed(t,e){if(!HE(t))throw new ye(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ye(le.INVALID_ARGUMENT,n);return!0}const I4=-62135596800,k4=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*k4);return new yt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<I4)throw new ye(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k4}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ed(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-I4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Qt("string",yt._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new yt(0,0))}static max(){return new Ne(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ed=-1;function Uk(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(s===1e9?new yt(n+1,0):new yt(n,s));return new pa(a,we.empty(),e)}function Fk(t){return new pa(t.readTime,t.key,ed)}class pa{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new pa(Ne.min(),we.empty(),ed)}static max(){return new pa(Ne.max(),we.empty(),ed)}}function Hk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}const qk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $k{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function fc(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==qk)throw t;he("LocalStore","Unexpectedly lost primary lease")}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,s)=>{n(e)}))}static reject(e){return new oe(((n,s)=>{s(e)}))}static waitFor(e){return new oe(((n,s)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(p=>s(p)))})),u=!0,l===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next((a=>a?oe.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new oe(((s,a)=>{const l=e.length,u=new Array(l);let h=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next((x=>{u[g]=x,++h,h===l&&s(u)}),(x=>a(x)))}}))}static doWhile(e,n){return new oe(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function Gk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mc(t){return t.name==="IndexedDbTransactionError"}class Fm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fm.ce=-1;const N2=-1;function Hm(t){return t==null}function im(t){return t===0&&1/t==-1/0}function Kk(t){return typeof t=="number"&&Number.isInteger(t)&&!im(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const qE="";function Yk(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=D4(e)),e=Qk(t.get(n),e);return D4(e)}function Qk(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case qE:n+="";break;default:n+=l}}return n}function D4(t){return t+qE+""}function M4(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $E(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Tt{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bf(this.root,e,this.comparator,!1)}getReverseIterator(){return new bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bf(this.root,e,this.comparator,!0)}}class bf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??yn.RED,this.left=a??yn.EMPTY,this.right=l??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new yn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return yn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P4(this.data.getIterator())}getIteratorFrom(e){return new P4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class P4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ii{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new ii([])}unionWith(e){let n=new nn(xn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ii(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ql(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class GE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new GE("Invalid base64 string: "+l):l}})(e);return new wn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const Xk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(t){if(nt(!!t,39018),typeof t=="string"){let e=0;const n=Xk.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ya(t){return typeof t=="string"?wn.fromBase64String(t):wn.fromUint8Array(t)}const KE="server_timestamp",YE="__type__",QE="__previous_value__",XE="__local_write_time__";function j2(t){return(t?.mapValue?.fields||{})[YE]?.stringValue===KE}function qm(t){const e=t.mapValue.fields[QE];return j2(e)?qm(e):e}function td(t){const e=ga(t.mapValue.fields[XE].timestampValue);return new yt(e.seconds,e.nanos)}class Wk{constructor(e,n,s,a,l,u,h,p,g,x){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=x}}const sm="(default)";class nd{constructor(e,n){this.projectId=e,this.database=n||sm}static empty(){return new nd("","")}get isDefaultDatabase(){return this.database===sm}isEqual(e){return e instanceof nd&&e.projectId===this.projectId&&e.database===this.database}}const WE="__type__",Zk="__max__",_f={mapValue:{}},ZE="__vector__",rm="value";function xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?j2(t)?4:eD(t)?9007199254740991:Jk(t)?10:11:Te(28295,{value:t})}function Ds(t,e){if(t===e)return!0;const n=xa(t);if(n!==xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return td(t).isEqual(td(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ga(a.timestampValue),h=ga(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ya(a.bytesValue).isEqual(ya(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Mt(a.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(a.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Mt(a.integerValue)===Mt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Mt(a.doubleValue),h=Mt(l.doubleValue);return u===h?im(u)===im(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Ql(t.arrayValue.values||[],e.arrayValue.values||[],Ds);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(M4(u)!==M4(h))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(h[p]===void 0||!Ds(u[p],h[p])))return!1;return!0})(t,e);default:return Te(52216,{left:t})}}function id(t,e){return(t.values||[]).find((n=>Ds(n,e)))!==void 0}function Xl(t,e){if(t===e)return 0;const n=xa(t),s=xa(e);if(n!==s)return qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Mt(l.integerValue||l.doubleValue),p=Mt(u.integerValue||u.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(t,e);case 3:return V4(t.timestampValue,e.timestampValue);case 4:return V4(td(t),td(e));case 5:return py(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=ya(l),p=ya(u);return h.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),p=u.split("/");for(let g=0;g<h.length&&g<p.length;g++){const x=qe(h[g],p[g]);if(x!==0)return x}return qe(h.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=qe(Mt(l.latitude),Mt(u.latitude));return h!==0?h:qe(Mt(l.longitude),Mt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return O4(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},p=u.fields||{},g=h[rm]?.arrayValue,x=p[rm]?.arrayValue,v=qe(g?.values?.length||0,x?.values?.length||0);return v!==0?v:O4(g,x)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===_f.mapValue&&u===_f.mapValue)return 0;if(l===_f.mapValue)return 1;if(u===_f.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),g=u.fields||{},x=Object.keys(g);p.sort(),x.sort();for(let v=0;v<p.length&&v<x.length;++v){const E=py(p[v],x[v]);if(E!==0)return E;const S=Xl(h[p[v]],g[x[v]]);if(S!==0)return S}return qe(p.length,x.length)})(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function V4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=ga(t),s=ga(e),a=qe(n.seconds,s.seconds);return a!==0?a:qe(n.nanos,s.nanos)}function O4(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Xl(n[a],s[a]);if(l)return l}return qe(n.length,s.length)}function Wl(t){return gy(t)}function gy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=ga(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ya(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return we.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=gy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${gy(n.fields[u])}`;return a+"}"})(t.mapValue):Te(61005,{value:t})}function Vf(t){switch(xa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qm(t);return e?16+Vf(e):16;case 5:return 2*t.stringValue.length;case 6:return ya(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Vf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Sa(s.fields,((l,u)=>{a+=l.length+Vf(u)})),a})(t.mapValue);default:throw Te(13486,{value:t})}}function yy(t){return!!t&&"integerValue"in t}function R2(t){return!!t&&"arrayValue"in t}function L4(t){return!!t&&"nullValue"in t}function B4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Of(t){return!!t&&"mapValue"in t}function Jk(t){return(t?.mapValue?.fields||{})[WE]?.stringValue===ZE}function Uu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Sa(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Uu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uu(t.arrayValue.values[n]);return e}return{...t}}function eD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Zk}class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Of(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(n)}setAll(e){let n=xn.emptyPath(),s={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const p=this.getFieldsMap(n);this.applyChanges(p,s,a),s={},a=[],n=h.popLast()}u?s[h.lastSegment()]=Uu(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Of(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ds(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Of(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Sa(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new $n(Uu(this.value))}}function JE(t){const e=[];return Sa(t.fields,((n,s)=>{const a=new xn([n]);if(Of(s)){const l=JE(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new ii(e)}class An{constructor(e,n,s,a,l,u,h){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new An(e,0,Ne.min(),Ne.min(),Ne.min(),$n.empty(),0)}static newFoundDocument(e,n,s,a){return new An(e,1,n,Ne.min(),s,a,0)}static newNoDocument(e,n){return new An(e,2,n,Ne.min(),Ne.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,Ne.min(),Ne.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class am{constructor(e,n){this.position=e,this.inclusive=n}}function z4(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=we.comparator(we.fromName(u.referenceValue),n.key):s=Xl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function U4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ds(t.position[n],e.position[n]))return!1;return!0}class om{constructor(e,n="asc"){this.field=e,this.dir=n}}function tD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class eT{}class tn extends eT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new iD(e,n,s):n==="array-contains"?new aD(e,s):n==="in"?new oD(e,s):n==="not-in"?new lD(e,s):n==="array-contains-any"?new cD(e,s):new tn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new sD(e,s):new rD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xl(n,this.value)):n!==null&&xa(this.value)===xa(n)&&this.matchesComparison(Xl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ms extends eT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ms(e,n)}matches(e){return tT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tT(t){return t.op==="and"}function nT(t){return nD(t)&&tT(t)}function nD(t){for(const e of t.filters)if(e instanceof Ms)return!1;return!0}function xy(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+Wl(t.value);if(nT(t))return t.filters.map((e=>xy(e))).join(",");{const e=t.filters.map((n=>xy(n))).join(",");return`${t.op}(${e})`}}function iT(t,e){return t instanceof tn?(function(s,a){return a instanceof tn&&s.op===a.op&&s.field.isEqual(a.field)&&Ds(s.value,a.value)})(t,e):t instanceof Ms?(function(s,a){return a instanceof Ms&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,h)=>l&&iT(u,a.filters[h])),!0):!1})(t,e):void Te(19439)}function sT(t){return t instanceof tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wl(n.value)}`})(t):t instanceof Ms?(function(n){return n.op.toString()+" {"+n.getFilters().map(sT).join(" ,")+"}"})(t):"Filter"}class iD extends tn{constructor(e,n,s){super(e,n,s),this.key=we.fromName(s.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class sD extends tn{constructor(e,n){super(e,"in",n),this.keys=rT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class rD extends tn{constructor(e,n){super(e,"not-in",n),this.keys=rT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function rT(t,e){return(e.arrayValue?.values||[]).map((n=>we.fromName(n.referenceValue)))}class aD extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return R2(n)&&id(n.arrayValue,this.value)}}class oD extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&id(this.value.arrayValue,n)}}class lD extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!id(this.value.arrayValue,n)}}class cD extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!R2(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>id(this.value.arrayValue,s)))}}class uD{constructor(e,n=null,s=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function F4(t,e=null,n=[],s=[],a=null,l=null,u=null){return new uD(t,e,n,s,a,l,u)}function I2(t){const e=Ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>xy(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Hm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Wl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Wl(s))).join(",")),e.Te=n}return e.Te}function k2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!U4(t.startAt,e.startAt)&&U4(t.endAt,e.endAt)}function vy(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class $m{constructor(e,n=null,s=[],a=[],l=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dD(t,e,n,s,a,l,u,h){return new $m(t,e,n,s,a,l,u,h)}function D2(t){return new $m(t)}function H4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hD(t){return t.collectionGroup!==null}function Fu(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new nn(xn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new om(l,s))})),n.has(xn.keyField().canonicalString())||e.Ie.push(new om(xn.keyField(),s))}return e.Ie}function Ss(t){const e=Ie(t);return e.Ee||(e.Ee=fD(e,Fu(t))),e.Ee}function fD(t,e){if(t.limitType==="F")return F4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new om(a.field,l)}));const n=t.endAt?new am(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new am(t.startAt.position,t.startAt.inclusive):null;return F4(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function wy(t,e,n){return new $m(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gm(t,e){return k2(Ss(t),Ss(e))&&t.limitType===e.limitType}function aT(t){return`${I2(Ss(t))}|lt:${t.limitType}`}function Nl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>sT(a))).join(", ")}]`),Hm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Wl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Wl(a))).join(",")),`Target(${s})`})(Ss(t))}; limitType=${t.limitType})`}function Km(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):we.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Fu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,h,p){const g=z4(u,h,p);return u.inclusive?g<=0:g<0})(s.startAt,Fu(s),a)||s.endAt&&!(function(u,h,p){const g=z4(u,h,p);return u.inclusive?g>=0:g>0})(s.endAt,Fu(s),a))})(t,e)}function mD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oT(t){return(e,n)=>{let s=!1;for(const a of Fu(t)){const l=pD(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function pD(t,e,n){const s=t.field.isKeyField()?we.comparator(e.key,n.key):(function(l,u,h){const p=u.data.field(l),g=h.data.field(l);return p!==null&&g!==null?Xl(p,g):Te(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:t.dir})}}class Io{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Sa(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return $E(this.inner)}size(){return this.innerSize}}const gD=new Tt(we.comparator);function xr(){return gD}const lT=new Tt(we.comparator);function Pu(...t){let e=lT;for(const n of t)e=e.insert(n.key,n);return e}function cT(t){let e=lT;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ho(){return Hu()}function uT(){return Hu()}function Hu(){return new Io((t=>t.toString()),((t,e)=>t.isEqual(e)))}const yD=new Tt(we.comparator),xD=new nn(we.comparator);function $e(...t){let e=xD;for(const n of t)e=e.add(n);return e}const vD=new nn(qe);function wD(){return vD}function M2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:im(e)?"-0":e}}function dT(t){return{integerValue:""+t}}function hT(t,e){return Kk(e)?dT(e):M2(t,e)}class Ym{constructor(){this._=void 0}}function bD(t,e,n){return t instanceof lm?(function(a,l){const u={fields:{[YE]:{stringValue:KE},[XE]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&j2(l)&&(l=qm(l)),l&&(u.fields[QE]=l),{mapValue:u}})(n,e):t instanceof Zl?mT(t,e):t instanceof sd?pT(t,e):(function(a,l){const u=fT(a,l),h=q4(u)+q4(a.Ae);return yy(u)&&yy(a.Ae)?dT(h):M2(a.serializer,h)})(t,e)}function _D(t,e,n){return t instanceof Zl?mT(t,e):t instanceof sd?pT(t,e):n}function fT(t,e){return t instanceof rd?(function(s){return yy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class lm extends Ym{}class Zl extends Ym{constructor(e){super(),this.elements=e}}function mT(t,e){const n=gT(e);for(const s of t.elements)n.some((a=>Ds(a,s)))||n.push(s);return{arrayValue:{values:n}}}class sd extends Ym{constructor(e){super(),this.elements=e}}function pT(t,e){let n=gT(e);for(const s of t.elements)n=n.filter((a=>!Ds(a,s)));return{arrayValue:{values:n}}}class rd extends Ym{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function q4(t){return Mt(t.integerValue||t.doubleValue)}function gT(t){return R2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class yT{constructor(e,n){this.field=e,this.transform=n}}function ED(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Zl&&a instanceof Zl||s instanceof sd&&a instanceof sd?Ql(s.elements,a.elements,Ds):s instanceof rd&&a instanceof rd?Ds(s.Ae,a.Ae):s instanceof lm&&a instanceof lm})(t.transform,e.transform)}class TD{constructor(e,n){this.version=e,this.transformResults=n}}class Ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qm{}function xT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new P2(t.key,Ci.none()):new Td(t.key,t.data,Ci.none());{const n=t.data,s=$n.empty();let a=new nn(xn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Ca(t.key,s,new ii(a.toArray()),Ci.none())}}function AD(t,e,n){t instanceof Td?(function(a,l,u){const h=a.value.clone(),p=G4(a.fieldTransforms,l,u.transformResults);h.setAll(p),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Ca?(function(a,l,u){if(!Lf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=G4(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(vT(a)),p.setAll(h),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function qu(t,e,n,s){return t instanceof Td?(function(l,u,h,p){if(!Lf(l.precondition,u))return h;const g=l.value.clone(),x=K4(l.fieldTransforms,p,u);return g.setAll(x),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof Ca?(function(l,u,h,p){if(!Lf(l.precondition,u))return h;const g=K4(l.fieldTransforms,p,u),x=u.data;return x.setAll(vT(l)),x.setAll(g),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,s):(function(l,u,h){return Lf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function SD(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=fT(s.transform,a||null);l!=null&&(n===null&&(n=$n.empty()),n.set(s.field,l))}return n||null}function $4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ql(s,a,((l,u)=>ED(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Td extends Qm{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ca extends Qm{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function vT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function G4(t,e,n){const s=new Map;nt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);s.set(l.field,_D(u,h,n[a]))}return s}function K4(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,bD(l,u,e))}return s}class P2 extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CD extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ND{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&AD(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=qu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=qu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=uT();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const p=xT(u,h);p!==null&&s.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&Ql(this.mutations,e.mutations,((n,s)=>$4(n,s)))&&Ql(this.baseMutations,e.baseMutations,((n,s)=>$4(n,s)))}}class V2{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){nt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return yD})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new V2(e,n,s,a)}}class jD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RD{constructor(e,n){this.count=e,this.unchangedNames=n}}var Gt,Ye;function ID(t){switch(t){case le.OK:return Te(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function wT(t){if(t===void 0)return yr("GRPC error has no .code"),le.UNKNOWN;switch(t){case Gt.OK:return le.OK;case Gt.CANCELLED:return le.CANCELLED;case Gt.UNKNOWN:return le.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return le.INTERNAL;case Gt.UNAVAILABLE:return le.UNAVAILABLE;case Gt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Gt.NOT_FOUND:return le.NOT_FOUND;case Gt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Gt.ABORTED:return le.ABORTED;case Gt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Gt.DATA_LOSS:return le.DATA_LOSS;default:return Te(39323,{code:t})}}(Ye=Gt||(Gt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function kD(){return new TextEncoder}const DD=new fa([4294967295,4294967295],0);function Y4(t){const e=kD().encode(t),n=new ME;return n.update(e),new Uint8Array(n.digest())}function Q4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new fa([n,s],0),new fa([a,l],0)]}class O2{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Vu(`Invalid padding: ${n}`);if(s<0)throw new Vu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fa.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(fa.fromNumber(s)));return a.compare(DD)===1&&(a=new fa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Y4(e),[s,a]=Q4(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new O2(l,a,n);return s.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=Y4(e),[s,a]=Q4(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xm{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Ad.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Xm(Ne.min(),a,new Tt(qe),xr(),$e())}}class Ad{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ad(s,n,$e(),$e(),$e())}}class Bf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class bT{constructor(e,n){this.targetId=e,this.Ce=n}}class _T{constructor(e,n,s=wn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class X4{constructor(){this.ve=0,this.Fe=W4(),this.Me=wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),s=$e();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Te(38017,{changeType:l})}})),new Ad(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=W4()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MD{constructor(e){this.Ge=e,this.ze=new Map,this.je=xr(),this.Je=Ef(),this.He=Ef(),this.Ye=new Tt(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(vy(l))if(s===0){const u=new we(l.path);this.et(n,u,An.newNoDocument(u,Ne.min()))}else nt(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const h=this.ut(e),p=h?this.ct(h,e,u):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=ya(s).toUint8Array()}catch(p){if(p instanceof GE)return Yl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new O2(u,a,l)}catch(p){return Yl(p instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&vy(h.target)){const p=new we(h.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,An.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=$e();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Xm(e,n,this.Ye,this.je,s);return this.je=xr(),this.Je=Ef(),this.He=Ef(),this.Ye=new Tt(qe),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new X4,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nn(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nn(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new X4),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ef(){return new Tt(we.comparator)}function W4(){return new Tt(we.comparator)}const PD={asc:"ASCENDING",desc:"DESCENDING"},VD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OD={and:"AND",or:"OR"};class LD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function by(t,e){return t.useProto3Json||Hm(e)?e:{value:e}}function cm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ET(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BD(t,e){return cm(t,e.toTimestamp())}function Cs(t){return nt(!!t,49232),Ne.fromTimestamp((function(n){const s=ga(n);return new yt(s.seconds,s.nanos)})(t))}function L2(t,e){return _y(t,e).canonicalString()}function _y(t,e){const n=(function(a){return new gt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function TT(t){const e=gt.fromString(t);return nt(jT(e),10190,{key:e.toString()}),e}function Ey(t,e){return L2(t.databaseId,e.path)}function I0(t,e){const n=TT(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(ST(n))}function AT(t,e){return L2(t.databaseId,e)}function zD(t){const e=TT(t);return e.length===4?gt.emptyPath():ST(e)}function Ty(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ST(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Z4(t,e,n){return{name:Ey(t,e),fields:n.value.mapValue.fields}}function UD(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,x){return g.useProto3Json?(nt(x===void 0||typeof x=="string",58123),wn.fromBase64String(x||"")):(nt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),wn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(g){const x=g.code===void 0?le.UNKNOWN:wT(g.code);return new ye(x,g.message||"")})(u);n=new _T(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=I0(t,s.document.name),l=Cs(s.document.updateTime),u=s.document.createTime?Cs(s.document.createTime):Ne.min(),h=new $n({mapValue:{fields:s.document.fields}}),p=An.newFoundDocument(a,l,u,h),g=s.targetIds||[],x=s.removedTargetIds||[];n=new Bf(g,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=I0(t,s.document),l=s.readTime?Cs(s.readTime):Ne.min(),u=An.newNoDocument(a,l),h=s.removedTargetIds||[];n=new Bf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=I0(t,s.document),l=s.removedTargetIds||[];n=new Bf([],l,a,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new RD(a,l),h=s.targetId;n=new bT(h,u)}}return n}function FD(t,e){let n;if(e instanceof Td)n={update:Z4(t,e.key,e.value)};else if(e instanceof P2)n={delete:Ey(t,e.key)};else if(e instanceof Ca)n={update:Z4(t,e.key,e.data),updateMask:WD(e.fieldMask)};else{if(!(e instanceof CD))return Te(16599,{Vt:e.type});n={verify:Ey(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const h=u.transform;if(h instanceof lm)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Zl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof sd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof rd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Te(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:BD(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)})(t,e.precondition)),n}function HD(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?Cs(a.updateTime):Cs(l);return u.isEqual(Ne.min())&&(u=Cs(l)),new TD(u,a.transformResults||[])})(n,e)))):[]}function qD(t,e){return{documents:[AT(t,e.path)]}}function $D(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=AT(t,a);const l=(function(g){if(g.length!==0)return NT(Ms.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((x=>(function(E){return{field:jl(E.field),direction:YD(E.dir)}})(x)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=by(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function GD(t){let e=zD(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){nt(s===1,65062);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let l=[];n.where&&(l=(function(v){const E=CT(v);return E instanceof Ms&&nT(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((E=>(function(D){return new om(Rl(D.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let E;return E=typeof v=="object"?v.value:v,Hm(E)?null:E})(n.limit));let p=null;n.startAt&&(p=(function(v){const E=!!v.before,S=v.values||[];return new am(S,E)})(n.startAt));let g=null;return n.endAt&&(g=(function(v){const E=!v.before,S=v.values||[];return new am(S,E)})(n.endAt)),dD(e,a,u,l,h,"F",p,g)}function KD(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CT(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Rl(n.unaryFilter.field);return tn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Rl(n.unaryFilter.field);return tn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Rl(n.unaryFilter.field);return tn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Rl(n.unaryFilter.field);return tn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(t):t.fieldFilter!==void 0?(function(n){return tn.create(Rl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ms.create(n.compositeFilter.filters.map((s=>CT(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(t):Te(30097,{filter:t})}function YD(t){return PD[t]}function QD(t){return VD[t]}function XD(t){return OD[t]}function jl(t){return{fieldPath:t.canonicalString()}}function Rl(t){return xn.fromServerFormat(t.fieldPath)}function NT(t){return t instanceof tn?(function(n){if(n.op==="=="){if(B4(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NAN"}};if(L4(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B4(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NOT_NAN"}};if(L4(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jl(n.field),op:QD(n.op),value:n.value}}})(t):t instanceof Ms?(function(n){const s=n.getFilters().map((a=>NT(a)));return s.length===1?s[0]:{compositeFilter:{op:XD(n.op),filters:s}}})(t):Te(54877,{filter:t})}function WD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function jT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class la{constructor(e,n,s,a,l=Ne.min(),u=Ne.min(),h=wn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ZD{constructor(e){this.yt=e}}function JD(t){const e=GD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wy(e,e.limit,"L"):e}class eM{constructor(){this.Cn=new tM}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(pa.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(pa.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class tM{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new nn(gt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new nn(gt.comparator)).toArray()}}const J4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RT=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(RT,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);class Jl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Jl(0)}static cr(){return new Jl(-1)}}const e3="LruGarbageCollector",nM=1048576;function t3([t,e],[n,s]){const a=qe(t,n);return a===0?qe(e,s):a}class iM{constructor(e){this.Ir=e,this.buffer=new nn(t3),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();t3(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sM{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(e3,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mc(n)?he(e3,"Ignoring IndexedDB error during garbage collection: ",n):await fc(n)}await this.Vr(3e5)}))}}class rM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Fm.ce);const s=new iM(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(J4)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J4):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,h,p,g;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(s=v,h=Date.now(),this.removeTargets(e,s,n)))).next((v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(g=Date.now(),Cl()<=He.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-x}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function aM(t,e){return new rM(t,e)}class oM{constructor(){this.changes=new Io((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class cM{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&qu(s.mutation,a,ii.empty(),yt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,$e()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=$e()){const a=ho();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=Pu();return l.forEach(((h,p)=>{u=u.insert(h,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=ho();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,$e())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,s,a){let l=xr();const u=Hu(),h=(function(){return Hu()})();return n.forEach(((p,g)=>{const x=s.get(g.key);a.has(g.key)&&(x===void 0||x.mutation instanceof Ca)?l=l.insert(g.key,g):x!==void 0?(u.set(g.key,x.mutation.getFieldMask()),qu(x.mutation,g,x.mutation.getFieldMask(),yt.now())):u.set(g.key,ii.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,x)=>u.set(g,x))),n.forEach(((g,x)=>h.set(g,new lM(x,u.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=Hu();let a=new Tt(((u,h)=>u-h)),l=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let x=s.get(p)||ii.empty();x=h.applyToLocalView(g,x),s.set(p,x);const v=(a.get(h.batchId)||$e()).add(p);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),g=p.key,x=p.value,v=uT();x.forEach((E=>{if(!l.has(E)){const S=xT(n.get(E),s.get(E));S!==null&&v.set(E,S),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,v))}return oe.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):oe.resolve(ho());let h=ed,p=l;return u.next((g=>oe.forEach(g,((x,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(x)?oe.resolve():this.remoteDocumentCache.getEntry(e,x).next((E=>{p=p.insert(x,E)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,$e()))).next((x=>({batchId:h,changes:cT(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next((s=>{let a=Pu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Pu();return this.indexManager.getCollectionParents(e,l).next((h=>oe.forEach(h,(p=>{const g=(function(v,E){return new $m(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((x=>{x.forEach(((v,E)=>{u=u.insert(v,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((p,g)=>{const x=g.getKey();u.get(x)===null&&(u=u.insert(x,An.newInvalidDocument(x)))}));let h=Pu();return u.forEach(((p,g)=>{const x=l.get(p);x!==void 0&&qu(x.mutation,g,ii.empty(),yt.now()),Km(n,g)&&(h=h.insert(p,g))})),h}))}}class uM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Cs(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:JD(a.bundledQuery),readTime:Cs(a.readTime)}})(n)),oe.resolve()}}class dM{constructor(){this.overlays=new Tt(we.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ho();return oe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),oe.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const a=ho(),l=n.length+1,u=new we(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Tt(((g,x)=>g-x));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let x=l.get(g.largestBatchId);x===null&&(x=ho(),l=l.insert(g.largestBatchId,x)),x.set(g.getKey(),g)}}const h=ho(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,x)=>h.set(g,x))),!(h.size()>=a)););return oe.resolve(h)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new jD(n,s));let l=this.qr.get(n);l===void 0&&(l=$e(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class hM{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}class B2{constructor(){this.Qr=new nn(ln.$r),this.Ur=new nn(ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new ln(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new ln(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new we(new gt([])),s=new ln(n,e),a=new ln(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new we(new gt([])),s=new ln(n,e),a=new ln(n,e+1);let l=$e();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new ln(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ln{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return we.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||we.comparator(e.key,n.key)}}class fM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nn(ln.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new ND(l,n,s,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new ln(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?N2:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ln(n,0),a=new ln(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new nn(qe);return n.forEach((a=>{const l=new ln(a,0),u=new ln(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{s=s.add(h.Yr)}))})),oe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;we.isDocumentKey(l)||(l=l.child(""));const u=new ln(new we(l),0);let h=new nn(qe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(h=h.add(p.Yr)),!0)}),u),oe.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){nt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return oe.forEach(n.mutations,(a=>{const l=new ln(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new ln(n,0),a=this.Zr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class mM{constructor(e){this.ri=e,this.docs=(function(){return new Tt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let s=xr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():An.newInvalidDocument(a))})),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=xr();const u=n.path,h=new we(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:g,value:{document:x}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||Hk(Fk(x),s)<=0||(a.has(x.key)||Km(n,x))&&(l=l.insert(x.key,x.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Te(9500)}ii(e,n){return oe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new pM(this)}getSize(e){return oe.resolve(this.size)}}class pM extends oM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class gM{constructor(e){this.persistence=e,this.si=new Io((n=>I2(n)),k2),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new B2,this.targetCount=0,this.ai=Jl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Jl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),oe.waitFor(l).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}class IT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Fm(0),this.li=!1,this.li=!0,this.hi=new hM,this.referenceDelegate=e(this),this.Pi=new gM(this),this.indexManager=new eM,this.remoteDocumentCache=(function(a){return new mM(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ZD(n),this.Ii=new uM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new fM(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const a=new yM(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return oe.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class yM extends $k{constructor(e){super(),this.currentSequenceNumber=e}}class z2{constructor(e){this.persistence=e,this.Ri=new B2,this.Vi=null}static mi(e){return new z2(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(s=>{const a=we.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ne.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class um{constructor(e,n){this.persistence=e,this.pi=new Io((s=>Yk(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=aM(this,n)}static mi(e,n){return new um(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?oe.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(s++,l.removeEntry(u,Ne.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vf(e.data.value)),n}br(e,n,s){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return oe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class U2{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=$e(),a=$e();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new U2(e,n.fromCache,s,a)}}class xM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Ej()?8:Gk(Cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new xM;return this.Ss(e,n,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Cl()<=He.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Nl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Cl()<=He.DEBUG&&he("QueryEngine","Query:",Nl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Cl()<=He.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Nl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ss(n))):oe.resolve())}ys(e,n){if(H4(n))return oe.resolve(null);let s=Ss(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=wy(n,null,"F"),s=Ss(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=$e(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,h);return this.Cs(n,g,u,p.readTime)?this.ys(e,wy(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,a){return H4(n)||a.isEqual(Ne.min())?oe.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?oe.resolve(null):(Cl()<=He.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Nl(n)),this.vs(e,u,n,Uk(a,ed)).next((h=>h)))}))}Ds(e,n){let s=new nn(oT(e));return n.forEach(((a,l)=>{Km(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Cl()<=He.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Nl(n)),this.ps.getDocumentsMatchingQuery(e,n,pa.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const F2="LocalStore",wM=3e8;class bM{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Tt(qe),this.xs=new Io((l=>I2(l)),k2),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function _M(t,e,n,s){return new bM(t,e,n,s)}async function kT(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],h=[];let p=$e();for(const g of a){u.push(g.batchId);for(const x of g.mutations)p=p.add(x.key)}for(const g of l){h.push(g.batchId);for(const x of g.mutations)p=p.add(x.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:h})))}))}))}function EM(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,p,g,x){const v=g.batch,E=v.keys();let S=oe.resolve();return E.forEach((D=>{S=S.next((()=>x.getEntry(p,D))).next((U=>{const z=g.docVersions.get(D);nt(z!==null,48541),U.version.compareTo(z)<0&&(v.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),x.addEntry(U)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(p,v)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let p=$e();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(p=p.add(h.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function DT(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function TM(t,e){const n=Ie(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((x,v)=>{const E=a.get(v);if(!E)return;h.push(n.Pi.removeMatchingKeys(l,x.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,x.addedDocuments,v))));let S=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(wn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):x.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(x.resumeToken,s)),a=a.insert(v,S),(function(U,z,H){return U.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=wM?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(E,S,x)&&h.push(n.Pi.updateTargetData(l,S))}));let p=xr(),g=$e();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,x))})),h.push(AM(l,u,e.documentUpdates).next((x=>{p=x.ks,g=x.qs}))),!s.isEqual(Ne.min())){const x=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(x)}return oe.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.Ms=a,l)))}function AM(t,e,n){let s=$e(),a=$e();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=xr();return n.forEach(((h,p)=>{const g=l.get(h);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(h,p.readTime),u=u.insert(h,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(h,p)):he(F2,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",p.version)})),{ks:u,qs:a}}))}function SM(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=N2),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function CM(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,oe.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new la(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Ay(t,e,n){const s=Ie(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!mc(u))throw u;he(F2,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function n3(t,e,n){const s=Ie(t);let a=Ne.min(),l=$e();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,x){const v=Ie(p),E=v.xs.get(x);return E!==void 0?oe.resolve(v.Ms.get(E)):v.Pi.getTargetData(g,x)})(s,u,Ss(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,h.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:Ne.min(),n?l:$e()))).next((h=>(NM(s,mD(e),h),{documents:h,Qs:l})))))}function NM(t,e,n){let s=t.Os.get(e)||Ne.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class i3{constructor(){this.activeTargetIds=wD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jM{constructor(){this.Mo=new i3,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new i3,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class RM{Oo(e){}shutdown(){}}const s3="ConnectivityMonitor";class r3{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(s3,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(s3,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Tf=null;function Sy(){return Tf===null?Tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tf++,"0x"+Tf.toString(16)}const k0="RestConnection",IM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===sm?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=Sy(),h=this.zo(e,n.toUriEncodedString());he(k0,`Sending RPC '${e}' ${u}:`,h,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:g}=new URL(h),x=cc(g);return this.Jo(e,h,p,s,x).then((v=>(he(k0,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Yl(k0,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",s),v}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=IM[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class DM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const En="WebChannelConnection";class MM extends kM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=Sy();return new Promise(((h,p)=>{const g=new PE;g.setWithCredentials(!0),g.listenOnce(VE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Pf.NO_ERROR:const v=g.getResponseJson();he(En,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Pf.TIMEOUT:he(En,`RPC '${e}' ${u} timed out`),p(new ye(le.DEADLINE_EXCEEDED,"Request time out"));break;case Pf.HTTP_ERROR:const E=g.getStatus();if(he(En,`RPC '${e}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const D=S?.error;if(D&&D.status&&D.message){const U=(function(H){const k=H.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(k)>=0?k:le.UNKNOWN})(D.status);p(new ye(U,D.message))}else p(new ye(le.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ye(le.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(En,`RPC '${e}' ${u} completed.`)}}));const x=JSON.stringify(a);he(En,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",x,s,15)}))}T_(e,n,s){const a=Sy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=BE(),h=LE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const x=l.join("");he(En,`Creating RPC '${e}' stream ${a}: ${x}`,p);const v=u.createWebChannel(x,p);this.I_(v);let E=!1,S=!1;const D=new DM({Yo:z=>{S?he(En,`Not sending because RPC '${e}' stream ${a} is closed:`,z):(E||(he(En,`Opening RPC '${e}' stream ${a} transport.`),v.open(),E=!0),he(En,`RPC '${e}' stream ${a} sending:`,z),v.send(z))},Zo:()=>v.close()}),U=(z,H,k)=>{z.listen(H,(V=>{try{k(V)}catch(B){setTimeout((()=>{throw B}),0)}}))};return U(v,Mu.EventType.OPEN,(()=>{S||(he(En,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),U(v,Mu.EventType.CLOSE,(()=>{S||(S=!0,he(En,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(v))})),U(v,Mu.EventType.ERROR,(z=>{S||(S=!0,Yl(En,`RPC '${e}' stream ${a} transport errored. Name:`,z.name,"Message:",z.message),D.a_(new ye(le.UNAVAILABLE,"The operation could not be completed")))})),U(v,Mu.EventType.MESSAGE,(z=>{if(!S){const H=z.data[0];nt(!!H,16349);const k=H,V=k?.error||k[0]?.error;if(V){he(En,`RPC '${e}' stream ${a} received error:`,V);const B=V.status;let M=(function(T){const j=Gt[T];if(j!==void 0)return wT(j)})(B),G=V.message;M===void 0&&(M=le.INTERNAL,G="Unknown error status: "+B+" with message "+V.message),S=!0,D.a_(new ye(M,G)),v.close()}else he(En,`RPC '${e}' stream ${a} received:`,H),D.u_(H)}})),U(h,OE.STAT_EVENT,(z=>{z.stat===my.PROXY?he(En,`RPC '${e}' stream ${a} detected buffering proxy`):z.stat===my.NOPROXY&&he(En,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function D0(){return typeof document<"u"?document:null}function Wm(t){return new LD(t,!0)}class MT{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const a3="PersistentStream";class PT{constructor(e,n,s,a,l,u,h,p){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ye(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(a3,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(a3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PM extends PT{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=UD(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ne.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ne.min():u.readTime?Cs(u.readTime):Ne.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Ty(this.serializer),n.addTarget=(function(l,u){let h;const p=u.target;if(h=vy(p)?{documents:qD(l,p)}:{query:$D(l,p).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=ET(l,u.resumeToken);const g=by(l,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ne.min())>0){h.readTime=cm(l,u.snapshotVersion.toTimestamp());const g=by(l,u.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const s=KD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Ty(this.serializer),n.removeTarget=e,this.q_(n)}}class VM extends PT{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=HD(e.writeResults,e.commitTime),s=Cs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ty(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>FD(this.serializer,s)))};this.q_(n)}}class OM{}class LM extends OM{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ye(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,_y(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(le.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,_y(n,s),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(le.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ao="RemoteStore";class zM{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{ko(this)&&(he(Ao,"Restarting streams for network reachability change."),await(async function(p){const g=Ie(p);g.Ea.add(4),await Sd(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Zm(g)})(this))}))})),this.Ra=new BM(s,a)}}async function Zm(t){if(ko(t))for(const e of t.da)await e(!0)}async function Sd(t){for(const e of t.da)await e(!1)}function VT(t,e){const n=Ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),G2(n)?$2(n):pc(n).O_()&&q2(n,e))}function H2(t,e){const n=Ie(t),s=pc(n);n.Ia.delete(e),s.O_()&&OT(n,e),n.Ia.size===0&&(s.O_()?s.L_():ko(n)&&n.Ra.set("Unknown"))}function q2(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pc(t).Y_(e)}function OT(t,e){t.Va.Ue(e),pc(t).Z_(e)}function $2(t){t.Va=new MD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pc(t).start(),t.Ra.ua()}function G2(t){return ko(t)&&!pc(t).x_()&&t.Ia.size>0}function ko(t){return Ie(t).Ea.size===0}function LT(t){t.Va=void 0}async function UM(t){t.Ra.set("Online")}async function FM(t){t.Ia.forEach(((e,n)=>{q2(t,e)}))}async function HM(t,e){LT(t),G2(t)?(t.Ra.ha(e),$2(t)):t.Ra.set("Unknown")}async function qM(t,e,n){if(t.Ra.set("Online"),e instanceof _T&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(s){he(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await dm(t,s)}else if(e instanceof Bf?t.Va.Ze(e):e instanceof bT?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ne.min()))try{const s=await DT(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const x=l.Ia.get(g);x&&l.Ia.set(g,x.withResumeToken(p.resumeToken,u))}})),h.targetMismatches.forEach(((p,g)=>{const x=l.Ia.get(p);if(!x)return;l.Ia.set(p,x.withResumeToken(wn.EMPTY_BYTE_STRING,x.snapshotVersion)),OT(l,p);const v=new la(x.target,p,g,x.sequenceNumber);q2(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){he(Ao,"Failed to raise snapshot:",s),await dm(t,s)}}async function dm(t,e,n){if(!mc(e))throw e;t.Ea.add(1),await Sd(t),t.Ra.set("Offline"),n||(n=()=>DT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(Ao,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Zm(t)}))}function BT(t,e){return e().catch((n=>dm(t,n,e)))}async function Jm(t){const e=Ie(t),n=va(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:N2;for(;$M(e);)try{const a=await SM(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,GM(e,a)}catch(a){await dm(e,a)}zT(e)&&UT(e)}function $M(t){return ko(t)&&t.Ta.length<10}function GM(t,e){t.Ta.push(e);const n=va(t);n.O_()&&n.X_&&n.ea(e.mutations)}function zT(t){return ko(t)&&!va(t).x_()&&t.Ta.length>0}function UT(t){va(t).start()}async function KM(t){va(t).ra()}async function YM(t){const e=va(t);for(const n of t.Ta)e.ea(n.mutations)}async function QM(t,e,n){const s=t.Ta.shift(),a=V2.from(s,e,n);await BT(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Jm(t)}async function XM(t,e){e&&va(t).X_&&await(async function(s,a){if((function(u){return ID(u)&&u!==le.ABORTED})(a.code)){const l=s.Ta.shift();va(s).B_(),await BT(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Jm(s)}})(t,e),zT(t)&&UT(t)}async function o3(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),he(Ao,"RemoteStore received new credentials");const s=ko(n);n.Ea.add(3),await Sd(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zm(n)}async function WM(t,e){const n=Ie(t);e?(n.Ea.delete(2),await Zm(n)):e||(n.Ea.add(2),await Sd(n),n.Ra.set("Unknown"))}function pc(t){return t.ma||(t.ma=(function(n,s,a){const l=Ie(n);return l.sa(),new PM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:UM.bind(null,t),t_:FM.bind(null,t),r_:HM.bind(null,t),H_:qM.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),G2(t)?$2(t):t.Ra.set("Unknown")):(await t.ma.stop(),LT(t))}))),t.ma}function va(t){return t.fa||(t.fa=(function(n,s,a){const l=Ie(n);return l.sa(),new VM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:KM.bind(null,t),r_:XM.bind(null,t),ta:YM.bind(null,t),na:QM.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Jm(t)):(await t.fa.stop(),t.Ta.length>0&&(he(Ao,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class K2{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,h=new K2(e,n,u,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y2(t,e){if(yr("AsyncQueue",`${e}: ${t}`),mc(t))return new ye(le.UNAVAILABLE,`${e}: ${t}`);throw t}class Fl{static emptySet(e){return new Fl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||we.comparator(n.key,s.key):(n,s)=>we.comparator(n.key,s.key),this.keyedMap=Pu(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Fl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class l3{constructor(){this.ga=new Tt(we.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ec{constructor(e,n,s,a,l,u,h,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new ec(e,n,Fl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class ZM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class JM{constructor(){this.queries=c3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ie(n),l=a.queries;a.queries=c3(),l.forEach(((u,h)=>{for(const p of h.Sa)p.onError(s)}))})(this,new ye(le.ABORTED,"Firestore shutting down"))}}function c3(){return new Io((t=>aT(t)),Gm)}async function FT(t,e){const n=Ie(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new ZM,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=Y2(u,`Initialization of query '${Nl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Q2(n)}async function HT(t,e){const n=Ie(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function eP(t,e){const n=Ie(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(s=!0);u.wa=a}}s&&Q2(n)}function tP(t,e,n){const s=Ie(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function Q2(t){t.Ca.forEach((e=>{e.next()}))}var Cy,u3;(u3=Cy||(Cy={})).Ma="default",u3.Cache="cache";class qT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new ec(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cy.Cache}}class $T{constructor(e){this.key=e}}class GT{constructor(e){this.key=e}}class nP{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=oT(e),this.tu=new Fl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new l3,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((x,v)=>{const E=a.get(x),S=Km(this.query,v)?v:null,D=!!E&&this.mutatedKeys.has(E.key),U=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let z=!1;E&&S?E.data.isEqual(S.data)?D!==U&&(s.track({type:3,doc:S}),z=!0):this.su(E,S)||(s.track({type:2,doc:S}),z=!0,(p&&this.eu(S,p)>0||g&&this.eu(S,g)<0)&&(h=!0)):!E&&S?(s.track({type:0,doc:S}),z=!0):E&&!S&&(s.track({type:1,doc:E}),z=!0,(p||g)&&(h=!0)),z&&(S?(u=u.add(S),l=U?l.add(x):l.delete(x)):(u=u.delete(x),l=l.delete(x)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),l=l.delete(x.key),s.track({type:1,doc:x})}return{tu:u,iu:s,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((x,v)=>(function(S,D){const U=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:z})}};return U(S)-U(D)})(x.type,v.type)||this.eu(x.doc,v.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new ec(this.query,e.tu,l,u,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new l3,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new GT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new $T(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ec.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const X2="SyncEngine";class iP{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class sP{constructor(e){this.key=e,this.hu=!1}}class rP{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Io((h=>aT(h)),Gm),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(we.comparator),this.Au=new Map,this.Ru=new B2,this.Vu={},this.mu=new Map,this.fu=Jl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aP(t,e,n=!0){const s=ZT(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await KT(s,e,n,!0),a}async function oP(t,e){const n=ZT(t);await KT(n,e,!0,!1)}async function KT(t,e,n,s){const a=await CM(t.localStore,Ss(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await lP(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&VT(t.remoteStore,a),h}async function lP(t,e,n,s,a){t.pu=(v,E,S)=>(async function(U,z,H,k){let V=z.view.ru(H);V.Cs&&(V=await n3(U.localStore,z.query,!1).then((({documents:C})=>z.view.ru(C,V))));const B=k&&k.targetChanges.get(z.targetId),M=k&&k.targetMismatches.get(z.targetId)!=null,G=z.view.applyChanges(V,U.isPrimaryClient,B,M);return h3(U,z.targetId,G.au),G.snapshot})(t,v,E,S);const l=await n3(t.localStore,e,!0),u=new nP(e,l.Qs),h=u.ru(l.documents),p=Ad.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=u.applyChanges(h,t.isPrimaryClient,p);h3(t,n,g.au);const x=new iP(e,n,u);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function cP(t,e,n){const s=Ie(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Gm(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ay(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&H2(s.remoteStore,a.targetId),Ny(s,a.targetId)})).catch(fc)):(Ny(s,a.targetId),await Ay(s.localStore,a.targetId,!0))}async function uP(t,e){const n=Ie(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),H2(n.remoteStore,s.targetId))}async function dP(t,e,n){const s=xP(t);try{const a=await(function(u,h){const p=Ie(u),g=yt.now(),x=h.reduce(((S,D)=>S.add(D.key)),$e());let v,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let D=xr(),U=$e();return p.Ns.getEntries(S,x).next((z=>{D=z,D.forEach(((H,k)=>{k.isValidDocument()||(U=U.add(H))}))})).next((()=>p.localDocuments.getOverlayedDocuments(S,D))).next((z=>{v=z;const H=[];for(const k of h){const V=SD(k,v.get(k.key).overlayedDocument);V!=null&&H.push(new Ca(k.key,V,JE(V.value.mapValue),Ci.exists(!0)))}return p.mutationQueue.addMutationBatch(S,g,H,h)})).next((z=>{E=z;const H=z.applyToLocalDocumentSet(v,U);return p.documentOverlayCache.saveOverlays(S,z.batchId,H)}))})).then((()=>({batchId:E.batchId,changes:cT(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,h,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new Tt(qe)),g=g.insert(h,p),u.Vu[u.currentUser.toKey()]=g})(s,a.batchId,n),await Cd(s,a.changes),await Jm(s.remoteStore)}catch(a){const l=Y2(a,"Failed to persist write");n.reject(l)}}async function YT(t,e){const n=Ie(t);try{const s=await TM(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?nt(u.hu,14607):a.removedDocuments.size>0&&(nt(u.hu,42227),u.hu=!1))})),await Cd(n,s,e)}catch(s){await fc(s)}}function d3(t,e,n){const s=Ie(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const p=Ie(u);p.onlineState=h;let g=!1;p.queries.forEach(((x,v)=>{for(const E of v.Sa)E.va(h)&&(g=!0)})),g&&Q2(p)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hP(t,e,n){const s=Ie(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new Tt(we.comparator);u=u.insert(l,An.newNoDocument(l,Ne.min()));const h=$e().add(l),p=new Xm(Ne.min(),new Map,new Tt(qe),u,h);await YT(s,p),s.du=s.du.remove(l),s.Au.delete(e),W2(s)}else await Ay(s.localStore,e,!1).then((()=>Ny(s,e,n))).catch(fc)}async function fP(t,e){const n=Ie(t),s=e.batch.batchId;try{const a=await EM(n.localStore,e);XT(n,s,null),QT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cd(n,a)}catch(a){await fc(a)}}async function mP(t,e,n){const s=Ie(t);try{const a=await(function(u,h){const p=Ie(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let x;return p.mutationQueue.lookupMutationBatch(g,h).next((v=>(nt(v!==null,37113),x=v.keys(),p.mutationQueue.removeMutationBatch(g,v)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,x,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,x))).next((()=>p.localDocuments.getDocuments(g,x)))}))})(s.localStore,e);XT(s,e,n),QT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Cd(s,a)}catch(a){await fc(a)}}function QT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function XT(t,e,n){const s=Ie(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Ny(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||WT(t,s)}))}function WT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(H2(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),W2(t))}function h3(t,e,n){for(const s of n)s instanceof $T?(t.Ru.addReference(s.key,e),pP(t,s)):s instanceof GT?(he(X2,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||WT(t,s.key)):Te(19791,{wu:s})}function pP(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(he(X2,"New document in limbo: "+n),t.Eu.add(s),W2(t))}function W2(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new we(gt.fromString(e)),s=t.fu.next();t.Au.set(s,new sP(n)),t.du=t.du.insert(n,s),VT(t.remoteStore,new la(Ss(D2(n.path)),s,"TargetPurposeLimboResolution",Fm.ce))}}async function Cd(t,e,n){const s=Ie(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,p)=>{u.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const x=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(g){a.push(g);const x=U2.As(p.targetId,g);l.push(x)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(p,g){const x=Ie(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>oe.forEach(g,(E=>oe.forEach(E.Es,(S=>x.persistence.referenceDelegate.addReference(v,E.targetId,S))).next((()=>oe.forEach(E.ds,(S=>x.persistence.referenceDelegate.removeReference(v,E.targetId,S)))))))))}catch(v){if(!mc(v))throw v;he(F2,"Failed to update sequence numbers: "+v)}for(const v of g){const E=v.targetId;if(!v.fromCache){const S=x.Ms.get(E),D=S.snapshotVersion,U=S.withLastLimboFreeSnapshotVersion(D);x.Ms=x.Ms.insert(E,U)}}})(s.localStore,l))}async function gP(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){he(X2,"User change. New user:",e.toKey());const s=await kT(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((p=>{p.reject(new ye(le.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Cd(n,s.Ls)}}function yP(t,e){const n=Ie(t),s=n.Au.get(e);if(s&&s.hu)return $e().add(s.key);{let a=$e();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function ZT(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hP.bind(null,e),e.Pu.H_=eP.bind(null,e.eventManager),e.Pu.yu=tP.bind(null,e.eventManager),e}function xP(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mP.bind(null,e),e}class hm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _M(this.persistence,new vM,e.initialUser,this.serializer)}Cu(e){return new IT(z2.mi,this.serializer)}Du(e){return new jM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hm.provider={build:()=>new hm};class vP extends hm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof um,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new sM(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new IT((s=>um.mi(s,n)),this.serializer)}}class jy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>d3(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gP.bind(null,this.syncEngine),await WM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JM})()}createDatastore(e){const n=Wm(e.databaseInfo.databaseId),s=(function(l){return new MM(l)})(e.databaseInfo);return(function(l,u,h,p){return new LM(l,u,h,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,h){return new zM(s,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>d3(this.syncEngine,n,0)),(function(){return r3.v()?new r3:new RM})())}createSyncEngine(e,n){return(function(a,l,u,h,p,g,x){const v=new rP(a,l,u,h,p,g);return x&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ie(n);he(Ao,"RemoteStore shutting down."),s.Ea.add(5),await Sd(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jy.provider={build:()=>new jy};class JT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const wa="FirestoreClient";class wP{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Tn.UNAUTHENTICATED,this.clientId=S2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{he(wa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(he(wa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Y2(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function M0(t,e){t.asyncQueue.verifyOperationInProgress(),he(wa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await kT(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function f3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bP(t);he(wa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>o3(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>o3(e.remoteStore,a))),t._onlineComponents=e}async function bP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(wa,"Using user provided OfflineComponentProvider");try{await M0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Yl("Error using user provided cache. Falling back to memory cache: "+n),await M0(t,new hm)}}else he(wa,"Using default OfflineComponentProvider"),await M0(t,new vP(void 0));return t._offlineComponents}async function e5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(wa,"Using user provided OnlineComponentProvider"),await f3(t,t._uninitializedComponentsProvider._online)):(he(wa,"Using default OnlineComponentProvider"),await f3(t,new jy))),t._onlineComponents}function _P(t){return e5(t).then((e=>e.syncEngine))}async function t5(t){const e=await e5(t),n=e.eventManager;return n.onListen=aP.bind(null,e.syncEngine),n.onUnlisten=cP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uP.bind(null,e.syncEngine),n}function EP(t,e,n={}){const s=new cr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,p,g){const x=new JT({next:E=>{x.Nu(),u.enqueueAndForget((()=>HT(l,v)));const S=E.docs.has(h);!S&&E.fromCache?g.reject(new ye(le.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&p&&p.source==="server"?g.reject(new ye(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),v=new qT(D2(h.path),x,{includeMetadataChanges:!0,qa:!0});return FT(l,v)})(await t5(t),t.asyncQueue,e,n,s))),s.promise}function TP(t,e,n={}){const s=new cr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,p,g){const x=new JT({next:E=>{x.Nu(),u.enqueueAndForget((()=>HT(l,v))),E.fromCache&&p.source==="server"?g.reject(new ye(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),v=new qT(h,x,{includeMetadataChanges:!0,qa:!0});return FT(l,v)})(await t5(t),t.asyncQueue,e,n,s))),s.promise}function n5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const m3=new Map;const i5="firestore.googleapis.com",p3=!0;class g3{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i5,this.ssl=p3}else this.host=e.host,this.ssl=e.ssl??p3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nM)throw new ye(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n5(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ep{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Rk;switch(s.type){case"firstParty":return new Mk(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=m3.get(n);s&&(he("ComponentProvider","Removing Datastore"),m3.delete(n),s.terminate())})(this),Promise.resolve()}}function AP(t,e,n,s={}){t=Xi(t,ep);const a=cc(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(w6(`https://${h}`),b6("Firestore",!0)),l.host!==i5&&l.host!==h&&Yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:h,ssl:a,emulatorOptions:s};if(!mr(p,u)&&(t._setSettings(p),s.mockUserToken)){let g,x;if(typeof s.mockUserToken=="string")g=s.mockUserToken,x=Tn.MOCK_USER;else{g=pj(s.mockUserToken,t._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ye(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Tn(v)}t._authCredentials=new Ik(new UE(g,x))}}class tp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new tp(this.firestore,e,this._query)}}class Xt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ed(n,Xt._jsonSchema))return new Xt(e,s||null,new we(gt.fromString(n.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:Qt("string",Xt._jsonSchemaVersion),referencePath:Qt("string")};class ma extends tp{constructor(e,n,s){super(e,n,D2(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new we(e))}withConverter(e){return new ma(this.firestore,e,this._path)}}function Pt(t,e,...n){if(t=Wt(t),FE("collection","path",e),t instanceof ep){const s=gt.fromString(e,...n);return R4(s),new ma(t,null,s)}{if(!(t instanceof Xt||t instanceof ma))throw new ye(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(gt.fromString(e,...n));return R4(s),new ma(t.firestore,null,s)}}function ut(t,e,...n){if(t=Wt(t),arguments.length===1&&(e=S2.newId()),FE("doc","path",e),t instanceof ep){const s=gt.fromString(e,...n);return j4(s),new Xt(t,null,new we(s))}{if(!(t instanceof Xt||t instanceof ma))throw new ye(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(gt.fromString(e,...n));return j4(s),new Xt(t.firestore,t instanceof ma?t.converter:null,new we(s))}}const y3="AsyncQueue";class x3{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MT(this,"async_queue_retry"),this._c=()=>{const s=D0();s&&he(y3,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=D0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=D0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!mc(e))throw e;he(y3,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,yr("INTERNAL UNHANDLED ERROR: ",v3(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=K2.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Te(47125,{Pc:v3(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function v3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Do extends ep{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new x3,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new x3(e),this._firestoreClient=void 0,await e}}}function SP(t,e){const n=typeof t=="object"?t:u2(),s=typeof t=="string"?t:sm,a=jo(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=fj("firestore");l&&AP(a,...l)}return a}function Z2(t){if(t._terminated)throw new ye(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||CP(t),t._firestoreClient}function CP(t){const e=t._freezeSettings(),n=(function(a,l,u,h){return new Wk(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,n5(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new wP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ti(wn.fromBase64String(e))}catch(n){throw new ye(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ti(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ed(e,Ti._jsonSchema))return Ti.fromBase64String(e.bytes)}}Ti._jsonSchemaVersion="firestore/bytes/1.0",Ti._jsonSchema={type:Qt("string",Ti._jsonSchemaVersion),bytes:Qt("string")};class np{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nd{constructor(e){this._methodName=e}}class Ns{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ns._jsonSchemaVersion}}static fromJSON(e){if(Ed(e,Ns._jsonSchema))return new Ns(e.latitude,e.longitude)}}Ns._jsonSchemaVersion="firestore/geoPoint/1.0",Ns._jsonSchema={type:Qt("string",Ns._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class js{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:js._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ed(e,js._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new js(e.vectorValues);throw new ye(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}js._jsonSchemaVersion="firestore/vectorValue/1.0",js._jsonSchema={type:Qt("string",js._jsonSchemaVersion),vectorValues:Qt("object")};const NP=/^__.*__$/;class jP{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new Td(e,this.data,n,this.fieldTransforms)}}class s5{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function r5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:t})}}class ip{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ip({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(r5(this.Ac)&&NP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class RP{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Wm(e)}Cc(e,n,s,a=!1){return new ip({Ac:e,methodName:n,Dc:s,path:xn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function J2(t){const e=t._freezeSettings(),n=Wm(t._databaseId);return new RP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function a5(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);n1("Data must be an object, but it was:",u,s);const h=o5(s,u);let p,g;if(l.merge)p=new ii(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const x=[];for(const v of l.mergeFields){const E=Ry(e,v,n);if(!u.contains(E))throw new ye(le.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);c5(x,E)||x.push(E)}p=new ii(x),g=u.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,g=u.fieldTransforms;return new jP(new $n(h),p,g)}class sp extends Nd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sp}}function IP(t,e,n){return new ip({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class e1 extends Nd{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=IP(this,e,!0),s=this.vc.map((l=>jd(l,n))),a=new Zl(s);return new yT(e.path,a)}isEqual(e){return e instanceof e1&&mr(this.vc,e.vc)}}class t1 extends Nd{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new rd(e.serializer,hT(e.serializer,this.Fc));return new yT(e.path,n)}isEqual(e){return e instanceof t1&&this.Fc===e.Fc}}function kP(t,e,n,s){const a=t.Cc(1,e,n);n1("Data must be an object, but it was:",a,s);const l=[],u=$n.empty();Sa(s,((p,g)=>{const x=i1(e,p,n);g=Wt(g);const v=a.yc(x);if(g instanceof sp)l.push(x);else{const E=jd(g,v);E!=null&&(l.push(x),u.set(x,E))}}));const h=new ii(l);return new s5(u,h,a.fieldTransforms)}function DP(t,e,n,s,a,l){const u=t.Cc(1,e,n),h=[Ry(e,s,n)],p=[a];if(l.length%2!=0)throw new ye(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(Ry(e,l[E])),p.push(l[E+1]);const g=[],x=$n.empty();for(let E=h.length-1;E>=0;--E)if(!c5(g,h[E])){const S=h[E];let D=p[E];D=Wt(D);const U=u.yc(S);if(D instanceof sp)g.push(S);else{const z=jd(D,U);z!=null&&(g.push(S),x.set(S,z))}}const v=new ii(g);return new s5(x,v,u.fieldTransforms)}function jd(t,e){if(l5(t=Wt(t)))return n1("Unsupported field value:",e,t),o5(t,e);if(t instanceof Nd)return(function(s,a){if(!r5(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const h of s){let p=jd(h,a.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=Wt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hT(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=yt.fromDate(s);return{timestampValue:cm(a.serializer,l)}}if(s instanceof yt){const l=new yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cm(a.serializer,l)}}if(s instanceof Ns)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ti)return{bytesValue:ET(a.serializer,s._byteString)};if(s instanceof Xt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:L2(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof js)return(function(u,h){return{mapValue:{fields:{[WE]:{stringValue:ZE},[rm]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return M2(h.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${C2(s)}`)})(t,e)}function o5(t,e){const n={};return $E(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sa(t,((s,a)=>{const l=jd(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function l5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof Ns||t instanceof Ti||t instanceof Xt||t instanceof Nd||t instanceof js)}function n1(t,e,n){if(!l5(n)||!HE(n)){const s=C2(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Ry(t,e,n){if((e=Wt(e))instanceof np)return e._internalPath;if(typeof e=="string")return i1(t,e);throw fm("Field path arguments must be of type string or ",t,!1,void 0,n)}const MP=new RegExp("[~\\*/\\[\\]]");function i1(t,e,n){if(e.search(MP)>=0)throw fm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new np(...e.split("."))._internalPath}catch{throw fm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fm(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${s}`),u&&(p+=` in document ${a}`),p+=")"),new ye(le.INVALID_ARGUMENT,h+t+p)}function c5(t,e){return t.some((n=>n.isEqual(e)))}class u5{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(d5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PP extends u5{data(){return super.data()}}function d5(t,e){return typeof e=="string"?i1(t,e):e instanceof np?e._internalPath:e._delegate._internalPath}function VP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OP{convertValue(e,n="none"){switch(xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Sa(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[rm].arrayValue?.values?.map((s=>Mt(s.doubleValue)));return new js(n)}convertGeoPoint(e){return new Ns(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=qm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(td(e));default:return null}}convertTimestamp(e){const n=ga(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=gt.fromString(e);nt(jT(s),9688,{name:e});const a=new nd(s.get(1),s.get(3)),l=new we(s.popFirst(5));return a.isEqual(n)||yr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function h5(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class go extends u5{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(d5("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=go._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}go._jsonSchemaVersion="firestore/documentSnapshot/1.0",go._jsonSchema={type:Qt("string",go._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class zf extends go{data(e={}){return super.data(e)}}class Hl{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ou(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new zf(this._firestore,this._userDataWriter,s.key,s,new Ou(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const p=new zf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Ou(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const p=new zf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Ou(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,x=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),x=u.indexOf(h.doc.key)),{type:LP(h.type),doc:p,oldIndex:g,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=S2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}function vn(t){t=Xi(t,Xt);const e=Xi(t.firestore,Do);return EP(Z2(e),t._key).then((n=>zP(e,t,n)))}Hl._jsonSchemaVersion="firestore/querySnapshot/1.0",Hl._jsonSchema={type:Qt("string",Hl._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class f5 extends OP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ti(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function Nn(t){t=Xi(t,tp);const e=Xi(t.firestore,Do),n=Z2(e),s=new f5(e);return VP(t._query),TP(n,t._query).then((a=>new Hl(e,s,t,a)))}function ia(t,e,n){t=Xi(t,Xt);const s=Xi(t.firestore,Do),a=h5(t.converter,e,n);return rp(s,[a5(J2(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ci.none())])}function s1(t,e,n,...s){t=Xi(t,Xt);const a=Xi(t.firestore,Do),l=J2(a);let u;return u=typeof(e=Wt(e))=="string"||e instanceof np?DP(l,"updateDoc",t._key,e,n,s):kP(l,"updateDoc",t._key,e),rp(a,[u.toMutation(t._key,Ci.exists(!0))])}function BP(t){return rp(Xi(t.firestore,Do),[new P2(t._key,Ci.none())])}function Rd(t,e){const n=Xi(t.firestore,Do),s=ut(t),a=h5(t.converter,e);return rp(n,[a5(J2(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Ci.exists(!1))]).then((()=>s))}function rp(t,e){return(function(s,a){const l=new cr;return s.asyncQueue.enqueueAndForget((async()=>dP(await _P(s),a,l))),l.promise})(Z2(t),e)}function zP(t,e,n){const s=n.docs.get(e._key),a=new f5(t);return new go(t,a,e._key,s,new Ou(n.hasPendingWrites,n.fromCache),e.converter)}function UP(...t){return new e1("arrayUnion",t)}function FP(t){return new t1("increment",t)}(function(e,n=!0){(function(a){hc=a})(uc),ks(new Yi("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),h=new Do(new kk(s.getProvider("auth-internal")),new Pk(u,s.getProvider("app-check-internal")),(function(g,x){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nd(g.options.projectId,x)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Si(A4,S4,e),Si(A4,S4,"esm2020")})();const HP={apiKey:"AIzaSyA5NSXjrfmZvSdKdLPEQWFaWrmF5MR3Q9E",authDomain:"wordquestproject.firebaseapp.com",projectId:"wordquestproject",storageBucket:"wordquestproject.firebasestorage.app",messagingSenderId:"264044817910",appId:"1:264044817910:web:6ebeff42cf96c0df0fabd7",measurementId:"G-EWFLN5KXB1"},r1=N6(HP);let qP;try{qP=Ak(r1)}catch(t){console.warn("Analytics not available:",t)}const bn=t7(r1),Se=SP(r1),$P="/Project-WordQuest/assets/libro-cTtYO1qe.png",m5="/Project-WordQuest/assets/profile-CfCI4O-H.jpeg";var p5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},w3=po.createContext&&po.createContext(p5),GP=["attr","size","title"];function KP(t,e){if(t==null)return{};var n=YP(t,e),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)s=l[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function YP(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},mm.apply(this,arguments)}function b3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function pm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(n),!0).forEach(function(s){QP(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function QP(t,e,n){return e=XP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XP(t){var e=WP(t,"string");return typeof e=="symbol"?e:e+""}function WP(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g5(t){return t&&t.map((e,n)=>po.createElement(e.tag,pm({key:n},e.attr),g5(e.child)))}function ge(t){return e=>po.createElement(ZP,mm({attr:pm({},t.attr)},e),g5(t.child))}function ZP(t){var e=n=>{var{attr:s,size:a,title:l}=t,u=KP(t,GP),h=a||n.size||"1em",p;return n.className&&(p=n.className),t.className&&(p=(p?p+" ":"")+t.className),po.createElement("svg",mm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,u,{className:p,style:pm(pm({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&po.createElement("title",null,l),t.children)};return w3!==void 0?po.createElement(w3.Consumer,null,n=>e(n)):e(p5)}function JP(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 160c16-63.16 76.43-95.41 208-96a15.94 15.94 0 0 1 16 16v288a16 16 0 0 1-16 16c-128 0-177.45 25.81-208 64-30.37-38-80-64-208-64-9.88 0-16-8.05-16-17.93V80a15.94 15.94 0 0 1 16-16c131.57.59 192 32.84 208 96zm0 0v288"},child:[]}]})(t)}function eV(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M202.24 74C166.11 56.75 115.61 48.3 48 48a31.36 31.36 0 0 0-17.92 5.33A32 32 0 0 0 16 79.9V366c0 19.34 13.76 33.93 32 33.93 71.07 0 142.36 6.64 185.06 47a4.11 4.11 0 0 0 6.94-3V106.82a15.89 15.89 0 0 0-5.46-12A143 143 0 0 0 202.24 74zm279.68-20.7A31.33 31.33 0 0 0 464 48c-67.61.3-118.11 8.71-154.24 26a143.31 143.31 0 0 0-32.31 20.78 15.93 15.93 0 0 0-5.45 12v337.13a3.93 3.93 0 0 0 6.68 2.81c25.67-25.5 70.72-46.82 185.36-46.81a32 32 0 0 0 32-32v-288a32 32 0 0 0-14.12-26.61z"},child:[]}]})(t)}function tV(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M345.14 480H274a18 18 0 0 1-18-18v-27.71a31.32 31.32 0 0 0-9.71-22.77c-7.78-7.59-19.08-11.8-30.89-11.51-21.36.5-39.4 19.3-39.4 41.06V462a18 18 0 0 1-18 18H87.62A55.62 55.62 0 0 1 32 424.38V354a18 18 0 0 1 18-18h27.71c9.16 0 18.07-3.92 25.09-11a42.06 42.06 0 0 0 12.2-29.92C114.7 273.89 97.26 256 76.91 256H50a18 18 0 0 1-18-18v-70.38A55.62 55.62 0 0 1 87.62 112h55.24a8 8 0 0 0 8-8v-6.48A65.53 65.53 0 0 1 217.54 32c35.49.62 64.36 30.38 64.36 66.33V104a8 8 0 0 0 8 8h55.24A54.86 54.86 0 0 1 400 166.86v55.24a8 8 0 0 0 8 8h5.66c36.58 0 66.34 29 66.34 64.64 0 36.61-29.39 66.4-65.52 66.4H408a8 8 0 0 0-8 8v56A54.86 54.86 0 0 1 345.14 480z"},child:[]}]})(t)}function nV(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79z"},child:[]},{tag:"path",attr:{d:"m490.91 244.15-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97z"},child:[]}]})(t)}function iV(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 480H48a32 32 0 0 1-32-32V112a32 32 0 0 1 32-32h16a32 32 0 0 1 32 32v336a32 32 0 0 1-32 32zm176-304a32 32 0 0 0-32-32h-64a32 32 0 0 0-32 32v28a4 4 0 0 0 4 4h120a4 4 0 0 0 4-4zM112 448a32 32 0 0 0 32 32h64a32 32 0 0 0 32-32v-30a2 2 0 0 0-2-2H114a2 2 0 0 0-2 2z"},child:[]},{tag:"rect",attr:{width:"128",height:"144",x:"112",y:"240",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M320 480h-32a32 32 0 0 1-32-32V64a32 32 0 0 1 32-32h32a32 32 0 0 1 32 32v384a32 32 0 0 1-32 32zm175.89-34.55-32.23-340c-1.48-15.65-16.94-27-34.53-25.31l-31.85 3c-17.59 1.67-30.65 15.71-29.17 31.36l32.23 340c1.48 15.65 16.94 27 34.53 25.31l31.85-3c17.59-1.67 30.65-15.71 29.17-31.36z"},child:[]}]})(t)}function sV(t){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 19h-6a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1h6a2 2 0 0 1 2 2a2 2 0 0 1 2 -2h6a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-6a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2z"},child:[]},{tag:"path",attr:{d:"M12 5v16"},child:[]},{tag:"path",attr:{d:"M7 7h1"},child:[]},{tag:"path",attr:{d:"M7 11h1"},child:[]},{tag:"path",attr:{d:"M16 7h1"},child:[]},{tag:"path",attr:{d:"M16 11h1"},child:[]},{tag:"path",attr:{d:"M16 15h1"},child:[]}]})(t)}function rV(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function aV(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function oV(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function ba(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function lV(t){return ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(t)}function cV(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(t)}function Ni(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(t)}function uV(t){return ge({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(t)}function dV(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function hV(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function fV(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function mV(t){return ge({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(t)}function ur(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function pV(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function ql(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function gV(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(t)}function Id(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function a1(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function P0(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function Iy(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function gm(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function yV(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 0C460.22 3.56 96.44 38.2 71.01 287.61c-3.09 26.66-4.84 53.44-5.99 80.24l178.87-178.69c6.25-6.25 16.4-6.25 22.65 0s6.25 16.38 0 22.63L7.04 471.03c-9.38 9.37-9.38 24.57 0 33.94 9.38 9.37 24.59 9.37 33.98 0l57.13-57.07c42.09-.14 84.15-2.53 125.96-7.36 53.48-5.44 97.02-26.47 132.58-56.54H255.74l146.79-48.88c11.25-14.89 21.37-30.71 30.45-47.12h-81.14l106.54-53.21C500.29 132.86 510.19 26.26 512 0z"},child:[]}]})(t)}function Uf(t){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function y5(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"},child:[]}]})(t)}function o1(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"},child:[]}]})(t)}function xV(t){return ge({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function vV(t){return ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function wV(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function bV(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(t)}function ad(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"},child:[]}]})(t)}function od(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function _V(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(t)}function EV(t){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function TV(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(t)}function ym(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function dr(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function ky(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function gc(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function x5(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function _3(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function AV(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function l1(t){return ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(t)}function tc(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function Mo(t){return ge({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function ld(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function ar(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(t)}function SV(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function So(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function CV(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function Wi(){const[t,e]=R.useState(!1),[n,s]=R.useState(!1),[a]=Ji(bn),[l,u]=R.useState(null),h=sn();R.useEffect(()=>{(async()=>{if(a)try{const x=await vn(ut(Se,"users",a.uid));x.exists()&&u(x.data())}catch(x){console.error("Error fetching user data:",x)}})()},[a]);const p=async()=>{try{await tE(bn),h("/")}catch(g){console.error("Error signing out:",g)}};return d.jsxs("header",{className:"w-full bg-white backdrop-blur-md shadow-sm border-b border-gray-100 sticky top-0 z-50",children:[d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 cursor-pointer group",children:[d.jsx("img",{src:$P,alt:"WordQuest Logo",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-2xl shadow-lg group-hover:shadow-xl group-hover:scale-105 transition-all duration-300"}),d.jsxs("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900 tracking-tight",children:["Word",d.jsx("span",{className:"bg-linear-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Quest"})]})]}),d.jsxs("nav",{className:"hidden md:flex items-center gap-1",children:[d.jsxs(Kt,{to:"/",className:"flex items-center gap-1 px-4 py-2 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer relative group",children:[d.jsx(nV,{className:"text-xl"}),d.jsx("span",{children:"Inicio"}),d.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-linear-to-r from-blue-600 to-purple-600 scale-x-0 group-hover:scale-x-100 transition-transform duration-200"})]}),d.jsxs(Kt,{to:"/games",className:"flex items-center gap-1 px-4 py-2 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer relative group",children:[d.jsx(tV,{className:"text-xl"}),d.jsx("span",{children:"Retos"}),d.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-linear-to-r from-blue-600 to-purple-600 scale-x-0 group-hover:scale-x-100 transition-transform duration-200"})]}),d.jsxs("a",{className:"flex items-center gap-1 px-4 py-2 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer relative group",children:[d.jsx(sV,{className:"text-xl"}),d.jsx("span",{children:"Vocabulario"}),d.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-linear-to-r from-blue-600 to-purple-600 scale-x-0 group-hover:scale-x-100 transition-transform duration-200"})]})]}),d.jsx("div",{className:"hidden md:flex items-center gap-3",children:a?d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>s(!n),className:"flex items-center gap-3 px-4 py-2 rounded-xl bg-white/10 hover:bg-white/20 transition-all duration-200",children:[d.jsx("img",{src:m5,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover"}),d.jsx("span",{className:"text-gray-700 font-medium",children:l?.name||"Usuario"}),d.jsx(pV,{className:`text-gray-500 transition-transform ${n?"rotate-180":""}`})]}),n&&d.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",children:[d.jsxs(Kt,{to:"/user-profile",className:"flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>s(!1),children:[d.jsx(So,{className:"text-gray-400"}),"Mi Perfil"]}),l?.isAdmin&&d.jsxs(Kt,{to:"/admin",className:"flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>s(!1),children:[d.jsx(ql,{className:"text-gray-400"}),"Administracin"]}),d.jsx("button",{onClick:p,className:"w-full flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 transition-colors",children:d.jsx("span",{children:"Cerrar Sesin"})})]})]}):d.jsxs(d.Fragment,{children:[d.jsx(Kt,{to:"/register",className:"px-5 py-2.5 rounded-xl border border-gray-200 text-gray-700 font-medium hover:bg-gray-50 hover:border-gray-300 hover:shadow-sm transition-all duration-200 active:scale-95 inline-block text-center",children:"Registrarse"}),d.jsxs(Kt,{to:"/login",className:"px-5 py-2.5 rounded-xl bg-linear-to-r from-blue-600 to-purple-600 text-white font-medium shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-200 active:scale-95 relative overflow-hidden group inline-block text-center",children:[d.jsx("span",{className:"relative z-10",children:"Iniciar sesin"}),d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-blue-700 to-purple-700 opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]})]})}),d.jsx("div",{className:"md:hidden cursor-pointer p-2 rounded-xl hover:bg-gray-100 transition-colors duration-200 active:scale-95",onClick:()=>e(!t),children:d.jsx("svg",{className:"h-6 w-6 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})})]}),t&&d.jsx("div",{className:"md:hidden bg-white/95 backdrop-blur-md border-t border-gray-100 shadow-lg",children:d.jsxs("nav",{className:"px-4 py-4 space-y-2",children:[d.jsx(Kt,{to:"/",className:"block px-4 py-3 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer",children:"Inicio"}),d.jsx(Kt,{to:"/games",className:"block px-4 py-3 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer",children:"Retos"}),d.jsx("a",{className:"block px-4 py-3 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer",children:"Vocabulario"}),d.jsx("a",{className:"block px-4 py-3 rounded-xl text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 font-medium cursor-pointer",children:"Perfil"}),d.jsx("div",{className:"pt-4 space-y-2 border-t border-gray-100",children:a?d.jsxs(d.Fragment,{children:[d.jsxs(Kt,{to:"/user-profile",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-200",children:[d.jsx(So,{className:"text-gray-400"}),"Mi Perfil"]}),l?.isAdmin&&d.jsxs(Kt,{to:"/admin",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-200",children:[d.jsx(ql,{className:"text-gray-400"}),"Administracin"]}),d.jsx("button",{onClick:p,className:"w-full px-4 py-3 rounded-xl text-red-600 hover:bg-red-50 transition-all duration-200 text-left",children:"Cerrar Sesin"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Kt,{to:"/register",className:"block w-full px-4 py-3 rounded-xl border border-gray-200 text-gray-700 font-medium hover:bg-gray-50 transition-all duration-200 text-center",children:"Registrarse"}),d.jsx(Kt,{to:"/login",className:"block w-full px-4 py-3 rounded-xl bg-linear-to-r from-blue-600 to-purple-600 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-200 text-center",children:"Iniciar sesin"})]})})]})})]})}const v5=R.createContext({});function NV(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const c1=typeof window<"u",jV=c1?R.useLayoutEffect:R.useEffect,u1=R.createContext(null);function d1(t,e){t.indexOf(e)===-1&&t.push(e)}function h1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vr=(t,e,n)=>n>e?e:n<t?t:n;let f1=()=>{};const wr={},w5=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function b5(t){return typeof t=="object"&&t!==null}const _5=t=>/^0[^.\s]+$/u.test(t);function m1(t){let e;return()=>(e===void 0&&(e=t()),e)}const ji=t=>t,RV=(t,e)=>n=>e(t(n)),kd=(...t)=>t.reduce(RV),cd=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class p1{constructor(){this.subscriptions=[]}add(e){return d1(this.subscriptions,e),()=>h1(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rs=t=>t*1e3,Ai=t=>t/1e3;function E5(t,e){return e?t*(1e3/e):0}const T5=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,IV=1e-7,kV=12;function DV(t,e,n,s,a){let l,u,h=0;do u=e+(n-e)/2,l=T5(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>IV&&++h<kV);return u}function Dd(t,e,n,s){if(t===e&&n===s)return ji;const a=l=>DV(l,0,1,t,n);return l=>l===0||l===1?l:T5(a(l),e,s)}const A5=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,S5=t=>e=>1-t(1-e),C5=Dd(.33,1.53,.69,.99),g1=S5(C5),N5=A5(g1),j5=t=>(t*=2)<1?.5*g1(t):.5*(2-Math.pow(2,-10*(t-1))),y1=t=>1-Math.sin(Math.acos(t)),R5=S5(y1),I5=A5(y1),MV=Dd(.42,0,1,1),PV=Dd(0,0,.58,1),k5=Dd(.42,0,.58,1),VV=t=>Array.isArray(t)&&typeof t[0]!="number",D5=t=>Array.isArray(t)&&typeof t[0]=="number",OV={linear:ji,easeIn:MV,easeInOut:k5,easeOut:PV,circIn:y1,circInOut:I5,circOut:R5,backIn:g1,backInOut:N5,backOut:C5,anticipate:j5},LV=t=>typeof t=="string",E3=t=>{if(D5(t)){f1(t.length===4);const[e,n,s,a]=t;return Dd(e,n,s,a)}else if(LV(t))return OV[t];return t},Af=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function BV(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function p(x){u.has(x)&&(g.schedule(x),t()),x(h)}const g={schedule:(x,v=!1,E=!1)=>{const D=E&&a?n:s;return v&&u.add(x),D.has(x)||D.add(x),x},cancel:x=>{s.delete(x),u.delete(x)},process:x=>{if(h=x,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),n.clear(),a=!1,l&&(l=!1,g.process(x))}};return g}const zV=40;function M5(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Af.reduce((V,B)=>(V[B]=BV(l),V),{}),{setup:h,read:p,resolveKeyframes:g,preUpdate:x,update:v,preRender:E,render:S,postRender:D}=u,U=()=>{const V=wr.useManualTiming?a.timestamp:performance.now();n=!1,wr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(V-a.timestamp,zV),1)),a.timestamp=V,a.isProcessing=!0,h.process(a),p.process(a),g.process(a),x.process(a),v.process(a),E.process(a),S.process(a),D.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(U))},z=()=>{n=!0,s=!0,a.isProcessing||t(U)};return{schedule:Af.reduce((V,B)=>{const M=u[B];return V[B]=(G,C=!1,T=!1)=>(n||z(),M.schedule(G,C,T)),V},{}),cancel:V=>{for(let B=0;B<Af.length;B++)u[Af[B]].cancel(V)},state:a,steps:u}}const{schedule:bt,cancel:_a,state:gn,steps:V0}=M5(typeof requestAnimationFrame<"u"?requestAnimationFrame:ji,!0);let Ff;function UV(){Ff=void 0}const Gn={now:()=>(Ff===void 0&&Gn.set(gn.isProcessing||wr.useManualTiming?gn.timestamp:performance.now()),Ff),set:t=>{Ff=t,queueMicrotask(UV)}},P5=t=>e=>typeof e=="string"&&e.startsWith(t),x1=P5("--"),FV=P5("var(--"),v1=t=>FV(t)?HV.test(t.split("/*")[0].trim()):!1,HV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ud={...yc,transform:t=>vr(0,1,t)},Sf={...yc,default:1},$u=t=>Math.round(t*1e5)/1e5,w1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qV(t){return t==null}const $V=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,b1=(t,e)=>n=>!!(typeof n=="string"&&$V.test(n)&&n.startsWith(t)||e&&!qV(n)&&Object.prototype.hasOwnProperty.call(n,e)),V5=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,h]=s.match(w1);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},GV=t=>vr(0,255,t),O0={...yc,transform:t=>Math.round(GV(t))},fo={test:b1("rgb","red"),parse:V5("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+O0.transform(t)+", "+O0.transform(e)+", "+O0.transform(n)+", "+$u(ud.transform(s))+")"};function KV(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Dy={test:b1("#"),parse:KV,transform:fo.transform},Md=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),na=Md("deg"),Is=Md("%"),Ae=Md("px"),YV=Md("vh"),QV=Md("vw"),T3={...Is,parse:t=>Is.parse(t)/100,transform:t=>Is.transform(t*100)},Dl={test:b1("hsl","hue"),parse:V5("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Is.transform($u(e))+", "+Is.transform($u(n))+", "+$u(ud.transform(s))+")"},Yt={test:t=>fo.test(t)||Dy.test(t)||Dl.test(t),parse:t=>fo.test(t)?fo.parse(t):Dl.test(t)?Dl.parse(t):Dy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?fo.transform(t):Dl.transform(t),getAnimatableNone:t=>{const e=Yt.parse(t);return e.alpha=0,Yt.transform(e)}},XV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WV(t){return isNaN(t)&&typeof t=="string"&&(t.match(w1)?.length||0)+(t.match(XV)?.length||0)>0}const O5="number",L5="color",ZV="var",JV="var(",A3="${}",eO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dd(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(eO,p=>(Yt.test(p)?(s.color.push(l),a.push(L5),n.push(Yt.parse(p))):p.startsWith(JV)?(s.var.push(l),a.push(ZV),n.push(p)):(s.number.push(l),a.push(O5),n.push(parseFloat(p))),++l,A3)).split(A3);return{values:n,split:h,indexes:s,types:a}}function B5(t){return dd(t).values}function z5(t){const{split:e,types:n}=dd(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===O5?l+=$u(a[u]):h===L5?l+=Yt.transform(a[u]):l+=a[u]}return l}}const tO=t=>typeof t=="number"?0:Yt.test(t)?Yt.getAnimatableNone(t):t;function nO(t){const e=B5(t);return z5(t)(e.map(tO))}const Ea={test:WV,parse:B5,createTransformer:z5,getAnimatableNone:nO};function L0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function iO({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,p=2*n-h;a=L0(p,h,t+1/3),l=L0(p,h,t),u=L0(p,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function xm(t,e){return n=>n>0?e:t}const _t=(t,e,n)=>t+(e-t)*n,B0=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},sO=[Dy,fo,Dl],rO=t=>sO.find(e=>e.test(t));function S3(t){const e=rO(t);if(!e)return!1;let n=e.parse(t);return e===Dl&&(n=iO(n)),n}const C3=(t,e)=>{const n=S3(t),s=S3(e);if(!n||!s)return xm(t,e);const a={...n};return l=>(a.red=B0(n.red,s.red,l),a.green=B0(n.green,s.green,l),a.blue=B0(n.blue,s.blue,l),a.alpha=_t(n.alpha,s.alpha,l),fo.transform(a))},My=new Set(["none","hidden"]);function aO(t,e){return My.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function oO(t,e){return n=>_t(t,e,n)}function _1(t){return typeof t=="number"?oO:typeof t=="string"?v1(t)?xm:Yt.test(t)?C3:uO:Array.isArray(t)?U5:typeof t=="object"?Yt.test(t)?C3:lO:xm}function U5(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>_1(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function lO(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=_1(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function cO(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],h=t.values[u]??0;n[a]=h,s[l]++}return n}const uO=(t,e)=>{const n=Ea.createTransformer(e),s=dd(t),a=dd(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?My.has(t)&&!a.values.length||My.has(e)&&!s.values.length?aO(t,e):kd(U5(cO(s,a),a.values),n):xm(t,e)};function F5(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):_1(t)(t,e)}const dO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>bt.update(e,n),stop:()=>_a(e),now:()=>gn.isProcessing?gn.timestamp:Gn.now()}},H5=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},vm=2e4;function E1(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<vm;)e+=n,s=t.next(e);return e>=vm?1/0:e}function hO(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(E1(s),vm);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Ai(a)}}const fO=5;function q5(t,e,n){const s=Math.max(e-fO,0);return E5(n-t(s),e-s)}const Ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},z0=.001;function mO({duration:t=Ct.duration,bounce:e=Ct.bounce,velocity:n=Ct.velocity,mass:s=Ct.mass}){let a,l,u=1-e;u=vr(Ct.minDamping,Ct.maxDamping,u),t=vr(Ct.minDuration,Ct.maxDuration,Ai(t)),u<1?(a=g=>{const x=g*u,v=x*t,E=x-n,S=Py(g,u),D=Math.exp(-v);return z0-E/S*D},l=g=>{const v=g*u*t,E=v*n+n,S=Math.pow(u,2)*Math.pow(g,2)*t,D=Math.exp(-v),U=Py(Math.pow(g,2),u);return(-a(g)+z0>0?-1:1)*((E-S)*D)/U}):(a=g=>{const x=Math.exp(-g*t),v=(g-n)*t+1;return-z0+x*v},l=g=>{const x=Math.exp(-g*t),v=(n-g)*(t*t);return x*v});const h=5/t,p=gO(a,l,h);if(t=Rs(t),isNaN(p))return{stiffness:Ct.stiffness,damping:Ct.damping,duration:t};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:u*2*Math.sqrt(s*g),duration:t}}}const pO=12;function gO(t,e,n){let s=n;for(let a=1;a<pO;a++)s=s-t(s)/e(s);return s}function Py(t,e){return t*Math.sqrt(1-e*e)}const yO=["duration","bounce"],xO=["stiffness","damping","mass"];function N3(t,e){return e.some(n=>t[n]!==void 0)}function vO(t){let e={velocity:Ct.velocity,stiffness:Ct.stiffness,damping:Ct.damping,mass:Ct.mass,isResolvedFromDuration:!1,...t};if(!N3(t,xO)&&N3(t,yO))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*vr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ct.mass,stiffness:a,damping:l}}else{const n=mO(t);e={...e,...n,mass:Ct.mass},e.isResolvedFromDuration=!0}return e}function wm(t=Ct.visualDuration,e=Ct.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:p,damping:g,mass:x,duration:v,velocity:E,isResolvedFromDuration:S}=vO({...n,velocity:-Ai(n.velocity||0)}),D=E||0,U=g/(2*Math.sqrt(p*x)),z=u-l,H=Ai(Math.sqrt(p/x)),k=Math.abs(z)<5;s||(s=k?Ct.restSpeed.granular:Ct.restSpeed.default),a||(a=k?Ct.restDelta.granular:Ct.restDelta.default);let V;if(U<1){const M=Py(H,U);V=G=>{const C=Math.exp(-U*H*G);return u-C*((D+U*H*z)/M*Math.sin(M*G)+z*Math.cos(M*G))}}else if(U===1)V=M=>u-Math.exp(-H*M)*(z+(D+H*z)*M);else{const M=H*Math.sqrt(U*U-1);V=G=>{const C=Math.exp(-U*H*G),T=Math.min(M*G,300);return u-C*((D+U*H*z)*Math.sinh(T)+M*z*Math.cosh(T))/M}}const B={calculatedDuration:S&&v||null,next:M=>{const G=V(M);if(S)h.done=M>=v;else{let C=M===0?D:0;U<1&&(C=M===0?Rs(D):q5(V,M,G));const T=Math.abs(C)<=s,j=Math.abs(u-G)<=a;h.done=T&&j}return h.value=h.done?u:G,h},toString:()=>{const M=Math.min(E1(B),vm),G=H5(C=>B.next(M*C).value,M,30);return M+"ms "+G},toTransition:()=>{}};return B}wm.applyToOptions=t=>{const e=hO(t,100,wm);return t.ease=e.ease,t.duration=Rs(e.duration),t.type="keyframes",t};function Vy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:p,restDelta:g=.5,restSpeed:x}){const v=t[0],E={done:!1,value:v},S=T=>h!==void 0&&T<h||p!==void 0&&T>p,D=T=>h===void 0?p:p===void 0||Math.abs(h-T)<Math.abs(p-T)?h:p;let U=n*e;const z=v+U,H=u===void 0?z:u(z);H!==z&&(U=H-v);const k=T=>-U*Math.exp(-T/s),V=T=>H+k(T),B=T=>{const j=k(T),P=V(T);E.done=Math.abs(j)<=g,E.value=E.done?H:P};let M,G;const C=T=>{S(E.value)&&(M=T,G=wm({keyframes:[E.value,D(E.value)],velocity:q5(V,T,E.value),damping:a,stiffness:l,restDelta:g,restSpeed:x}))};return C(0),{calculatedDuration:null,next:T=>{let j=!1;return!G&&M===void 0&&(j=!0,B(T),C(T)),M!==void 0&&T>=M?G.next(T-M):(!j&&B(T),E)}}}function wO(t,e,n){const s=[],a=n||wr.mix||F5,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const p=Array.isArray(e)?e[u]||ji:e;h=kd(p,h)}s.push(h)}return s}function bO(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(f1(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=wO(e,s,a),p=h.length,g=x=>{if(u&&x<t[0])return e[0];let v=0;if(p>1)for(;v<t.length-2&&!(x<t[v+1]);v++);const E=cd(t[v],t[v+1],x);return h[v](E)};return n?x=>g(vr(t[0],t[l-1],x)):g}function _O(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=cd(0,e,s);t.push(_t(n,1,a))}}function EO(t){const e=[0];return _O(e,t.length-1),e}function TO(t,e){return t.map(n=>n*e)}function AO(t,e){return t.map(()=>e||k5).splice(0,t.length-1)}function Gu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=VV(s)?s.map(E3):E3(s),l={done:!1,value:e[0]},u=TO(n&&n.length===e.length?n:EO(e),t),h=bO(u,e,{ease:Array.isArray(a)?a:AO(e,a)});return{calculatedDuration:t,next:p=>(l.value=h(p),l.done=p>=t,l)}}const SO=t=>t!==null;function T1(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(SO),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const CO={decay:Vy,inertia:Vy,tween:Gu,keyframes:Gu,spring:wm};function $5(t){typeof t.type=="string"&&(t.type=CO[t.type])}class A1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const NO=t=>t/100;class S1 extends A1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Gn.now()&&this.tick(Gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;$5(e);const{type:n=Gu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const p=n||Gu;p!==Gu&&typeof h[0]!="number"&&(this.mixKeyframes=kd(NO,F5(h[0],h[1])),h=[0,100]);const g=p({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...h].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=E1(g));const{calculatedDuration:x}=g;this.calculatedDuration=x,this.resolvedDuration=x+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:x,repeat:v,repeatType:E,repeatDelay:S,type:D,onUpdate:U,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const H=this.currentTime-g*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?H<0:H>a;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let V=this.currentTime,B=s;if(v){const T=Math.min(this.currentTime,a)/h;let j=Math.floor(T),P=T%1;!P&&T>=1&&(P=1),P===1&&j--,j=Math.min(j,v+1),!!(j%2)&&(E==="reverse"?(P=1-P,S&&(P-=S/h)):E==="mirror"&&(B=u)),V=vr(0,1,P)*h}const M=k?{done:!1,value:x[0]}:B.next(V);l&&(M.value=l(M.value));let{done:G}=M;!k&&p!==null&&(G=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return C&&D!==Vy&&(M.value=T1(x,this.options,z,this.speed)),U&&U(M.value),C&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return Ai(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ai(e)}get time(){return Ai(this.currentTime)}set time(e){e=Rs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Gn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ai(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=dO,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function jO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const mo=t=>t*180/Math.PI,Oy=t=>{const e=mo(Math.atan2(t[1],t[0]));return Ly(e)},RO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Oy,rotateZ:Oy,skewX:t=>mo(Math.atan(t[1])),skewY:t=>mo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ly=t=>(t=t%360,t<0&&(t+=360),t),j3=Oy,R3=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),I3=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),IO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:R3,scaleY:I3,scale:t=>(R3(t)+I3(t))/2,rotateX:t=>Ly(mo(Math.atan2(t[6],t[5]))),rotateY:t=>Ly(mo(Math.atan2(-t[2],t[0]))),rotateZ:j3,rotate:j3,skewX:t=>mo(Math.atan(t[4])),skewY:t=>mo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function By(t){return t.includes("scale")?1:0}function zy(t,e){if(!t||t==="none")return By(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=IO,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=RO,a=h}if(!a)return By(e);const l=s[e],u=a[1].split(",").map(DO);return typeof l=="function"?l(u):u[l]}const kO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return zy(n,e)};function DO(t){return parseFloat(t.trim())}const xc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vc=new Set(xc),k3=t=>t===yc||t===Ae,MO=new Set(["x","y","z"]),PO=xc.filter(t=>!MO.has(t));function VO(t){const e=[];return PO.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const yo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>zy(e,"x"),y:(t,{transform:e})=>zy(e,"y")};yo.translateX=yo.x;yo.translateY=yo.y;const xo=new Set;let Uy=!1,Fy=!1,Hy=!1;function G5(){if(Fy){const t=Array.from(xo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=VO(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Fy=!1,Uy=!1,xo.forEach(t=>t.complete(Hy)),xo.clear()}function K5(){xo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fy=!0)})}function OO(){Hy=!0,K5(),G5(),Hy=!1}class C1{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(xo.add(this),Uy||(Uy=!0,bt.read(K5),bt.resolveKeyframes(G5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}jO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),xo.delete(this)}cancel(){this.state==="scheduled"&&(xo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const LO=t=>t.startsWith("--");function BO(t,e,n){LO(e)?t.style.setProperty(e,n):t.style[e]=n}const zO=m1(()=>window.ScrollTimeline!==void 0),UO={};function FO(t,e){const n=m1(t);return()=>UO[e]??n()}const Y5=FO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,D3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lu([0,.65,.55,1]),circOut:Lu([.55,0,1,.45]),backIn:Lu([.31,.01,.66,-.59]),backOut:Lu([.33,1.53,.69,.99])};function Q5(t,e){if(t)return typeof t=="function"?Y5()?H5(t,e):"ease-out":D5(t)?Lu(t):Array.isArray(t)?t.map(n=>Q5(n,e)||D3.easeOut):D3[t]}function HO(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:p}={},g=void 0){const x={[e]:n};p&&(x.offset=p);const v=Q5(h,a);Array.isArray(v)&&(x.easing=v);const E={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(E.pseudoElement=g),t.animate(x,E)}function X5(t){return typeof t=="function"&&"applyToOptions"in t}function qO({type:t,...e}){return X5(t)&&Y5()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class $O extends A1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,f1(typeof e.type!="string");const g=qO(e);this.animation=HO(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const x=T1(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(x):BO(n,s,x),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ai(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ai(e)}get time(){return Ai(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Rs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&zO()?(this.animation.timeline=e,ji):n(this)}}const W5={anticipate:j5,backInOut:N5,circInOut:I5};function GO(t){return t in W5}function KO(t){typeof t.ease=="string"&&GO(t.ease)&&(t.ease=W5[t.ease])}const M3=10;class YO extends $O{constructor(e){KO(e),$5(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new S1({...u,autoplay:!1}),p=Rs(this.finishedTime??this.time);n.setWithVelocity(h.sample(p-M3).value,h.sample(p).value,M3),h.stop()}}const P3=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ea.test(t)||t==="0")&&!t.startsWith("url("));function QO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function XO(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=P3(a,e),h=P3(l,e);return!u||!h?!1:QO(t)||(n==="spring"||X5(n))&&s}function qy(t){t.duration=0,t.type="keyframes"}const WO=new Set(["opacity","clipPath","filter","transform"]),ZO=m1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function JO(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=e.owner.getProps();return ZO()&&n&&WO.has(n)&&(n!=="transform"||!g)&&!p&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const eL=40;class tL extends A1{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:p,motionValue:g,element:x,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Gn.now();const E={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:p,motionValue:g,element:x,...v},S=x?.KeyframeResolver||C1;this.keyframeResolver=new S(h,(D,U,z)=>this.onKeyframesResolved(D,U,E,!z),p,g,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:p,isHandoff:g,onUpdate:x}=s;this.resolvedAt=Gn.now(),XO(e,l,u,h)||((wr.instantAnimations||!p)&&x?.(T1(e,s,n)),e[0]=e[e.length-1],qy(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>eL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},S=!g&&JO(E)?new YO({...E,element:E.motionValue.owner.current}):new S1(E);S.finished.then(()=>this.notifyFinished()).catch(ji),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),OO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const nL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iL(t){const e=nL.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function Z5(t,e,n=1){const[s,a]=iL(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return w5(u)?parseFloat(u):u}return v1(a)?Z5(a,e,n+1):a}function N1(t,e){return t?.[e]??t?.default??t}const J5=new Set(["width","height","top","left","right","bottom",...xc]),sL={test:t=>t==="auto",parse:t=>t},eA=t=>e=>e.test(t),tA=[yc,Ae,Is,na,QV,YV,sL],V3=t=>tA.find(eA(t));function rL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_5(t):!0}const aL=new Set(["brightness","contrast","saturate","opacity"]);function oL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(w1)||[];if(!s)return t;const a=n.replace(s,"");let l=aL.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const lL=/\b([a-z-]*)\(.*?\)/gu,$y={...Ea,getAnimatableNone:t=>{const e=t.match(lL);return e?e.map(oL).join(" "):t}},O3={...yc,transform:Math.round},cL={rotate:na,rotateX:na,rotateY:na,rotateZ:na,scale:Sf,scaleX:Sf,scaleY:Sf,scaleZ:Sf,skew:na,skewX:na,skewY:na,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:ud,originX:T3,originY:T3,originZ:Ae},j1={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae,...cL,zIndex:O3,fillOpacity:ud,strokeOpacity:ud,numOctaves:O3},uL={...j1,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:$y,WebkitFilter:$y},nA=t=>uL[t];function iA(t,e){let n=nA(t);return n!==$y&&(n=Ea),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const dL=new Set(["auto","none","0"]);function hL(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!dL.has(l)&&dd(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=iA(n,a)}class fL extends C1{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let g=e[p];if(typeof g=="string"&&(g=g.trim(),v1(g))){const x=Z5(g,n.current);x!==void 0&&(e[p]=x),p===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!J5.has(s)||e.length!==2)return;const[a,l]=e,u=V3(a),h=V3(l);if(u!==h)if(k3(u)&&k3(h))for(let p=0;p<e.length;p++){const g=e[p];typeof g=="string"&&(e[p]=parseFloat(g))}else yo[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||rL(e[a]))&&s.push(a);s.length&&hL(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yo[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=yo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function mL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const sA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function pL(t){return b5(t)&&"offsetHeight"in t}const L3=30,gL=t=>!isNaN(parseFloat(t));class yL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Gn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Gn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=gL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new p1);const s=this.events[e].add(n);return e==="change"?()=>{s(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>L3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,L3);return E5(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nc(t,e){return new yL(t,e)}const{schedule:R1}=M5(queueMicrotask,!1),Gi={x:!1,y:!1};function rA(){return Gi.x||Gi.y}function xL(t){return t==="x"||t==="y"?Gi[t]?null:(Gi[t]=!0,()=>{Gi[t]=!1}):Gi.x||Gi.y?null:(Gi.x=Gi.y=!0,()=>{Gi.x=Gi.y=!1})}function aA(t,e){const n=mL(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function B3(t){return!(t.pointerType==="touch"||rA())}function vL(t,e,n={}){const[s,a,l]=aA(t,n),u=h=>{if(!B3(h))return;const{target:p}=h,g=e(p,h);if(typeof g!="function"||!p)return;const x=v=>{B3(v)&&(g(v),p.removeEventListener("pointerleave",x))};p.addEventListener("pointerleave",x,a)};return s.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const oA=(t,e)=>e?t===e?!0:oA(t,e.parentElement):!1,I1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bL(t){return wL.has(t.tagName)||t.tabIndex!==-1}const Hf=new WeakSet;function z3(t){return e=>{e.key==="Enter"&&t(e)}}function U0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _L=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=z3(()=>{if(Hf.has(n))return;U0(n,"down");const a=z3(()=>{U0(n,"up")}),l=()=>U0(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function U3(t){return I1(t)&&!rA()}function EL(t,e,n={}){const[s,a,l]=aA(t,n),u=h=>{const p=h.currentTarget;if(!U3(h))return;Hf.add(p);const g=e(p,h),x=(S,D)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),Hf.has(p)&&Hf.delete(p),U3(S)&&typeof g=="function"&&g(S,{success:D})},v=S=>{x(S,p===window||p===document||n.useGlobalTarget||oA(p,S.target))},E=S=>{x(S,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),pL(h)&&(h.addEventListener("focus",g=>_L(g,a)),!bL(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function lA(t){return b5(t)&&"ownerSVGElement"in t}function TL(t){return lA(t)&&t.tagName==="svg"}const Sn=t=>!!(t&&t.getVelocity),AL=[...tA,Yt,Ea],SL=t=>AL.find(eA(t)),cA=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function CL(t=!0){const e=R.useContext(u1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=R.useId();R.useEffect(()=>{if(t)return a(l)},[t]);const u=R.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const uA=R.createContext({strict:!1}),F3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ic={};for(const t in F3)ic[t]={isEnabled:e=>F3[t].some(n=>!!e[n])};function NL(t){for(const e in t)ic[e]={...ic[e],...t[e]}}const jL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jL.has(t)}let dA=t=>!bm(t);function RL(t){typeof t=="function"&&(dA=e=>e.startsWith("on")?!bm(e):t(e))}try{RL(require("@emotion/is-prop-valid").default)}catch{}function IL(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(dA(a)||n===!0&&bm(a)||!e&&!bm(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const ap=R.createContext({});function op(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function hd(t){return typeof t=="string"||Array.isArray(t)}const k1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],D1=["initial",...k1];function lp(t){return op(t.animate)||D1.some(e=>hd(t[e]))}function hA(t){return!!(lp(t)||t.variants)}function kL(t,e){if(lp(t)){const{initial:n,animate:s}=t;return{initial:n===!1||hd(n)?n:void 0,animate:hd(s)?s:void 0}}return t.inherit!==!1?e:{}}function DL(t){const{initial:e,animate:n}=kL(t,R.useContext(ap));return R.useMemo(()=>({initial:e,animate:n}),[H3(e),H3(n)])}function H3(t){return Array.isArray(t)?t.join(" "):t}const fd={};function ML(t){for(const e in t)fd[e]=t[e],x1(e)&&(fd[e].isCSSVariable=!0)}function fA(t,{layout:e,layoutId:n}){return vc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!fd[t]||t==="opacity")}const PL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},VL=xc.length;function OL(t,e,n){let s="",a=!0;for(let l=0;l<VL;l++){const u=xc[l],h=t[u];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(u.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||n){const g=sA(h,j1[u]);if(!p){a=!1;const x=PL[u]||u;s+=`${x}(${g}) `}n&&(e[u]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function M1(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const p in e){const g=e[p];if(vc.has(p)){u=!0;continue}else if(x1(p)){a[p]=g;continue}else{const x=sA(g,j1[p]);p.startsWith("origin")?(h=!0,l[p]=x):s[p]=x}}if(e.transform||(u||n?s.transform=OL(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:p="50%",originY:g="50%",originZ:x=0}=l;s.transformOrigin=`${p} ${g} ${x}`}}const P1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mA(t,e,n){for(const s in e)!Sn(e[s])&&!fA(s,n)&&(t[s]=e[s])}function LL({transformTemplate:t},e){return R.useMemo(()=>{const n=P1();return M1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function BL(t,e){const n=t.style||{},s={};return mA(s,n,t),Object.assign(s,LL(t,e)),s}function zL(t,e){const n={},s=BL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const UL={offset:"stroke-dashoffset",array:"stroke-dasharray"},FL={offset:"strokeDashoffset",array:"strokeDasharray"};function HL(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?UL:FL;t[l.offset]=Ae.transform(-s);const u=Ae.transform(e),h=Ae.transform(n);t[l.array]=`${u} ${h}`}function pA(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},p,g,x){if(M1(t,h,g),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:E}=t;v.transform&&(E.transform=v.transform,delete v.transform),(E.transform||v.transformOrigin)&&(E.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),E.transform&&(E.transformBox=x?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&HL(v,a,l,u,!1)}const gA=()=>({...P1(),attrs:{}}),yA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qL(t,e,n,s){const a=R.useMemo(()=>{const l=gA();return pA(l,e,yA(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};mA(l,t.style,t),a.style={...l,...a.style}}return a}const $L=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function V1(t){return typeof t!="string"||t.includes("-")?!1:!!($L.indexOf(t)>-1||/[A-Z]/u.test(t))}function GL(t,e,n,{latestValues:s},a,l=!1){const h=(V1(t)?qL:zL)(e,s,a,t),p=IL(e,typeof t=="string",l),g=t!==R.Fragment?{...p,...h,ref:n}:{},{children:x}=e,v=R.useMemo(()=>Sn(x)?x.get():x,[x]);return R.createElement(t,{...g,children:v})}function q3(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function O1(t,e,n,s){if(typeof e=="function"){const[a,l]=q3(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=q3(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function qf(t){return Sn(t)?t.get():t}function KL({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:YL(n,s,a,t),renderState:e()}}function YL(t,e,n,s){const a={},l=s(t,{});for(const E in l)a[E]=qf(l[E]);let{initial:u,animate:h}=t;const p=lp(t),g=hA(t);e&&g&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let x=n?n.initial===!1:!1;x=x||u===!1;const v=x?h:u;if(v&&typeof v!="boolean"&&!op(v)){const E=Array.isArray(v)?v:[v];for(let S=0;S<E.length;S++){const D=O1(t,E[S]);if(D){const{transitionEnd:U,transition:z,...H}=D;for(const k in H){let V=H[k];if(Array.isArray(V)){const B=x?V.length-1:0;V=V[B]}V!==null&&(a[k]=V)}for(const k in U)a[k]=U[k]}}}return a}const xA=t=>(e,n)=>{const s=R.useContext(ap),a=R.useContext(u1),l=()=>KL(t,e,s,a);return n?l():NV(l)};function L1(t,e,n){const{style:s}=t,a={};for(const l in s)(Sn(s[l])||e.style&&Sn(e.style[l])||fA(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const QL=xA({scrapeMotionValuesFromProps:L1,createRenderState:P1});function vA(t,e,n){const s=L1(t,e,n);for(const a in t)if(Sn(t[a])||Sn(e[a])){const l=xc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const XL=xA({scrapeMotionValuesFromProps:vA,createRenderState:gA}),WL=Symbol.for("motionComponentSymbol");function Ml(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ZL(t,e,n){return R.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ml(n)&&(n.current=s))},[e])}const B1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JL="framerAppearId",wA="data-"+B1(JL),bA=R.createContext({});function eB(t,e,n,s,a){const{visualElement:l}=R.useContext(ap),u=R.useContext(uA),h=R.useContext(u1),p=R.useContext(cA).reducedMotion,g=R.useRef(null);s=s||u.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const x=g.current,v=R.useContext(bA);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&tB(g.current,n,a,v);const E=R.useRef(!1);R.useInsertionEffect(()=>{x&&E.current&&x.update(n,h)});const S=n[wA],D=R.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return jV(()=>{x&&(E.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),D.current&&x.animationState&&x.animationState.animateChanges())}),R.useEffect(()=>{x&&(!D.current&&x.animationState&&x.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),D.current=!1),x.enteringChildren=void 0)}),x}function tB(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:p,layoutRoot:g,layoutCrossfade:x}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:_A(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&Ml(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:x,layoutScroll:p,layoutRoot:g})}function _A(t){if(t)return t.options.allowProjection!==!1?t.projection:_A(t.parent)}function F0(t,{forwardMotionProps:e=!1}={},n,s){n&&NL(n);const a=V1(t)?XL:QL;function l(h,p){let g;const x={...R.useContext(cA),...h,layoutId:nB(h)},{isStatic:v}=x,E=DL(h),S=a(h,v);if(!v&&c1){iB();const D=sB(x);g=D.MeasureLayout,E.visualElement=eB(t,S,x,s,D.ProjectionNode)}return d.jsxs(ap.Provider,{value:E,children:[g&&E.visualElement?d.jsx(g,{visualElement:E.visualElement,...x}):null,GL(t,h,ZL(S,E.visualElement,p),S,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=R.forwardRef(l);return u[WL]=t,u}function nB({layoutId:t}){const e=R.useContext(v5).id;return e&&t!==void 0?e+"-"+t:t}function iB(t,e){R.useContext(uA).strict}function sB(t){const{drag:e,layout:n}=ic;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function rB(t,e){if(typeof Proxy>"u")return F0;const n=new Map,s=(l,u)=>F0(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,F0(u,void 0,t,e)),n.get(u))})}function EA({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function aB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function oB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function H0(t){return t===void 0||t===1}function Gy({scale:t,scaleX:e,scaleY:n}){return!H0(t)||!H0(e)||!H0(n)}function co(t){return Gy(t)||TA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function TA(t){return $3(t.x)||$3(t.y)}function $3(t){return t&&t!=="0%"}function _m(t,e,n){const s=t-n,a=e*s;return n+a}function G3(t,e,n,s,a){return a!==void 0&&(t=_m(t,a,s)),_m(t,n,s)+e}function Ky(t,e=0,n=1,s,a){t.min=G3(t.min,e,n,s,a),t.max=G3(t.max,e,n,s,a)}function AA(t,{x:e,y:n}){Ky(t.x,e.translate,e.scale,e.originPoint),Ky(t.y,n.translate,n.scale,n.originPoint)}const K3=.999999999999,Y3=1.0000000000001;function lB(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Vl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,AA(t,u)),s&&co(l.latestValues)&&Vl(t,l.latestValues))}e.x<Y3&&e.x>K3&&(e.x=1),e.y<Y3&&e.y>K3&&(e.y=1)}function Pl(t,e){t.min=t.min+e,t.max=t.max+e}function Q3(t,e,n,s,a=.5){const l=_t(t.min,t.max,a);Ky(t,e,n,l,s)}function Vl(t,e){Q3(t.x,e.x,e.scaleX,e.scale,e.originX),Q3(t.y,e.y,e.scaleY,e.scale,e.originY)}function SA(t,e){return EA(oB(t.getBoundingClientRect(),e))}function cB(t,e,n){const s=SA(t,n),{scroll:a}=e;return a&&(Pl(s.x,a.offset.x),Pl(s.y,a.offset.y)),s}const X3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ol=()=>({x:X3(),y:X3()}),W3=()=>({min:0,max:0}),kt=()=>({x:W3(),y:W3()}),Yy={current:null},CA={current:!1};function uB(){if(CA.current=!0,!!c1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yy.current=t.matches;t.addEventListener("change",e),e()}else Yy.current=!1}const dB=new WeakMap;function hB(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Sn(a))t.addValue(s,a);else if(Sn(l))t.addValue(s,nc(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,nc(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Z3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fB{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=C1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Gn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,bt.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=lp(n),this.isVariantNode=hA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in v){const S=v[E];p[E]!==void 0&&Sn(S)&&S.set(p[E])}}mount(e){this.current=e,dB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),CA.current||uB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_a(this.notifyUpdate),_a(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=vc.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&bt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ic){const n=ic[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Z3.length;s++){const a=Z3[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=hB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=nc(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(w5(s)||_5(s))?s=parseFloat(s):!SL(s)&&Ea.test(n)&&(s=iA(e,n)),this.setBaseTarget(e,Sn(s)?s.get():s)),Sn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=O1(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Sn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new p1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){R1.render(this.render)}}class NA extends fB{constructor(){super(...arguments),this.KeyframeResolver=fL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jA(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function mB(t){return window.getComputedStyle(t)}class pB extends NA{constructor(){super(...arguments),this.type="html",this.renderInstance=jA}readValueFromInstance(e,n){if(vc.has(n))return this.projection?.isProjecting?By(n):kO(e,n);{const s=mB(e),a=(x1(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return SA(e,n)}build(e,n,s){M1(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return L1(e,n,s)}}const RA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gB(t,e,n,s){jA(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(RA.has(a)?a:B1(a),e.attrs[a])}class yB extends NA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(vc.has(n)){const s=nA(n);return s&&s.default||0}return n=RA.has(n)?n:B1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return vA(e,n,s)}build(e,n,s){pA(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){gB(e,n,s,a)}mount(e){this.isSVGTag=yA(e.tagName),super.mount(e)}}const xB=(t,e)=>V1(t)?new yB(e):new pB(e,{allowProjection:t!==R.Fragment});function $l(t,e,n){const s=t.getProps();return O1(s,e,n!==void 0?n:s.custom,t)}const Qy=t=>Array.isArray(t);function vB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,nc(n))}function wB(t){return Qy(t)?t[t.length-1]||0:t}function bB(t,e){const n=$l(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const h=wB(l[u]);vB(t,u,h)}}function _B(t){return!!(Sn(t)&&t.add)}function Xy(t,e){const n=t.getValue("willChange");if(_B(n))return n.add(e);if(!n&&wr.WillChange){const s=new wr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function IA(t){return t.props[wA]}const EB=t=>t!==null;function TB(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(EB),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const AB={type:"spring",stiffness:500,damping:25,restSpeed:10},SB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),CB={type:"keyframes",duration:.8},NB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jB=(t,{keyframes:e})=>e.length>2?CB:vc.has(t)?t.startsWith("scale")?SB(e[1]):AB:NB;function RB({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:p,elapsed:g,...x}){return!!Object.keys(x).length}const z1=(t,e,n,s={},a,l)=>u=>{const h=N1(s,t)||{},p=h.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Rs(p);const x={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-g,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};RB(h)||Object.assign(x,jB(t,x)),x.duration&&(x.duration=Rs(x.duration)),x.repeatDelay&&(x.repeatDelay=Rs(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let v=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(qy(x),x.delay===0&&(v=!0)),(wr.instantAnimations||wr.skipAnimations)&&(v=!0,qy(x),x.delay=0),x.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const E=TB(x.keyframes,h);if(E!==void 0){bt.update(()=>{x.onUpdate(E),x.onComplete()});return}}return h.isSync?new S1(x):new tL(x)};function IB({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function kA(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;s&&(l=s);const p=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const x in h){const v=t.getValue(x,t.latestValues[x]??null),E=h[x];if(E===void 0||g&&IB(g,x))continue;const S={delay:n,...N1(l||{},x)},D=v.get();if(D!==void 0&&!v.isAnimating&&!Array.isArray(E)&&E===D&&!S.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const H=IA(t);if(H){const k=window.MotionHandoffAnimation(H,x,bt);k!==null&&(S.startTime=k,U=!0)}}Xy(t,x),v.start(z1(x,v,E,t.shouldReduceMotion&&J5.has(x)?{type:!1}:S,t,U));const z=v.animation;z&&p.push(z)}return u&&Promise.all(p).then(()=>{bt.update(()=>{u&&bB(t,u)})}),p}function DA(t,e,n,s=0,a=1){const l=Array.from(t).sort((g,x)=>g.sortNodePosition(x)).indexOf(e),u=t.size,h=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:h-l*s}function Wy(t,e,n={}){const s=$l(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(kA(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:v}=a;return kB(t,e,p,g,x,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,g]=h==="beforeChildren"?[l,u]:[u,l];return p().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function kB(t,e,n=0,s=0,a=0,l=1,u){const h=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),h.push(Wy(p,e,{...u,delay:n+(typeof s=="function"?0:s)+DA(t.variantChildren,p,s,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(h)}function DB(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Wy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Wy(t,e,n);else{const a=typeof e=="function"?$l(t,e,n.custom):e;s=Promise.all(kA(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function MA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const MB=D1.length;function PA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?PA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<MB;n++){const s=D1[n],a=t.props[s];(hd(a)||a===!1)&&(e[s]=a)}return e}const PB=[...k1].reverse(),VB=k1.length;function OB(t){return e=>Promise.all(e.map(({animation:n,options:s})=>DB(t,n,s)))}function LB(t){let e=OB(t),n=J3(),s=!0;const a=p=>(g,x)=>{const v=$l(t,x,p==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:E,transitionEnd:S,...D}=v;g={...g,...D,...S}}return g};function l(p){e=p(t)}function u(p){const{props:g}=t,x=PA(t.parent)||{},v=[],E=new Set;let S={},D=1/0;for(let z=0;z<VB;z++){const H=PB[z],k=n[H],V=g[H]!==void 0?g[H]:x[H],B=hd(V),M=H===p?k.isActive:null;M===!1&&(D=z);let G=V===x[H]&&V!==g[H]&&B;if(G&&s&&t.manuallyAnimateOnMount&&(G=!1),k.protectedKeys={...S},!k.isActive&&M===null||!V&&!k.prevProp||op(V)||typeof V=="boolean")continue;const C=BB(k.prevProp,V);let T=C||H===p&&k.isActive&&!G&&B||z>D&&B,j=!1;const P=Array.isArray(V)?V:[V];let O=P.reduce(a(H),{});M===!1&&(O={});const{prevResolvedValues:F={}}=k,I={...F,...O},je=ce=>{T=!0,E.has(ce)&&(j=!0,E.delete(ce)),k.needsAnimating[ce]=!0;const me=t.getValue(ce);me&&(me.liveStyle=!1)};for(const ce in I){const me=O[ce],Pe=F[ce];if(S.hasOwnProperty(ce))continue;let ze=!1;Qy(me)&&Qy(Pe)?ze=!MA(me,Pe):ze=me!==Pe,ze?me!=null?je(ce):E.add(ce):me!==void 0&&E.has(ce)?je(ce):k.protectedKeys[ce]=!0}k.prevProp=V,k.prevResolvedValues=O,k.isActive&&(S={...S,...O}),s&&t.blockInitialAnimation&&(T=!1);const tt=G&&C;T&&(!tt||j)&&v.push(...P.map(ce=>{const me={type:H};if(typeof ce=="string"&&s&&!tt&&t.manuallyAnimateOnMount&&t.parent){const{parent:Pe}=t,ze=$l(Pe,ce);if(Pe.enteringChildren&&ze){const{delayChildren:$}=ze.transition||{};me.delay=DA(Pe.enteringChildren,t,$)}}return{animation:ce,options:me}}))}if(E.size){const z={};if(typeof g.initial!="boolean"){const H=$l(t,Array.isArray(g.initial)?g.initial[0]:g.initial);H&&H.transition&&(z.transition=H.transition)}E.forEach(H=>{const k=t.getBaseTarget(H),V=t.getValue(H);V&&(V.liveStyle=!0),z[H]=k??null}),v.push({animation:z})}let U=!!v.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(U=!1),s=!1,U?e(v):Promise.resolve()}function h(p,g){if(n[p].isActive===g)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(p,g)),n[p].isActive=g;const x=u(p);for(const v in n)n[v].protectedKeys={};return x}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=J3()}}}function BB(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!MA(e,t):!1}function ao(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function J3(){return{animate:ao(!0),whileInView:ao(),whileHover:ao(),whileTap:ao(),whileDrag:ao(),whileFocus:ao(),exit:ao()}}class Na{constructor(e){this.isMounted=!1,this.node=e}update(){}}class zB extends Na{constructor(e){super(e),e.animationState||(e.animationState=LB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();op(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let UB=0;class FB extends Na{constructor(){super(...arguments),this.id=UB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const HB={animation:{Feature:zB},exit:{Feature:FB}};function md(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Pd(t){return{point:{x:t.pageX,y:t.pageY}}}const qB=t=>e=>I1(e)&&t(e,Pd(e));function Ku(t,e,n,s){return md(t,e,qB(n),s)}const VA=1e-4,$B=1-VA,GB=1+VA,OA=.01,KB=0-OA,YB=0+OA;function Dn(t){return t.max-t.min}function QB(t,e,n){return Math.abs(t-e)<=n}function e_(t,e,n,s=.5){t.origin=s,t.originPoint=_t(e.min,e.max,t.origin),t.scale=Dn(n)/Dn(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$B&&t.scale<=GB||isNaN(t.scale))&&(t.scale=1),(t.translate>=KB&&t.translate<=YB||isNaN(t.translate))&&(t.translate=0)}function Yu(t,e,n,s){e_(t.x,e.x,n.x,s?s.originX:void 0),e_(t.y,e.y,n.y,s?s.originY:void 0)}function t_(t,e,n){t.min=n.min+e.min,t.max=t.min+Dn(e)}function XB(t,e,n){t_(t.x,e.x,n.x),t_(t.y,e.y,n.y)}function n_(t,e,n){t.min=e.min-n.min,t.max=t.min+Dn(e)}function Qu(t,e,n){n_(t.x,e.x,n.x),n_(t.y,e.y,n.y)}function _i(t){return[t("x"),t("y")]}const LA=({current:t})=>t?t.ownerDocument.defaultView:null,i_=(t,e)=>Math.abs(t-e);function WB(t,e){const n=i_(t.x,e.x),s=i_(t.y,e.y);return Math.sqrt(n**2+s**2)}class BA{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=$0(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,D=WB(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!D)return;const{point:U}=E,{timestamp:z}=gn;this.history.push({...U,timestamp:z});const{onStart:H,onMove:k}=this.handlers;S||(H&&H(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,E)},this.handlePointerMove=(E,S)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=q0(S,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(E,S)=>{this.end();const{onEnd:D,onSessionEnd:U,resumeAnimation:z}=this.handlers;if(this.dragSnapToOrigin&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=$0(E.type==="pointercancel"?this.lastMoveEventInfo:q0(S,this.transformPagePoint),this.history);this.startEvent&&D&&D(E,H),U&&U(E,H)},!I1(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const h=Pd(e),p=q0(h,this.transformPagePoint),{point:g}=p,{timestamp:x}=gn;this.history=[{...g,timestamp:x}];const{onSessionStart:v}=n;v&&v(e,$0(p,this.history)),this.removeListeners=kd(Ku(this.contextWindow,"pointermove",this.handlePointerMove),Ku(this.contextWindow,"pointerup",this.handlePointerUp),Ku(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_a(this.updatePoint)}}function q0(t,e){return e?{point:e(t.point)}:t}function s_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $0({point:t},e){return{point:t,delta:s_(t,zA(e)),offset:s_(t,ZB(e)),velocity:JB(e,.1)}}function ZB(t){return t[0]}function zA(t){return t[t.length-1]}function JB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=zA(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Rs(e)));)n--;if(!s)return{x:0,y:0};const l=Ai(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function ez(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?_t(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?_t(n,t,s.max):Math.min(t,n)),t}function r_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function tz(t,{top:e,left:n,bottom:s,right:a}){return{x:r_(t.x,n,a),y:r_(t.y,e,s)}}function a_(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function nz(t,e){return{x:a_(t.x,e.x),y:a_(t.y,e.y)}}function iz(t,e){let n=.5;const s=Dn(t),a=Dn(e);return a>s?n=cd(e.min,e.max-s,t.min):s>a&&(n=cd(t.min,t.max-a,e.min)),vr(0,1,n)}function sz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Zy=.35;function rz(t=Zy){return t===!1?t=0:t===!0&&(t=Zy),{x:o_(t,"left","right"),y:o_(t,"top","bottom")}}function o_(t,e,n){return{min:l_(t,e),max:l_(t,n)}}function l_(t,e){return typeof t=="number"?t:t[e]||0}const az=new WeakMap;class oz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pd(v).point)},u=(v,E)=>{const{drag:S,dragPropagation:D,onDragStart:U}=this.getProps();if(S&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xL(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_i(H=>{let k=this.getAxisMotionValue(H).get()||0;if(Is.test(k)){const{projection:V}=this.visualElement;if(V&&V.layout){const B=V.layout.layoutBox[H];B&&(k=Dn(B)*(parseFloat(k)/100))}}this.originPoint[H]=k}),U&&bt.postRender(()=>U(v,E)),Xy(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},h=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E;const{dragPropagation:S,dragDirectionLock:D,onDirectionLock:U,onDrag:z}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:H}=E;if(D&&this.currentDirection===null){this.currentDirection=lz(H),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",E.point,H),this.updateAxis("y",E.point,H),this.visualElement.render(),z&&z(v,E)},p=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E,this.stop(v,E),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>_i(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:x}=this.getProps();this.panSession=new BA(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:s,contextWindow:LA(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&bt.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Cf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=ez(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Ml(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=tz(s.layoutBox,e):this.constraints=!1,this.elastic=rz(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&_i(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=sz(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ml(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=cB(s,a.root,this.visualElement.getTransformPagePoint());let u=nz(a.layout.layoutBox,l);if(n){const h=n(aB(u));this.hasMutatedConstraints=!!h,h&&(u=EA(h))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},g=_i(x=>{if(!Cf(x,n,this.currentDirection))return;let v=p&&p[x]||{};u&&(v={min:0,max:0});const E=a?200:1e6,S=a?40:1e7,D={type:"inertia",velocity:s?e[x]:0,bounceStiffness:E,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(x,D)});return Promise.all(g).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Xy(this.visualElement,e),s.start(z1(e,s,0,n,this.visualElement,!1))}stopAnimation(){_i(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_i(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){_i(n=>{const{drag:s}=this.getProps();if(!Cf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-_t(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ml(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};_i(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const p=h.get();a[u]=iz({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),_i(u=>{if(!Cf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:p,max:g}=this.constraints[u];h.set(_t(p,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;az.set(this.visualElement,this);const e=this.visualElement.current,n=Ku(e,"pointerdown",p=>{const{drag:g,dragListener:x=!0}=this.getProps();g&&x&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();Ml(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),bt.read(s);const u=md(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(_i(x=>{const v=this.getAxisMotionValue(x);v&&(this.originPoint[x]+=p[x].translate,v.set(v.get()+p[x].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Zy,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Cf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function lz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class cz extends Na{constructor(e){super(e),this.removeGroupControls=ji,this.removeListeners=ji,this.controls=new oz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ji}unmount(){this.removeGroupControls(),this.removeListeners()}}const c_=t=>(e,n)=>{t&&bt.postRender(()=>t(e,n))};class uz extends Na{constructor(){super(...arguments),this.removePointerDownListener=ji}onPointerDown(e){this.session=new BA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:c_(e),onStart:c_(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&bt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Ku(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $f={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function u_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Iu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=u_(t,e.target.x),s=u_(t,e.target.y);return`${n}% ${s}%`}},dz={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Ea.parse(t);if(a.length>5)return s;const l=Ea.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,p=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=p;const g=_t(h,p,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}};let G0=!1;class hz extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;ML(fz),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),G0&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),$f.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,G0=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||bt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),R1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;G0=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function UA(t){const[e,n]=CL(),s=R.useContext(v5);return d.jsx(hz,{...t,layoutGroup:s,switchLayoutGroup:R.useContext(bA),isPresent:e,safeToRemove:n})}const fz={borderRadius:{...Iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Iu,borderTopRightRadius:Iu,borderBottomLeftRadius:Iu,borderBottomRightRadius:Iu,boxShadow:dz};function mz(t,e,n){const s=Sn(t)?t:nc(t);return s.start(z1("",s,e,n)),s.animation}const pz=(t,e)=>t.depth-e.depth;class gz{constructor(){this.children=[],this.isDirty=!1}add(e){d1(this.children,e),this.isDirty=!0}remove(e){h1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pz),this.isDirty=!1,this.children.forEach(e)}}function yz(t,e){const n=Gn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(_a(s),t(l-e))};return bt.setup(s,!0),()=>_a(s)}const FA=["TopLeft","TopRight","BottomLeft","BottomRight"],xz=FA.length,d_=t=>typeof t=="string"?parseFloat(t):t,h_=t=>typeof t=="number"||Ae.test(t);function vz(t,e,n,s,a,l){a?(t.opacity=_t(0,n.opacity??1,wz(s)),t.opacityExit=_t(e.opacity??1,0,bz(s))):l&&(t.opacity=_t(e.opacity??1,n.opacity??1,s));for(let u=0;u<xz;u++){const h=`border${FA[u]}Radius`;let p=f_(e,h),g=f_(n,h);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||h_(p)===h_(g)?(t[h]=Math.max(_t(d_(p),d_(g),s),0),(Is.test(g)||Is.test(p))&&(t[h]+="%")):t[h]=g}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,s))}function f_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const wz=HA(0,.5,R5),bz=HA(.5,.95,ji);function HA(t,e,n){return s=>s<t?0:s>e?1:n(cd(t,e,s))}function m_(t,e){t.min=e.min,t.max=e.max}function bi(t,e){m_(t.x,e.x),m_(t.y,e.y)}function p_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function g_(t,e,n,s,a){return t-=e,t=_m(t,1/n,s),a!==void 0&&(t=_m(t,1/a,s)),t}function _z(t,e=0,n=1,s=.5,a,l=t,u=t){if(Is.test(e)&&(e=parseFloat(e),e=_t(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=_t(l.min,l.max,s);t===l&&(h-=e),t.min=g_(t.min,e,n,h,a),t.max=g_(t.max,e,n,h,a)}function y_(t,e,[n,s,a],l,u){_z(t,e[n],e[s],e[a],e.scale,l,u)}const Ez=["x","scaleX","originX"],Tz=["y","scaleY","originY"];function x_(t,e,n,s){y_(t.x,e,Ez,n?n.x:void 0,s?s.x:void 0),y_(t.y,e,Tz,n?n.y:void 0,s?s.y:void 0)}function v_(t){return t.translate===0&&t.scale===1}function qA(t){return v_(t.x)&&v_(t.y)}function w_(t,e){return t.min===e.min&&t.max===e.max}function Az(t,e){return w_(t.x,e.x)&&w_(t.y,e.y)}function b_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $A(t,e){return b_(t.x,e.x)&&b_(t.y,e.y)}function __(t){return Dn(t.x)/Dn(t.y)}function E_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Sz{constructor(){this.members=[]}add(e){d1(this.members,e),e.scheduleRender()}remove(e){if(h1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cz(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:x,rotateX:v,rotateY:E,skewX:S,skewY:D}=n;g&&(s=`perspective(${g}px) ${s}`),x&&(s+=`rotate(${x}deg) `),v&&(s+=`rotateX(${v}deg) `),E&&(s+=`rotateY(${E}deg) `),S&&(s+=`skewX(${S}deg) `),D&&(s+=`skewY(${D}deg) `)}const h=t.x.scale*e.x,p=t.y.scale*e.y;return(h!==1||p!==1)&&(s+=`scale(${h}, ${p})`),s||"none"}const K0=["","X","Y","Z"],Nz=1e3;let jz=0;function Y0(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function GA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=IA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",bt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&GA(s)}function KA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=jz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kz),this.nodes.forEach(Vz),this.nodes.forEach(Oz),this.nodes.forEach(Dz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new gz)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new p1),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const p=this.eventHandlers.get(u);p&&p.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=lA(u)&&!TL(u),this.instance=u;const{layoutId:h,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||h)&&(this.isLayoutDirty=!0),t){let x,v=0;const E=()=>this.root.updateBlockedByResize=!1;bt.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,x&&x(),x=yz(E,250),$f.hasAnimatedSinceResize&&($f.hasAnimatedSinceResize=!1,this.nodes.forEach(S_)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||p)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||g.getDefaultTransition()||Fz,{onLayoutAnimationStart:U,onLayoutAnimationComplete:z}=g.getProps(),H=!this.targetLayout||!$A(this.targetLayout,S),k=!v&&E;if(this.options.layoutRoot||this.resumeFrom||k||v&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const V={...N1(D,"layout"),onPlay:U,onComplete:z};(g.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V),this.setAnimationOrigin(x,k)}else v||S_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_a(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lz),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const v=this.path[x];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(T_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(A_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Pz),this.nodes.forEach(Rz),this.nodes.forEach(Iz)):this.nodes.forEach(A_),this.clearAllSnapshots();const h=Gn.now();gn.delta=vr(0,1e3/60,h-gn.timestamp),gn.timestamp=h,gn.isProcessing=!0,V0.update.process(gn),V0.preRender.process(gn),V0.render.process(gn),gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,R1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Mz),this.sharedNodes.forEach(Bz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dn(this.snapshot.measuredBox.x)&&!Dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!qA(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,x=g!==this.prevTransformTemplateValue;u&&this.instance&&(h||co(this.latestValues)||x)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return u&&(p=this.removeTransform(p)),Hz(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return kt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(qz))){const{scroll:g}=this.root;g&&(Pl(h.x,g.offset.x),Pl(h.y,g.offset.y))}return h}removeElementScroll(u){const h=kt();if(bi(h,u),this.scroll?.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:x,options:v}=g;g!==this.root&&x&&v.layoutScroll&&(x.wasRoot&&bi(h,u),Pl(h.x,x.offset.x),Pl(h.y,x.offset.y))}return h}applyTransform(u,h=!1){const p=kt();bi(p,u);for(let g=0;g<this.path.length;g++){const x=this.path[g];!h&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Vl(p,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),co(x.latestValues)&&Vl(p,x.latestValues)}return co(this.latestValues)&&Vl(p,this.latestValues),p}removeTransform(u){const h=kt();bi(h,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!co(g.latestValues))continue;Gy(g.latestValues)&&g.updateSnapshot();const x=kt(),v=g.measurePageBox();bi(x,v),x_(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,x)}return co(this.latestValues)&&x_(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:v}=this.options;if(!(!this.layout||!(x||v))){if(this.resolvedRelativeTargetAt=gn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Qu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bi(this.target,this.layout.layoutBox),AA(this.target,this.targetDelta)):bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Qu(this.relativeTargetOrigin,this.target,E.target),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gy(this.parent.latestValues)||TA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===gn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||x))return;bi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;lB(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=kt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p_(this.prevProjectionDelta.x,this.projectionDelta.x),p_(this.prevProjectionDelta.y,this.projectionDelta.y)),Yu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!E_(this.projectionDelta.x,this.prevProjectionDelta.x)||!E_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ol(),this.projectionDelta=Ol(),this.projectionDeltaWithTransform=Ol()}setAnimationOrigin(u,h=!1){const p=this.snapshot,g=p?p.latestValues:{},x={...this.latestValues},v=Ol();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=kt(),S=p?p.source:void 0,D=this.layout?this.layout.source:void 0,U=S!==D,z=this.getStack(),H=!z||z.members.length<=1,k=!!(U&&!H&&this.options.crossfade===!0&&!this.path.some(Uz));this.animationProgress=0;let V;this.mixTargetDelta=B=>{const M=B/1e3;C_(v.x,u.x,M),C_(v.y,u.y,M),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zz(this.relativeTarget,this.relativeTargetOrigin,E,M),V&&Az(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=kt()),bi(V,this.relativeTarget)),U&&(this.animationValues=x,vz(x,g,this.latestValues,M,k,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(_a(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{$f.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=nc(0)),this.currentAnimation=mz(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Nz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:p,layout:g,latestValues:x}=u;if(!(!h||!p||!g)){if(this!==u&&this.layout&&g&&YA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||kt();const v=Dn(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+v;const E=Dn(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+E}bi(h,p),Vl(h,x),Yu(this.projectionDeltaWithTransform,this.layoutCorrected,h,x)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Sz),this.sharedNodes.get(u).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const g={};p.z&&Y0("z",u,g,this.animationValues);for(let x=0;x<K0.length;x++)Y0(`rotate${K0[x]}`,u,g,this.animationValues),Y0(`skew${K0[x]}`,u,g,this.animationValues);u.render();for(const x in g)u.setStaticValue(x,g[x]),this.animationValues&&(this.animationValues[x]=g[x]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=qf(h?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=qf(h?.pointerEvents)||""),this.hasProjected&&!co(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const x=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=Cz(this.projectionDeltaWithTransform,this.treeScale,x);p&&(v=p(x,v)),u.transform=v;const{x:E,y:S}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${S.origin*100}% 0`,g.animationValues?u.opacity=g===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:u.opacity=g===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const D in fd){if(x[D]===void 0)continue;const{correct:U,applyTo:z,isCSSVariable:H}=fd[D],k=v==="none"?x[D]:U(x[D],g);if(z){const V=z.length;for(let B=0;B<V;B++)u[z[B]]=k}else H?this.options.visualElement.renderState.vars[D]=k:u[D]=k}this.options.layoutId&&(u.pointerEvents=g===this?qf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(T_),this.root.sharedNodes.clear()}}}function Rz(t){t.updateLayout()}function Iz(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?_i(x=>{const v=l?e.measuredBox[x]:e.layoutBox[x],E=Dn(v);v.min=n[x].min,v.max=v.min+E}):YA(a,e.layoutBox,n)&&_i(x=>{const v=l?e.measuredBox[x]:e.layoutBox[x],E=Dn(n[x]);v.max=v.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+E)});const u=Ol();Yu(u,n,e.layoutBox);const h=Ol();l?Yu(h,t.applyTransform(s,!0),e.measuredBox):Yu(h,n,e.layoutBox);const p=!qA(u);let g=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:v,layout:E}=x;if(v&&E){const S=kt();Qu(S,e.layoutBox,v.layoutBox);const D=kt();Qu(D,n,E.layoutBox),$A(S,D)||(g=!0),x.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=S,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function kz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Dz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Mz(t){t.clearSnapshot()}function T_(t){t.clearMeasurements()}function A_(t){t.isLayoutDirty=!1}function Pz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function S_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Vz(t){t.resolveTargetDelta()}function Oz(t){t.calcProjection()}function Lz(t){t.resetSkewAndRotation()}function Bz(t){t.removeLeadSnapshot()}function C_(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function N_(t,e,n,s){t.min=_t(e.min,n.min,s),t.max=_t(e.max,n.max,s)}function zz(t,e,n,s){N_(t.x,e.x,n.x,s),N_(t.y,e.y,n.y,s)}function Uz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Fz={duration:.45,ease:[.4,0,.1,1]},j_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),R_=j_("applewebkit/")&&!j_("chrome/")?Math.round:ji;function I_(t){t.min=R_(t.min),t.max=R_(t.max)}function Hz(t){I_(t.x),I_(t.y)}function YA(t,e,n){return t==="position"||t==="preserve-aspect"&&!QB(__(e),__(n),.2)}function qz(t){return t!==t.root&&t.scroll?.wasRoot}const $z=KA({attachResizeListener:(t,e)=>md(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Q0={current:void 0},QA=KA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Q0.current){const t=new $z({});t.mount(window),t.setOptions({layoutScroll:!0}),Q0.current=t}return Q0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Gz={pan:{Feature:uz},drag:{Feature:cz,ProjectionNode:QA,MeasureLayout:UA}};function k_(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&bt.postRender(()=>l(e,Pd(e)))}class Kz extends Na{mount(){const{current:e}=this.node;e&&(this.unmount=vL(e,(n,s)=>(k_(this.node,s,"Start"),a=>k_(this.node,a,"End"))))}unmount(){}}class Yz extends Na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kd(md(this.node.current,"focus",()=>this.onFocus()),md(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function D_(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&bt.postRender(()=>l(e,Pd(e)))}class Qz extends Na{mount(){const{current:e}=this.node;e&&(this.unmount=EL(e,(n,s)=>(D_(this.node,s,"Start"),(a,{success:l})=>D_(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jy=new WeakMap,X0=new WeakMap,Xz=t=>{const e=Jy.get(t.target);e&&e(t)},Wz=t=>{t.forEach(Xz)};function Zz({root:t,...e}){const n=t||document;X0.has(n)||X0.set(n,{});const s=X0.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(Wz,{root:t,...e})),s[a]}function Jz(t,e,n){const s=Zz(e);return Jy.set(t,n),s.observe(t),()=>{Jy.delete(t),s.unobserve(t)}}const eU={some:0,all:1};class tU extends Na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:eU[a]},h=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:x,onViewportLeave:v}=this.node.getProps(),E=g?x:v;E&&E(p)};return Jz(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(nU(e,n))&&this.startObserver()}unmount(){}}function nU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const iU={inView:{Feature:tU},tap:{Feature:Qz},focus:{Feature:Yz},hover:{Feature:Kz}},sU={layout:{ProjectionNode:QA,MeasureLayout:UA}},rU={...HB,...iU,...Gz,...sU},te=rB(rU,xB);const aU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),M_=t=>{const e=oU(t);return e.charAt(0).toUpperCase()+e.slice(1)},XA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),lU=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var cU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uU=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...h},p)=>R.createElement("svg",{ref:p,...cU,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:XA("lucide",a),...!l&&!lU(h)&&{"aria-hidden":"true"},...h},[...u.map(([g,x])=>R.createElement(g,x)),...Array.isArray(l)?l:[l]]));const Di=(t,e)=>{const n=R.forwardRef(({className:s,...a},l)=>R.createElement(uU,{ref:l,iconNode:e,className:XA(`lucide-${aU(M_(t))}`,`lucide-${t}`,s),...a}));return n.displayName=M_(t),n};const dU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hU=Di("arrow-right",dU);const fU=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],WA=Di("book-open",fU);const mU=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],pU=Di("book",mU);const gU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Em=Di("clock",gU);const yU=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],U1=Di("sparkles",yU);const xU=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ZA=Di("star",xU);const vU=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],wU=Di("sword",vU);const bU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],_U=Di("target",bU);const EU=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],TU=Di("timer",EU);const AU=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],SU=Di("trophy",AU);const CU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],NU=Di("users",CU);const jU=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],RU=Di("zap",jU);function IU(t){return ge({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,32V192a8,8,0,0,1-8,8H72a16,16,0,0,0-16,16H192a8,8,0,0,1,0,16H48a8,8,0,0,1-8-8V56A32,32,0,0,1,72,24H208A8,8,0,0,1,216,32Z"},child:[]}]})(t)}function P_(t){return ge({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M232,128A104,104,0,1,1,128,24,104.13,104.13,0,0,1,232,128Z"},child:[]}]})(t)}function kU(t){return ge({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,96a12,12,0,1,1,12,12A12,12,0,0,1,208,96ZM196,72a12,12,0,1,0-12-12A12,12,0,0,0,196,72Zm28.66,56a8,8,0,0,0-8.63,7.31A88.12,88.12,0,1,1,120.66,40,8,8,0,0,0,119.34,24,104.12,104.12,0,1,0,232,136.66,8,8,0,0,0,224.66,128ZM128,56a72,72,0,1,1-72,72A72.08,72.08,0,0,1,128,56Zm-8,72a8,8,0,0,0,8,8h48a8,8,0,0,0,0-16H136V80a8,8,0,0,0-16,0Zm40-80a12,12,0,1,0-12-12A12,12,0,0,0,160,48Z"},child:[]}]})(t)}function DU(t){return ge({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M176,207.24a119,119,0,0,0,16-7.73V240a8,8,0,0,1-16,0Zm11.76-88.43-56-29.87a8,8,0,0,0-7.52,14.12L171,128l17-9.06Zm64-29.87-120-64a8,8,0,0,0-7.52,0l-120,64a8,8,0,0,0,0,14.12L32,117.87v48.42a15.91,15.91,0,0,0,4.06,10.65C49.16,191.53,78.51,216,128,216a130,130,0,0,0,48-8.76V130.67L171,128l-43,22.93L43.83,106l0,0L25,96,128,41.07,231,96l-18.78,10-.06,0L188,118.94a8,8,0,0,1,4,6.93v73.64a115.63,115.63,0,0,0,27.94-22.57A15.91,15.91,0,0,0,224,166.29V117.87l27.76-14.81a8,8,0,0,0,0-14.12Z"},child:[]}]})(t)}function MU(t){return ge({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-32.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"},child:[]}]})(t)}function PU(t){return ge({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM51.31,160l90.35-90.35,16.68,16.69L68,176.68ZM48,179.31,76.69,208H48Zm48,25.38L79.31,188l90.35-90.35h0l16.68,16.69Z"},child:[]}]})(t)}function V_(t){return ge({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M234.29,114.85l-45,38.83L203,211.75a16.4,16.4,0,0,1-24.5,17.82L128,198.49,77.47,229.57A16.4,16.4,0,0,1,53,211.75l13.76-58.07-45-38.83A16.46,16.46,0,0,1,31.08,86l59-4.76,22.76-55.08a16.36,16.36,0,0,1,30.27,0l22.75,55.08,59,4.76a16.46,16.46,0,0,1,9.37,28.86Z"},child:[]}]})(t)}function VU(){const t=[{icon:eV,key:"book1",top:10,left:5},{icon:JP,key:"book2",top:70,left:15},{icon:iV,key:"library",top:25,left:85},{icon:P_,key:"circle",top:80,left:75},{icon:IU,key:"bookFill",top:45,left:10},{icon:PU,key:"pencil",top:15,left:90},{icon:DU,key:"graduation",top:35,left:95},{icon:MU,key:"lightbulb",top:85,left:5},{icon:V_,key:"star1",top:20,left:25},{icon:V_,key:"star2",top:60,left:90},{icon:P_,key:"circle2",top:5,left:70},{text:"A",key:"letterA",top:30,left:3},{text:"B",key:"letterB",top:75,left:95},{text:"Q",key:"letterQ",top:50,left:2},{text:"W",key:"letterW",top:12,left:78},{text:"E",key:"letterE",top:65,left:50},{text:"R",key:"letterR",top:40,left:70},{text:"T",key:"letterT",top:85,left:40},{text:"Y",key:"letterY",top:18,left:45}];return d.jsxs("section",{className:"relative w-full overflow-hidden rounded-2xl sm:rounded-3xl bg-[#0F172A] py-12 sm:py-16 md:py-20 px-4 sm:px-6 md:px-8 shadow-2xl border border-white/10",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-[#1E3A8A]/40 via-[#38BDF8]/30 to-transparent blur-3xl opacity-40 pointer-events-none"}),t.map((e,n)=>d.jsx(te.div,{className:"absolute text-4xl sm:text-5xl opacity-10 select-none pointer-events-none text-blue-300 font-bold",initial:{opacity:0,y:50},animate:{opacity:[.05,.15,.05],y:[-20,20,-20],x:[0,10,-10,0],rotate:[0,5,-5,0]},transition:{duration:8+n*1.5,repeat:1/0,ease:"easeInOut"},style:{top:`${e.top}%`,left:`${e.left}%`},children:e.icon?d.jsx(e.icon,{}):e.text},e.key)),d.jsxs("div",{className:"relative max-w-5xl mx-auto text-center",children:[d.jsxs(te.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold leading-tight text-white drop-shadow-xl",children:["Embrcate en la Aventura del Conocimiento con"," ",d.jsx("span",{className:"bg-linear-to-r from-[#38BDF8] to-[#1E3A8A] bg-clip-text text-transparent",children:"WordQuest"})]}),d.jsx(te.p,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.8},className:"mt-4 sm:mt-6 text-base sm:text-lg md:text-xl text-gray-300 max-w-3xl mx-auto px-2",children:"Fortalece tu vocabulario, comprensin lectora y habilidades de escritura mientras avanzas por mundos temticos llenos de retos y recompensas."}),d.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1},className:"mt-8 sm:mt-10",children:d.jsxs(Kt,{to:"/games",className:"group inline-flex items-center gap-2 bg-[#FACC15] text-[#0F172A] font-bold text-base sm:text-lg px-6 sm:px-8 py-3 sm:py-4 rounded-xl sm:rounded-2xl shadow-lg shadow-yellow-300/20 hover:shadow-yellow-300/40 transition-all duration-300",children:[d.jsx(U1,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:rotate-12 transition-transform"}),"Comenzar tu aventura"]})})]})]})}function OU(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496.938 14.063c-95.14 3.496-172.297 24.08-231.282 55.812l-29.47 49.28-4.967-28.093c-10.535 7.402-20.314 15.222-29.314 23.407l-14.687 45.06-5.032-25.155c-40.65 45.507-60.41 99.864-58.938 155.906 47.273-93.667 132.404-172.727 211.97-221.155l9.717 15.97c-75.312 45.838-156.387 121.202-202.187 208.25h12.156c19.78-12.02 39.16-26.858 58.406-43.44l-30.28 1.595 54.218-23.094c46.875-43.637 93.465-94.974 143.313-138.28l-24.47-5.19 56.5-21.03c26.853-20.485 54.8-37.844 84.344-49.843zM59.53 312.03v30.408H194V312.03H59.53zm20.376 49.095L47.25 389.813 24.97 474.78l14.53 15.876h177.22l14.56-15.875L209 389.814l-30.906-28.688H79.906z"},child:[]}]})(t)}function LU(){const t=[{title:"Misiones de Vocabulario",description:"Explora nuevas palabras a travs de historias interactivas y desafos atractivos que hacen que el aprendizaje perdure.",icon:d.jsx(cV,{className:"text-4xl"}),gradient:"from-blue-500 to-blue-600",accentBg:"bg-blue-50 dark:bg-blue-950"},{title:"Aventuras de Lectura",description:"Desbloquea superpoderes de comprensin con pasajes adaptativos diseados para tu nivel.",icon:d.jsx(OU,{className:"text-4xl"}),gradient:"from-cyan-500 to-blue-500",accentBg:"bg-cyan-50 dark:bg-cyan-950"},{title:"Misiones de Escritura",description:"Construye confianza con indicaciones guiadas, retroalimentacin instantnea y expresin creativa.",icon:d.jsx(yV,{className:"text-4xl"}),gradient:"from-purple-500 to-pink-500",accentBg:"bg-purple-50 dark:bg-purple-950"},{title:"Sistema de Logros",description:"Gana insignias, desbloquea nuevo contenido y rastrea tu progreso en la tabla de clasificacin.",icon:d.jsx(ar,{className:"text-4xl"}),gradient:"from-amber-500 to-orange-500",accentBg:"bg-amber-50 dark:bg-amber-950"},{title:"Desafos Diarios",description:"Mantn tus habilidades afiladas con desafos frescos entregados cada da.",icon:d.jsx(lV,{className:"text-4xl"}),gradient:"from-yellow-500 to-amber-500",accentBg:"bg-yellow-50 dark:bg-yellow-950"},{title:"Modo Contrareloj",description:"Ejercicios de vocabulario y comprensin con lmite de tiempo.",icon:d.jsx(kU,{className:"text-4xl"}),gradient:"from-rose-500 to-red-500",accentBg:"bg-rose-50 dark:bg-rose-950"}];return d.jsxs("section",{className:"w-full py-20 px-4 sm:px-6 md:px-12 lg:px-20 bg-linear-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:[d.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[d.jsx("h2",{className:"text-4xl sm:text-5xl font-black text-slate-900 dark:text-white mb-4 text-balance",children:"Por qu WordQuest?"}),d.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 leading-relaxed",children:"Convierte el aprendizaje en una aventura con experiencia gamificada para motivar a los estudiantes y fomentar la creatividad."})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:t.map((e,n)=>d.jsxs("div",{className:"group relative h-full rounded-2xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 overflow-hidden transition-all duration-500 hover:shadow-2xl hover:-translate-y-1",children:[d.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-linear-to-br ${e.gradient} rounded-full -translate-y-16 translate-x-16 opacity-10 group-hover:scale-125 transition-transform duration-500`}),d.jsx("div",{className:`relative m-6 w-20 h-20 rounded-2xl ${e.accentBg} flex items-center justify-center bg-linear-to-br ${e.gradient} text-white group-hover:scale-110 group-hover:rotate-3 transition-all duration-300`,children:e.icon}),d.jsxs("div",{className:"relative px-6 pb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3 group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-linear-to-r group-hover:from-blue-600 group-hover:to-purple-600 transition-all duration-300",children:e.title}),d.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-base leading-relaxed",children:e.description})]}),d.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 bg-linear-to-r ${e.gradient} transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left`})]},n))})]})}function BU(){const t=[{number:"01",icon:SV,title:"Crea tu Hroe",description:"Regstrate y personaliza tu avatar de aprendizaje.",color:"from-purple-500 to-pink-500"},{number:"02",icon:_V,title:"Elige tu Camino",description:"Selecciona misiones segn tu nivel e intereses.",color:"from-blue-500 to-cyan-500"},{number:"03",icon:TV,title:"Completa Retos",description:"Domina vocabulario, lectura y escritura con actividades dinmicas.",color:"from-yellow-500 to-orange-500"},{number:"04",icon:ky,title:"Sube de Nivel",description:"Gana XP, desbloquea recompensas y escala en el ranking.",color:"from-green-500 to-emerald-500"}];return d.jsxs("section",{className:"relative w-full py-20 bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 opacity-20",children:d.jsx("div",{className:"w-full h-full",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='1.5'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-4",children:[d.jsxs(te.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold bg-linear-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent mb-4",children:"Cmo Funciona?"}),d.jsx("p",{className:"text-gray-300 text-lg max-w-2xl mx-auto",children:"Tu aventura de aprendizaje comienza en 4 simples pasos."})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"hidden lg:block absolute top-1/2 left-0 right-0 h-0.5 bg-linear-to-r from-purple-500 via-blue-500 via-yellow-500 to-green-500 transform -translate-y-1/2 z-0"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative z-10",children:t.map((e,n)=>{const s=e.icon;return d.jsx(te.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:n*.2},whileHover:{y:-10,scale:1.02},className:"relative group",children:d.jsxs("div",{className:"relative h-full backdrop-blur-xl bg-white/10 border border-white/20 rounded-3xl p-8 shadow-2xl hover:shadow-purple-500/25 transition-all duration-500",children:[d.jsx("div",{className:`absolute inset-0 bg-linear-to-br ${e.color} opacity-0 group-hover:opacity-20 rounded-3xl transition-opacity duration-500`}),d.jsx(te.div,{className:`absolute -top-6 left-1/2 transform -translate-x-1/2 w-12 h-12 bg-linear-to-br ${e.color} text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg`,whileHover:{rotate:360,scale:1.1},transition:{duration:.5},children:e.number}),d.jsx(te.div,{className:"flex justify-center mt-6 mb-6",whileHover:{rotate:[0,-10,10,-10,0],scale:1.2},transition:{duration:.5},children:d.jsx(s,{className:"text-5xl text-white"})}),d.jsx("h3",{className:"font-bold text-xl text-white mb-3 text-center",children:e.title}),d.jsx("p",{className:"text-gray-300 text-center leading-relaxed",children:e.description}),d.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 bg-linear-to-r ${e.color} rounded-b-3xl transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500`})]})},n)})})]})]})]})}function zU(){const t=new Date().getFullYear();return d.jsxs("footer",{className:"w-full bg-slate-900 text-slate-300 pt-14 pb-6 px-6",children:[d.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-3 gap-10",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-cyan-400",children:"WordQuest"}),d.jsx("p",{className:"mt-3 text-sm text-slate-400",children:"Aprende jugando. Domina el vocabulario, la lectura y la escritura de forma divertida."})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-cyan-400",children:"Enlaces"}),d.jsxs("ul",{className:"mt-3 space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"/",className:"hover:text-cyan-400 transition",children:"Inicio"})}),d.jsx("li",{children:d.jsx("a",{href:"/learn",className:"hover:text-cyan-400 transition",children:"Aprender"})}),d.jsx("li",{children:d.jsx("a",{href:"/challenges",className:"hover:text-cyan-400 transition",children:"Retos"})}),d.jsx("li",{children:d.jsx("a",{href:"/about",className:"hover:text-cyan-400 transition",children:"Sobre Nosotros"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-cyan-400",children:"Contacto"}),d.jsx("p",{className:"mt-3 text-sm",children:"Email: soporte@wordquest.com"}),d.jsx("p",{className:"text-sm",children:"Colombia"}),d.jsxs("div",{className:"flex gap-4 mt-4 text-xl",children:[d.jsx(rV,{className:"cursor-pointer hover:text-cyan-400 transition"}),d.jsx(aV,{className:"cursor-pointer hover:text-cyan-400 transition"}),d.jsx(oV,{className:"cursor-pointer hover:text-cyan-400 transition"})]})]})]}),d.jsxs("div",{className:"text-center text-slate-500 text-sm mt-10 border-t border-slate-700 pt-4",children:[" ",t," WordQuest  Todos los derechos reservados."]})]})}function UU(){return d.jsxs(d.Fragment,{children:[d.jsx(Wi,{}),d.jsx("div",{className:"px-4 sm:px-6 md:px-8 py-8",children:d.jsx(VU,{})}),d.jsx(LU,{}),d.jsx(BU,{}),d.jsx("div",{className:"h-px bg-linear-to-r from-transparent via-blue-400/50 to-transparent"}),d.jsx(zU,{})]})}function Ls(){const[t]=Ji(bn),e=br(),n=sn(),s=async()=>{try{await tE(bn),n("/")}catch(l){console.error("Error signing out:",l)}};if(!t)return null;const a=[{path:"/",icon:wV,label:"Inicio"},{path:"/dashboard",icon:mV,label:"Dashboard"},{path:"/user-profile",icon:So,label:"Perfil"}];return d.jsx(te.nav,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"fixed top-4 right-4 z-50",children:d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-2 flex items-center space-x-2",children:[a.map(l=>{const u=l.icon,h=e.pathname===l.path;return d.jsx(Kt,{to:l.path,className:`p-3 rounded-xl transition-all ${h?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,children:d.jsx(u,{className:"text-lg"})},l.path)}),d.jsx("button",{onClick:s,className:"p-3 rounded-xl text-white/70 hover:text-white hover:bg-red-500/20 transition-all",title:"Cerrar sesin",children:d.jsx(AV,{className:"text-lg"})})]})})}function FU(){const[t,e]=Ji(bn);return e?d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando..."})}):d.jsxs(d.Fragment,{children:[t&&d.jsx(Ls,{}),d.jsx(UU,{})]})}const HU=async t=>{try{if(!bn)throw new Error("Firebase Auth no est configurado correctamente");const n=(await z9(bn,t.email,t.password)).user;return await ia(ut(Se,"users",n.uid),{name:t.name,email:t.email,birthdate:t.birthdate,country:t.country,city:t.city,createdAt:new Date,uid:n.uid}),{success:!0,user:n}}catch(e){console.error("Registration error:",e);let n=e.message;return e.code==="auth/configuration-not-found"?n="Firebase Authentication no est habilitado. Contacta al administrador.":e.code==="auth/email-already-in-use"?n="Este email ya est registrado.":e.code==="auth/weak-password"?n="La contrasea es muy dbil.":e.code==="permission-denied"&&(n="Error de permisos. Contacta al administrador."),{success:!1,error:n}}},qU=async(t,e)=>{try{if(!bn)throw new Error("Firebase Auth no est configurado correctamente");const s=(await U9(bn,t,e)).user,a=await vn(ut(Se,"users",s.uid)),l=a.exists()?a.data():null;return{success:!0,user:s,userData:l}}catch(n){console.error("Login error:",n);let s=n.message;return n.code==="auth/invalid-credential"?s="Email o contrasea incorrectos. Verifica tus datos.":n.code==="auth/user-not-found"?s="No existe una cuenta con este email.":n.code==="auth/wrong-password"?s="Contrasea incorrecta.":n.code==="auth/invalid-email"?s="Email invlido.":n.code==="auth/user-disabled"&&(s="Esta cuenta ha sido deshabilitada."),{success:!1,error:s}}};function JA(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function $U(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function O_(t,e){return t.get(JA(t,e))}function GU(t,e,n){$U(t,e),e.set(t,n)}function KU(t,e,n){return t.set(JA(t,e),n),n}const YU=100,be={},QU=()=>{be.previousActiveElement instanceof HTMLElement?(be.previousActiveElement.focus(),be.previousActiveElement=null):document.body&&document.body.focus()},XU=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,s=window.scrollY;be.restoreFocusTimeout=setTimeout(()=>{QU(),e()},YU),window.scrollTo(n,s)}),eS="swal2-",WU=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],ne=WU.reduce((t,e)=>(t[e]=eS+e,t),{}),ZU=["success","warning","info","question","error"],Tm=ZU.reduce((t,e)=>(t[e]=eS+e,t),{}),tS="SweetAlert2:",F1=t=>t.charAt(0).toUpperCase()+t.slice(1),Pn=t=>{console.warn(`${tS} ${typeof t=="object"?t.join(" "):t}`)},Po=t=>{console.error(`${tS} ${t}`)},L_=[],JU=t=>{L_.includes(t)||(L_.push(t),Pn(t))},nS=(t,e=null)=>{JU(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},cp=t=>typeof t=="function"?t():t,H1=t=>t&&typeof t.toPromise=="function",Vd=t=>H1(t)?t.toPromise():Promise.resolve(t),q1=t=>t&&Promise.resolve(t)===t,Vn=()=>document.body.querySelector(`.${ne.container}`),Od=t=>{const e=Vn();return e?e.querySelector(t):null},ai=t=>Od(`.${t}`),We=()=>ai(ne.popup),wc=()=>ai(ne.icon),eF=()=>ai(ne["icon-content"]),iS=()=>ai(ne.title),$1=()=>ai(ne["html-container"]),sS=()=>ai(ne.image),G1=()=>ai(ne["progress-steps"]),up=()=>ai(ne["validation-message"]),Ps=()=>Od(`.${ne.actions} .${ne.confirm}`),bc=()=>Od(`.${ne.actions} .${ne.cancel}`),Vo=()=>Od(`.${ne.actions} .${ne.deny}`),tF=()=>ai(ne["input-label"]),_c=()=>Od(`.${ne.loader}`),Ld=()=>ai(ne.actions),rS=()=>ai(ne.footer),dp=()=>ai(ne["timer-progress-bar"]),K1=()=>ai(ne.close),nF=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Y1=()=>{const t=We();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((l,u)=>{const h=parseInt(l.getAttribute("tabindex")||"0"),p=parseInt(u.getAttribute("tabindex")||"0");return h>p?1:h<p?-1:0}),s=t.querySelectorAll(nF),a=Array.from(s).filter(l=>l.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(a))].filter(l=>Kn(l))},Q1=()=>hr(document.body,ne.shown)&&!hr(document.body,ne["toast-shown"])&&!hr(document.body,ne["no-backdrop"]),hp=()=>{const t=We();return t?hr(t,ne.toast):!1},iF=()=>{const t=We();return t?t.hasAttribute("data-loading"):!1},oi=(t,e)=>{if(t.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),a=s.querySelector("head");a&&Array.from(a.childNodes).forEach(u=>{t.appendChild(u)});const l=s.querySelector("body");l&&Array.from(l.childNodes).forEach(u=>{u instanceof HTMLVideoElement||u instanceof HTMLAudioElement?t.appendChild(u.cloneNode(!0)):t.appendChild(u)})}},hr=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let s=0;s<n.length;s++)if(!t.classList.contains(n[s]))return!1;return!0},sF=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(ne).includes(n)&&!Object.values(Tm).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},ri=(t,e,n)=>{if(sF(t,e),!e.customClass)return;const s=e.customClass[n];if(s){if(typeof s!="string"&&!s.forEach){Pn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof s}"`);return}et(t,s)}},fp=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${ne.popup} > .${ne[e]}`);case"checkbox":return t.querySelector(`.${ne.popup} > .${ne.checkbox} input`);case"radio":return t.querySelector(`.${ne.popup} > .${ne.radio} input:checked`)||t.querySelector(`.${ne.popup} > .${ne.radio} input:first-child`);case"range":return t.querySelector(`.${ne.popup} > .${ne.range} input`);default:return t.querySelector(`.${ne.popup} > .${ne.input}`)}},aS=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},oS=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(t)?t.forEach(a=>{n?a.classList.add(s):a.classList.remove(s)}):n?t.classList.add(s):t.classList.remove(s)}))},et=(t,e)=>{oS(t,e,!0)},Ii=(t,e)=>{oS(t,e,!1)},ca=(t,e)=>{const n=Array.from(t.children);for(let s=0;s<n.length;s++){const a=n[s];if(a instanceof HTMLElement&&hr(a,e))return a}},vo=(t,e,n)=>{n===`${parseInt(`${n}`)}`&&(n=parseInt(n)),n||parseInt(`${n}`)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},cn=(t,e="flex")=>{t&&(t.style.display=e)},jn=t=>{t&&(t.style.display="none")},X1=(t,e="block")=>{t&&new MutationObserver(()=>{Bd(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},B_=(t,e,n,s)=>{const a=t.querySelector(e);a&&a.style.setProperty(n,s)},Bd=(t,e,n="flex")=>{e?cn(t,n):jn(t)},Kn=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),rF=()=>!Kn(Ps())&&!Kn(Vo())&&!Kn(bc()),e2=t=>t.scrollHeight>t.clientHeight,aF=(t,e)=>{let n=t;for(;n&&n!==e;){if(e2(n))return!0;n=n.parentElement}return!1},lS=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||s>0},W1=(t,e=!1)=>{const n=dp();n&&Kn(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},oF=()=>{const t=dp();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),s=e/n*100;t.style.width=`${s}%`},lF=()=>typeof window>"u"||typeof document>"u",cF=`
 <div aria-labelledby="${ne.title}" aria-describedby="${ne["html-container"]}" class="${ne.popup}" tabindex="-1">
   <button type="button" class="${ne.close}"></button>
   <ul class="${ne["progress-steps"]}"></ul>
   <div class="${ne.icon}"></div>
   <img class="${ne.image}" />
   <h2 class="${ne.title}" id="${ne.title}"></h2>
   <div class="${ne["html-container"]}" id="${ne["html-container"]}"></div>
   <input class="${ne.input}" id="${ne.input}" />
   <input type="file" class="${ne.file}" />
   <div class="${ne.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${ne.select}" id="${ne.select}"></select>
   <div class="${ne.radio}"></div>
   <label class="${ne.checkbox}">
     <input type="checkbox" id="${ne.checkbox}" />
     <span class="${ne.label}"></span>
   </label>
   <textarea class="${ne.textarea}" id="${ne.textarea}"></textarea>
   <div class="${ne["validation-message"]}" id="${ne["validation-message"]}"></div>
   <div class="${ne.actions}">
     <div class="${ne.loader}"></div>
     <button type="button" class="${ne.confirm}"></button>
     <button type="button" class="${ne.deny}"></button>
     <button type="button" class="${ne.cancel}"></button>
   </div>
   <div class="${ne.footer}"></div>
   <div class="${ne["timer-progress-bar-container"]}">
     <div class="${ne["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),uF=()=>{const t=Vn();return t?(t.remove(),Ii([document.documentElement,document.body],[ne["no-backdrop"],ne["toast-shown"],ne["has-column"]]),!0):!1},oo=()=>{be.currentInstance.resetValidationMessage()},dF=()=>{const t=We(),e=ca(t,ne.input),n=ca(t,ne.file),s=t.querySelector(`.${ne.range} input`),a=t.querySelector(`.${ne.range} output`),l=ca(t,ne.select),u=t.querySelector(`.${ne.checkbox} input`),h=ca(t,ne.textarea);e.oninput=oo,n.onchange=oo,l.onchange=oo,u.onchange=oo,h.oninput=oo,s.oninput=()=>{oo(),a.value=s.value},s.onchange=()=>{oo(),a.value=s.value}},hF=t=>typeof t=="string"?document.querySelector(t):t,fF=t=>{const e=We();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},mF=t=>{window.getComputedStyle(t).direction==="rtl"&&et(Vn(),ne.rtl)},pF=t=>{const e=uF();if(lF()){Po("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=ne.container,e&&et(n,ne["no-transition"]),oi(n,cF),n.dataset.swal2Theme=t.theme;const s=hF(t.target);s.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),fF(t),mF(s),dF()},Z1=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?gF(t,e):t&&oi(e,t)},gF=(t,e)=>{t.jquery?yF(e,t):oi(e,t.toString())},yF=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},xF=(t,e)=>{const n=Ld(),s=_c();!n||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?jn(n):cn(n),ri(n,e,"actions"),vF(n,s,e),oi(s,e.loaderHtml||""),ri(s,e,"loader"))};function vF(t,e,n){const s=Ps(),a=Vo(),l=bc();!s||!a||!l||(Z0(s,"confirm",n),Z0(a,"deny",n),Z0(l,"cancel",n),wF(s,a,l,n),n.reverseButtons&&(n.toast?(t.insertBefore(l,s),t.insertBefore(a,s)):(t.insertBefore(l,e),t.insertBefore(a,e),t.insertBefore(s,e))))}function wF(t,e,n,s){if(!s.buttonsStyling){Ii([t,e,n],ne.styled);return}et([t,e,n],ne.styled),s.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),W0(t),W0(e),W0(n)}function W0(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Z0(t,e,n){const s=F1(e);Bd(t,n[`show${s}Button`],"inline-block"),oi(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=ne[e],ri(t,n,`${e}Button`)}const bF=(t,e)=>{const n=K1();n&&(oi(n,e.closeButtonHtml||""),ri(n,e,"closeButton"),Bd(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},_F=(t,e)=>{const n=Vn();n&&(EF(n,e.backdrop),TF(n,e.position),AF(n,e.grow),ri(n,e,"container"))};function EF(t,e){typeof e=="string"?t.style.background=e:e||et([document.documentElement,document.body],ne["no-backdrop"])}function TF(t,e){e&&(e in ne?et(t,ne[e]):(Pn('The "position" parameter is not valid, defaulting to "center"'),et(t,ne.center)))}function AF(t,e){e&&et(t,ne[`grow-${e}`])}var ht={innerParams:new WeakMap,domCache:new WeakMap};const SF=["input","file","range","select","radio","checkbox","textarea"],CF=(t,e)=>{const n=We();if(!n)return;const s=ht.innerParams.get(t),a=!s||e.input!==s.input;SF.forEach(l=>{const u=ca(n,ne[l]);u&&(RF(l,e.inputAttributes),u.className=ne[l],a&&jn(u))}),e.input&&(a&&NF(e),IF(e))},NF=t=>{if(!t.input)return;if(!Dt[t.input]){Po(`Unexpected type of input! Expected ${Object.keys(Dt).join(" | ")}, got "${t.input}"`);return}const e=cS(t.input);if(!e)return;const n=Dt[t.input](e,t);cn(e),t.inputAutoFocus&&setTimeout(()=>{aS(n)})},jF=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},RF=(t,e)=>{const n=We();if(!n)return;const s=fp(n,t);if(s){jF(s);for(const a in e)s.setAttribute(a,e[a])}},IF=t=>{if(!t.input)return;const e=cS(t.input);e&&ri(e,t,"input")},J1=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},zd=(t,e,n)=>{if(n.inputLabel){const s=document.createElement("label"),a=ne["input-label"];s.setAttribute("for",t.id),s.className=a,typeof n.customClass=="object"&&et(s,n.customClass.inputLabel),s.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",s)}},cS=t=>{const e=We();if(e)return ca(e,ne[t]||ne.input)},Am=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:q1(e)||Pn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Dt={};Dt.text=Dt.email=Dt.password=Dt.number=Dt.tel=Dt.url=Dt.search=Dt.date=Dt["datetime-local"]=Dt.time=Dt.week=Dt.month=(t,e)=>(Am(t,e.inputValue),zd(t,t,e),J1(t,e),t.type=e.input,t);Dt.file=(t,e)=>(zd(t,t,e),J1(t,e),t);Dt.range=(t,e)=>{const n=t.querySelector("input"),s=t.querySelector("output");return Am(n,e.inputValue),n.type=e.input,Am(s,e.inputValue),zd(n,t,e),t};Dt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");oi(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return zd(t,t,e),t};Dt.radio=t=>(t.textContent="",t);Dt.checkbox=(t,e)=>{const n=fp(We(),"checkbox");n.value="1",n.checked=!!e.inputValue;const s=t.querySelector("span");return oi(s,e.inputPlaceholder||e.inputLabel),n};Dt.textarea=(t,e)=>{Am(t,e.inputValue),J1(t,e),zd(t,t,e);const n=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(We()).width),a=()=>{if(!document.body.contains(t))return;const l=t.offsetWidth+n(t);l>s?We().style.width=`${l}px`:vo(We(),"width",e.width)};new MutationObserver(a).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const kF=(t,e)=>{const n=$1();n&&(X1(n),ri(n,e,"htmlContainer"),e.html?(Z1(e.html,n),cn(n,"block")):e.text?(n.textContent=e.text,cn(n,"block")):jn(n),CF(t,e))},DF=(t,e)=>{const n=rS();n&&(X1(n),Bd(n,!!e.footer,"block"),e.footer&&Z1(e.footer,n),ri(n,e,"footer"))},MF=(t,e)=>{const n=ht.innerParams.get(t),s=wc();if(!s)return;if(n&&e.icon===n.icon){U_(s,e),z_(s,e);return}if(!e.icon&&!e.iconHtml){jn(s);return}if(e.icon&&Object.keys(Tm).indexOf(e.icon)===-1){Po(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),jn(s);return}cn(s),U_(s,e),z_(s,e),et(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",uS)},z_=(t,e)=>{for(const[n,s]of Object.entries(Tm))e.icon!==n&&Ii(t,s);et(t,e.icon&&Tm[e.icon]),OF(t,e),uS(),ri(t,e,"icon")},uS=()=>{const t=We();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<n.length;s++)n[s].style.backgroundColor=e},PF=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,VF=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,U_=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,s="";e.iconHtml?s=F_(e.iconHtml):e.icon==="success"?(s=PF(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?s=VF:e.icon&&(s=F_({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==s.trim()&&oi(t,s)},OF=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])B_(t,n,"background-color",e.iconColor);B_(t,".swal2-success-ring","border-color",e.iconColor)}},F_=t=>`<div class="${ne["icon-content"]}">${t}</div>`,LF=(t,e)=>{const n=sS();if(n){if(!e.imageUrl){jn(n);return}cn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),vo(n,"width",e.imageWidth),vo(n,"height",e.imageHeight),n.className=ne.image,ri(n,e,"image")}};let ex=!1,dS=0,hS=0,fS=0,mS=0;const BF=t=>{t.addEventListener("mousedown",Sm),document.body.addEventListener("mousemove",Cm),t.addEventListener("mouseup",Nm),t.addEventListener("touchstart",Sm),document.body.addEventListener("touchmove",Cm),t.addEventListener("touchend",Nm)},zF=t=>{t.removeEventListener("mousedown",Sm),document.body.removeEventListener("mousemove",Cm),t.removeEventListener("mouseup",Nm),t.removeEventListener("touchstart",Sm),document.body.removeEventListener("touchmove",Cm),t.removeEventListener("touchend",Nm)},Sm=t=>{const e=We();if(t.target===e||wc().contains(t.target)){ex=!0;const n=pS(t);dS=n.clientX,hS=n.clientY,fS=parseInt(e.style.insetInlineStart)||0,mS=parseInt(e.style.insetBlockStart)||0,et(e,"swal2-dragging")}},Cm=t=>{const e=We();if(ex){let{clientX:n,clientY:s}=pS(t);e.style.insetInlineStart=`${fS+(n-dS)}px`,e.style.insetBlockStart=`${mS+(s-hS)}px`}},Nm=()=>{const t=We();ex=!1,Ii(t,"swal2-dragging")},pS=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},UF=(t,e)=>{const n=Vn(),s=We();if(!(!n||!s)){if(e.toast){vo(n,"width",e.width),s.style.width="100%";const a=_c();a&&s.insertBefore(a,wc())}else vo(s,"width",e.width);vo(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),jn(up()),FF(s,e),e.draggable&&!e.toast?(et(s,ne.draggable),BF(s)):(Ii(s,ne.draggable),zF(s))}},FF=(t,e)=>{const n=e.showClass||{};t.className=`${ne.popup} ${Kn(t)?n.popup:""}`,e.toast?(et([document.documentElement,document.body],ne["toast-shown"]),et(t,ne.toast)):et(t,ne.modal),ri(t,e,"popup"),typeof e.customClass=="string"&&et(t,e.customClass),e.icon&&et(t,ne[`icon-${e.icon}`])},HF=(t,e)=>{const n=G1();if(!n)return;const{progressSteps:s,currentProgressStep:a}=e;if(!s||s.length===0||a===void 0){jn(n);return}cn(n),n.textContent="",a>=s.length&&Pn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((l,u)=>{const h=qF(l);if(n.appendChild(h),u===a&&et(h,ne["active-progress-step"]),u!==s.length-1){const p=$F(e);n.appendChild(p)}})},qF=t=>{const e=document.createElement("li");return et(e,ne["progress-step"]),oi(e,t),e},$F=t=>{const e=document.createElement("li");return et(e,ne["progress-step-line"]),t.progressStepsDistance&&vo(e,"width",t.progressStepsDistance),e},GF=(t,e)=>{const n=iS();n&&(X1(n),Bd(n,!!(e.title||e.titleText),"block"),e.title&&Z1(e.title,n),e.titleText&&(n.innerText=e.titleText),ri(n,e,"title"))},gS=(t,e)=>{UF(t,e),_F(t,e),HF(t,e),MF(t,e),LF(t,e),GF(t,e),bF(t,e),kF(t,e),xF(t,e),DF(t,e);const n=We();typeof e.didRender=="function"&&n&&e.didRender(n),be.eventEmitter.emit("didRender",n)},KF=()=>Kn(We()),yS=()=>{var t;return(t=Ps())===null||t===void 0?void 0:t.click()},YF=()=>{var t;return(t=Vo())===null||t===void 0?void 0:t.click()},QF=()=>{var t;return(t=bc())===null||t===void 0?void 0:t.click()},Ec=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),xS=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},XF=(t,e,n)=>{xS(t),e.toast||(t.keydownHandler=s=>ZF(e,s,n),t.keydownTarget=e.keydownListenerCapture?window:We(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},t2=(t,e)=>{var n;const s=Y1();if(s.length){t=t+e,t===-2&&(t=s.length-1),t===s.length?t=0:t===-1&&(t=s.length-1),s[t].focus();return}(n=We())===null||n===void 0||n.focus()},vS=["ArrowRight","ArrowDown"],WF=["ArrowLeft","ArrowUp"],ZF=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?JF(e,t):e.key==="Tab"?eH(e):[...vS,...WF].includes(e.key)?tH(e.key):e.key==="Escape"&&nH(e,t,n)))},JF=(t,e)=>{if(!cp(e.allowEnterKey))return;const n=fp(We(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;yS(),t.preventDefault()}},eH=t=>{const e=t.target,n=Y1();let s=-1;for(let a=0;a<n.length;a++)if(e===n[a]){s=a;break}t.shiftKey?t2(s,-1):t2(s,1),t.stopPropagation(),t.preventDefault()},tH=t=>{const e=Ld(),n=Ps(),s=Vo(),a=bc();if(!e||!n||!s||!a)return;const l=[n,s,a];if(document.activeElement instanceof HTMLElement&&!l.includes(document.activeElement))return;const u=vS.includes(t)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let p=0;p<e.children.length;p++){if(h=h[u],!h)return;if(h instanceof HTMLButtonElement&&Kn(h))break}h instanceof HTMLButtonElement&&h.focus()}},nH=(t,e,n)=>{t.preventDefault(),cp(e.allowEscapeKey)&&n(Ec.esc)};var sc={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const iH=()=>{const t=Vn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},wS=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},bS=typeof window<"u"&&!!window.GestureEvent,sH=()=>{if(bS&&!hr(document.body,ne.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,et(document.body,ne.iosfix),rH()}},rH=()=>{const t=Vn();if(!t)return;let e;t.ontouchstart=n=>{e=aH(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},aH=t=>{const e=t.target,n=Vn(),s=$1();return!n||!s||oH(t)||lH(t)?!1:e===n||!e2(n)&&e instanceof HTMLElement&&!aF(e,s)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(e2(s)&&s.contains(e))},oH=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",lH=t=>t.touches&&t.touches.length>1,cH=()=>{if(hr(document.body,ne.iosfix)){const t=parseInt(document.body.style.top,10);Ii(document.body,ne.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},uH=()=>{const t=document.createElement("div");t.className=ne["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Gl=null;const dH=t=>{Gl===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Gl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Gl+uH()}px`)},hH=()=>{Gl!==null&&(document.body.style.paddingRight=`${Gl}px`,Gl=null)};function _S(t,e,n,s){hp()?H_(t,s):(XU(n).then(()=>H_(t,s)),xS(be)),bS?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Q1()&&(hH(),cH(),wS()),fH()}function fH(){Ii([document.documentElement,document.body],[ne.shown,ne["height-auto"],ne["no-backdrop"],ne["toast-shown"]])}function ua(t){t=pH(t);const e=sc.swalPromiseResolve.get(this),n=mH(this);this.isAwaitingPromise?t.isDismissed||(Ud(this),e(t)):n&&e(t)}const mH=t=>{const e=We();if(!e)return!1;const n=ht.innerParams.get(t);if(!n||hr(e,n.hideClass.popup))return!1;Ii(e,n.showClass.popup),et(e,n.hideClass.popup);const s=Vn();return Ii(s,n.showClass.backdrop),et(s,n.hideClass.backdrop),gH(t,e,n),!0};function ES(t){const e=sc.swalPromiseReject.get(this);Ud(this),e&&e(t)}const Ud=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,ht.innerParams.get(t)||t._destroy())},pH=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),gH=(t,e,n)=>{var s;const a=Vn(),l=lS(e);typeof n.willClose=="function"&&n.willClose(e),(s=be.eventEmitter)===null||s===void 0||s.emit("willClose",e),l?yH(t,e,a,n.returnFocus,n.didClose):_S(t,a,n.returnFocus,n.didClose)},yH=(t,e,n,s,a)=>{be.swalCloseEventFinishedCallback=_S.bind(null,t,n,s,a);const l=function(u){if(u.target===e){var h;(h=be.swalCloseEventFinishedCallback)===null||h===void 0||h.call(be),delete be.swalCloseEventFinishedCallback,e.removeEventListener("animationend",l),e.removeEventListener("transitionend",l)}};e.addEventListener("animationend",l),e.addEventListener("transitionend",l)},H_=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=be.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},rc=t=>{let e=We();if(e||new ke,e=We(),!e)return;const n=_c();hp()?jn(wc()):xH(e,t),cn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},xH=(t,e)=>{const n=Ld(),s=_c();!n||!s||(!e&&Kn(Ps())&&(e=Ps()),cn(n),e&&(jn(e),s.setAttribute("data-button-to-replace",e.className),n.insertBefore(s,e)),et([t,n],ne.loading))},vH=(t,e)=>{e.input==="select"||e.input==="radio"?TH(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(H1(e.inputValue)||q1(e.inputValue))&&(rc(Ps()),AH(t,e))},wH=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return bH(n);case"radio":return _H(n);case"file":return EH(n);default:return e.inputAutoTrim?n.value.trim():n.value}},bH=t=>t.checked?1:0,_H=t=>t.checked?t.value:null,EH=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,TH=(t,e)=>{const n=We();if(!n)return;const s=a=>{e.input==="select"?SH(n,jm(a),e):e.input==="radio"&&CH(n,jm(a),e)};H1(e.inputOptions)||q1(e.inputOptions)?(rc(Ps()),Vd(e.inputOptions).then(a=>{t.hideLoading(),s(a)})):typeof e.inputOptions=="object"?s(e.inputOptions):Po(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},AH=(t,e)=>{const n=t.getInput();n&&(jn(n),Vd(e.inputValue).then(s=>{n.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,cn(n),n.focus(),t.hideLoading()}).catch(s=>{Po(`Error in inputValue promise: ${s}`),n.value="",cn(n),n.focus(),t.hideLoading()}))};function SH(t,e,n){const s=ca(t,ne.select);if(!s)return;const a=(l,u,h)=>{const p=document.createElement("option");p.value=h,oi(p,u),p.selected=TS(h,n.inputValue),l.appendChild(p)};e.forEach(l=>{const u=l[0],h=l[1];if(Array.isArray(h)){const p=document.createElement("optgroup");p.label=u,p.disabled=!1,s.appendChild(p),h.forEach(g=>a(p,g[1],g[0]))}else a(s,h,u)}),s.focus()}function CH(t,e,n){const s=ca(t,ne.radio);if(!s)return;e.forEach(l=>{const u=l[0],h=l[1],p=document.createElement("input"),g=document.createElement("label");p.type="radio",p.name=ne.radio,p.value=u,TS(u,n.inputValue)&&(p.checked=!0);const x=document.createElement("span");oi(x,h),x.className=ne.label,g.appendChild(p),g.appendChild(x),s.appendChild(g)});const a=s.querySelectorAll("input");a.length&&a[0].focus()}const jm=t=>{const e=[];return t instanceof Map?t.forEach((n,s)=>{let a=n;typeof a=="object"&&(a=jm(a)),e.push([s,a])}):Object.keys(t).forEach(n=>{let s=t[n];typeof s=="object"&&(s=jm(s)),e.push([n,s])}),e},TS=(t,e)=>!!e&&e.toString()===t.toString(),NH=t=>{const e=ht.innerParams.get(t);t.disableButtons(),e.input?AS(t,"confirm"):nx(t,!0)},jH=t=>{const e=ht.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?AS(t,"deny"):tx(t,!1)},RH=(t,e)=>{t.disableButtons(),e(Ec.cancel)},AS=(t,e)=>{const n=ht.innerParams.get(t);if(!n.input){Po(`The "input" parameter is needed to be set when using returnInputValueOn${F1(e)}`);return}const s=t.getInput(),a=wH(t,n);n.inputValidator?IH(t,a,e):s&&!s.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||s.validationMessage)):e==="deny"?tx(t,a):nx(t,a)},IH=(t,e,n)=>{const s=ht.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Vd(s.inputValidator(e,s.validationMessage))).then(l=>{t.enableButtons(),t.enableInput(),l?t.showValidationMessage(l):n==="deny"?tx(t,e):nx(t,e)})},tx=(t,e)=>{const n=ht.innerParams.get(t||void 0);n.showLoaderOnDeny&&rc(Vo()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Vd(n.preDeny(e,n.validationMessage))).then(a=>{a===!1?(t.hideLoading(),Ud(t)):t.close({isDenied:!0,value:typeof a>"u"?e:a})}).catch(a=>SS(t||void 0,a))):t.close({isDenied:!0,value:e})},q_=(t,e)=>{t.close({isConfirmed:!0,value:e})},SS=(t,e)=>{t.rejectPromise(e)},nx=(t,e)=>{const n=ht.innerParams.get(t||void 0);n.showLoaderOnConfirm&&rc(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Vd(n.preConfirm(e,n.validationMessage))).then(a=>{Kn(up())||a===!1?(t.hideLoading(),Ud(t)):q_(t,typeof a>"u"?e:a)}).catch(a=>SS(t||void 0,a))):q_(t,e)};function Rm(){const t=ht.innerParams.get(this);if(!t)return;const e=ht.domCache.get(this);jn(e.loader),hp()?t.icon&&cn(wc()):kH(e),Ii([e.popup,e.actions],ne.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const kH=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?cn(e[0],"inline-block"):rF()&&jn(t.actions)};function CS(){const t=ht.innerParams.get(this),e=ht.domCache.get(this);return e?fp(e.popup,t.input):null}function NS(t,e,n){const s=ht.domCache.get(t);e.forEach(a=>{s[a].disabled=n})}function jS(t,e){const n=We();if(!(!n||!t))if(t.type==="radio"){const s=n.querySelectorAll(`[name="${ne.radio}"]`);for(let a=0;a<s.length;a++)s[a].disabled=e}else t.disabled=e}function RS(){NS(this,["confirmButton","denyButton","cancelButton"],!1)}function IS(){NS(this,["confirmButton","denyButton","cancelButton"],!0)}function kS(){jS(this.getInput(),!1)}function DS(){jS(this.getInput(),!0)}function MS(t){const e=ht.domCache.get(this),n=ht.innerParams.get(this);oi(e.validationMessage,t),e.validationMessage.className=ne["validation-message"],n.customClass&&n.customClass.validationMessage&&et(e.validationMessage,n.customClass.validationMessage),cn(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",ne["validation-message"]),aS(s),et(s,ne.inputerror))}function PS(){const t=ht.domCache.get(this);t.validationMessage&&jn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Ii(e,ne.inputerror))}const Kl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},DH=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],MH={allowEnterKey:void 0},PH=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],VS=t=>Object.prototype.hasOwnProperty.call(Kl,t),OS=t=>DH.indexOf(t)!==-1,LS=t=>MH[t],VH=t=>{VS(t)||Pn(`Unknown parameter "${t}"`)},OH=t=>{PH.includes(t)&&Pn(`The parameter "${t}" is incompatible with toasts`)},LH=t=>{const e=LS(t);e&&nS(t,e)},BS=t=>{t.backdrop===!1&&t.allowOutsideClick&&Pn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Pn(`Invalid theme "${t.theme}"`);for(const e in t)VH(e),t.toast&&OH(e),LH(e)};function zS(t){const e=Vn(),n=We(),s=ht.innerParams.get(this);if(!n||hr(n,s.hideClass.popup)){Pn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=BH(t),l=Object.assign({},s,a);BS(l),e.dataset.swal2Theme=l.theme,gS(this,l),ht.innerParams.set(this,l),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const BH=t=>{const e={};return Object.keys(t).forEach(n=>{OS(n)?e[n]=t[n]:Pn(`Invalid parameter to update: ${n}`)}),e};function US(){const t=ht.domCache.get(this),e=ht.innerParams.get(this);if(!e){FS(this);return}t.popup&&be.swalCloseEventFinishedCallback&&(be.swalCloseEventFinishedCallback(),delete be.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),be.eventEmitter.emit("didDestroy"),zH(this)}const zH=t=>{FS(t),delete t.params,delete be.keydownHandler,delete be.keydownTarget,delete be.currentInstance},FS=t=>{t.isAwaitingPromise?(J0(ht,t),t.isAwaitingPromise=!0):(J0(sc,t),J0(ht,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},J0=(t,e)=>{for(const n in t)t[n].delete(e)};var UH=Object.freeze({__proto__:null,_destroy:US,close:ua,closeModal:ua,closePopup:ua,closeToast:ua,disableButtons:IS,disableInput:DS,disableLoading:Rm,enableButtons:RS,enableInput:kS,getInput:CS,handleAwaitingPromise:Ud,hideLoading:Rm,rejectPromise:ES,resetValidationMessage:PS,showValidationMessage:MS,update:zS});const FH=(t,e,n)=>{t.toast?HH(t,e,n):($H(e),GH(e),KH(t,e,n))},HH=(t,e,n)=>{e.popup.onclick=()=>{t&&(qH(t)||t.timer||t.input)||n(Ec.close)}},qH=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Im=!1;const $H=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Im=!0)}}},GH=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Im=!0)}}},KH=(t,e,n)=>{e.container.onclick=s=>{if(Im){Im=!1;return}s.target===e.container&&cp(t.allowOutsideClick)&&n(Ec.backdrop)}},YH=t=>typeof t=="object"&&t.jquery,$_=t=>t instanceof Element||YH(t),QH=t=>{const e={};return typeof t[0]=="object"&&!$_(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,s)=>{const a=t[s];typeof a=="string"||$_(a)?e[n]=a:a!==void 0&&Po(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof a}`)}),e};function XH(...t){return new this(...t)}function WH(t){class e extends this{_main(s,a){return super._main(s,Object.assign({},t,a))}}return e}const ZH=()=>be.timeout&&be.timeout.getTimerLeft(),HS=()=>{if(be.timeout)return oF(),be.timeout.stop()},qS=()=>{if(be.timeout){const t=be.timeout.start();return W1(t),t}},JH=()=>{const t=be.timeout;return t&&(t.running?HS():qS())},eq=t=>{if(be.timeout){const e=be.timeout.increase(t);return W1(e,!0),e}},tq=()=>!!(be.timeout&&be.timeout.isRunning());let G_=!1;const n2={};function nq(t="data-swal-template"){n2[t]=this,G_||(document.body.addEventListener("click",iq),G_=!0)}const iq=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in n2){const s=e.getAttribute(n);if(s){n2[n].fire({template:s});return}}};class sq{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const s=this._getHandlersByEventName(e);s.includes(n)||s.push(n)}once(e,n){const s=(...a)=>{this.removeListener(e,s),n.apply(this,a)};this.on(e,s)}emit(e,...n){this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,n)}catch(a){console.error(a)}})}removeListener(e,n){const s=this._getHandlersByEventName(e),a=s.indexOf(n);a>-1&&s.splice(a,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}be.eventEmitter=new sq;const rq=(t,e)=>{be.eventEmitter.on(t,e)},aq=(t,e)=>{be.eventEmitter.once(t,e)},oq=(t,e)=>{if(!t){be.eventEmitter.reset();return}e?be.eventEmitter.removeListener(t,e):be.eventEmitter.removeAllListeners(t)};var lq=Object.freeze({__proto__:null,argsToParams:QH,bindClickHandler:nq,clickCancel:QF,clickConfirm:yS,clickDeny:YF,enableLoading:rc,fire:XH,getActions:Ld,getCancelButton:bc,getCloseButton:K1,getConfirmButton:Ps,getContainer:Vn,getDenyButton:Vo,getFocusableElements:Y1,getFooter:rS,getHtmlContainer:$1,getIcon:wc,getIconContent:eF,getImage:sS,getInputLabel:tF,getLoader:_c,getPopup:We,getProgressSteps:G1,getTimerLeft:ZH,getTimerProgressBar:dp,getTitle:iS,getValidationMessage:up,increaseTimer:eq,isDeprecatedParameter:LS,isLoading:iF,isTimerRunning:tq,isUpdatableParameter:OS,isValidParameter:VS,isVisible:KF,mixin:WH,off:oq,on:rq,once:aq,resumeTimer:qS,showLoading:rc,stopTimer:HS,toggleTimer:JH});class cq{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const $S=["swal-title","swal-html","swal-footer"],uq=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return xq(n),Object.assign(dq(n),hq(n),fq(n),mq(n),pq(n),gq(n),yq(n,$S))},dq=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(s=>{Co(s,["name","value"]);const a=s.getAttribute("name"),l=s.getAttribute("value");!a||!l||(typeof Kl[a]=="boolean"?e[a]=l!=="false":typeof Kl[a]=="object"?e[a]=JSON.parse(l):e[a]=l)}),e},hq=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(s=>{const a=s.getAttribute("name"),l=s.getAttribute("value");!a||!l||(e[a]=new Function(`return ${l}`)())}),e},fq=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(s=>{Co(s,["type","color","aria-label"]);const a=s.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(e[`${a}ButtonText`]=s.innerHTML,e[`show${F1(a)}Button`]=!0,s.hasAttribute("color")&&(e[`${a}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(e[`${a}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),e},mq=t=>{const e={},n=t.querySelector("swal-image");return n&&(Co(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},pq=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Co(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},gq=t=>{const e={},n=t.querySelector("swal-input");n&&(Co(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const s=Array.from(t.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(a=>{Co(a,["value"]);const l=a.getAttribute("value");if(!l)return;const u=a.innerHTML;e.inputOptions[l]=u})),e},yq=(t,e)=>{const n={};for(const s in e){const a=e[s],l=t.querySelector(a);l&&(Co(l,[]),n[a.replace(/^swal-/,"")]=l.innerHTML.trim())}return n},xq=t=>{const e=$S.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const s=n.tagName.toLowerCase();e.includes(s)||Pn(`Unrecognized element <${s}>`)})},Co=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Pn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},GS=10,vq=t=>{const e=Vn(),n=We();typeof t.willOpen=="function"&&t.willOpen(n),be.eventEmitter.emit("willOpen",n);const a=window.getComputedStyle(document.body).overflowY;_q(e,n,t),setTimeout(()=>{wq(e,n)},GS),Q1()&&(bq(e,t.scrollbarPadding,a),iH()),!hp()&&!be.previousActiveElement&&(be.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),be.eventEmitter.emit("didOpen",n)},km=t=>{const e=We();if(t.target!==e)return;const n=Vn();e.removeEventListener("animationend",km),e.removeEventListener("transitionend",km),n.style.overflowY="auto",Ii(n,ne["no-transition"])},wq=(t,e)=>{lS(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",km),e.addEventListener("transitionend",km)):t.style.overflowY="auto"},bq=(t,e,n)=>{sH(),e&&n!=="hidden"&&dH(n),setTimeout(()=>{t.scrollTop=0})},_q=(t,e,n)=>{et(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),cn(e,"grid"),setTimeout(()=>{et(e,n.showClass.popup),e.style.removeProperty("opacity")},GS)):cn(e,"grid"),et([document.documentElement,document.body],ne.shown),n.heightAuto&&n.backdrop&&!n.toast&&et([document.documentElement,document.body],ne["height-auto"])};var K_={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function Eq(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=K_.email),t.input==="url"&&(t.inputValidator=K_.url))}function Tq(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Pn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function Aq(t){Eq(t),t.showLoaderOnConfirm&&!t.preConfirm&&Pn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Tq(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),pF(t)}let Es;var Nf=new WeakMap;class Vt{constructor(...e){if(GU(this,Nf,void 0),typeof window>"u")return;Es=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,KU(Nf,this,this._main(Es.params))}_main(e,n={}){if(BS(Object.assign({},n,e)),be.currentInstance){const l=sc.swalPromiseResolve.get(be.currentInstance),{isAwaitingPromise:u}=be.currentInstance;be.currentInstance._destroy(),u||l({isDismissed:!0}),Q1()&&wS()}be.currentInstance=Es;const s=Cq(e,n);Aq(s),Object.freeze(s),be.timeout&&(be.timeout.stop(),delete be.timeout),clearTimeout(be.restoreFocusTimeout);const a=Nq(Es);return gS(Es,s),ht.innerParams.set(Es,s),Sq(Es,a,s)}then(e){return O_(Nf,this).then(e)}finally(e){return O_(Nf,this).finally(e)}}const Sq=(t,e,n)=>new Promise((s,a)=>{const l=u=>{t.close({isDismissed:!0,dismiss:u,isConfirmed:!1,isDenied:!1})};sc.swalPromiseResolve.set(t,s),sc.swalPromiseReject.set(t,a),e.confirmButton.onclick=()=>{NH(t)},e.denyButton.onclick=()=>{jH(t)},e.cancelButton.onclick=()=>{RH(t,l)},e.closeButton.onclick=()=>{l(Ec.close)},FH(n,e,l),XF(be,n,l),vH(t,n),vq(n),jq(be,n,l),Rq(e,n),setTimeout(()=>{e.container.scrollTop=0})}),Cq=(t,e)=>{const n=uq(t),s=Object.assign({},Kl,e,n,t);return s.showClass=Object.assign({},Kl.showClass,s.showClass),s.hideClass=Object.assign({},Kl.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},Nq=t=>{const e={popup:We(),container:Vn(),actions:Ld(),confirmButton:Ps(),denyButton:Vo(),cancelButton:bc(),loader:_c(),closeButton:K1(),validationMessage:up(),progressSteps:G1()};return ht.domCache.set(t,e),e},jq=(t,e,n)=>{const s=dp();jn(s),e.timer&&(t.timeout=new cq(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(cn(s),ri(s,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&W1(e.timer)})))},Rq=(t,e)=>{if(!e.toast){if(!cp(e.allowEnterKey)){nS("allowEnterKey"),Dq();return}Iq(t)||kq(t,e)||t2(-1,1)}},Iq=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Kn(n))return n.focus(),!0;return!1},kq=(t,e)=>e.focusDeny&&Kn(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Kn(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Kn(t.confirmButton)?(t.confirmButton.focus(),!0):!1,Dq=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Vt.prototype.disableButtons=IS;Vt.prototype.enableButtons=RS;Vt.prototype.getInput=CS;Vt.prototype.disableInput=DS;Vt.prototype.enableInput=kS;Vt.prototype.hideLoading=Rm;Vt.prototype.disableLoading=Rm;Vt.prototype.showValidationMessage=MS;Vt.prototype.resetValidationMessage=PS;Vt.prototype.close=ua;Vt.prototype.closePopup=ua;Vt.prototype.closeModal=ua;Vt.prototype.closeToast=ua;Vt.prototype.rejectPromise=ES;Vt.prototype.update=zS;Vt.prototype._destroy=US;Object.assign(Vt,lq);Object.keys(UH).forEach(t=>{Vt[t]=function(...e){return Es&&Es[t]?Es[t](...e):null}});Vt.DismissReason=Ec;Vt.version="11.26.3";const ke=Vt;ke.default=ke;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Y_=/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,ey=13,Q_=120;function Mq(){const t=sn(),[e,n]=R.useState(0),[s,a]=R.useState(!1),[l,u]=R.useState(!1),[h,p]=R.useState(!1),[g,x]=R.useState({}),[v,E]=R.useState({name:"",email:"",password:"",confirmPassword:"",birthdate:"",country:"",city:""}),S=(V,B)=>{E(M=>({...M,[V]:B})),g[V]&&x(M=>({...M,[V]:""}))},D=V=>{try{if(V===0)return v.name?.trim().length>=2&&/^[a-zA-Z\s]+$/.test(v.name||"")&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.email||"")&&(v.password?.length||0)>=8&&Y_.test(v.password||"")&&v.password===v.confirmPassword;if(V===1){if(!v.birthdate)return!1;const B=new Date(v.birthdate),M=new Date;let G=M.getFullYear()-B.getFullYear();return(M.getMonth()<B.getMonth()||M.getMonth()===B.getMonth()&&M.getDate()<B.getDate())&&G--,G>=ey&&G<=Q_&&(v.country?.trim().length||0)>0&&/^[a-zA-Z\s]+$/.test(v.country||"")&&(v.city?.trim().length||0)>0&&/^[a-zA-Z\s]+$/.test(v.city||"")}return!1}catch(B){return console.error("Validation error:",B),!1}},U=V=>{const B={};if(V===0&&(v.name.trim()?v.name.trim().length<2?B.name="El nombre debe tener al menos 2 caracteres":/^[a-zA-Z\s]+$/.test(v.name)||(B.name="El nombre solo puede contener letras"):B.name="El nombre es requerido",v.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.email)||(B.email="Ingresa un email vlido"):B.email="El email es requerido",v.password?v.password.length<8?B.password="La contrasea debe tener al menos 8 caracteres":Y_.test(v.password)||(B.password="Debe contener mayscula, minscula y nmero"):B.password="La contrasea es requerida",v.confirmPassword?v.password!==v.confirmPassword&&(B.confirmPassword="Las contraseas no coinciden"):B.confirmPassword="Confirma tu contrasea"),V===1){if(!v.birthdate)B.birthdate="La fecha de nacimiento es requerida";else{const M=new Date(v.birthdate),C=new Date().getFullYear()-M.getFullYear();C<ey?B.birthdate=`Debes tener al menos ${ey} aos`:C>Q_&&(B.birthdate="Ingresa una fecha vlida")}v.country.trim()?/^[a-zA-Z\s]+$/.test(v.country)||(B.country="El pas solo puede contener letras"):B.country="El pas es requerido",v.city.trim()?/^[a-zA-Z\s]+$/.test(v.city)||(B.city="La ciudad solo puede contener letras"):B.city="La ciudad es requerida"}return x(B),Object.keys(B).length===0},z=()=>{U(e)&&n(V=>Math.min(2,V+1))},H=()=>n(V=>Math.max(0,V-1)),k=async()=>{if(!U(0)||!U(1)){ke.fire({icon:"warning",title:"Formulario incompleto",text:"Por favor corrige los errores antes de continuar",confirmButtonColor:"#8B5CF6"});return}p(!0);try{const V=await HU(v);V.success?ke.fire({icon:"success",title:"Cuenta creada exitosamente!",text:"Bienvenido a WordQuest",confirmButtonColor:"#8B5CF6"}).then(()=>{t("/login")}):ke.fire({icon:"error",title:"Error al crear cuenta",text:V.error,confirmButtonColor:"#8B5CF6"})}catch{ke.fire({icon:"error",title:"Error de conexin",text:"No se pudo conectar con el servidor",confirmButtonColor:"#8B5CF6"})}p(!1)};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[d.jsx("div",{className:"absolute inset-0 opacity-20",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative w-full max-w-lg mx-auto px-4 sm:px-0",children:d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-4 sm:p-8 shadow-2xl",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx(te.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-12 h-12 sm:w-16 sm:h-16 bg-linear-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:d.jsx(ky,{className:"text-lg sm:text-2xl text-white"})}),d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"nete a WordQuest"}),d.jsx("p",{className:"text-white/70",children:"Comienza tu aventura de aprendizaje"})]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex justify-between text-sm text-white/60 mb-2",children:[d.jsxs("span",{children:["Paso ",e+1," de 3"]}),d.jsxs("span",{children:[Math.round((e+1)/3*100),"%"]})]}),d.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:d.jsx(te.div,{className:"bg-linear-to-r from-purple-500 to-pink-500 h-2 rounded-full",initial:{width:"33%"},animate:{width:`${(e+1)/3*100}%`},transition:{duration:.3}})})]}),d.jsx("div",{className:"flex justify-center space-x-2 sm:space-x-4 mb-8",children:["Cuenta","Personal","Confirmar"].map((V,B)=>{const M=B===0?D(0):B===1?D(0)&&D(1):!1,G=B===0||B===1&&D(0)||B===2&&D(0)&&D(1);return d.jsxs(te.button,{onClick:()=>G&&n(B),whileHover:G?{scale:1.05}:{},whileTap:G?{scale:.95}:{},disabled:!G,className:`flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 rounded-xl text-xs sm:text-sm font-medium transition-all ${e===B?"bg-linear-to-r from-purple-500 to-pink-500 text-white shadow-lg":M?"bg-green-500/20 text-green-300 border border-green-500/30 cursor-pointer":G?"bg-white/10 text-white/70 border border-white/20 cursor-pointer hover:bg-white/20":"bg-white/5 text-white/30 border border-white/5 cursor-not-allowed opacity-50"}`,children:[d.jsx("span",{className:`w-4 h-4 sm:w-5 sm:h-5 rounded-full flex items-center justify-center text-xs ${e===B?"bg-white/20":M?"bg-green-500 text-white":"bg-white/10"}`,children:M?d.jsx(ur,{className:"text-xs"}):B+1}),d.jsx("span",{className:"hidden sm:inline",children:V})]},B)})}),d.jsxs(te.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{duration:.25},children:[e===0&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Nombre completo"}),d.jsxs("div",{className:"relative",children:[d.jsx(So,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),d.jsx("input",{type:"text",value:v.name,onChange:V=>S("name",V.target.value),placeholder:"Tu nombre completo",className:`w-full pl-12 pr-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${g.name?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`})]}),g.name&&d.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.name})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Correo electrnico"}),d.jsxs("div",{className:"relative",children:[d.jsx(a1,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),d.jsx("input",{type:"email",value:v.email,onChange:V=>S("email",V.target.value),placeholder:"tu@email.com",className:`w-full pl-12 pr-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${g.email?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`})]}),g.email&&d.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.email})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Contrasea"}),d.jsxs("div",{className:"relative",children:[d.jsx(od,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),d.jsx("input",{type:s?"text":"password",value:v.password,onChange:V=>S("password",V.target.value),placeholder:"Mnimo 8 caracteres",className:`w-full pl-12 pr-12 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${g.password?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`}),d.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60 transition-colors",children:s?d.jsx(Iy,{}):d.jsx(gm,{})})]}),g.password&&d.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.password})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Confirmar contrasea"}),d.jsxs("div",{className:"relative",children:[d.jsx(od,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),d.jsx("input",{type:l?"text":"password",value:v.confirmPassword,onChange:V=>S("confirmPassword",V.target.value),placeholder:"Repite tu contrasea",className:`w-full pl-12 pr-12 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${g.confirmPassword?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`}),d.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60 transition-colors",children:l?d.jsx(Iy,{}):d.jsx(gm,{})})]}),g.confirmPassword&&d.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.confirmPassword})]})]}),e===1&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium","aria-label":"Fecha de nacimiento",children:"Fecha de nacimiento"}),d.jsx("input",{type:"date",value:v.birthdate,onChange:V=>S("birthdate",V.target.value),className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white focus:outline-none focus:ring-2 focus:border-transparent transition-all ${g.birthdate?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`}),g.birthdate&&d.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.birthdate})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium","aria-label":"Pas",children:"Pas"}),d.jsx("input",{type:"text",value:v.country,onChange:V=>S("country",V.target.value),placeholder:"Colombia",className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${g.country?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`}),g.country&&d.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.country})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Ciudad"}),d.jsx("input",{type:"text",value:v.city,onChange:V=>S("city",V.target.value),placeholder:"Bogot",className:`w-full px-4 py-3 bg-white/5 border rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:border-transparent transition-all ${g.city?"border-red-500 focus:ring-red-500":"border-white/10 focus:ring-purple-500"}`}),g.city&&d.jsx("p",{className:"text-red-400 text-xs mt-1",children:g.city})]})]})]}),e===2&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-linear-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(tc,{className:"text-lg sm:text-2xl text-white"})}),d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white mb-2",children:"Casi listo!"}),d.jsx("p",{className:"text-white/60 text-sm",children:"Revisa tu informacin antes de continuar"})]}),d.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 sm:p-6 space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[d.jsx("span",{className:"text-white/60",children:"Nombre"}),d.jsx("span",{className:"text-white font-medium",children:v.name||"No especificado"})]}),d.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[d.jsx("span",{className:"text-white/60",children:"Email"}),d.jsx("span",{className:"text-white font-medium",children:v.email||"No especificado"})]}),d.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[d.jsx("span",{className:"text-white/60",children:"Fecha de nacimiento"}),d.jsx("span",{className:"text-white font-medium",children:v.birthdate||"No especificado"})]}),d.jsxs("div",{className:"flex justify-between items-center py-2",children:[d.jsx("span",{className:"text-white/60",children:"Ubicacin"}),d.jsx("span",{className:"text-white font-medium",children:v.city&&v.country?`${v.city}, ${v.country}`:"No especificado"})]})]}),d.jsxs(te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:k,disabled:h,className:"w-full bg-linear-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 flex items-center justify-center disabled:opacity-50",children:[d.jsx(ky,{className:"mr-2"})," ",h?"Creando cuenta...":"Crear mi cuenta"]})]})]},e),e<2&&d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mt-8 space-y-4 sm:space-y-0",children:[e>0?d.jsx(te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:H,className:"w-full sm:w-auto px-6 py-3 bg-white/10 hover:bg-white/20 text-white rounded-xl font-medium transition-all duration-200 border border-white/10","aria-label":"Atrs",children:" Atrs"}):d.jsx("div",{}),d.jsx(te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:z,className:"w-full sm:w-auto px-6 py-3 bg-linear-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-xl font-medium transition-all duration-200 shadow-lg","aria-label":"Siguiente",children:"Siguiente "})]}),d.jsx("div",{className:"text-center mt-8",children:d.jsxs("p",{className:"text-white/60 text-sm",children:["Ya tienes cuenta?"," ",d.jsx(Kt,{to:"/login",className:"text-purple-400 hover:text-purple-300 font-medium transition-colors","aria-label":"Inicia sesin",children:"Inicia sesin"})]})})]})})]})}function Pq(){const[t,e]=R.useState(!1),[n,s]=R.useState(!1),[a,l]=R.useState({email:"",password:""}),u=(g,x)=>{l(v=>({...v,[g]:x}))},h=sn(),p=async g=>{if(g.preventDefault(),!a.email||!a.password){ke.fire({title:"Error",text:"Por favor, completa todos los campos",icon:"error",confirmButtonColor:"#8B5CF6"});return}s(!0);const x=await qU(a.email,a.password);if(x.success){const v=x.userData?.isAdmin||!1;ke.fire({title:"Bienvenido!",text:"Has iniciado sesin correctamente",icon:"success",confirmButtonColor:"#8B5CF6"}).then(()=>{h(v?"/admin":"/user-profile")})}else ke.fire({title:"Error de inicio de sesin",text:x.error,icon:"error",confirmButtonColor:"#8B5CF6"});s(!1)};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[d.jsx("div",{className:"absolute inset-0 opacity-20",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative w-full max-w-md mx-auto px-4 sm:px-0",children:d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 sm:p-8 shadow-2xl",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx(te.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:d.jsx(_3,{className:"text-lg sm:text-2xl text-white"})}),d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Bienvenido de vuelta"}),d.jsx("p",{className:"text-white/70",children:"Inicia sesin para continuar tu aventura"})]}),d.jsxs("form",{onSubmit:p,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Correo electrnico"}),d.jsxs("div",{className:"relative",children:[d.jsx(a1,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),d.jsx("input",{type:"email",value:a.email,onChange:g=>u("email",g.target.value),placeholder:"tu@email.com",className:"w-full pl-12 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-white/80 text-sm font-medium",children:"Contrasea"}),d.jsxs("div",{className:"relative",children:[d.jsx(od,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/40"}),d.jsx("input",{type:t?"text":"password",value:a.password,onChange:g=>u("password",g.target.value),placeholder:"Tu contrasea",className:"w-full pl-12 pr-12 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0}),d.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60 transition-colors",children:t?d.jsx(Iy,{}):d.jsx(gm,{})})]})]}),d.jsx("div",{className:"text-right",children:d.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300 text-sm font-medium transition-colors",children:"Olvidaste tu contrasea?"})}),d.jsxs(te.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},disabled:n,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 flex items-center justify-center disabled:opacity-50",children:[d.jsx(_3,{className:"mr-2"})," ",n?"Iniciando sesin...":"Iniciar sesin"]})]}),d.jsx("div",{className:"text-center mt-8",children:d.jsxs("p",{className:"text-white/60 text-sm",children:["No tienes cuenta?"," ",d.jsx(Kt,{to:"/register",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Regstrate aqu"})]})})]})})]})}const ki={async updateCurrentProgress(t,e,n,s){try{const a=ut(Se,"users",t,"progress",e);await ia(a,{currentChapter:n,currentMission:s,lastAccess:new Date},{merge:!0})}catch(a){console.error("Error updating current progress:",a)}},async saveMissionProgress(t,e,n,s,a,l){try{const u=ut(Se,"users",t,"progress",e,"chapters",n,"missions",s),h=await vn(u),p=h.exists()?(h.data().attempts||0)+1:1,g=h.exists()?Math.max(h.data().score||0,a):a,x=Math.round(a*10),v={completed:!0,score:g,currentScore:a,attempts:p,mode:l,points:x,completedAt:new Date,unlocksNext:g>=70};await ia(u,v,{merge:!0});const E=ut(Se,"users",t,"progress",e,"chapters",n);await ia(E,{missionsCompleted:UP(s),lastAccess:new Date},{merge:!0});const S=ut(Se,"users",t,"progress",e);await ia(S,{lastAccess:new Date},{merge:!0}),await this.addPoints(t,x),await this.checkAchievements(t,{score:a,mode:l,attempts:p})}catch(u){console.error("Error saving mission progress:",u)}},async getUserProgress(t,e){try{const n=ut(Se,"users",t,"progress",e),s=await vn(n);return s.exists()?s.data():null}catch(n){return console.error("Error getting user progress:",n),null}},async isMissionCompleted(t,e,n,s){try{const a=ut(Se,"users",t,"progress",e,"chapters",n,"missions",s),l=await vn(a);return l.exists()&&l.data().completed}catch(a){return console.error("Error checking mission completion:",a),!1}},async addPoints(t,e){try{const n=ut(Se,"users",t);await s1(n,{totalPoints:FP(e)})}catch{try{await ia(userRef,{totalPoints:e},{merge:!0})}catch(s){console.error("Error adding points:",s)}}},async saveAchievement(t,e,n){try{const s=ut(Se,"users",t,"achievements",e);await ia(s,{...n,unlockedAt:new Date})}catch(s){console.error("Error saving achievement:",s)}},async checkAchievements(t,e){try{const{score:n,mode:s,attempts:a}=e;n===100&&a===1&&(await this.saveAchievement(t,"perfect_first_try",{title:"Perfeccin al Primer Intento",description:"Completaste una misin con 100% en el primer intento",type:"performance",points:500}),await this.addPoints(t,500)),s==="keywords"&&n>=90&&(await this.saveAchievement(t,"keyword_master",{title:"Maestro de Palabras Clave",description:"Obtuviste 90% o ms en una misin de palabras clave",type:"skill",points:200}),await this.addPoints(t,200)),s==="completarFrase"&&n>=90&&(await this.saveAchievement(t,"sentence_expert",{title:"Experto en Oraciones",description:"Obtuviste 90% o ms en una misin de completar frases",type:"skill",points:200}),await this.addPoints(t,200)),s==="ordenar-secuencia"&&n>=90&&(await this.saveAchievement(t,"sequence_master",{title:"Maestro del Orden",description:"Obtuviste 90% o ms en una misin de ordenar secuencias",type:"skill",points:200}),await this.addPoints(t,200)),s==="ordenar-secuencia"&&n===100&&(await this.saveAchievement(t,"perfect_sequencer",{title:"Secuenciador Perfecto",description:"Ordenaste una secuencia perfectamente",type:"performance",points:300}),await this.addPoints(t,300))}catch(n){console.error("Error checking achievements:",n)}},async getUserPoints(t){try{const e=ut(Se,"users",t),n=await vn(e);return n.exists()&&n.data().totalPoints||0}catch(e){return console.error("Error getting user points:",e),0}},async getUserAchievements(t){try{const e=Pt(Se,"users",t,"achievements");return(await Nn(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){return console.error("Error getting user achievements:",e),[]}},async getMissionProgress(t,e,n,s){try{const a=ut(Se,"users",t,"progress",e,"chapters",n,"missions",s),l=await vn(a);return l.exists()?l.data():null}catch(a){return console.error("Error getting mission progress:",a),null}},async canUnlockNext(t,e,n,s){try{const a=await this.getMissionProgress(t,e,n,s);return a&&a.score>=70}catch(a){return console.error("Error checking unlock status:",a),!1}}};function Vq(){const[t,e]=Ji(bn),[n,s]=R.useState(null),[a,l]=R.useState(!1),[u,h]=R.useState({}),[p,g]=R.useState(!0),[x,v]=R.useState({totalPoints:0,achievements:[],completedMissions:0,averageScore:0});R.useEffect(()=>{(async()=>{if(t)try{const k=await vn(ut(Se,"users",t.uid));if(k.exists()){const V=k.data();s(V),h(V);const B=await ki.getUserPoints(t.uid),M=await ki.getUserAchievements(t.uid);v({totalPoints:B,achievements:M,completedMissions:M.length,averageScore:85})}else{console.warn("No user document found");const V={name:t.displayName||t.email?.split("@")[0]||"Usuario",email:t.email,createdAt:new Date,uid:t.uid,totalPoints:0};await ia(ut(Se,"users",t.uid),V),s(V),h(V)}}catch(k){console.error("Error fetching user data:",k),ke.fire({icon:"error",title:"Error",text:"No se pudo cargar la informacin del usuario",confirmButtonColor:"#8B5CF6"})}g(!1)})()},[t]);const E=()=>{l(!0),h(n)},S=async()=>{try{await s1(ut(Se,"users",t.uid),{name:u.name,country:u.country,city:u.city}),s({...n,...u}),l(!1),ke.fire({icon:"success",title:"Perfil actualizado!",text:"Tus cambios han sido guardados exitosamente",confirmButtonColor:"#8B5CF6"})}catch{ke.fire({icon:"error",title:"Error",text:"No se pudo actualizar el perfil",confirmButtonColor:"#8B5CF6"})}},D=()=>{l(!1),h(n)},U=H=>{if(!H)return"No especificado";const k=new Date,V=new Date(H);return`${k.getFullYear()-V.getFullYear()} aos`},z=H=>H?new Date(H.seconds?H.seconds*1e3:H).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"No especificado";return e||p?d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando perfil..."})}):t?d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:[d.jsx(Ls,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-4",children:[d.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6 sm:mb-8",children:[d.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-2",children:"Mi Perfil"}),d.jsx("p",{className:"text-white/70 text-sm sm:text-base",children:"Gestiona tu informacin y revisa tu progreso"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[d.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6 shadow-2xl",children:[d.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[d.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full mx-auto mb-3 sm:mb-4 overflow-hidden border-4 border-purple-500",children:d.jsx("img",{src:m5,alt:"Profile",className:"w-full h-full object-cover"})}),d.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-1",children:n?.name||"Usuario"}),d.jsxs("p",{className:"text-white/60 text-sm sm:text-base",children:["Nivel ",Math.floor(x.totalPoints/1e3)+1]})]}),d.jsx("div",{className:"space-y-3 sm:space-y-4",children:a?d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-white/80 text-sm",children:"Nombre"}),d.jsx("input",{type:"text",value:u.name||"",onChange:H=>h({...u,name:H.target.value}),className:"w-full mt-1 px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-white/80 text-sm",children:"Pas"}),d.jsx("input",{type:"text",value:u.country||"",onChange:H=>h({...u,country:H.target.value}),className:"w-full mt-1 px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-white/80 text-sm",children:"Ciudad"}),d.jsx("input",{type:"text",value:u.city||"",onChange:H=>h({...u,city:H.target.value}),className:"w-full mt-1 px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white"})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs("button",{onClick:S,className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg flex items-center justify-center",children:[d.jsx(gc,{className:"mr-2"})," Guardar"]}),d.jsxs("button",{onClick:D,className:"flex-1 bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg flex items-center justify-center",children:[d.jsx(Mo,{className:"mr-2"})," Cancelar"]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center space-x-3 p-2 sm:p-3 bg-white/5 rounded-lg",children:[d.jsx(a1,{className:"text-purple-400 text-sm sm:text-base"}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Email"}),d.jsx("p",{className:"text-white text-sm sm:text-base truncate",children:n?.email})]})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 sm:p-3 bg-white/5 rounded-lg",children:[d.jsx(dV,{className:"text-purple-400 text-sm sm:text-base"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Edad"}),d.jsx("p",{className:"text-white text-sm sm:text-base",children:U(n?.birthdate)})]})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 sm:p-3 bg-white/5 rounded-lg",children:[d.jsx(EV,{className:"text-purple-400 text-sm sm:text-base"}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Ubicacin"}),d.jsx("p",{className:"text-white text-sm sm:text-base truncate",children:n?.city&&n?.country?`${n.city}, ${n.country}`:"No especificado"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3 p-2 sm:p-3 bg-white/5 rounded-lg",children:[d.jsx(xV,{className:"text-purple-400 text-sm sm:text-base"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Miembro desde"}),d.jsx("p",{className:"text-white text-sm sm:text-base",children:z(n?.createdAt)})]})]}),d.jsxs("button",{onClick:E,className:"w-full bg-linear-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white py-3 px-4 rounded-lg flex items-center justify-center transition-all",children:[d.jsx(Id,{className:"mr-2"})," Editar Perfil"]})]})})]})}),d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[d.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4",children:"Estadsticas"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl sm:rounded-2xl p-3 sm:p-4 text-center",children:[d.jsx(o1,{className:"text-xl sm:text-2xl text-purple-400 mx-auto mb-2"}),d.jsx("p",{className:"text-lg sm:text-2xl font-bold text-white",children:x.totalPoints}),d.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Puntos"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[d.jsx(ar,{className:"text-2xl text-yellow-400 mx-auto mb-2"}),d.jsx("p",{className:"text-2xl font-bold text-white",children:x.achievements.length}),d.jsx("p",{className:"text-white/60 text-sm",children:"Logros"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[d.jsx(Ni,{className:"text-2xl text-blue-400 mx-auto mb-2"}),d.jsx("p",{className:"text-2xl font-bold text-white",children:x.completedMissions}),d.jsx("p",{className:"text-white/60 text-sm",children:"Misiones"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[d.jsx(uV,{className:"text-2xl text-green-400 mx-auto mb-2"}),d.jsxs("p",{className:"text-2xl font-bold text-white",children:[x.averageScore,"%"]}),d.jsx("p",{className:"text-white/60 text-sm",children:"Precisin"})]})]})]}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6",children:[d.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4",children:"Progreso de Aprendizaje"}),d.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-white/80",children:"Precisin"}),d.jsxs("span",{className:"text-white font-bold",children:[x.averageScore,"%"]})]}),d.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:d.jsx("div",{className:"bg-linear-to-r from-green-400 to-blue-500 h-3 rounded-full transition-all duration-500",style:{width:`${x.averageScore}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-white/80",children:"Nivel actual"}),d.jsx("span",{className:"text-white font-bold",children:Math.floor(x.totalPoints/1e3)+1})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(tc,{className:"text-yellow-400"}),d.jsx("span",{className:"text-white/60",children:"Basado en puntos obtenidos"})]})]})]})]}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[d.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4",children:"Logros Recientes"}),d.jsx("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:x.achievements.length>0?x.achievements.slice(0,3).map((H,k)=>d.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg",children:[d.jsx("div",{className:"w-10 h-10 bg-linear-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:d.jsx(ar,{className:"text-white"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-white font-medium",children:H.title}),d.jsx("p",{className:"text-white/60 text-sm",children:H.description})]})]},H.id)):d.jsxs("div",{className:"text-center py-4",children:[d.jsx(ar,{className:"text-4xl text-white/20 mx-auto mb-2"}),d.jsx("p",{className:"text-white/60",children:"Completa misiones para desbloquear logros!"})]})})]}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[d.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4",children:"Actividad Semanal"}),d.jsx("div",{className:"flex items-center justify-center h-32 bg-white/5 rounded-lg",children:d.jsxs("div",{className:"text-center",children:[d.jsx(fV,{className:"text-4xl text-purple-400 mx-auto mb-2"}),d.jsx("p",{className:"text-white/60",children:"Grfico de actividad prximamente"})]})})]})]})]})]})]}):d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Por favor inicia sesin"})})}function Oq(){const[t]=Ji(bn),[e,n]=R.useState(null),[s,a]=R.useState({totalPoints:0,level:1,nextLevelXP:1e3,achievements:[],completedMissions:0}),[l,u]=R.useState(!0);return R.useEffect(()=>{(async()=>{if(t)try{const p=await vn(ut(Se,"users",t.uid));p.exists()&&n(p.data());const g=await ki.getUserPoints(t.uid),x=await ki.getUserAchievements(t.uid),v=Math.floor(g/1e3)+1,E=v*1e3;a({totalPoints:g,level:v,nextLevelXP:E,achievements:x,completedMissions:x.length})}catch(p){console.error("Error fetching user data:",p)}u(!1)})()},[t]),l?d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando dashboard..."})}):t?d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:[d.jsx(Ls,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-7xl mx-auto pt-16 sm:pt-20 px-4",children:[d.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 sm:mb-8",children:[d.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-2",children:["Hola, ",e?.name?.split(" ")[0]||"Usuario","! "]}),d.jsx("p",{className:"text-white/70 text-base sm:text-lg",children:"Contina tu aventura de aprendizaje"})]}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl sm:rounded-2xl p-3 sm:p-4 text-center",children:[d.jsx(o1,{className:"text-2xl sm:text-3xl text-purple-400 mx-auto mb-2"}),d.jsx("p",{className:"text-lg sm:text-2xl font-bold text-white",children:s.totalPoints}),d.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"Puntos"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[d.jsx(ar,{className:"text-3xl text-yellow-400 mx-auto mb-2"}),d.jsx("p",{className:"text-2xl font-bold text-white",children:s.achievements.length}),d.jsx("p",{className:"text-white/60 text-sm",children:"Logros"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[d.jsx(Ni,{className:"text-3xl text-blue-400 mx-auto mb-2"}),d.jsx("p",{className:"text-2xl font-bold text-white",children:s.completedMissions}),d.jsx("p",{className:"text-white/60 text-sm",children:"Misiones"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-4 text-center",children:[d.jsx(tc,{className:"text-3xl text-green-400 mx-auto mb-2"}),d.jsx("p",{className:"text-2xl font-bold text-white",children:s.level}),d.jsx("p",{className:"text-white/60 text-sm",children:"Nivel"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[d.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-2",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6 mb-4 sm:mb-6",children:[d.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4",children:"Progreso de Hoy"}),d.jsxs("div",{className:"mb-4 sm:mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-white/80 text-sm sm:text-base",children:"Puntos totales"}),d.jsxs("span",{className:"text-white font-bold text-sm sm:text-base",children:[s.totalPoints," puntos"]})]}),d.jsx("div",{className:"w-full bg-white/10 rounded-full h-4",children:d.jsx("div",{className:"bg-linear-to-r from-green-400 to-blue-500 h-4 rounded-full transition-all duration-500",style:{width:`${Math.min(s.totalPoints/5e3*100,100)}%`}})}),d.jsx("p",{className:"text-white/60 text-xs sm:text-sm mt-2",children:"Sigue completando misiones para ganar ms puntos!"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("span",{className:"text-white/80 text-sm sm:text-base",children:["Nivel ",s.level]}),d.jsxs("span",{className:"text-white font-bold text-sm sm:text-base",children:[s.totalPoints,"/",s.nextLevelXP," puntos"]})]}),d.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:d.jsx("div",{className:"bg-linear-to-r from-purple-400 to-pink-500 h-3 rounded-full transition-all duration-500",style:{width:`${s.totalPoints%1e3/1e3*100}%`}})})]})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6",children:[d.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4",children:"Logros Recientes"}),d.jsx("div",{className:"space-y-2 sm:space-y-3",children:s.achievements.length>0?s.achievements.slice(0,3).map(h=>d.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-white/5 rounded-xl",children:[d.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-1 min-w-0",children:[d.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center bg-yellow-500",children:d.jsx(ar,{className:"text-white text-sm"})}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-white font-medium text-sm sm:text-base truncate",children:h.title}),d.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:h.description})]})]}),d.jsxs("div",{className:"text-yellow-400 font-bold text-sm",children:["+",h.points]})]},h.id)):d.jsxs("div",{className:"text-center py-4",children:[d.jsx(ar,{className:"text-4xl text-white/20 mx-auto mb-2"}),d.jsx("p",{className:"text-white/60 text-sm",children:"Completa misiones para desbloquear logros!"})]})})]})]}),d.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"space-y-6",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6",children:[d.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4",children:"Logros"}),d.jsx("div",{className:"space-y-2 sm:space-y-3",children:s.achievements.length>0?s.achievements.slice(0,4).map(h=>d.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-xl bg-yellow-500/20 border border-yellow-500/30",children:[d.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-yellow-500",children:d.jsx(ar,{className:"text-sm text-white"})}),d.jsx("span",{className:"text-sm text-white",children:h.title})]},h.id)):d.jsx("div",{className:"text-center py-2",children:d.jsx("p",{className:"text-white/60 text-sm",children:"An no tienes logros!"})})})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl sm:rounded-3xl p-4 sm:p-6",children:[d.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4",children:"Tu Nivel"}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-linear-to-r from-purple-400 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx(tc,{className:"text-xl sm:text-2xl text-white"})}),d.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-white mb-1",children:s.level}),d.jsx("p",{className:"text-white/60 text-xs sm:text-sm",children:"nivel actual"}),d.jsxs("p",{className:"text-white/40 text-xs mt-1",children:[1e3-s.totalPoints%1e3," puntos para subir"]})]})]})]})]})]})]}):d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Por favor inicia sesin"})})}const Lq=()=>{const t=sn(),[e]=Ji(bn),n=()=>{if(!e){ke.fire({icon:"warning",title:"Inicia sesin requerida",text:"Debes iniciar sesin para acceder a los modos de juego",confirmButtonText:"Ir a Login",confirmButtonColor:"#8B5CF6",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(s=>{s.isConfirmed&&t("/login")});return}t("/adventure-shelf")};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:[d.jsx(Ls,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-6xl mx-auto pt-20",children:[d.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[d.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-4",children:["Modos de ",d.jsx("span",{className:"bg-linear-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Juego"})]}),d.jsx("p",{className:"text-white/70 text-base sm:text-lg max-w-2xl mx-auto px-4",children:"Explora diferentes experiencias de aprendizaje. Ms aventuras estn en camino."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[d.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},onClick:n,className:"group cursor-pointer bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 sm:p-8 shadow-2xl hover:shadow-purple-500/20 transition-all duration-300 hover:scale-105 hover:bg-white/15",children:[d.jsxs("div",{className:"relative mb-6",children:[d.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-linear-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto group-hover:scale-110 transition-transform duration-300",children:d.jsx(WA,{size:32,className:"text-white"})}),d.jsx("div",{className:"absolute -top-2 -right-2",children:d.jsx(U1,{size:20,className:"text-yellow-400 animate-pulse"})})]}),d.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white text-center mb-3",children:"Aventura Temtica"}),d.jsx("p",{className:"text-white/70 text-center text-sm sm:text-base mb-6 leading-relaxed",children:"Sumrgete en historias interactivas. Completa captulos, supera misiones y vive la narrativa mientras aprendes."}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:[d.jsxs("span",{className:"bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[d.jsx(pU,{size:12})," Historia"]}),d.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[d.jsx(wU,{size:12})," Misiones"]}),d.jsxs("span",{className:"bg-green-500/20 text-green-300 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[d.jsx(SU,{size:12})," Recompensas"]})]}),d.jsxs("button",{className:"w-full py-3 rounded-xl bg-linear-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold transition-all duration-200 flex items-center justify-center gap-2 group-hover:shadow-lg",children:[d.jsx(RU,{size:18,className:"group-hover:animate-bounce"}),"Jugar Ahora!"]})]}),d.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-6 sm:p-8 shadow-2xl",children:[d.jsxs("div",{className:"relative mb-6",children:[d.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-linear-to-r from-gray-600 to-gray-500 rounded-2xl flex items-center justify-center mx-auto",children:d.jsx(Em,{size:32,className:"text-gray-300"})}),d.jsx("div",{className:"absolute -top-1 -right-1",children:d.jsx("div",{className:"w-6 h-6 bg-yellow-500 rounded-full flex items-center justify-center",children:d.jsx(ZA,{size:12,className:"text-white"})})})]}),d.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-300 text-center mb-3",children:"Ms Aventuras"}),d.jsx("p",{className:"text-gray-400 text-center text-sm sm:text-base mb-6 leading-relaxed",children:"Estamos creando nuevos y emocionantes modos de juego. Mantente atento para ms diversin!"}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:[d.jsxs("span",{className:"bg-gray-600/20 text-gray-400 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[d.jsx(_U,{size:12})," Desafos"]}),d.jsxs("span",{className:"bg-gray-600/20 text-gray-400 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[d.jsx(NU,{size:12})," Multijugador"]}),d.jsxs("span",{className:"bg-gray-600/20 text-gray-400 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[d.jsx(TU,{size:12})," Tiempo Real"]})]}),d.jsxs("button",{disabled:!0,className:"w-full py-3 rounded-xl bg-gray-600/50 cursor-not-allowed text-gray-300 font-semibold flex items-center justify-center gap-2",children:[d.jsx(Em,{size:18}),"Prximamente..."]})]})]}),d.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center mt-12",children:d.jsxs("p",{className:"text-white/60 text-sm",children:["Tienes ideas para nuevos modos de juego?",d.jsx("span",{className:"text-purple-400 hover:text-purple-300 cursor-pointer transition-colors",children:"Comprtelas con nosotros!"})]})})]})]})},Bq=t=>{switch(t){case"Principiante":return gV;case"Intermedio":return x5;case"Avanzado":return o1;default:return Ni}},zq=t=>{switch(t){case"Principiante":return"from-blue-500 to-purple-600";case"Intermedio":return"from-amber-500 to-orange-600";case"Avanzado":return"from-purple-500 to-pink-600";default:return"from-gray-500 to-slate-600"}};function X_(){const[t,e]=R.useState([]),[n,s]=R.useState(!0);return R.useEffect(()=>{(async()=>{try{const l=Pt(Se,"books"),h=(await Nn(l)).docs.map(p=>({id:p.id,...p.data(),icon:Bq(p.data().difficulty),color:zq(p.data().difficulty)}));e(h)}catch(l){console.error("Error fetching books:",l)}finally{s(!1)}})()},[]),n?d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando libros..."})}):d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:[d.jsx(Ls,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-7xl mx-auto pt-20",children:[d.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(Ni,{className:"text-4xl text-purple-400"}),d.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white",children:["Estantera ",d.jsx("span",{className:"bg-linear-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Temtica"})]}),d.jsx(U1,{className:"text-4xl text-yellow-400 animate-pulse"})]}),d.jsx("p",{className:"text-white/70 text-base sm:text-lg max-w-2xl mx-auto px-4",children:"Elige un libro para comenzar tu aventura narrativa y sumrgete en historias fascinantes."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:[t.length===0?d.jsxs("div",{className:"col-span-full text-center py-12",children:[d.jsx(Ni,{className:"text-6xl text-white/20 mx-auto mb-4"}),d.jsx("p",{className:"text-white/60 text-lg",children:"No hay libros disponibles an"})]}):t.map((a,l)=>{const u=a.icon;return d.jsxs(te.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:l*.15},className:"group relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl overflow-hidden shadow-2xl transition-all duration-300 hover:scale-105 hover:shadow-purple-500/20 cursor-pointer",children:[d.jsx("div",{className:"relative h-48 sm:h-56 overflow-hidden",children:a.cover?d.jsxs(d.Fragment,{children:[d.jsx("img",{src:a.cover,alt:a.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),d.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/60 to-transparent"}),d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx("div",{className:`w-12 h-12 bg-linear-to-r ${a.color} rounded-full flex items-center justify-center shadow-lg`,children:d.jsx(u,{className:"text-white text-xl"})})})]}):d.jsxs("div",{className:"w-full h-full bg-linear-to-br from-gray-700 to-gray-800 flex flex-col items-center justify-center",children:[d.jsx(Ni,{size:40,className:"text-gray-400 mb-2"}),d.jsx("span",{className:"text-gray-300 font-medium text-center px-4",children:a.title})]})}),d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white mb-1",children:a.title}),d.jsx("p",{className:"text-purple-300 text-sm font-medium mb-3",children:a.author}),d.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2",children:a.description}),d.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[d.jsxs("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[d.jsx(ZA,{size:10})," ",a.difficulty]}),d.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-2 py-1 rounded-full text-xs font-medium",children:[a.chapters," captulos"]})]}),d.jsx(Kt,{to:`/chapter-selection?bookId=${a.id}`,className:`w-full block bg-linear-to-r ${a.color} hover:shadow-lg py-3 rounded-xl text-white font-semibold transition-all duration-200 text-center group-hover:scale-105`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(WA,{size:18}),"Entrar al Libro",d.jsx(hU,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})})]})]},a.id)}),d.jsxs(te.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:t.length*.15+.2},className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl overflow-hidden shadow-xl opacity-75",children:[d.jsx("div",{className:"relative h-48 sm:h-56 overflow-hidden",children:d.jsxs("div",{className:"w-full h-full bg-linear-to-br from-gray-700 to-gray-800 flex flex-col items-center justify-center",children:[d.jsx(Em,{size:40,className:"text-gray-400 mb-2"}),d.jsx("span",{className:"text-gray-300 font-medium",children:"Ms Libros"}),d.jsx("span",{className:"text-gray-400 text-sm",children:"Prximamente"})]})}),d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-300 mb-1",children:"Nuevas Aventuras"}),d.jsx("p",{className:"text-gray-400 text-sm font-medium mb-3",children:"Prximamente"}),d.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Estamos trabajando en nuevos libros emocionantes. Mantente atento!"}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:d.jsx("span",{className:"bg-gray-600/20 text-gray-400 px-2 py-1 rounded-full text-xs font-medium",children:"Prximamente"})}),d.jsxs("button",{disabled:!0,className:"w-full bg-gray-600/50 py-3 rounded-xl text-gray-300 font-semibold cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(Em,{size:18}),"Prximamente"]})]})]})]})]})]})}function Uq(){const t=[{title:"Modos de Juego",description:"Agrega o administra los modos de juego del sistema.",icon:y5,link:"/admin/games",color:"from-blue-500 to-purple-600",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/20"},{title:"Aventura Temtica",description:"Agrega libros, captulos y niveles del modo de juego.",icon:Ni,link:"/admin/books",color:"from-green-500 to-teal-600",bgColor:"bg-green-500/10",borderColor:"border-green-500/20"},{title:"Usuarios",description:"Gestin de usuarios y privilegios del sistema.",icon:CV,link:"/admin/users",color:"from-orange-500 to-red-600",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/20"},{title:"Estadsticas",description:"Visualiza mtricas y reportes del sistema.",icon:hV,link:"/admin/stats",color:"from-purple-500 to-pink-600",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/20"},{title:"Configuracin",description:"Ajustes generales y configuracin del sistema.",icon:ql,link:"/admin/settings",color:"from-gray-500 to-slate-600",bgColor:"bg-gray-500/10",borderColor:"border-gray-500/20"}];return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Wi,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[d.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(x5,{className:"text-4xl text-red-400"}),d.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white",children:["Panel de ",d.jsx("span",{className:"bg-linear-to-r from-red-400 to-pink-400 bg-clip-text text-transparent",children:"Administracin"})]})]}),d.jsx("p",{className:"text-white/70 text-base sm:text-lg max-w-2xl mx-auto",children:"Gestiona todos los aspectos de WordQuest desde este panel centralizado."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e,n)=>{const s=e.icon;return d.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},children:d.jsxs(Kt,{to:e.link,className:`group block ${e.bgColor} backdrop-blur-xl border ${e.borderColor} rounded-3xl p-6 shadow-2xl hover:shadow-purple-500/20 transition-all duration-300 hover:scale-105 hover:bg-white/15`,children:[d.jsx("div",{className:"mb-4",children:d.jsx("div",{className:`w-16 h-16 bg-linear-to-r ${e.color} rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300`,children:d.jsx(s,{className:"text-2xl text-white"})})}),d.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-3 group-hover:text-transparent group-hover:bg-linear-to-r group-hover:bg-clip-text group-hover:from-white group-hover:to-gray-300 transition-all",children:e.title}),d.jsx("p",{className:"text-white/70 text-sm sm:text-base leading-relaxed",children:e.description}),d.jsxs("div",{className:"mt-4 flex items-center text-white/50 group-hover:text-white/80 transition-colors",children:[d.jsx("span",{className:"text-sm font-medium",children:"Administrar"}),d.jsx("svg",{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},e.title)})}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-12 bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-6",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:"Estado del Sistema"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-400",children:"Online"}),d.jsx("div",{className:"text-white/60 text-sm",children:"Sistema"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-400",children:"3"}),d.jsx("div",{className:"text-white/60 text-sm",children:"Libros"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-400",children:"150+"}),d.jsx("div",{className:"text-white/60 text-sm",children:"Usuarios"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:"99.9%"}),d.jsx("div",{className:"text-white/60 text-sm",children:"Uptime"})]})]})]})]})]})}function Fq(){const[t,e]=R.useState([]),[n,s]=R.useState(!1),[a,l]=R.useState(!1),[u,h]=R.useState(null),p=sn(),[g,x]=R.useState({title:"",author:"",description:"",difficulty:"Principiante",chapters:"",cover:""});R.useEffect(()=>{v()},[]);const v=async()=>{try{const k=await Nn(Pt(Se,"books"));e(k.docs.map(V=>({id:V.id,...V.data()})))}catch(k){console.error("Error fetching books:",k),k.code==="permission-denied"&&ke.fire({icon:"error",title:"Permisos insuficientes",text:"No tienes permisos para acceder a los libros. Contacta al administrador.",confirmButtonColor:"#8B5CF6"})}},E=(k,V)=>{x(B=>({...B,[k]:V}))},S=()=>{x({title:"",author:"",description:"",difficulty:"Principiante",chapters:"",cover:""}),s(!1),h(null)},D=k=>{x({title:k.title,author:k.author,description:k.description,difficulty:k.difficulty,chapters:k.chapters.toString(),cover:k.cover}),h(k.id),s(!0)},U=async()=>{if(!g.title.trim()||!g.author.trim()){ke.fire({icon:"warning",title:"Campos requeridos",text:"Por favor completa al menos el ttulo y autor",confirmButtonColor:"#8B5CF6"});return}l(!0);try{await s1(ut(Se,"books",u),{title:g.title,author:g.author,description:g.description,difficulty:g.difficulty,chapters:parseInt(g.chapters)||0,cover:g.cover,updatedAt:new Date}),ke.fire({icon:"success",title:"Libro actualizado!",text:"El libro ha sido actualizado exitosamente",confirmButtonColor:"#8B5CF6"}),S(),v()}catch{ke.fire({icon:"error",title:"Error",text:"No se pudo actualizar el libro",confirmButtonColor:"#8B5CF6"})}l(!1)},z=async()=>{if(!g.title.trim()||!g.author.trim()){ke.fire({icon:"warning",title:"Campos requeridos",text:"Por favor completa al menos el ttulo y autor",confirmButtonColor:"#8B5CF6"});return}l(!0);try{await Rd(Pt(Se,"books"),{title:g.title,author:g.author,description:g.description,difficulty:g.difficulty,chapters:parseInt(g.chapters)||0,cover:g.cover,createdAt:new Date,updatedAt:new Date}),ke.fire({icon:"success",title:"Libro creado!",text:"El libro ha sido agregado exitosamente",confirmButtonColor:"#8B5CF6"}),S(),v()}catch{ke.fire({icon:"error",title:"Error",text:"No se pudo crear el libro",confirmButtonColor:"#8B5CF6"})}l(!1)},H=async(k,V)=>{if((await ke.fire({title:"Ests seguro?",text:`Se eliminar el libro "${V}"`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{await BP(ut(Se,"books",k)),v(),ke.fire({icon:"success",title:"Eliminado",text:"El libro ha sido eliminado",confirmButtonColor:"#8B5CF6"})}catch{ke.fire({icon:"error",title:"Error",text:"No se pudo eliminar el libro",confirmButtonColor:"#8B5CF6"})}};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Wi,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[d.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(Ni,{className:"text-4xl text-green-400"}),d.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Administrar ",d.jsx("span",{className:"bg-linear-to-r from-green-400 to-teal-400 bg-clip-text text-transparent",children:"Libros"})]})]}),d.jsx("p",{className:"text-white/70 text-base sm:text-lg",children:"Gestiona los libros del modo Aventura Temtica"})]}),d.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8 text-center",children:d.jsxs("button",{onClick:()=>s(!n),className:"bg-linear-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2 mx-auto",children:[d.jsx(dr,{})," ",n?"Cancelar":"Agregar Nuevo Libro"]})}),n&&d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 mb-8",children:[d.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[d.jsx(Ni,{className:"text-green-400"})," ",u?"Editar Libro":"Nuevo Libro"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Ttulo *"}),d.jsx("input",{type:"text",value:g.title,onChange:k=>E("title",k.target.value),placeholder:"Ttulo del libro",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Autor *"}),d.jsx("input",{type:"text",value:g.author,onChange:k=>E("author",k.target.value),placeholder:"Nombre del autor",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 bg-linear-to-r from-green-400 to-blue-400 rounded-full"}),"Dificultad"]}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:g.difficulty,onChange:k=>E("difficulty",k.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all appearance-none cursor-pointer hover:bg-white/10 hover:border-white/30",children:[d.jsx("option",{value:"Principiante",className:"bg-slate-800 text-white",children:"Principiante"}),d.jsx("option",{value:"Intermedio",className:"bg-slate-800 text-white",children:"Intermedio"}),d.jsx("option",{value:"Avanzado",className:"bg-slate-800 text-white",children:"Avanzado"})]}),d.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:d.jsx("svg",{className:"w-5 h-5 text-white/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),d.jsxs("div",{className:"mt-1 text-xs text-white/50",children:[g.difficulty==="Principiante"&&" Ideal para nuevos lectores",g.difficulty==="Intermedio"&&" Requiere experiencia bsica",g.difficulty==="Avanzado"&&" Para lectores experimentados"]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Nmero de Captulos"}),d.jsx("input",{type:"number",value:g.chapters,onChange:k=>E("chapters",k.target.value),placeholder:"Ej: 12",min:"1",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 flex items-center gap-2",children:[d.jsx(bV,{})," URL de la Portada"]}),d.jsx("input",{type:"url",value:g.cover,onChange:k=>E("cover",k.target.value),placeholder:"https://ejemplo.com/imagen.jpg",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Descripcin"}),d.jsx("textarea",{value:g.description,onChange:k=>E("description",k.target.value),placeholder:"Descripcin del libro...",rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all resize-none"})]})]}),d.jsxs("div",{className:"flex gap-4 mt-6",children:[d.jsxs("button",{onClick:u?U:z,disabled:a,className:"flex-1 bg-linear-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[d.jsx(gc,{})," ",a?"Guardando...":u?"Actualizar Libro":"Guardar Libro"]}),d.jsxs("button",{onClick:S,className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2",children:[d.jsx(Mo,{})," Cancelar"]})]})]}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:["Libros Existentes (",t.length,")"]}),t.length===0?d.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 text-center",children:[d.jsx(Ni,{className:"text-4xl text-white/40 mx-auto mb-4"}),d.jsx("p",{className:"text-white/60",children:"No hay libros registrados an"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((k,V)=>d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300",children:[k.cover&&d.jsx("div",{className:"h-48 overflow-hidden",children:d.jsx("img",{src:k.cover,alt:k.title,className:"w-full h-full object-cover",onError:B=>{B.target.style.display="none"}})}),d.jsxs("div",{className:"p-4",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-1 truncate",children:k.title}),d.jsx("p",{className:"text-green-300 text-sm mb-2",children:k.author}),d.jsx("p",{className:"text-white/70 text-sm mb-3 line-clamp-2",children:k.description}),d.jsxs("div",{className:"flex gap-2 mb-4",children:[d.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full text-xs",children:k.difficulty}),d.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-2 py-1 rounded-full text-xs",children:[k.chapters," cap."]})]}),d.jsxs("div",{className:"flex gap-2 mb-2",children:[d.jsxs("button",{onClick:()=>D(k),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-3 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-1",children:[d.jsx(Id,{size:12})," Editar"]}),d.jsxs("button",{onClick:()=>H(k.id,k.title),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-3 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-1",children:[d.jsx(ld,{size:12})," Eliminar"]})]}),d.jsxs("button",{onClick:()=>p(`/admin/chapters?bookId=${k.id}`),className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 px-3 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-1",children:[d.jsx(Uf,{size:12})," Captulos"]})]})]},k.id))})]})]})]})}function Hq(){const[t,e]=R.useState([]),[n,s]=R.useState([]),[a,l]=R.useState(""),[u,h]=R.useState(!1),[p,g]=R.useState(!1),[x,v]=R.useState({title:"",content:"",order:"",description:""}),[E]=lc();R.useEffect(()=>{S();const k=E.get("bookId");k&&l(k)},[E]),R.useEffect(()=>{a&&D(a)},[a]);const S=async()=>{try{const k=await Nn(Pt(Se,"books"));e(k.docs.map(V=>({id:V.id,...V.data()})))}catch(k){console.error("Error fetching books:",k)}},D=async k=>{try{const V=await Nn(Pt(Se,"books",k,"chapters"));s(V.docs.map(B=>({id:B.id,...B.data()})))}catch(V){console.error("Error fetching chapters:",V)}},U=(k,V)=>{v(B=>({...B,[k]:V}))},z=()=>{v({title:"",content:"",order:"",description:""}),h(!1)},H=async()=>{if(!a){ke.fire({icon:"warning",title:"Selecciona un libro",text:"Debes seleccionar un libro primero",confirmButtonColor:"#8B5CF6"});return}if(!x.title.trim()){ke.fire({icon:"warning",title:"Ttulo requerido",text:"Por favor ingresa el ttulo del captulo",confirmButtonColor:"#8B5CF6"});return}g(!0);try{await Rd(Pt(Se,"books",a,"chapters"),{title:x.title,content:x.content,order:parseInt(x.order)||1,description:x.description,createdAt:new Date,updatedAt:new Date}),ke.fire({icon:"success",title:"Captulo creado!",text:"El captulo ha sido agregado exitosamente",confirmButtonColor:"#8B5CF6"}),z(),D(a)}catch{ke.fire({icon:"error",title:"Error",text:"No se pudo crear el captulo",confirmButtonColor:"#8B5CF6"})}g(!1)};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Wi,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[d.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(Uf,{className:"text-4xl text-blue-400"}),d.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Administrar ",d.jsx("span",{className:"bg-linear-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Captulos"})]})]}),d.jsx("p",{className:"text-white/70 text-base sm:text-lg",children:"Gestiona los captulos de cada libro"})]}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6 mb-8",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-3",children:"Seleccionar Libro"}),d.jsxs("select",{value:a,onChange:k=>l(k.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none cursor-pointer",children:[d.jsx("option",{value:"",className:"bg-slate-800 text-white",children:"Selecciona un libro..."}),t.map(k=>d.jsxs("option",{value:k.id,className:"bg-slate-800 text-white",children:[k.title," - ",k.author]},k.id))]})]}),a&&d.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 text-center",children:d.jsxs("button",{onClick:()=>h(!u),className:"bg-linear-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2 mx-auto",children:[d.jsx(dr,{})," ",u?"Cancelar":"Agregar Nuevo Captulo"]})}),u&&a&&d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 mb-8",children:[d.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[d.jsx(Uf,{className:"text-blue-400"})," Nuevo Captulo"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Ttulo *"}),d.jsx("input",{type:"text",value:x.title,onChange:k=>U("title",k.target.value),placeholder:"Ttulo del captulo",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Orden"}),d.jsx("input",{type:"number",value:x.order,onChange:k=>U("order",k.target.value),placeholder:"Ej: 1",min:"1",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Descripcin"}),d.jsx("input",{type:"text",value:x.description,onChange:k=>U("description",k.target.value),placeholder:"Breve descripcin del captulo",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Contenido"}),d.jsx("textarea",{value:x.content,onChange:k=>U("content",k.target.value),placeholder:"Contenido del captulo...",rows:6,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none"})]})]}),d.jsxs("div",{className:"flex gap-4 mt-6",children:[d.jsxs("button",{onClick:H,disabled:p,className:"flex-1 bg-linear-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[d.jsx(gc,{})," ",p?"Guardando...":"Guardar Captulo"]}),d.jsxs("button",{onClick:z,className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2",children:[d.jsx(Mo,{})," Cancelar"]})]})]}),a&&d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:["Captulos (",n.length,")"]}),n.length===0?d.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 text-center",children:[d.jsx(Uf,{className:"text-4xl text-white/40 mx-auto mb-4"}),d.jsx("p",{className:"text-white/60",children:"No hay captulos registrados para este libro"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.sort((k,V)=>k.order-V.order).map((k,V)=>d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300",children:[d.jsx("div",{className:"flex items-center gap-3 mb-4",children:d.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-3 py-1 rounded-full text-sm font-medium",children:["Cap. ",k.order]})}),d.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:k.title}),k.description&&d.jsx("p",{className:"text-white/70 text-sm mb-3",children:k.description}),k.content&&d.jsxs("div",{className:"bg-white/5 rounded-lg p-3 mb-4",children:[d.jsx("p",{className:"text-white/60 text-xs mb-1",children:"Contenido:"}),d.jsx("p",{className:"text-white/80 text-sm line-clamp-3",children:k.content})]}),d.jsxs("div",{className:"text-xs text-white/40",children:["Creado: ",k.createdAt?.toDate?.()?.toLocaleDateString()||"N/A"]})]},k.id))})]})]})]})}function qq(){const t=sn();return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Wi,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[d.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(y5,{className:"text-4xl text-purple-400"}),d.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Administrar ",d.jsx("span",{className:"bg-linear-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Juegos"})]})]}),d.jsx("p",{className:"text-white/70 text-base sm:text-lg",children:"Gestiona los diferentes modos de juego disponibles"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[d.jsxs("div",{className:"bg-linear-to-r from-yellow-500 to-orange-500 p-6 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-3",children:d.jsx(ad,{className:"text-3xl text-white"})}),d.jsx("h3",{className:"text-xl font-bold text-white",children:"Palabras Clave"}),d.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Keywords Game"})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("p",{className:"text-white/70 text-sm mb-4 leading-relaxed",children:"Los usuarios leen un extracto del captulo y luego identifican palabras clave de opciones mltiples. Cada acierto ilumina la interfaz con retroalimentacin positiva, mientras que los errores ofrecen pistas sutiles para el aprendizaje."}),d.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[d.jsx("span",{className:"bg-yellow-500/20 text-yellow-300 px-2 py-1 rounded-full text-xs",children:"Vocabulario"}),d.jsx("span",{className:"bg-orange-500/20 text-orange-300 px-2 py-1 rounded-full text-xs",children:"Escritura"}),d.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full text-xs",children:"Categoras"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{onClick:()=>t("/admin/games/edit-keywords"),className:"w-full bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[d.jsx(ql,{size:14})," Editar Misiones"]}),d.jsxs("button",{onClick:()=>t("/admin/games/add-keyword"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[d.jsx(dr,{size:14})," Agregar Contenido"]})]})]})]}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[d.jsxs("div",{className:"bg-linear-to-r from-blue-500 to-indigo-600 p-6 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-3",children:d.jsx(Id,{className:"text-3xl text-white"})}),d.jsx("h3",{className:"text-xl font-bold text-white",children:"Completar Oracin"}),d.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Complete the Sentence"})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("p",{className:"text-white/70 text-sm mb-4 leading-relaxed",children:"Los usuarios completan fragmentos con espacios en blanco seleccionando las opciones correctas. Cada seleccin proporciona retroalimentacin inmediata y una barra de progreso mantiene la motivacin durante la actividad."}),d.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[d.jsx("span",{className:"bg-blue-500/20 text-blue-300 px-2 py-1 rounded-full text-xs",children:"Comprensin"}),d.jsx("span",{className:"bg-indigo-500/20 text-indigo-300 px-2 py-1 rounded-full text-xs",children:"Gramtica"}),d.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full text-xs",children:"Contexto"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{className:"w-full bg-linear-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[d.jsx(ql,{size:14})," Configurar"]}),d.jsxs("button",{onClick:()=>t("/admin/games/add-sentence"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[d.jsx(dr,{size:14})," Agregar Contenido"]})]})]})]}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[d.jsxs("div",{className:"bg-linear-to-r from-green-500 to-teal-600 p-6 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-3",children:d.jsx(l1,{className:"text-3xl text-white"})}),d.jsx("h3",{className:"text-xl font-bold text-white",children:"Ordenar Secuencia"}),d.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Order the Sequence"})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("p",{className:"text-white/70 text-sm mb-4 leading-relaxed",children:"Los usuarios reciben fragmentos desordenados del libro y deben arrastrar y organizar cada elemento hasta reconstruir la secuencia correcta de la historia con retroalimentacin visual suave."}),d.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[d.jsx("span",{className:"bg-green-500/20 text-green-300 px-2 py-1 rounded-full text-xs",children:"Secuencia"}),d.jsx("span",{className:"bg-teal-500/20 text-teal-300 px-2 py-1 rounded-full text-xs",children:"Narrativa"}),d.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full text-xs",children:"Drag & Drop"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{className:"w-full bg-linear-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[d.jsx(ql,{size:14})," Configurar"]}),d.jsxs("button",{onClick:()=>t("/admin/games/add-sequence"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[d.jsx(dr,{size:14})," Agregar Contenido"]})]})]})]})]})]})]})}function $q(){const t=sn(),[e,n]=R.useState([]),[s,a]=R.useState([]),[l,u]=R.useState(""),[h,p]=R.useState(""),[g,x]=R.useState(!1),[v,E]=R.useState({title:"Identifica las palabras clave en el fragmento",description:"Selecciona las palabras que representan las ideas esenciales del texto ledo",mode:"keywords",difficulty:"Intermedio",order:"",text:"",correctWords:[""],distractors:[""]});R.useEffect(()=>{S()},[]),R.useEffect(()=>{l&&D(l)},[l]);const S=async()=>{try{const B=await Nn(Pt(Se,"books"));n(B.docs.map(M=>({id:M.id,...M.data()})))}catch(B){console.error("Error fetching books:",B)}},D=async B=>{try{const M=await Nn(Pt(Se,"books",B,"chapters"));a(M.docs.map(G=>({id:G.id,...G.data()})))}catch(M){console.error("Error fetching chapters:",M)}},U=(B,M)=>{E(G=>({...G,[B]:M}))},z=(B,M,G)=>{E(C=>({...C,[B]:C[B].map((T,j)=>j===M?G:T)}))},H=B=>{E(M=>({...M,[B]:[...M[B],""]}))},k=(B,M)=>{E(G=>({...G,[B]:G[B].filter((C,T)=>T!==M)}))},V=async()=>{if(!l||!h){ke.fire({icon:"warning",title:"Seleccin requerida",text:"Debes seleccionar un libro y captulo",confirmButtonColor:"#8B5CF6"});return}if(!v.text.trim()||!v.order){ke.fire({icon:"warning",title:"Campos requeridos",text:"Completa el texto y orden de la misin",confirmButtonColor:"#8B5CF6"});return}const B=v.correctWords.filter(G=>G.trim()),M=v.distractors.filter(G=>G.trim());if(B.length===0){ke.fire({icon:"warning",title:"Palabras requeridas",text:"Debes agregar al menos una palabra correcta",confirmButtonColor:"#8B5CF6"});return}x(!0);try{const G={title:v.title,description:v.description,mode:v.mode,difficulty:v.difficulty,order:parseInt(v.order),data:{text:v.text,correctWords:B,distractors:M},createdAt:new Date,updatedAt:new Date};console.log("Creating mission with data:",G),console.log("Path:",`books/${l}/chapters/${h}/missions`),await Rd(Pt(Se,"books",l,"chapters",h,"missions"),G),ke.fire({icon:"success",title:"Misin creada!",text:"La misin de palabras clave ha sido agregada exitosamente",confirmButtonColor:"#8B5CF6"}),t("/admin/games")}catch(G){console.error("Error creating mission:",G),ke.fire({icon:"error",title:"Error",text:`No se pudo crear la misin: ${G.message}`,confirmButtonColor:"#8B5CF6"})}x(!1)};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Wi,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 py-8",children:[d.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(ad,{className:"text-4xl text-yellow-400"}),d.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Agregar ",d.jsx("span",{className:"bg-linear-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:"Misin Keywords"})]})]})}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Libro *"}),d.jsxs("select",{value:l,onChange:B=>u(B.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all appearance-none",children:[d.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un libro..."}),e.map(B=>d.jsx("option",{value:B.id,className:"bg-slate-800",children:B.title},B.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Captulo *"}),d.jsxs("select",{value:h,onChange:B=>p(B.target.value),disabled:!l,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all appearance-none disabled:opacity-50",children:[d.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un captulo..."}),s.map(B=>d.jsx("option",{value:B.id,className:"bg-slate-800",children:B.title},B.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Dificultad"}),d.jsxs("select",{value:v.difficulty,onChange:B=>U("difficulty",B.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all appearance-none",children:[d.jsx("option",{value:"Principiante",className:"bg-slate-800",children:"Principiante"}),d.jsx("option",{value:"Intermedio",className:"bg-slate-800",children:"Intermedio"}),d.jsx("option",{value:"Avanzado",className:"bg-slate-800",children:"Avanzado"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Orden *"}),d.jsx("input",{type:"number",value:v.order,onChange:B=>U("order",B.target.value),placeholder:"1",min:"1",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Texto del fragmento *"}),d.jsx("textarea",{value:v.text,onChange:B=>U("text",B.target.value),placeholder:"Escribe el fragmento de texto aqu...",rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all resize-none"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Palabras Correctas"}),v.correctWords.map((B,M)=>d.jsxs("div",{className:"flex gap-2 mb-2",children:[d.jsx("input",{type:"text",value:B,onChange:G=>z("correctWords",M,G.target.value),placeholder:"Palabra clave",className:"flex-1 px-4 py-2 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"}),d.jsx("button",{onClick:()=>k("correctWords",M),className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-all",children:d.jsx(ld,{size:12})})]},M)),d.jsxs("button",{onClick:()=>H("correctWords"),className:"w-full py-2 border-2 border-dashed border-green-500/50 text-green-400 rounded-xl hover:border-green-500 hover:bg-green-500/10 transition-all flex items-center justify-center gap-2",children:[d.jsx(dr,{size:12})," Agregar palabra correcta"]})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Distractores"}),v.distractors.map((B,M)=>d.jsxs("div",{className:"flex gap-2 mb-2",children:[d.jsx("input",{type:"text",value:B,onChange:G=>z("distractors",M,G.target.value),placeholder:"Palabra distractor",className:"flex-1 px-4 py-2 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"}),d.jsx("button",{onClick:()=>k("distractors",M),className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-all",children:d.jsx(ld,{size:12})})]},M)),d.jsxs("button",{onClick:()=>H("distractors"),className:"w-full py-2 border-2 border-dashed border-red-500/50 text-red-400 rounded-xl hover:border-red-500 hover:bg-red-500/10 transition-all flex items-center justify-center gap-2",children:[d.jsx(dr,{size:12})," Agregar distractor"]})]})]}),d.jsxs("div",{className:"flex gap-4 mt-8",children:[d.jsxs("button",{onClick:V,disabled:g,className:"flex-1 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[d.jsx(gc,{})," ",g?"Guardando...":"Crear Misin"]}),d.jsxs("button",{onClick:()=>t("/admin/games"),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2",children:[d.jsx(Mo,{})," Cancelar"]})]})]})]})]})}function Gq(){const t=sn(),[e,n]=R.useState([]),[s,a]=R.useState([]),[l,u]=R.useState(""),[h,p]=R.useState(""),[g,x]=R.useState(!1),[v,E]=R.useState({title:"Completa las frases del fragmento",description:"Selecciona la palabra o frase que completa correctamente cada parte del texto.",mode:"completarFrase",difficulty:"Intermedio",order:"",textoBase:"",espacios:[{id:"s1",opciones:["","",""],respuestaCorrecta:""}]});R.useEffect(()=>{S()},[]),R.useEffect(()=>{l&&D(l)},[l]);const S=async()=>{try{const M=await Nn(Pt(Se,"books"));n(M.docs.map(G=>({id:G.id,...G.data()})))}catch(M){console.error("Error fetching books:",M)}},D=async M=>{try{const G=await Nn(Pt(Se,"books",M,"chapters"));a(G.docs.map(C=>({id:C.id,...C.data()})))}catch(G){console.error("Error fetching chapters:",G)}},U=(M,G)=>{E(C=>({...C,[M]:G}))},z=(M,G,C)=>{E(T=>({...T,espacios:T.espacios.map((j,P)=>P===M?{...j,[G]:C}:j)}))},H=(M,G,C)=>{E(T=>({...T,espacios:T.espacios.map((j,P)=>P===M?{...j,opciones:j.opciones.map((O,F)=>F===G?C:O)}:j)}))},k=()=>{const M=`s${v.espacios.length+1}`;E(G=>({...G,espacios:[...G.espacios,{id:M,opciones:["","",""],respuestaCorrecta:""}]}))},V=M=>{v.espacios.length>1&&E(G=>({...G,espacios:G.espacios.filter((C,T)=>T!==M)}))},B=async()=>{if(!l||!h){ke.fire({icon:"warning",title:"Seleccin requerida",text:"Debes seleccionar un libro y captulo",confirmButtonColor:"#8B5CF6"});return}if(!v.textoBase.trim()||!v.order){ke.fire({icon:"warning",title:"Campos requeridos",text:"Completa el texto base y orden de la misin",confirmButtonColor:"#8B5CF6"});return}if(v.espacios.some(G=>!G.respuestaCorrecta.trim()||G.opciones.some(C=>!C.trim()))){ke.fire({icon:"warning",title:"Espacios incompletos",text:"Completa todas las opciones y respuestas correctas",confirmButtonColor:"#8B5CF6"});return}x(!0);try{const G={title:v.title,description:v.description,mode:v.mode,difficulty:v.difficulty,order:parseInt(v.order),data:{textoBase:v.textoBase,espacios:v.espacios},createdAt:new Date,updatedAt:new Date};await Rd(Pt(Se,"books",l,"chapters",h,"missions"),G),ke.fire({icon:"success",title:"Misin creada!",text:"La misin de completar frases ha sido agregada exitosamente",confirmButtonColor:"#8B5CF6"}),t("/admin/games")}catch{ke.fire({icon:"error",title:"Error",text:"No se pudo crear la misin",confirmButtonColor:"#8B5CF6"})}x(!1)};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Wi,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 py-8",children:[d.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(Id,{className:"text-4xl text-blue-400"}),d.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Agregar ",d.jsx("span",{className:"bg-linear-to-r from-blue-400 to-indigo-400 bg-clip-text text-transparent",children:"Misin Completar Frases"})]})]})}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Libro *"}),d.jsxs("select",{value:l,onChange:M=>u(M.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none",children:[d.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un libro..."}),e.map(M=>d.jsx("option",{value:M.id,className:"bg-slate-800",children:M.title},M.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Captulo *"}),d.jsxs("select",{value:h,onChange:M=>p(M.target.value),disabled:!l,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none disabled:opacity-50",children:[d.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un captulo..."}),s.map(M=>d.jsx("option",{value:M.id,className:"bg-slate-800",children:M.title},M.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Dificultad"}),d.jsxs("select",{value:v.difficulty,onChange:M=>U("difficulty",M.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none",children:[d.jsx("option",{value:"Principiante",className:"bg-slate-800",children:"Principiante"}),d.jsx("option",{value:"Intermedio",className:"bg-slate-800",children:"Intermedio"}),d.jsx("option",{value:"Avanzado",className:"bg-slate-800",children:"Avanzado"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Orden *"}),d.jsx("input",{type:"number",value:v.order,onChange:M=>U("order",M.target.value),placeholder:"1",min:"1",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),d.jsxs("div",{className:"mb-8",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Texto Base *"}),d.jsx("textarea",{value:v.textoBase,onChange:M=>U("textoBase",M.target.value),placeholder:"Escribe el texto con ____ donde van los espacios en blanco...",rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none"})]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-white",children:"Espacios en Blanco"}),d.jsxs("button",{onClick:k,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl text-sm font-medium transition-all flex items-center gap-2",children:[d.jsx(dr,{size:12})," Agregar Espacio"]})]}),v.espacios.map((M,G)=>d.jsxs("div",{className:"bg-white/5 rounded-xl p-4 mb-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h4",{className:"text-white font-medium",children:["Espacio ",G+1," (",M.id,")"]}),v.espacios.length>1&&d.jsx("button",{onClick:()=>V(G),className:"text-red-400 hover:text-red-300 transition-colors",children:d.jsx(ld,{size:14})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:M.opciones.map((C,T)=>d.jsxs("div",{children:[d.jsxs("label",{className:"block text-white/70 text-xs mb-1",children:["Opcin ",T+1]}),d.jsx("input",{type:"text",value:C,onChange:j=>H(G,T,j.target.value),placeholder:`Opcin ${T+1}`,className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]},T))}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/70 text-xs mb-1",children:"Respuesta Correcta"}),d.jsxs("select",{value:M.respuestaCorrecta,onChange:C=>z(G,"respuestaCorrecta",C.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all appearance-none text-sm",children:[d.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona la respuesta correcta..."}),M.opciones.filter(C=>C.trim()).map((C,T)=>d.jsx("option",{value:C,className:"bg-slate-800",children:C},T))]})]})]},M.id))]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:B,disabled:g,className:"flex-1 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[d.jsx(gc,{})," ",g?"Guardando...":"Crear Misin"]}),d.jsxs("button",{onClick:()=>t("/admin/games"),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2",children:[d.jsx(Mo,{})," Cancelar"]})]})]})]})]})}function Kq(){const[t]=lc(),e=sn(),[n,s]=R.useState(null),[a,l]=R.useState([]),[u,h]=R.useState(!0),p=t.get("bookId");R.useEffect(()=>{p&&g()},[p]);const g=async()=>{try{const v=await vn(ut(Se,"books",p));v.exists()&&s({id:v.id,...v.data()});const S=(await Nn(Pt(Se,"books",p,"chapters"))).docs.map(D=>({id:D.id,...D.data()}));l(S.sort((D,U)=>D.order-U.order))}catch(v){console.error("Error fetching data:",v)}h(!1)},x=v=>{e(`/chapter-missions?bookId=${p}&chapterId=${v}`)};return u?d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando captulos..."})}):d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Ls,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 pt-20 pb-8",children:[d.jsxs(te.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e("/adventure-shelf"),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[d.jsx(ba,{})," Volver a la Estantera"]}),n&&d.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-6 mb-6",children:[n.cover&&d.jsx("div",{className:"w-32 h-48 rounded-2xl overflow-hidden shadow-2xl",children:d.jsx("img",{src:n.cover,alt:n.title,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"text-center md:text-left",children:[d.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-white mb-2",children:n.title}),d.jsxs("p",{className:"text-xl text-purple-300 mb-3",children:["por ",n.author]}),d.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-2",children:[d.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full text-sm",children:n.difficulty}),d.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-3 py-1 rounded-full text-sm",children:[a.length," captulos"]})]})]})]}),d.jsx("p",{className:"text-white/70 text-lg max-w-2xl mx-auto",children:n.description})]}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-8 text-center",children:"Selecciona un Captulo"}),a.length===0?d.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 text-center",children:[d.jsx(Ni,{className:"text-4xl text-white/40 mx-auto mb-4"}),d.jsx("p",{className:"text-white/60",children:"No hay captulos disponibles para este libro"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((v,E)=>d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.1},onClick:()=>x(v.id),className:"group cursor-pointer bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 hover:bg-white/15",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-linear-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-lg",children:v.order})}),d.jsx("div",{className:"text-purple-400 group-hover:text-purple-300 transition-colors",children:d.jsx(ym,{size:20})})]}),d.jsx("h3",{className:"text-xl font-bold text-white mb-3 group-hover:text-purple-200 transition-colors",children:v.title}),v.description&&d.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-3",children:v.description}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),d.jsx("span",{className:"text-green-300 text-xs",children:"Disponible"})]}),d.jsxs("button",{className:"bg-linear-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2",children:[d.jsx(ym,{size:12})," Jugar"]})]})]},v.id))})]}),d.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-12 text-center",children:d.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Cmo funciona?"}),d.jsx("p",{className:"text-white/70 text-sm",children:"Selecciona un captulo para acceder a sus misiones. Completa las actividades de palabras clave para avanzar en tu aventura de aprendizaje."})]})})]})]})}function Yq(){const[t]=lc(),e=sn(),[n]=Ji(bn),[s,a]=R.useState(null),[l,u]=R.useState(null),[h,p]=R.useState([]),[g,x]=R.useState([]),[v,E]=R.useState({}),[S,D]=R.useState(!0),U=t.get("bookId"),z=t.get("chapterId");R.useEffect(()=>{U&&z&&H()},[U,z,n]);const H=async()=>{try{const M=await vn(ut(Se,"books",U));M.exists()&&a({id:M.id,...M.data()});const G=await vn(ut(Se,"books",U,"chapters",z));G.exists()&&u({id:G.id,...G.data()});const T=(await Nn(Pt(Se,"books",U,"chapters",z,"missions"))).docs.map(j=>({id:j.id,...j.data()}));if(p(T.sort((j,P)=>j.order-P.order)),n){const j=await ki.getUserProgress(n.uid,U);if(j&&j.completedMissions&&x(j.completedMissions),T.length>0){const P=T.map(I=>ki.getMissionProgress(n.uid,U,z,I.id).then(je=>({missionId:I.id,progress:je}))),F=(await Promise.all(P)).reduce((I,{missionId:je,progress:tt})=>(tt&&(I[je]=tt),I),{});E(F)}}}catch(M){console.error("Error fetching data:",M)}D(!1)},k=M=>{switch(M){case"keywords":return ad;default:return ym}},V=(M,G,C,T)=>{if(M===0)return!0;const j=T[G[M-1].id],P=C.includes(G[M-1].id);return j&&j.score>=70||P&&!j},B=M=>{M.mode==="keywords"?e(`/keywords-mode?bookId=${U}&chapterId=${z}&missionId=${M.id}`):M.mode==="completarFrase"?e(`/complete-phrase-mode?bookId=${U}&chapterId=${z}&missionId=${M.id}`):M.mode==="ordenar-secuencia"?e(`/order-sequence-mode?bookId=${U}&chapterId=${z}&missionId=${M.id}`):console.log("Mission mode not implemented:",M.mode)};return S?d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando misiones..."})}):d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Ls,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-8",children:[d.jsxs(te.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e(`/chapter-selection?bookId=${U}`),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[d.jsx(ba,{})," Volver a Captulos"]}),s&&l&&d.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[d.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-2",children:l.title}),d.jsxs("p",{className:"text-purple-300 mb-4 text-sm sm:text-base",children:[s.title," - Captulo ",l.order]}),l.description&&d.jsx("p",{className:"text-white/70 max-w-2xl mx-auto",children:l.description})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(ad,{className:"text-6xl text-white/20 mx-auto mb-4"}),d.jsx("p",{className:"text-white/60 text-lg",children:"No hay misiones disponibles para este captulo"})]}):h.map((M,G)=>{const C=k(M.mode),T=g.includes(M.id),j=v[M.id],P=j?j.score:0,O=V(G,h,g,v);return d.jsx(te.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:G*.1,type:"spring",stiffness:100},className:"relative group",children:d.jsxs("div",{className:`relative bg-linear-to-br from-white/10 to-white/5 backdrop-blur-xl border-2 rounded-2xl overflow-hidden transition-all duration-500 ${T&&P>=70?"border-green-400/50 shadow-lg shadow-green-500/20":T&&P<70?"border-yellow-400/50 shadow-lg shadow-yellow-500/20":O?"border-blue-400/50 shadow-lg shadow-blue-500/20 hover:scale-105 cursor-pointer":"border-gray-600/30 opacity-60"}`,onClick:()=>O&&B(M),children:[d.jsx("div",{className:"absolute -top-3 -left-3 z-10",children:d.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-white shadow-lg ${T&&P>=70?"bg-linear-to-r from-green-500 to-emerald-600":T&&P<70?"bg-linear-to-r from-yellow-500 to-amber-600":O?"bg-linear-to-r from-blue-500 to-indigo-600":"bg-linear-to-r from-gray-500 to-gray-600"}`,children:T&&P>=70?"":M.order})}),T&&d.jsx("div",{className:"absolute top-4 right-4 z-20",children:d.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold text-white shadow-lg ${P>=70?"bg-green-500":"bg-yellow-500"}`,children:P>=70?"Completado!":"Completado"})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center ${O?"bg-linear-to-r from-purple-500 to-pink-500":"bg-gray-600"}`,children:O?d.jsx(C,{className:"text-white text-xl"}):d.jsx(od,{className:"text-gray-300 text-xl"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:M.title}),d.jsx("p",{className:"text-purple-300 text-sm capitalize",children:M.mode})]})]}),d.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2 leading-relaxed",children:M.description}),d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-2 py-1 rounded-lg text-xs font-medium",children:M.difficulty}),M.data?.correctWords&&d.jsxs("span",{className:"bg-blue-500/20 text-blue-300 px-2 py-1 rounded-lg text-xs font-medium",children:[M.data.correctWords.length," palabras"]})]}),T&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex items-center gap-1",children:[1,2,3].map(F=>d.jsx(tc,{size:14,className:F<=Math.floor(P/34)?"text-yellow-400":"text-gray-500"},F))}),d.jsxs("span",{className:"text-white font-bold text-sm",children:[P,"%"]})]})]}),d.jsx("button",{onClick:()=>O&&B(M),disabled:!O,className:`w-full py-3 rounded-xl font-semibold transition-all flex items-center justify-center gap-2 text-sm ${T?"bg-linear-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white":O?"bg-linear-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white":"bg-gray-600/50 text-gray-400 cursor-not-allowed"}`,children:T?d.jsxs(d.Fragment,{children:[d.jsx(ur,{size:14})," Completado"]}):O?d.jsxs(d.Fragment,{children:[d.jsx(ym,{size:14})," Jugar"]}):d.jsxs(d.Fragment,{children:[d.jsx(od,{size:14})," Bloqueado"]})})]})]})},M.id)})}),h.length>0&&d.jsx(te.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:h.length*.1+.3},className:"flex justify-center mt-8",children:d.jsxs("div",{className:"bg-linear-to-r from-green-500 to-teal-500 px-6 py-3 rounded-2xl flex items-center gap-3 shadow-xl",children:[d.jsx(ur,{className:"text-white text-xl"}),d.jsx("span",{className:"text-white font-bold text-lg",children:"Captulo Completo"})]})})]})]})]})}function Qq(){const[t]=lc(),e=sn(),[n]=Ji(bn),[s,a]=R.useState(null),[l,u]=R.useState([]),[h,p]=R.useState(!1),[g,x]=R.useState(!0),[v,E]=R.useState(!1),S=t.get("bookId"),D=t.get("chapterId"),U=t.get("missionId");R.useEffect(()=>{S&&D&&U&&(z(),n&&ki.updateCurrentProgress(n.uid,S,D,U))},[S,D,U,n]);const z=async()=>{try{const G=await vn(ut(Se,"books",S,"chapters",D,"missions",U));G.exists()&&a({id:G.id,...G.data()})}catch(G){console.error("Error fetching mission:",G)}x(!1)},H=G=>{l.includes(G)?u(l.filter(C=>C!==G)):u([...l,G])},k=async()=>{if(p(!0),n&&!v){const G=B();await ki.saveMissionProgress(n.uid,S,D,U,G,s.mode),E(!0)}},V=G=>h?s.data.correctWords.includes(G)?l.includes(G)?"correct":"missed":l.includes(G)?"incorrect":"default":"default",B=()=>{const G=l.filter(T=>s.data.correctWords.includes(T)).length,C=s.data.correctWords.length;return Math.round(G/C*100)};if(g)return d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando misin..."})});if(!s)return d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Misin no encontrada"})});const M=[...s.data.correctWords,...s.data.distractors].sort(()=>Math.random()-.5);return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Ls,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 pt-20 pb-8",children:[d.jsxs(te.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e(`/chapter-missions?bookId=${S}&chapterId=${D}`),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[d.jsx(ba,{})," Volver a Misiones"]}),d.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[d.jsxs("div",{className:"relative mb-6",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-yellow-400/20 to-orange-400/20 blur-3xl rounded-full"}),d.jsxs("div",{className:"relative flex items-center justify-center gap-4 mb-4",children:[d.jsx(te.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 bg-linear-to-r from-yellow-400 to-orange-500 rounded-2xl flex items-center justify-center shadow-2xl",children:d.jsx(ad,{className:"text-2xl text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-linear-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:s.title}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[d.jsx("span",{className:"bg-yellow-500/20 text-yellow-300 px-3 py-1 rounded-full text-sm font-medium",children:s.difficulty}),d.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full text-sm font-medium",children:"Palabras Clave"})]})]})]})]}),d.jsx("p",{className:"text-white/80 text-xl max-w-2xl mx-auto leading-relaxed",children:s.description})]}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"relative mb-12",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-blue-500/10 to-purple-500/10 blur-xl rounded-3xl"}),d.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-8 h-8 bg-linear-to-r from-blue-400 to-purple-500 rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-sm",children:""})}),d.jsx("h3",{className:"text-xl font-bold text-white",children:"Lee el siguiente fragmento:"})]}),d.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"bg-linear-to-br from-white/10 to-white/5 rounded-2xl p-6 border border-white/10 shadow-inner",children:d.jsx("p",{className:"text-white/95 leading-relaxed text-lg font-medium tracking-wide",children:s.data.text})})]})]}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"relative mb-12",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-green-500/10 to-teal-500/10 blur-xl rounded-3xl"}),d.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[d.jsx("div",{className:"w-8 h-8 bg-linear-to-r from-green-400 to-teal-500 rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-sm",children:""})}),d.jsx("h3",{className:"text-xl font-bold text-white",children:"Selecciona las palabras clave del texto:"})]}),!h&&d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-white/70 text-sm",children:"Palabras seleccionadas:"}),d.jsx("span",{className:"text-yellow-400 font-bold",children:l.length})]}),d.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:d.jsx(te.div,{className:"blinear-to-r from-yellow-400 to-orange-500 h-2 rounded-full",initial:{width:0},animate:{width:`${Math.min(l.length/s.data.correctWords.length*100,100)}%`},transition:{duration:.3}})})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:M.map((G,C)=>{const T=V(G),j=l.includes(G);return d.jsxs(te.button,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},transition:{delay:.6+C*.05,type:"spring",stiffness:100},whileHover:h?{}:{scale:1.05,y:-2},whileTap:h?{}:{scale:.95},onClick:()=>!h&&H(G),disabled:h,className:`relative p-4 rounded-2xl font-semibold transition-all duration-300 shadow-lg ${T==="correct"?"bg-linear-to-r from-green-500 to-emerald-600 text-white shadow-green-500/30":T==="incorrect"?"bg-linear-to-r from-red-500 to-rose-600 text-white shadow-red-500/30":T==="missed"?"bg-linear-to-r from-yellow-400 to-amber-500 text-white border-2 border-yellow-300 shadow-yellow-500/30":j?"bg-linear-to-r from-blue-500 to-indigo-600 text-white shadow-blue-500/30":"bg-linear-to-r from-white/10 to-white/5 text-white hover:from-white/20 hover:to-white/15 border border-white/20 hover:border-white/30"} ${h?"cursor-default":"cursor-pointer"}`,children:[j&&!h&&d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-blue-400/20 to-indigo-400/20 rounded-2xl blur-lg"}),d.jsxs("span",{className:"relative flex items-center justify-center gap-2 text-sm sm:text-base",children:[G,h&&T==="correct"&&d.jsx(te.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:d.jsx(ur,{size:14,className:"text-white"})}),h&&T==="incorrect"&&d.jsx(te.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:d.jsx(Mo,{size:14,className:"text-white"})})]})]},G)})})]})]}),h?d.jsxs(te.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:100},className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-green-500/20 to-teal-500/20 blur-2xl rounded-3xl"}),d.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 text-center shadow-2xl",children:[d.jsx(te.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-linear-to-r from-green-400 to-teal-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:d.jsx(ur,{className:"text-3xl text-white"})}),d.jsx(te.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-white mb-6",children:"Misin Completada!"}),d.jsxs(te.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},className:"relative mb-6",children:[d.jsxs("div",{className:"text-6xl font-bold bg-linear-to-r from-yellow-400 to-orange-500 bg-clip-text text-transparent mb-2",children:[B(),"%"]}),d.jsx("div",{className:"flex justify-center gap-1 mb-4",children:[...Array(3)].map((G,C)=>d.jsx(te.div,{initial:{opacity:0,scale:0},animate:{opacity:B()>C*33?1:.3,scale:1},transition:{delay:.5+C*.1},className:`text-2xl ${B()>C*33?"text-yellow-400":"text-gray-500"}`,children:""},C))})]}),d.jsxs(te.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-white/80 text-lg mb-4 leading-relaxed",children:["Has identificado ",d.jsx("span",{className:"text-green-400 font-bold",children:l.filter(G=>s.data.correctWords.includes(G)).length})," de ",d.jsx("span",{className:"text-yellow-400 font-bold",children:s.data.correctWords.length})," palabras clave correctamente."]}),d.jsx(te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:`p-4 rounded-2xl mb-6 ${B()>=70?"bg-green-500/20 border border-green-500/30":"bg-yellow-500/20 border border-yellow-500/30"}`,children:d.jsx("p",{className:`text-center font-medium ${B()>=70?"text-green-300":"text-yellow-300"}`,children:B()>=70?" Excelente! Has desbloqueado la siguiente misin.":" Necesitas al menos 70% para desbloquear la siguiente misin. Intntalo de nuevo!"})}),d.jsxs("div",{className:"flex gap-4 justify-center",children:[d.jsx(te.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(`/chapter-missions?bookId=${S}&chapterId=${D}`),className:"bg-linear-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-green-500/30",children:"Continuar Aventura"}),B()<70&&d.jsx(te.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-yellow-500/30",children:"Intentar de Nuevo"})]})]})]}):d.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"text-center",children:d.jsxs(te.button,{onClick:k,disabled:l.length===0,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-12 py-4 rounded-2xl font-bold text-lg transition-all duration-300 flex items-center gap-3 mx-auto shadow-2xl shadow-yellow-500/30",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-yellow-400/20 to-orange-400/20 rounded-2xl blur-lg"}),d.jsxs("span",{className:"relative flex items-center gap-3",children:[d.jsx(ur,{className:"text-xl"})," Verificar Respuestas"]})]})})]})]})}function Xq(){const[t]=lc(),e=sn(),[n]=Ji(bn),[s,a]=R.useState(null),[l,u]=R.useState({}),[h,p]=R.useState(!1),[g,x]=R.useState(!0),[v,E]=R.useState(!1),S=t.get("bookId"),D=t.get("chapterId"),U=t.get("missionId");R.useEffect(()=>{S&&D&&U&&(z(),n&&ki.updateCurrentProgress(n.uid,S,D,U))},[S,D,U,n]);const z=async()=>{try{const C=await vn(ut(Se,"books",S,"chapters",D,"missions",U));C.exists()&&a({id:C.id,...C.data()})}catch(C){console.error("Error fetching mission:",C)}x(!1)},H=(C,T)=>{h||u(j=>({...j,[C]:T}))},k=async()=>{if(p(!0),n&&!v){const C=V();await ki.saveMissionProgress(n.uid,S,D,U,C,s.mode),E(!0)}},V=()=>{const C=s.data.espacios.filter(T=>l[T.id]===T.respuestaCorrecta).length;return Math.round(C/s.data.espacios.length*100)},B=()=>{let C=s.data.textoBase;return s.data.espacios.forEach((T,j)=>{const P=l[T.id],O=h&&P===T.respuestaCorrecta,F=h&&P&&P!==T.respuestaCorrecta,je=`<span class="inline-block px-3 py-1 rounded-lg font-medium cursor-pointer transition-all ${h?O?"bg-green-500 text-white":F?"bg-red-500 text-white":"bg-yellow-500 text-white":P?"bg-blue-500 text-white":"bg-white/20 text-white border-2 border-dashed border-white/40"}" data-espacio="${T.id}">
        ${P||"____"}
      </span>`;C=C.replace("____",je)}),C};if(g)return d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando misin..."})});if(!s)return d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Misin no encontrada"})});const M=Object.keys(l).length,G=s.data.espacios.length;return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Ls,{}),d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsx("div",{className:"w-full h-full bg-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 pt-20 pb-8",children:[d.jsxs(te.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e(`/chapter-missions?bookId=${S}&chapterId=${D}`),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[d.jsx(ba,{})," Volver a Misiones"]}),d.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[d.jsxs("div",{className:"relative mb-6",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-blue-400/20 to-indigo-400/20 blur-3xl rounded-full"}),d.jsxs("div",{className:"relative flex items-center justify-center gap-4 mb-4",children:[d.jsx(te.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 bg-linear-to-r from-blue-400 to-indigo-500 rounded-2xl flex items-center justify-center shadow-2xl",children:d.jsx(Id,{className:"text-2xl text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-linear-to-r from-blue-400 to-indigo-400 bg-clip-text text-transparent",children:s.title}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[d.jsx("span",{className:"bg-blue-500/20 text-blue-300 px-3 py-1 rounded-full text-sm font-medium",children:s.difficulty}),d.jsx("span",{className:"bg-indigo-500/20 text-indigo-300 px-3 py-1 rounded-full text-sm font-medium",children:"Completar Frases"})]})]})]})]}),d.jsx("p",{className:"text-white/80 text-xl max-w-2xl mx-auto leading-relaxed",children:s.description})]}),!h&&d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-white/70 text-sm",children:"Progreso:"}),d.jsxs("span",{className:"text-blue-400 font-bold",children:[M,"/",G]})]}),d.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:d.jsx(te.div,{className:"bg-linear-to-r from-blue-400 to-indigo-500 h-3 rounded-full",initial:{width:0},animate:{width:`${M/G*100}%`},transition:{duration:.3}})})]}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"relative mb-12",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-purple-500/10 to-blue-500/10 blur-xl rounded-3xl"}),d.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-8 h-8 bg-linear-to-r from-purple-400 to-blue-500 rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-sm",children:""})}),d.jsx("h3",{className:"text-xl font-bold text-white",children:"Completa el texto:"})]}),d.jsx("div",{className:"text-white/95 leading-relaxed text-lg font-medium tracking-wide",dangerouslySetInnerHTML:{__html:B()},onClick:C=>{const T=C.target.getAttribute("data-espacio");T&&!h&&s.data.espacios.find(j=>j.id===T)}})]})]}),!h&&d.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-6 mb-12",children:s.data.espacios.map((C,T)=>d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[d.jsxs("h4",{className:"text-white font-bold mb-4",children:["Espacio ",T+1,":"]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:C.opciones.map((j,P)=>d.jsx(te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>H(C.id,j),className:`p-4 rounded-xl font-medium transition-all duration-200 ${l[C.id]===j?"bg-linear-to-r from-blue-500 to-indigo-600 text-white shadow-blue-500/30":"bg-white/10 text-white hover:bg-white/20 border border-white/20"}`,children:j},P))})]},C.id))}),h?d.jsxs(te.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:100},className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-green-500/20 to-teal-500/20 blur-2xl rounded-3xl"}),d.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 text-center shadow-2xl",children:[d.jsx(te.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-linear-to-r from-green-400 to-teal-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:d.jsx(ur,{className:"text-3xl text-white"})}),d.jsx(te.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-white mb-6",children:"Misin Completada!"}),d.jsxs(te.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},className:"relative mb-6",children:[d.jsxs("div",{className:"text-6xl font-bold bg-linear-to-r from-blue-400 to-indigo-500 bg-clip-text text-transparent mb-2",children:[V(),"%"]}),d.jsx("div",{className:"flex justify-center gap-1 mb-4",children:[...Array(3)].map((C,T)=>d.jsx(te.div,{initial:{opacity:0,scale:0},animate:{opacity:V()>T*33?1:.3,scale:1},transition:{delay:.5+T*.1},className:`text-2xl ${V()>T*33?"text-blue-400":"text-gray-500"}`,children:""},T))})]}),d.jsxs(te.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-white/80 text-lg mb-4 leading-relaxed",children:["Has completado ",d.jsx("span",{className:"text-green-400 font-bold",children:s.data.espacios.filter(C=>l[C.id]===C.respuestaCorrecta).length})," de ",d.jsx("span",{className:"text-blue-400 font-bold",children:s.data.espacios.length})," espacios correctamente."]}),d.jsx(te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:`p-4 rounded-2xl mb-6 ${V()>=70?"bg-green-500/20 border border-green-500/30":"bg-yellow-500/20 border border-yellow-500/30"}`,children:d.jsx("p",{className:`text-center font-medium ${V()>=70?"text-green-300":"text-yellow-300"}`,children:V()>=70?" Excelente! Has desbloqueado la siguiente misin.":" Necesitas al menos 70% para desbloquear la siguiente misin. Intntalo de nuevo!"})}),d.jsxs("div",{className:"flex gap-4 justify-center",children:[d.jsx(te.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(`/chapter-missions?bookId=${S}&chapterId=${D}`),className:"bg-linear-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-green-500/30",children:"Continuar Aventura"}),V()<70&&d.jsx(te.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-yellow-500/30",children:"Intentar de Nuevo"})]})]})]}):d.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"text-center",children:d.jsxs(te.button,{onClick:k,disabled:M<G,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative bg-linear-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-12 py-4 rounded-2xl font-bold text-lg transition-all duration-300 flex items-center gap-3 mx-auto shadow-2xl shadow-blue-500/30",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-blue-400/20 to-indigo-400/20 rounded-2xl blur-lg"}),d.jsxs("span",{className:"relative flex items-center gap-3",children:[d.jsx(ur,{className:"text-xl"})," Verificar Respuestas"]})]})})]})]})}function Wq(){const[t]=lc(),e=sn(),[n]=Ji(bn),[s,a]=R.useState(null),[l,u]=R.useState([]),[h,p]=R.useState(null),[g,x]=R.useState(!1),[v,E]=R.useState(!1),[S,D]=R.useState(0),[U,z]=R.useState(!0),H=t.get("bookId"),k=t.get("chapterId"),V=t.get("missionId");R.useEffect(()=>{H&&k&&V&&B()},[H,k,V]);const B=async()=>{try{const F=await vn(ut(Se,"books",H,"chapters",k,"missions",V));if(F.exists()){const I={id:F.id,...F.data()};a(I);const je=[...I.data.sequence].sort(()=>Math.random()-.5);u(je)}}catch(F){console.error("Error fetching mission:",F)}z(!1)},M=(F,I)=>{p(I),F.dataTransfer.effectAllowed="move"},G=F=>{F.preventDefault(),F.dataTransfer.dropEffect="move"},C=(F,I)=>{if(F.preventDefault(),!h||h.id===I.id)return;const je=l.findIndex(ce=>ce.id===h.id),tt=l.findIndex(ce=>ce.id===I.id),ee=[...l];ee.splice(je,1),ee.splice(tt,0,h),u(ee),p(null)},T=()=>{const F=s.data.correctOrder,I=l.map(ee=>ee.id);let je=0;for(let ee=0;ee<F.length;ee++)F[ee]===I[ee]&&je++;const tt=Math.round(je/F.length*100);D(tt),x(tt===100),E(!0)},j=async()=>{if(n)try{await ki.saveMissionProgress(n.uid,H,k,V,S,{userSequence:l.map(F=>F.id)}),S>=70&&await ki.updateUserProgress(n.uid,H,V,S)}catch(F){console.error("Error saving progress:",F)}},P=async()=>{await j(),e(`/chapter-missions?bookId=${H}&chapterId=${k}`)},O=()=>{const F=[...s.data.sequence].sort(()=>Math.random()-.5);u(F),E(!1),x(!1),D(0)};return U?d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando misin..."})}):s?d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Ls,{}),d.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 py-8",children:[d.jsxs(te.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e(`/chapter-missions?bookId=${H}&chapterId=${k}`),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[d.jsx(ba,{})," Volver a Misiones"]}),d.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(l1,{className:"text-4xl text-green-400"}),d.jsx("h1",{className:"text-3xl font-bold text-white",children:s.title})]}),d.jsx("p",{className:"text-white/70",children:s.description})]}),d.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-xl",children:d.jsxs("div",{className:"mb-6",children:[d.jsx("p",{className:"text-white/70 text-center mb-8",children:s.data?.instruction}),v?d.jsxs(te.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:100},className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-green-500/20 to-teal-500/20 blur-2xl rounded-3xl"}),d.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 text-center shadow-2xl",children:[d.jsx(te.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-linear-to-r from-green-400 to-teal-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:d.jsx(ur,{className:"text-3xl text-white"})}),d.jsx(te.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-white mb-6",children:"Misin Completada!"}),d.jsxs(te.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},className:"relative mb-6",children:[d.jsxs("div",{className:"text-6xl font-bold bg-linear-to-r from-green-400 to-teal-500 bg-clip-text text-transparent mb-2",children:[S,"%"]}),d.jsx("div",{className:"flex justify-center gap-1 mb-4",children:[...Array(3)].map((F,I)=>d.jsx(te.div,{initial:{opacity:0,scale:0},animate:{opacity:S>I*33?1:.3,scale:1},transition:{delay:.5+I*.1},className:`text-2xl ${S>I*33?"text-green-400":"text-gray-500"}`,children:""},I))})]}),d.jsxs(te.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-white/80 text-lg mb-4 leading-relaxed",children:["Has ordenado ",d.jsx("span",{className:"text-green-400 font-bold",children:Math.round(S/100*s.data.sequence.length)})," de ",d.jsx("span",{className:"text-green-400 font-bold",children:s.data.sequence.length})," eventos correctamente."]}),d.jsx(te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:`p-4 rounded-2xl mb-6 ${S>=70?"bg-green-500/20 border border-green-500/30":"bg-yellow-500/20 border border-yellow-500/30"}`,children:d.jsx("p",{className:`text-center font-medium ${S>=70?"text-green-300":"text-yellow-300"}`,children:S>=70?" Excelente! Has desbloqueado la siguiente misin.":" Necesitas al menos 70% para desbloquear la siguiente misin. Intntalo de nuevo!"})}),d.jsxs("div",{className:"flex gap-4 justify-center",children:[d.jsx(te.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:P,className:"bg-linear-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-green-500/30",children:"Continuar Aventura"}),S<70&&d.jsx(te.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:O,className:"bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 shadow-2xl shadow-yellow-500/30",children:"Intentar de Nuevo"})]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"space-y-3 mb-8",children:l.map((F,I)=>d.jsxs(te.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:I*.1},draggable:!0,onDragStart:je=>M(je,F),onDragOver:G,onDrop:je=>C(je,F),className:"bg-white/5 border border-white/20 rounded-xl p-4 cursor-move hover:bg-white/10 transition-all duration-200 flex items-center gap-4",children:[d.jsx("div",{className:"text-green-400",children:d.jsx(vV,{})}),d.jsx("div",{className:"bg-green-600 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0",children:I+1}),d.jsx("p",{className:"text-white flex-1 text-left",children:F.text})]},F.id))}),d.jsxs("div",{className:"flex gap-4 justify-center",children:[d.jsx("button",{onClick:O,className:"bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all",children:"Reiniciar"}),d.jsx("button",{onClick:T,className:"bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white py-3 px-8 rounded-xl font-semibold transition-all",children:"Confirmar Orden"})]})]})]})})]})]}):d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Misin no encontrada"})})}function W_(){const t=sn(),[e,n]=R.useState([]),[s,a]=R.useState([]),[l,u]=R.useState(""),[h,p]=R.useState(""),[g,x]=R.useState(!1),[v,E]=R.useState({title:"Ordena la secuencia de eventos",description:"Organiza correctamente los eventos segn ocurren en la historia.",mode:"ordenar-secuencia",difficulty:"Intermedio",order:"",instruction:"Lee atentamente los eventos y ordnalos segn la secuencia en que ocurren en la historia.",sequence:[{id:"step_1",text:""},{id:"step_2",text:""}]});R.useEffect(()=>{S()},[]),R.useEffect(()=>{l&&D(l)},[l]);const S=async()=>{try{const B=await Nn(Pt(Se,"books"));n(B.docs.map(M=>({id:M.id,...M.data()})))}catch(B){console.error("Error fetching books:",B)}},D=async B=>{try{const M=await Nn(Pt(Se,"books",B,"chapters"));a(M.docs.map(G=>({id:G.id,...G.data()})))}catch(M){console.error("Error fetching chapters:",M)}},U=(B,M)=>{E(G=>({...G,[B]:M}))},z=(B,M)=>{E(G=>({...G,sequence:G.sequence.map((C,T)=>T===B?{...C,text:M}:C)}))},H=()=>{const B={id:`step_${v.sequence.length+1}`,text:""};E(M=>({...M,sequence:[...M.sequence,B]}))},k=B=>{if(v.sequence.length>2){const G=v.sequence.filter((C,T)=>T!==B).map((C,T)=>({...C,id:`step_${T+1}`}));E(C=>({...C,sequence:G}))}},V=async()=>{if(!l||!h){ke.fire({icon:"warning",title:"Seleccin requerida",text:"Debes seleccionar un libro y captulo",confirmButtonColor:"#8B5CF6"});return}if(!v.order){ke.fire({icon:"warning",title:"Campos requeridos",text:"Completa el orden de la misin",confirmButtonColor:"#8B5CF6"});return}if(v.sequence.some(M=>!M.text.trim())){ke.fire({icon:"warning",title:"Secuencia incompleta",text:"Completa todos los eventos de la secuencia",confirmButtonColor:"#8B5CF6"});return}x(!0);try{const M={title:v.title,description:v.description,mode:v.mode,difficulty:v.difficulty,order:parseInt(v.order),data:{instruction:v.instruction,sequence:v.sequence,correctOrder:v.sequence.map(G=>G.id)},createdAt:new Date,updatedAt:new Date};await Rd(Pt(Se,"books",l,"chapters",h,"missions"),M),ke.fire({icon:"success",title:"Misin creada!",text:"La misin de ordenar secuencia ha sido agregada exitosamente",confirmButtonColor:"#8B5CF6"}),t("/admin/games")}catch{ke.fire({icon:"error",title:"Error",text:"No se pudo crear la misin",confirmButtonColor:"#8B5CF6"})}x(!1)};return d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Wi,{}),d.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 py-8",children:[d.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(l1,{className:"text-4xl text-green-400"}),d.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:["Agregar ",d.jsx("span",{className:"bg-linear-to-r from-green-400 to-teal-400 bg-clip-text text-transparent",children:"Misin Ordenar Secuencia"})]})]})}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Libro *"}),d.jsxs("select",{value:l,onChange:B=>u(B.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all appearance-none",children:[d.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un libro..."}),e.map(B=>d.jsx("option",{value:B.id,className:"bg-slate-800",children:B.title},B.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Captulo *"}),d.jsxs("select",{value:h,onChange:B=>p(B.target.value),disabled:!l,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all appearance-none disabled:opacity-50",children:[d.jsx("option",{value:"",className:"bg-slate-800",children:"Selecciona un captulo..."}),s.map(B=>d.jsx("option",{value:B.id,className:"bg-slate-800",children:B.title},B.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Dificultad"}),d.jsxs("select",{value:v.difficulty,onChange:B=>U("difficulty",B.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all appearance-none",children:[d.jsx("option",{value:"Principiante",className:"bg-slate-800",children:"Principiante"}),d.jsx("option",{value:"Intermedio",className:"bg-slate-800",children:"Intermedio"}),d.jsx("option",{value:"Avanzado",className:"bg-slate-800",children:"Avanzado"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Orden *"}),d.jsx("input",{type:"number",value:v.order,onChange:B=>U("order",B.target.value),placeholder:"1",min:"1",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]})]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium",children:"Secuencia de Eventos"}),d.jsxs("button",{type:"button",onClick:H,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-xl text-sm font-medium transition-all flex items-center gap-2",children:[d.jsx(dr,{size:12})," Agregar Evento"]})]}),d.jsx("div",{className:"space-y-4",children:v.sequence.map((B,M)=>d.jsxs("div",{className:"flex gap-3 items-start",children:[d.jsx("div",{className:"bg-green-600 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 mt-2",children:M+1}),d.jsx("textarea",{value:B.text,onChange:G=>z(M,G.target.value),className:"flex-1 px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all resize-none",placeholder:`Evento ${M+1}...`,rows:3}),v.sequence.length>2&&d.jsx("button",{type:"button",onClick:()=>k(M),className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-all mt-2",children:d.jsx(ld,{size:12})})]},B.id))})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:V,disabled:g,className:"flex-1 bg-linear-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[d.jsx(gc,{})," ",g?"Guardando...":"Crear Misin"]}),d.jsxs("button",{onClick:()=>t("/admin/games"),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2",children:[d.jsx(Mo,{})," Cancelar"]})]})]})]})]})}const Zq=()=>d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-6",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Editar Misiones de Palabras Clave"}),d.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:d.jsx("p",{className:"text-white",children:"Funcionalidad de edicin en desarrollo..."})})]})});function Jq(){const t=sn(),[e]=Ji(bn),[n,s]=R.useState([]),[a,l]=R.useState(!0),[u,h]=R.useState(!1),[p,g]=R.useState(null);R.useEffect(()=>{e&&x()},[e]);const x=async()=>{try{const S=await vn(ut(Se,"users",e.uid));S.exists()&&S.data().isAdmin?(h(!0),v()):l(!1)}catch(S){console.error("Error checking admin status:",S),l(!1)}},v=async()=>{try{console.log("Fetching users as admin...");const D=(await Nn(Pt(Se,"users"))).docs.map(U=>({id:U.id,...U.data(),totalPoints:U.data().totalPoints||0}));s(D),g(null)}catch(S){console.error("Error fetching users:",S),S.code==="permission-denied"?g("Permisos insuficientes. Asegrate de que tienes permisos de administrador y que las reglas de Firestore estn actualizadas."):g("Error al cargar usuarios: "+S.message),s([])}l(!1)},E=S=>{t(`/admin/users/${S}`)};return a?d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando usuarios..."})}):e?u?p?d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Wi,{}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[d.jsxs(te.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t("/admin"),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[d.jsx(ba,{})," Volver al Dashboard"]}),d.jsxs("div",{className:"text-center py-12",children:[d.jsx(P0,{className:"text-6xl text-red-400 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Error de Permisos"}),d.jsx("p",{className:"text-white/70 max-w-2xl mx-auto mb-6",children:p}),d.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Reintentar"})]})]})]}):d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Wi,{}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[d.jsxs(te.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t("/admin"),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[d.jsx(ba,{})," Volver al Dashboard"]}),d.jsxs(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Gestin de Usuarios"}),d.jsx("p",{className:"text-white/70",children:"Administra los usuarios registrados en el sistema"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((S,D)=>d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.1},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6 hover:bg-white/15 transition-all cursor-pointer",onClick:()=>E(S.id),children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:d.jsx(So,{className:"text-white text-xl"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-bold text-white",children:S.name||"Usuario"}),d.jsx("p",{className:"text-white/60 text-sm",children:S.email})]})]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-white/60",children:"Puntos:"}),d.jsx("span",{className:"text-white font-medium",children:S.totalPoints||0})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-white/60",children:"Rol:"}),d.jsx("span",{className:"text-white font-medium",children:S.isAdmin?"Admin":"Usuario"})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-white/60",children:"Ubicacin:"}),d.jsx("span",{className:"text-white font-medium",children:S.city&&S.country?`${S.city}, ${S.country}`:"No especificado"})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-white/60",children:"Registro:"}),d.jsx("span",{className:"text-white font-medium",children:S.createdAt?new Date(S.createdAt.seconds*1e3).toLocaleDateString():"No disponible"})]})]}),d.jsxs("button",{className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-2 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-2",children:[d.jsx(gm,{size:14})," Ver Detalles"]})]},S.id))}),n.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(So,{className:"text-6xl text-white/20 mx-auto mb-4"}),d.jsx("p",{className:"text-white/60 text-lg",children:"No hay usuarios registrados"})]})]})]}):d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(P0,{className:"text-6xl text-red-400 mx-auto mb-4"}),d.jsx("div",{className:"text-white text-xl",children:"No tienes permisos de administrador"}),d.jsx("p",{className:"text-white/60 mt-2",children:"Contacta al administrador para obtener acceso"})]})}):d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(P0,{className:"text-6xl text-red-400 mx-auto mb-4"}),d.jsx("div",{className:"text-white text-xl",children:"Debes iniciar sesin para acceder"})]})})}function e$(){const{userId:t}=u8(),e=sn(),[n,s]=R.useState(null),[a,l]=R.useState([]),[u,h]=R.useState([]),[p,g]=R.useState(!0);R.useEffect(()=>{t&&x()},[t]);const x=async()=>{try{const v=await vn(ut(Se,"users",t));v.exists()?s({id:v.id,...v.data()}):s({id:t,name:"Usuario",email:"No disponible",totalPoints:0,isAdmin:!1});try{const S=(await Nn(Pt(Se,"users",t,"progress"))).docs.map(D=>({id:D.id,...D.data()}));l(S)}catch{console.log("No progress data for user:",t),l([])}try{const S=(await Nn(Pt(Se,"users",t,"achievements"))).docs.map(D=>({id:D.id,...D.data()}));h(S)}catch{console.log("No achievements data for user:",t),h([])}}catch(v){console.error("Error fetching user data:",v)}g(!1)};return p?d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Cargando informacin del usuario..."})}):n?d.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.jsx(Wi,{}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8",children:[d.jsxs(te.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e("/admin/users"),className:"mb-6 flex items-center gap-2 text-white/70 hover:text-white transition-colors",children:[d.jsx(ba,{})," Volver a Usuarios"]}),d.jsx(te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6 mb-8",children:d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:d.jsx(So,{className:"text-white text-3xl"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:n.name||"Usuario"}),d.jsx("p",{className:"text-white/70 text-lg mb-2",children:n.email}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-3",children:[d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n.isAdmin?"bg-red-500/20 text-red-300":"bg-blue-500/20 text-blue-300"}`,children:n.isAdmin?"Administrador":"Usuario"}),d.jsxs("span",{className:"bg-yellow-500/20 text-yellow-300 px-3 py-1 rounded-full text-sm font-medium",children:[n.totalPoints||0," puntos"]}),d.jsx("span",{className:"bg-green-500/20 text-green-300 px-3 py-1 rounded-full text-sm font-medium",children:n.city&&n.country?`${n.city}, ${n.country}`:"Ubicacin no especificada"}),d.jsx("span",{className:"bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full text-sm font-medium",children:n.birthdate||"Fecha no especificada"})]}),d.jsxs("p",{className:"text-white/60 text-sm",children:["Registrado: ",n.createdAt?new Date(n.createdAt.seconds*1e3).toLocaleDateString():"Fecha no disponible"]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx(Ni,{className:"text-2xl text-blue-400"}),d.jsx("h2",{className:"text-xl font-bold text-white",children:"Progreso en Libros"})]}),a.length>0?d.jsx("div",{className:"space-y-4",children:a.map((v,E)=>d.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[d.jsxs("h3",{className:"text-white font-medium mb-2",children:["Libro: ",v.id]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-white/60",children:"Captulo actual:"}),d.jsx("p",{className:"text-white",children:v.currentChapter||"N/A"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-white/60",children:"ltimo acceso:"}),d.jsx("p",{className:"text-white",children:v.lastAccess?new Date(v.lastAccess.seconds*1e3).toLocaleDateString():"N/A"})]})]})]},v.id))}):d.jsx("p",{className:"text-white/60",children:"No hay progreso registrado"})]}),d.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx(ar,{className:"text-2xl text-yellow-400"}),d.jsx("h2",{className:"text-xl font-bold text-white",children:"Logros"})]}),u.length>0?d.jsx("div",{className:"space-y-3",children:u.map((v,E)=>d.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(tc,{className:"text-yellow-400"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-white font-medium",children:v.title}),d.jsx("p",{className:"text-white/60 text-sm",children:v.description}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsxs("span",{className:"text-yellow-300 text-sm font-medium",children:["+",v.points," puntos"]}),d.jsx("span",{className:"text-white/50 text-xs",children:v.unlockedAt?new Date(v.unlockedAt.seconds*1e3).toLocaleDateString():""})]})]})]})},v.id))}):d.jsx("p",{className:"text-white/60",children:"No hay logros desbloqueados"})]})]}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-8 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Informacin Personal"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-white/60 text-sm",children:"Nombre completo:"}),d.jsx("p",{className:"text-white font-medium",children:n.name||"No especificado"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-white/60 text-sm",children:"Email:"}),d.jsx("p",{className:"text-white font-medium",children:n.email})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-white/60 text-sm",children:"Fecha de nacimiento:"}),d.jsx("p",{className:"text-white font-medium",children:n.birthdate||"No especificado"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-white/60 text-sm",children:"Pas:"}),d.jsx("p",{className:"text-white font-medium",children:n.country||"No especificado"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-white/60 text-sm",children:"Ciudad:"}),d.jsx("p",{className:"text-white font-medium",children:n.city||"No especificado"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-white/60 text-sm",children:"Fecha de registro:"}),d.jsx("p",{className:"text-white font-medium",children:n.createdAt?new Date(n.createdAt.seconds*1e3).toLocaleString():"No disponible"})]})]})]})]}),d.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-white mb-6 text-center",children:"Resumen de Estadsticas"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-400",children:n.totalPoints||0}),d.jsx("div",{className:"text-white/60 text-sm",children:"Puntos Totales"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-400",children:u.length}),d.jsx("div",{className:"text-white/60 text-sm",children:"Logros"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-400",children:a.length}),d.jsx("div",{className:"text-white/60 text-sm",children:"Libros Iniciados"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:n.isAdmin?"Admin":"Usuario"}),d.jsx("div",{className:"text-white/60 text-sm",children:"Rol"})]})]})]})]})]}):d.jsx("div",{className:"min-h-screen bg-linear-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-xl",children:"Usuario no encontrado"})})}DN.createRoot(document.getElementById("root")).render(d.jsx(R.StrictMode,{children:d.jsx(Q8,{basename:"/Project-WordQuest",children:d.jsxs(A8,{children:[d.jsx(pt,{path:"/",element:d.jsx(FU,{})}),d.jsx(pt,{path:"/register",element:d.jsx(Mq,{})}),d.jsx(pt,{path:"/login",element:d.jsx(Pq,{})}),d.jsx(pt,{path:"/user-profile",element:d.jsx(Vq,{})}),d.jsx(pt,{path:"/dashboard",element:d.jsx(Oq,{})}),d.jsx(pt,{path:"/games",element:d.jsx(Lq,{})}),d.jsx(pt,{path:"/adventure-shelf",element:d.jsx(X_,{})}),d.jsx(pt,{path:"/adventure",element:d.jsx(X_,{})}),d.jsx(pt,{path:"/admin",element:d.jsx(Uq,{})}),d.jsx(pt,{path:"/admin/books",element:d.jsx(Fq,{})}),d.jsx(pt,{path:"/admin/chapters",element:d.jsx(Hq,{})}),d.jsx(pt,{path:"/admin/games",element:d.jsx(qq,{})}),d.jsx(pt,{path:"/admin/games/add-keyword",element:d.jsx($q,{})}),d.jsx(pt,{path:"/admin/games/add-sentence",element:d.jsx(Gq,{})}),d.jsx(pt,{path:"/admin/games/add-sequence",element:d.jsx(W_,{})}),d.jsx(pt,{path:"/admin/games/edit-keywords",element:d.jsx(Zq,{})}),d.jsx(pt,{path:"/admin/users",element:d.jsx(Jq,{})}),d.jsx(pt,{path:"/admin/users/:userId",element:d.jsx(e$,{})}),d.jsx(pt,{path:"/chapter-selection",element:d.jsx(Kq,{})}),d.jsx(pt,{path:"/chapter-missions",element:d.jsx(Yq,{})}),d.jsx(pt,{path:"/keywords-mode",element:d.jsx(Qq,{})}),d.jsx(pt,{path:"/complete-phrase-mode",element:d.jsx(Xq,{})}),d.jsx(pt,{path:"/order-sequence-mode",element:d.jsx(Wq,{})}),d.jsx(pt,{path:"/add-sequence",element:d.jsx(W_,{})})]})})}));
